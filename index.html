<html>

    <head>

        <title> SMART GROWTH LIVABILITY CALCULATOR </title>

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

        <!-- Bootstrap-select CSS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/css/bootstrap-select.min.css">

        <!-- Font Awesome CSS -->
        <link href="https://use.fontawesome.com/releases/v5.0.4/css/all.css" rel="stylesheet">

        <!-- Leaflet CSS -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css" integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ==" crossorigin=""/>
        <link rel="stylesheet" href="https://unpkg.com/leaflet-draw@0.4.9/dist/leaflet.draw.css" />

        <style>

            html, body { 
                background-color: #fff;
                font-family: Verdana, sans-serif;
                height: 100%;
            }

            a { 
                outline: 0;
            }

            .sidebar {
                min-width: 300px;
                padding: 20px;
                padding-left: 30px;
            }
            
            /* Bootstrap override CSS (create separate classes?) */
            .nav-link {
                color: rgba(255, 255, 255, .6);
            }

            .nav-link:hover {
                color: rgba(255, 255, 255, .95);
            }

            .navbar-inverse {
                background-color: #333;
            }

            .navbar-brand {
                color: #eee !important;
                text-transform: uppercase;
                font-weight: bold;
            }

            .modal-content {
                -webkit-border-radius: 0px !important;
                -moz-border-radius: 0px !important;
                border-radius: 0px !important;
            }

            #select-property label {
               cursor: pointer !important;
               font-size: .75em;
            } 

            #select-property {
                //margin: 1%;
            }

            /* Readout CSS (see: https://codepen.io/ssteigen/pen/ALAzgw) */
            .statistic {
                //width: 80%;
                margin: 1em 0 auto;
                margin-top; 2em;
                text-transform: uppercase;
                //display: inline-block;
            }

            .statistic .value {
                font-size: 2.5em;
                line-height: .75em;
            }

            .statistic .label {
                color: inherit;
                display: block;
                font-size: .75em;
            }


            /* Leaflet-specific CSS */
            .leaflet-popup-content-wrapper {
                background:#2c3e50;
                color:#fff;
                font-size:16px;
                line-height:24px;
                border-radius: .15em;
            }

            .leaflet-popup-content-wrapper a {
                  color: rgba(255,255,255,0.5);
            }

            .leaflet-popup-tip-container {
                width:30px;
                height:15px;
            }

            .leaflet-popup-tip {
                background:#2c3e50;
                //border-left:15px solid transparent;
                //border-right:15px solid transparent;
                //border-top:15px solid #2c3e50;
            }

        </style>

    </head>

    <body>
            
        <div id="main-container" class="container-fluid d-flex flex-column h-100">

            <!-- Title and navigation bar -->
            <nav class="navbar navbar-expand-sm bg-dark row">
                <a class="navbar-brand" href=""> Smart Growth Livability Calculator </a>

                <button class="navbar-toggler navbar-toggler-right" type="button" 
                        data-toggle="collapse" data-target="#navbarCollapse" 
                        aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="#"
                                    data-toggle="modal" data-target="#modal-description"> 
                                Project Description
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#"
                                    data-toggle="modal" data-target="#modal-directions"> 
                                Directions
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#"
                                    data-toggle="modal" data-target="#modal-about-us"> 
                                About Us
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>


            <div class="row d-flex h-100">

                <!-- Map -->
                <div id="map" class="col d-flex justify-content-center">
                </div>

                <!-- Sidebar -->
                <div class="col-2 d-flex flex-column align-items-start sidebar">

                    <div class="d-flex justify-content-start">
                        <div id="select-property" class="dropdown">
                            <button type="button" id="dropdownMenuButton" class="btn btn-success btn-sm dropdown-toggle" 
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> 

                                <span id="btn-label"> Vehicle Miles Traveled </span> <span class="caret"></span>
                            </button>

                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <li><a id="vmt" class="dropdown-item" href="#"> Vehicle Miles Traveled </a></li>
                                <li><a id="pedcol" class="dropdown-item" href="#"> Pedestrian Collisions </a></li>
                                <li><a id="housing" class="dropdown-item" href="#"> Housing Affordability </a></li>
                            </ul>
                        </div>
                    </div>

                    <!-- Container for statistics -->
                    <div class="d-flex flex-wrap justify-content-start" style="margin-top: 40px;">

                        <div class="statistic">
                            <div class="value">
                                <i class="fa fa-fw fa-car"></i>
                                <span id="stat-vmt"> N/A </span>
                            </div>
                            <div class="label">
                                Vehicle Miles Traveled
                            </div>
                        </div>

                        <div class="statistic">
                            <div class="value">
                                <i class="fa fa-fw fa-ambulance"></i>
                                <span id="stat-pedcol"> N/A </span>
                            </div>
                            <div class="label">
                                Pedestrian Collisions <br> (per 100K walkers)
                            </div>
                        </div>

                        <div class="statistic">
                            <div class="value">
                                <i class="fa fa-fw fa-home"></i>
                                <span id="stat-housing"> N/A </span>
                            </div>
                            <div class="label">
                                Housing Affordability 
                            </div>
                        </div>

                        <div class="statistic">
                            <div class="value">
                                <i class="fa fa-fw fa-map-marker-alt"></i>
                                <span id="stat-cbgs"> N/A </span>
                            </div>
                            <div class="label">
                                Block Groups Selected
                            </div>
                        </div>

                    </div>

                    <!--
                    <div class="row mt-auto justify-content-around align-items-end" style="font-size: 30px; color: #eee; background: #333; padding: 10px;">
                        <i class="fa fa-fw fa-map-marker-alt"></i>
                        <i class="fa fa-fw fa-map-marker-alt"></i>
                        <i class="fa fa-fw fa-map-marker-alt"></i>
                    </div>
                    -->
                </div>
            </div>
        </div>

        <!-- Modals -->
        <div class="modal fade" id="modal-description" 
            tabindex="-1" role="dialog" aria-labelledby="modallabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header"> 
                        <h4 class="modal-title font-weight-bold"> PROJECT DESCRIPTION </h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            &times;
                        </button>
                    </div>
                    <div class="modal-body">
                        Building on the framework of the Smart Growth/Livability Calculator (Calculator) developed for Transportation Research Board&#39;s Handbook for Building Livable Transit Corridors (Handbook), this project will create new, and improve existing, sub-models on urban quality and outcomes (including travel behavior and ped/bike risk), and transform the Calculator into an easy to use online planning and research tool. This new online Smart Growth/Livability Calculator will be designed to help California practitioners and researchers meet SB 1 and CSUTC objectives dealing with  a variety of planning and design challenges, especially for corridors, station areas, and complete streets.  
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="modal-about-us" 
            tabindex="-1" role="dialog" aria-labelledby="modallabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header"> 
                        <h4 class="modal-title font-weight-bold"> ABOUT US </h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            &times;
                        </button>
                    </div>
                    <div class="modal-body">
                       The Smart Growth Livability Calculator is ... 
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="modal-directions" 
            tabindex="-1" role="dialog" aria-labelledby="modallabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header"> 
                        <h4 class="modal-title font-weight-bold"> Directions </h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            &times;
                        </button>
                    </div>
                    <div class="modal-body">
                        <h5> SELECTING LAYERS </h5>
                        <p>
                            The Smart Growth Livability Calculator allows users to turn overlays on and off by using the Layer Selection control,
                            which is located in the top-right corner of the map:

                            <div class="d-flex justify-content-center">
                                <img src="img/layer-selection-1.png" style="margin: 10px; height: 240px;">
                            </div>

                            Hovering over the Layer Selection control will display the layers that are loaded into the calculator.
                            Show or hide layers by selecting or deselecting the checkboxes next to each layer label:

                            <div class="d-flex justify-content-center">
                                <img src="img/layer-selection-2.png" style="margin: 10px; height: 240px;">
                            </div>
                        </p>

                        <h5> SELECTING GEOGRAPHIC UNITS </h5>
                        <P>
                            The Calculator gives users the option to dynamically select geographic units to calculate smart growth scores 
                            for these sub-regions.  This is accomplished by using the drawing controls to the left of map display, and users
                            can select geographic units by drawing point or line features.  Currently, these tools select all units 
                            within a half-mile buffer of the drawn feature, which was chosen to account for catchment areas that exist around
                            point or linear features: 

                            <div class="d-flex flex-wrap justify-content-center">
                                <img src="img/area-selection-1.png" style="margin: 20px; height: 240px;">
                                <img src="img/area-selection-2.png" style="margin: 20px; height: 240px;">
                            </div>
                            
                            After one or more features are drawn on the map, the statistic readouts will be populated
                            to display the aggregate smart growth scores for the selected geographic units:

                            <div class="d-flex flex-wrap justify-content-center">
                                <img src="img/area-selection-readout.png" style="margin: 20px; height: 240px;">
                            </div>

                            To remove any user selections, click the delete button (indicated by the trash can icon) and choose "Clear all":

                            <div class="d-flex justify-content-center">
                                <img src="img/area-selection-delete.png" style="margin: 10px; height: 240px;">
                            </div>
                        </p>

                    </div>
                </div>
            </div>
        </div>

        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <!-- Bootstrap-select JS -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/js/bootstrap-select.min.js"></script>

        <script type="text/javascript" src="dist/bundle.js" charset="utf-8"></script>


	</body>

</html>

