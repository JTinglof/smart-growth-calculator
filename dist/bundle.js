!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=291)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}},function(t,e,n){"use strict";function i(t,e,n,i){if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");if(n){if(!Array.isArray(n))throw new Error("bbox must be an Array");if(4!==n.length)throw new Error("bbox must be an Array of 4 numbers")}if(i&&-1===["string","number"].indexOf(void 0===i?"undefined":N(i)))throw new Error("id must be a number or a string");var r={type:"Feature"};return i&&(r.id=i),n&&(r.bbox=n),r.properties=e||{},r.geometry=t,r}function r(t,e,n){if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(n&&4!==n.length)throw new Error("bbox must be an Array of 4 numbers");var i;switch(t){case"Point":i=o(e).geometry;break;case"LineString":i=a(e).geometry;break;case"Polygon":i=s(e).geometry;break;case"MultiPoint":i=f(e).geometry;break;case"MultiLineString":i=l(e).geometry;break;case"MultiPolygon":i=c(e).geometry;break;default:throw new Error(t+" is invalid")}return n&&(i.bbox=n),i}function o(t,e,n,r){if(!t)throw new Error("No coordinates passed");if(!Array.isArray(t))throw new Error("Coordinates must be an Array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");if(!E(t[0])||!E(t[1]))throw new Error("Coordinates must contain numbers");return i({type:"Point",coordinates:t},e,n,r)}function s(t,e,n,r){if(!t)throw new Error("No coordinates passed");for(var o=0;o<t.length;o++){var s=t[o];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++){if(0===o&&0===a&&!E(s[0][0])||!E(s[0][1]))throw new Error("Coordinates must contain numbers");if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}}return i({type:"Polygon",coordinates:t},e,n,r)}function a(t,e,n,r){if(!t)throw new Error("No coordinates passed");if(t.length<2)throw new Error("Coordinates must be an array of two or more positions");if(!E(t[0][1])||!E(t[0][1]))throw new Error("Coordinates must contain numbers");return i({type:"LineString",coordinates:t},e,n,r)}function u(t,e,n){if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");if(e&&4!==e.length)throw new Error("bbox must be an Array of 4 numbers");if(n&&-1===["string","number"].indexOf(void 0===n?"undefined":N(n)))throw new Error("id must be a number or a string");var i={type:"FeatureCollection"};return n&&(i.id=n),e&&(i.bbox=e),i.features=t,i}function l(t,e,n,r){if(!t)throw new Error("No coordinates passed");return i({type:"MultiLineString",coordinates:t},e,n,r)}function f(t,e,n,r){if(!t)throw new Error("No coordinates passed");return i({type:"MultiPoint",coordinates:t},e,n,r)}function c(t,e,n,r){if(!t)throw new Error("No coordinates passed");return i({type:"MultiPolygon",coordinates:t},e,n,r)}function d(t,e,n,r){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return i({type:"GeometryCollection",geometries:t},e,n,r)}function h(t,e){if(void 0===t||null===t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function p(t,e){if(void 0===t||null===t)throw new Error("radians is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=R[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t*n}function g(t,e){if(void 0===t||null===t)throw new Error("distance is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=R[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t/n}function _(t,e){return v(g(t,e))}function m(t){if(null===t||void 0===t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e}function v(t){if(null===t||void 0===t)throw new Error("radians is required");return t%(2*Math.PI)*180/Math.PI}function y(t){if(null===t||void 0===t)throw new Error("degrees is required");return t%360*Math.PI/180}function b(t,e,n){if(null===t||void 0===t)throw new Error("length is required");if(!(t>=0))throw new Error("length must be a positive number");return p(g(t,e),n||"kilometers")}function x(t,e,n){if(null===t||void 0===t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var i=A[e||"meters"];if(!i)throw new Error("invalid original units");var r=A[n||"kilometers"];if(!r)throw new Error("invalid final units");return t/i*r}function E(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function w(t){return!!t&&t.constructor===Object}function M(){throw new Error("method has been renamed to `radiansToDegrees`")}function L(){throw new Error("method has been renamed to `degreesToRadians`")}function P(){throw new Error("method has been renamed to `lengthToDegrees`")}function C(){throw new Error("method has been renamed to `lengthToRadians`")}function I(){throw new Error("method has been renamed to `radiansToLength`")}function S(){throw new Error("method has been renamed to `bearingToAzimuth`")}function O(){throw new Error("method has been renamed to `convertLength`")}Object.defineProperty(e,"__esModule",{value:!0});var N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.feature=i,e.geometry=r,e.point=o,e.polygon=s,e.lineString=a,e.featureCollection=u,e.multiLineString=l,e.multiPoint=f,e.multiPolygon=c,e.geometryCollection=d,e.round=h,e.radiansToLength=p,e.lengthToRadians=g,e.lengthToDegrees=_,e.bearingToAzimuth=m,e.radiansToDegrees=v,e.degreesToRadians=y,e.convertLength=b,e.convertArea=x,e.isNumber=E,e.isObject=w,e.radians2degrees=M,e.degrees2radians=L,e.distanceToDegrees=P,e.distanceToRadians=C,e.radiansToDistance=I,e.bearingToAngle=S,e.convertDistance=O;var T=e.earthRadius=6371008.8,R=e.factors={meters:T,metres:T,millimeters:1e3*T,millimetres:1e3*T,centimeters:100*T,centimetres:100*T,kilometers:T/1e3,kilometres:T/1e3,miles:T/1609.344,nauticalmiles:T/1852,inches:39.37*T,yards:T/1.0936,feet:3.28084*T,radians:1,degrees:T/111325},A=(e.unitsFactors={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:.001,kilometres:.001,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/T,degrees:1/111325},e.areaFactors={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:3.86e-7,yards:1.195990046,feet:10.763910417,inches:1550.003100006})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.array_=[],arguments[0]instanceof s.default&&this.addAll(arguments[0])}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(31),s=i(o),a=n(369),u=i(a),l=n(64),f=(i(l),n(42)),c=i(f),d=n(98),h=i(d),p=n(128);i(p);r.prototype=Object.create(c.default.prototype),r.prototype.constructor=r,r.prototype.ensureCapacity=function(){},r.prototype.interfaces_=function(){return[c.default,s.default]},r.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},r.prototype.clear=function(){this.array_=[]},r.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},r.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},r.prototype.iterator=function(){return new g(this)},r.prototype.get=function(t){if(t<0||t>=this.size())throw new u.default;return this.array_[t]},r.prototype.isEmpty=function(){return 0===this.array_.length},r.prototype.size=function(){return this.array_.length},r.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},r.prototype.remove=function(t){for(var e=!1,n=0,i=this.array_.length;n<i;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e};var g=function(t){this.arrayList_=t,this.position_=0};g.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new h.default;return this.arrayList_.get(this.position_++)},g.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},g.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},g.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)r.call(this,0,0);else if(1===arguments.length){var t=arguments[0];r.call(this,t.x,t.y,t.z)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];r.call(this,e,n,r.NULL_ORDINATE)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this.x=i,this.y=o,this.z=s}}function o(){if(this._dimensionsToTest=2,0===arguments.length)o.call(this,2);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new l.default("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(367),a=i(s),u=n(10),l=i(u),f=n(15),c=i(f),d=n(0),h=i(d),p=n(26),g=i(p),_=n(72),m=i(_),v=n(63),y=i(v),b=n(28),x=i(b),E=n(7),w=i(E);(0,h.default)(r.prototype,{setOrdinate:function(t,e){switch(t){case r.X:this.x=e;break;case r.Y:this.y=e;break;case r.Z:this.z=e;break;default:throw new l.default("Invalid ordinate index: "+t)}},equals2D:function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!a.default.equalsWithTolerance(this.x,e.x,n)&&!!a.default.equalsWithTolerance(this.y,e.y,n)}},getOrdinate:function(t){switch(t){case r.X:return this.x;case r.Y:return this.y;case r.Z:return this.z}throw new l.default("Invalid ordinate index: "+t)},equals3D:function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||c.default.isNaN(this.z)&&c.default.isNaN(t.z))},equals:function(t){return t instanceof r&&this.equals2D(t)},equalInZ:function(t,e){return a.default.equalsWithTolerance(this.z,t.z,e)},compareTo:function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},clone:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return w.default.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw t}},copy:function(){return new r(this)},toString:function(){return"("+this.x+", "+this.y+", "+this.z+")"},distance3D:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return Math.sqrt(e*e+n*n+i*i)},distance:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return t=37*t+r.hashCode(this.x),t=37*t+r.hashCode(this.y)},setCoordinate:function(t){this.x=t.x,this.y=t.y,this.z=t.z},interfaces_:function(){return[g.default,m.default,x.default]},getClass:function(){return r}}),r.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=c.default.doubleToLongBits(t);return Math.trunc(e^e>>>32)}},(0,h.default)(o.prototype,{compare:function(t,e){var n=t,i=e,r=o.compare(n.x,i.x);if(0!==r)return r;var s=o.compare(n.y,i.y);return 0!==s?s:this._dimensionsToTest<=2?0:o.compare(n.z,i.z)},interfaces_:function(){return[y.default]},getClass:function(){return o}}),o.compare=function(t,e){return t<e?-1:t>e?1:c.default.isNaN(t)?c.default.isNaN(e)?0:-1:c.default.isNaN(e)?1:0},r.DimensionalComparator=o,r.serialVersionUID=0x5cbf2c235c7e5800,r.NULL_ORDINATE=c.default.NaN,r.X=0,r.Y=1,r.Z=2},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}},function(t,e,n){"use strict";function i(t){if(!t)throw new Error("obj is required");var e=r(t);if(e.length>1&&(0,d.isNumber)(e[0])&&(0,d.isNumber)(e[1]))return e;throw new Error("Coordinate is not a valid Point")}function r(t){if(!t)throw new Error("obj is required");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return o(e),e;throw new Error("No valid coordinates")}function o(t){if(t.length>1&&(0,d.isNumber)(t[0])&&(0,d.isNumber)(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return o(t[0]);throw new Error("coordinates must only contain numbers")}function s(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}function a(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}function u(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var i=0;i<t.features.length;i++){var r=t.features[i];if(!r||"Feature"!==r.type||!r.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!r.geometry||r.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+r.geometry.type)}}function l(t){if(!t)throw new Error("geojson is required");if(void 0!==t.geometry)return t.geometry;if(t.coordinates||t.geometries)return t;throw new Error("geojson must be a valid Feature or Geometry Object")}function f(){throw new Error("invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType")}function c(t,e){if(!t)throw new Error((e||"geojson")+" is required");if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error((e||"geojson")+" is invalid")}Object.defineProperty(e,"__esModule",{value:!0}),e.getCoord=i,e.getCoords=r,e.containsNumber=o,e.geojsonType=s,e.featureOf=a,e.collectionOf=u,e.getGeom=l,e.getGeomType=f,e.getType=c;var d=n(1)},function(t,e,n){"use strict";function i(t,e,n){if(null!==t){var r,o,s,a,u,l,f,c,d,h,p=0,g=0,_=t.type,m="FeatureCollection"===_,v="Feature"===_,y=m?t.features.length:1;for(r=0;r<y;r++)for(d=m?t.features[r].geometry:v?t.geometry:t,h=!!d&&"GeometryCollection"===d.type,f=h?d.geometries.length:1,o=0;o<f;o++){var b=0;if(null!==(l=h?d.geometries[o]:d)){c=l.coordinates;var x=l.type;switch(p=!n||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":e(c,g,r,b),g++,b++;break;case"LineString":case"MultiPoint":for(s=0;s<c.length;s++)e(c[s],g,r,b),g++,"MultiPoint"===x&&b++;"LineString"===x&&b++;break;case"Polygon":case"MultiLineString":for(s=0;s<c.length;s++){for(a=0;a<c[s].length-p;a++)e(c[s][a],g,r,b),g++;"MultiLineString"===x&&b++}"Polygon"===x&&b++;break;case"MultiPolygon":for(s=0;s<c.length;s++){for(a=0;a<c[s].length;a++)for(u=0;u<c[s][a].length-p;u++)e(c[s][a][u],g,r,b),g++;b++}break;case"GeometryCollection":for(s=0;s<l.geometries.length;s++)i(l.geometries[s],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function r(t,e,n,r){var o=n;return i(t,function(t,i,r,s){o=0===i&&void 0===n?t:e(o,t,i,r,s)},r),o}function o(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function s(t,e,n){var i=n;return o(t,function(t,r){i=0===r&&void 0===n?t:e(i,t,r)}),i}function a(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function u(t,e,n){var i=n;return a(t,function(t,r){i=0===r&&void 0===n?t:e(i,t,r)}),i}function l(t){var e=[];return i(t,function(t){e.push(t)}),e}function f(t,e){var n,i,r,o,s,a,u,l,f,c,d=0,h="FeatureCollection"===t.type,p="Feature"===t.type,g=h?t.features.length:1;for(n=0;n<g;n++){for(a=h?t.features[n].geometry:p?t.geometry:t,l=h?t.features[n].properties:p?t.properties:{},f=h?t.features[n].bbox:p?t.bbox:void 0,c=h?t.features[n].id:p?t.id:void 0,u=!!a&&"GeometryCollection"===a.type,s=u?a.geometries.length:1,r=0;r<s;r++)if(null!==(o=u?a.geometries[r]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(o,d,l,f,c);break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)e(o.geometries[i],d,l,f,c);break;default:throw new Error("Unknown Geometry Type")}else e(null,d,l,f,c);d++}}function c(t,e,n){var i=n;return f(t,function(t,r,o){i=0===r&&void 0===n?t:e(i,t,r,o)}),i}function d(t,e){f(t,function(t,n,i,r,o){var s=null===t?null:t.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return void e((0,v.feature)(t,i,r,o),n,0)}var a;switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}t.coordinates.forEach(function(t,r){var o={type:a,coordinates:t};e((0,v.feature)(o,i),n,r)})})}function h(t,e,n){var i=n;return d(t,function(t,r,o){i=0===r&&0===o&&void 0===n?t:e(i,t,r,o)}),i}function p(t,e){d(t,function(t,n,i){var o=0;if(t.geometry){var s=t.geometry.type;"Point"!==s&&"MultiPoint"!==s&&r(t,function(r,s){var a=(0,v.lineString)([r,s],t.properties);return e(a,n,i,o),o++,s})}})}function g(t,e,n){var i=n,r=!1;return p(t,function(t,o,s,a){i=!1===r&&void 0===n?t:e(i,t,o,s,a),r=!0}),i}function _(t,e){if(!t)throw new Error("geojson is required");d(t,function(t,n,i){if(null!==t.geometry){var r=t.geometry.type,o=t.geometry.coordinates;switch(r){case"LineString":e(t,n,i,0);break;case"Polygon":for(var s=0;s<o.length;s++)e((0,v.lineString)(o[s],t.properties),n,i,s)}}})}function m(t,e,n){var i=n;return _(t,function(t,r,o,s){i=0===r&&void 0===n?t:e(i,t,r,o,s)}),i}Object.defineProperty(e,"__esModule",{value:!0}),e.coordEach=i,e.coordReduce=r,e.propEach=o,e.propReduce=s,e.featureEach=a,e.featureReduce=u,e.coordAll=l,e.geomEach=f,e.geomReduce=c,e.flattenEach=d,e.flattenReduce=h,e.segmentEach=p,e.segmentReduce=g,e.lineEach=_,e.lineReduce=m;var v=n(1)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(368),u=i(a);(0,s.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.shouldNeverReachHere=function(){if(0===arguments.length)r.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new u.default("Should never reach here"+(null!==t?": "+t:""))}},r.isTrue=function(){if(1===arguments.length){var t=arguments[0];r.isTrue(t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!e)throw null===n?new u.default:new u.default(n)}},r.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];r.equals(t,e,null)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];if(!i.equals(n))throw new u.default("Expected "+n+" but encountered "+i+(null!==o?": "+o:""))}}},function(t,e,n){"use strict";function i(t){return t>1?0:t<-1?s:Math.acos(t)}function r(t){return t>1?a:t<-1?-a:Math.asin(t)}function o(t){return(t=u(t/2))*t}Object.defineProperty(e,"__esModule",{value:!0}),e.acos=i,e.asin=r,e.haversin=o;var s=(e.epsilon=1e-6,e.epsilon2=1e-12,e.pi=Math.PI),a=e.halfPi=s/2,u=(e.quarterPi=s/4,e.tau=2*s,e.degrees=180/s,e.radians=s/180,e.abs=Math.abs,e.atan=Math.atan,e.atan2=Math.atan2,e.cos=Math.cos,e.ceil=Math.ceil,e.exp=Math.exp,e.floor=Math.floor,e.log=Math.log,e.pow=Math.pow,e.sin=Math.sin);e.sign=Math.sign||function(t){return t>0?1:t<0?-1:0},e.sqrt=Math.sqrt,e.tan=Math.tan},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof s.default){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof r){var e=arguments[0];this.init(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var o=arguments[0],a=arguments[1],u=arguments[2],l=arguments[3];this.init(o,a,u,l)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(3),s=i(o),a=n(0),u=i(a),l=n(26),f=i(l),c=n(28),d=i(c);(0,u.default)(r.prototype,{getArea:function(){return this.getWidth()*this.getHeight()},equals:function(t){if(!(t instanceof r))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},intersection:function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new r;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny;return new r(e,this._maxx<t._maxx?this._maxx:t._maxx,n,this._maxy<t._maxy?this._maxy:t._maxy)},isNull:function(){return this._maxx<this._minx},getMaxX:function(){return this._maxx},covers:function(){if(1===arguments.length){if(arguments[0]instanceof s.default){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof r){var e=arguments[0];return!this.isNull()&&!e.isNull()&&(e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&(n>=this._minx&&n<=this._maxx&&i>=this._miny&&i<=this._maxy)}},intersects:function(){if(1===arguments.length){if(arguments[0]instanceof r){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof s.default){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||i>this._maxy||i<this._miny)}},getMinY:function(){return this._miny},getMinX:function(){return this._minx},expandToInclude:function(){if(1===arguments.length){if(arguments[0]instanceof s.default){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof r){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=i,this._maxy=i):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),i<this._miny&&(this._miny=i),i>this._maxy&&(this._maxy=i))}},minExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},getWidth:function(){return this.isNull()?0:this._maxx-this._minx},compareTo:function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},translate:function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},toString:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},setToNull:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},getHeight:function(){return this.isNull()?0:this._maxy-this._miny},maxExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},expandBy:function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},contains:function(){if(1===arguments.length){if(arguments[0]instanceof r){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof s.default){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.covers(n,i)}},centre:function(){return this.isNull()?null:new s.default((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},init:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof s.default){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof r){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var o=arguments[0],a=arguments[1],u=arguments[2],l=arguments[3];o<a?(this._minx=o,this._maxx=a):(this._minx=a,this._maxx=o),u<l?(this._miny=u,this._maxy=l):(this._miny=l,this._maxy=u)}},getMaxY:function(){return this._maxy},distance:function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return t=37*t+s.default.hashCode(this._minx),t=37*t+s.default.hashCode(this._maxx),t=37*t+s.default.hashCode(this._miny),t=37*t+s.default.hashCode(this._maxy)},interfaces_:function(){return[f.default,d.default]},getClass:function(){return r}}),r.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),u=Math.max(o.x,s.x),l=Math.min(i.x,r.x),f=Math.max(i.x,r.x);return!(l>u)&&(!(f<a)&&(a=Math.min(o.y,s.y),u=Math.max(o.y,s.y),l=Math.min(i.y,r.y),f=Math.max(i.y,r.y),!(l>u)&&!(f<a)))}},r.serialVersionUID=0x51845cd552189800},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(14),s=i(o),a=n(9),u=i(a),l=n(3),f=i(l),c=n(10),d=i(c),h=n(0),p=i(h),g=n(130),_=i(g),m=n(185),v=i(m),y=n(46),b=i(y),x=n(29),E=i(x),w=n(11),M=i(w),L=n(193),P=i(L);(0,p.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.orientationIndex=function(t,e,n){return v.default.orientationIndex(t,e,n)},r.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++){var r=t[i].x-n,o=t[i+1].y;e+=r*(t[i-1].y-o)}return e/2}if((0,u.default)(arguments[0],b.default)){var s=arguments[0],a=s.size();if(a<3)return 0;var l=new f.default,c=new f.default,d=new f.default;s.getCoordinate(0,c),s.getCoordinate(1,d);var n=c.x;d.x-=n;for(var e=0,i=1;i<a-1;i++)l.y=c.y,c.x=d.x,c.y=d.y,s.getCoordinate(i+1,d),d.x-=n,e+=c.x*(l.y-d.y);return e/2}},r.distanceLineLine=function(t,e,n,i){if(t.equals(e))return r.distancePointLine(t,n,i);if(n.equals(i))return r.distancePointLine(i,t,e);var o=!1;if(M.default.intersects(t,e,n,i)){var s=(e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x);if(0===s)o=!0;else{var a=(t.y-n.y)*(i.x-n.x)-(t.x-n.x)*(i.y-n.y),u=(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y),l=u/s,f=a/s;(f<0||f>1||l<0||l>1)&&(o=!0)}}else o=!0;return o?_.default.min(r.distancePointLine(t,n,i),r.distancePointLine(e,n,i),r.distancePointLine(n,t,e),r.distancePointLine(i,t,e)):0},r.isPointInRing=function(t,e){return r.locatePointInRing(t,e)!==s.default.EXTERIOR},r.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,i=new f.default;t.getCoordinate(0,i);for(var r=i.x,o=i.y,s=1;s<e;s++){t.getCoordinate(s,i);var a=i.x,u=i.y,l=a-r,c=u-o;n+=Math.sqrt(l*l+c*c),r=a,o=u}return n},r.isCCW=function(t){var e=t.length-1;if(e<3)throw new d.default("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],i=0,o=1;o<=e;o++){var s=t[o];s.y>n.y&&(n=s,i=o)}var a=i;do{(a-=1)<0&&(a=e)}while(t[a].equals2D(n)&&a!==i);var u=i;do{u=(u+1)%e}while(t[u].equals2D(n)&&u!==i);var l=t[a],f=t[u];if(l.equals2D(n)||f.equals2D(n)||l.equals2D(f))return!1;var c=r.computeOrientation(l,n,f);return 0===c?l.x>f.x:c>0},r.locatePointInRing=function(t,e){return P.default.locatePointInRing(t,e)},r.distancePointLinePerpendicular=function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),r=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(r)*Math.sqrt(i)},r.computeOrientation=function(t,e,n){return r.orientationIndex(t,e,n)},r.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new d.default("Line array must contain at least one vertex");for(var n=t.distance(e[0]),i=0;i<e.length-1;i++){var o=r.distancePointLine(t,e[i],e[i+1]);o<n&&(n=o)}return n}if(3===arguments.length){var s=arguments[0],a=arguments[1],u=arguments[2];if(a.x===u.x&&a.y===u.y)return s.distance(a);var l=(u.x-a.x)*(u.x-a.x)+(u.y-a.y)*(u.y-a.y),f=((s.x-a.x)*(u.x-a.x)+(s.y-a.y)*(u.y-a.y))/l;if(f<=0)return s.distance(a);if(f>=1)return s.distance(u);var c=((a.y-s.y)*(u.x-a.x)-(a.x-s.x)*(u.y-a.y))/l;return Math.abs(c)*Math.sqrt(l)}},r.isOnLine=function(t,e){for(var n=new E.default,i=1;i<e.length;i++){var r=e[i-1],o=e[i];if(n.computeIntersection(t,r,o),n.hasIntersection())return!0}return!1},r.CLOCKWISE=-1,r.RIGHT=r.CLOCKWISE,r.COUNTERCLOCKWISE=1,r.LEFT=r.COUNTERCLOCKWISE,r.COLLINEAR=0,r.STRAIGHT=r.COLLINEAR},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._points=null;var t=arguments[0],e=arguments[1];u.default.call(this,e),this.init(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(12),s=i(o),a=n(16),u=i(a),l=n(65),f=i(l),c=n(9),d=i(c),h=n(131),p=i(h),g=n(10),_=i(g),m=n(0),v=i(m),y=n(132),b=i(y),x=n(133),E=i(x),w=n(40),M=i(w),L=n(47),P=i(L),C=n(48),I=i(C),S=n(78),O=i(S),N=n(11),T=i(N);(0,i(n(4)).default)(r,u.default),(0,v.default)(r.prototype,{computeEnvelopeInternal:function(){return this.isEmpty()?new T.default:this._points.expandEnvelope(new T.default)},isRing:function(){return this.isClosed()&&this.isSimple()},getSortIndex:function(){return u.default.SORTINDEX_LINESTRING},getCoordinates:function(){return this._points.toCoordinateArray()},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this._points.size()!==n._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),n._points.getCoordinate(i),e))return!1;return!0}return u.default.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&E.default.reverse(this._points),null}},getCoordinate:function(){return this.isEmpty()?null:this._points.getCoordinate(0)},getBoundaryDimension:function(){return this.isClosed()?P.default.FALSE:0},isClosed:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},getEndPoint:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},getDimension:function(){return 1},getLength:function(){return s.default.computeLength(this._points)},getNumPoints:function(){return this._points.size()},reverse:function(){var t=this._points.copy();return E.default.reverse(t),this.getFactory().createLineString(t)},compareToSameClass:function(){if(1===arguments.length){for(var t=arguments[0],e=t,n=0,i=0;n<this._points.size()&&i<e._points.size();){var r=this._points.getCoordinate(n).compareTo(e._points.getCoordinate(i));if(0!==r)return r;n++,i++}return n<this._points.size()?1:i<e._points.size()?-1:0}if(2===arguments.length){var o=arguments[0],s=arguments[1],e=o;return s.compare(this._points,e._points)}},apply:function(){if((0,d.default)(arguments[0],f.default))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if((0,d.default)(arguments[0],O.default)){var n=arguments[0];if(0===this._points.size())return null;for(var e=0;e<this._points.size()&&(n.filter(this._points,e),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if((0,d.default)(arguments[0],I.default)){var i=arguments[0];i.filter(this)}else if((0,d.default)(arguments[0],M.default)){var r=arguments[0];r.filter(this)}},getBoundary:function(){return new p.default(this).getBoundary()},isEquivalentClass:function(t){return t instanceof r},clone:function(){var t=u.default.prototype.clone.call(this);return t._points=this._points.clone(),t},getCoordinateN:function(t){return this._points.getCoordinate(t)},getGeometryType:function(){return"LineString"},copy:function(){return new r(this._points.copy(),this._factory)},getCoordinateSequence:function(){return this._points},isEmpty:function(){return 0===this._points.size()},init:function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new _.default("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},isCoordinate:function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},getStartPoint:function(){return this.isEmpty()?null:this.getPointN(0)},getPointN:function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},interfaces_:function(){return[b.default]},getClass:function(){return r}}),r.serialVersionUID=0x2b2b51ba435c8e00},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(10),s=i(o);(0,i(n(0)).default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.toLocationSymbol=function(t){switch(t){case r.EXTERIOR:return"e";case r.BOUNDARY:return"b";case r.INTERIOR:return"i";case r.NONE:return"-"}throw new s.default("Unknown location value: "+t)},r.INTERIOR=0,r.BOUNDARY=1,r.EXTERIOR=2,r.NONE=-1},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.isNaN=function(t){return Number.isNaN(t)},i.doubleToLongBits=function(t){return t},i.longBitsToDouble=function(t){return t},i.isInfinite=function(t){return!Number.isFinite(t)},i.MAX_VALUE=Number.MAX_VALUE},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._envelope=null,this._factory=null,this._SRID=null,this._userData=null;var t=arguments[0];this._factory=t,this._SRID=t.getSRID()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(10),s=i(o),a=n(0),u=i(a),l=n(40),f=i(l),c=n(26),d=i(c),h=n(72),p=i(h),g=n(28),_=i(g),m=n(11),v=i(m),y=n(7);i(y);(0,u.default)(r.prototype,{isGeometryCollection:function(){return this.getSortIndex()===r.SORTINDEX_GEOMETRYCOLLECTION},getFactory:function(){return this._factory},getGeometryN:function(t){return this},getArea:function(){return 0},isRectangle:function(){return!1},equals:function(){if(arguments[0]instanceof r){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof r))return!1;var n=e;return this.equalsExact(n)}},equalsExact:function(t){return this===t||this.equalsExact(t,0)},geometryChanged:function(){this.apply(r.geometryChangedFilter)},geometryChangedAction:function(){this._envelope=null},equalsNorm:function(t){return null!==t&&this.norm().equalsExact(t.norm())},getLength:function(){return 0},getNumGeometries:function(){return 1},compareTo:function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=n;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(n,i)}},getUserData:function(){return this._userData},getSRID:function(){return this._SRID},getEnvelope:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},checkNotGeometryCollection:function(t){if(t.getSortIndex()===r.SORTINDEX_GEOMETRYCOLLECTION)throw new s.default("This method does not support GeometryCollection arguments")},equal:function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},norm:function(){var t=this.copy();return t.normalize(),t},getPrecisionModel:function(){return this._factory.getPrecisionModel()},getEnvelopeInternal:function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new v.default(this._envelope)},setSRID:function(t){this._SRID=t},setUserData:function(t){this._userData=t},compare:function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),o=i.next(),s=r.compareTo(o);if(0!==s)return s}return n.hasNext()?1:i.hasNext()?-1:0},hashCode:function(){return this.getEnvelopeInternal().hashCode()},isGeometryCollectionOrDerived:function(){return this.getSortIndex()===r.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===r.SORTINDEX_MULTIPOINT||this.getSortIndex()===r.SORTINDEX_MULTILINESTRING||this.getSortIndex()===r.SORTINDEX_MULTIPOLYGON},interfaces_:function(){return[p.default,d.default,_.default]},getClass:function(){return r}}),r.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},r.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},r.serialVersionUID=0x799ea46522854c00,r.SORTINDEX_POINT=0,r.SORTINDEX_MULTIPOINT=1,r.SORTINDEX_LINESTRING=2,r.SORTINDEX_LINEARRING=3,r.SORTINDEX_MULTILINESTRING=4,r.SORTINDEX_POLYGON=5,r.SORTINDEX_MULTIPOLYGON=6,r.SORTINDEX_GEOMETRYCOLLECTION=7,r.geometryChangedFilter={interfaces_:function(){return[f.default]},filter:function(t){t.geometryChangedAction()}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._geometries=null;var t=arguments[0],e=arguments[1];if(u.default.call(this,e),null===t&&(t=[]),u.default.hasNullElements(t))throw new _.default("geometries must not contain null elements");this._geometries=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(57),s=i(o),a=n(16),u=i(a),l=n(77),f=i(l),c=n(65),d=i(c),h=n(9),p=i(h),g=n(10),_=i(g),m=n(0),v=i(m),y=n(40),b=i(y),x=n(47),E=i(x),w=n(48),M=i(w),L=n(78),P=i(L),C=n(11),I=i(C),S=n(7),O=i(S);(0,i(n(4)).default)(r,u.default),(0,v.default)(r.prototype,{computeEnvelopeInternal:function(){for(var t=new I.default,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},getGeometryN:function(t){return this._geometries[t]},getSortIndex:function(){return u.default.SORTINDEX_GEOMETRYCOLLECTION},getCoordinates:function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var i=this._geometries[n].getCoordinates(),r=0;r<i.length;r++)e++,t[e]=i[r];return t},getArea:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this._geometries.length!==n._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(n._geometries[i],e))return!1;return!0}return u.default.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();f.default.sort(this._geometries)},getCoordinate:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},getBoundaryDimension:function(){for(var t=E.default.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},getDimension:function(){for(var t=E.default.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},getLength:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},getNumPoints:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},getNumGeometries:function(){return this._geometries.length},reverse:function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=new s.default(f.default.asList(this._geometries)),n=new s.default(f.default.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var i=arguments[0],r=arguments[1],o=i,a=this.getNumGeometries(),u=o.getNumGeometries(),l=0;l<a&&l<u;){var c=this.getGeometryN(l),d=o.getGeometryN(l),h=c.compareToSameClass(d,r);if(0!==h)return h;l++}return l<a?1:l<u?-1:0}},apply:function(){if((0,p.default)(arguments[0],d.default))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if((0,p.default)(arguments[0],P.default)){var n=arguments[0];if(0===this._geometries.length)return null;for(var e=0;e<this._geometries.length&&(this._geometries[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if((0,p.default)(arguments[0],M.default)){var i=arguments[0];i.filter(this);for(var e=0;e<this._geometries.length;e++)this._geometries[e].apply(i)}else if((0,p.default)(arguments[0],b.default)){var r=arguments[0];r.filter(this);for(var e=0;e<this._geometries.length;e++)this._geometries[e].apply(r)}},getBoundary:function(){return this.checkNotGeometryCollection(this),O.default.shouldNeverReachHere(),null},clone:function(){var t=u.default.prototype.clone.call(this);t._geometries=new Array(this._geometries.length).fill(null);for(var e=0;e<this._geometries.length;e++)t._geometries[e]=this._geometries[e].clone();return t},getGeometryType:function(){return"GeometryCollection"},copy:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new r(t,this._factory)},isEmpty:function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},interfaces_:function(){return[]},getClass:function(){return r}}),r.serialVersionUID=-0x4f07bcb1f857d800},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this.p0=null,this.p1=null,0===arguments.length)r.call(this,new f.default,new f.default);else if(1===arguments.length){var t=arguments[0];r.call(this,t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0=e,this.p1=n}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];r.call(this,new f.default(i,o),new f.default(s,a))}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(73),s=i(o),a=n(12),u=i(a),l=n(3),f=i(l),c=n(15),d=i(c),h=n(0),p=i(h),g=n(26),_=i(g),m=n(29),v=i(m),y=n(75),b=i(y),x=n(28),E=i(x);(0,p.default)(r.prototype,{minX:function(){return Math.min(this.p0.x,this.p1.x)},orientationIndex:function(){if(arguments[0]instanceof r){var t=arguments[0],e=u.default.orientationIndex(this.p0,this.p1,t.p0),n=u.default.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0?Math.max(e,n):e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof f.default){var i=arguments[0];return u.default.orientationIndex(this.p0,this.p1,i)}},toGeometry:function(t){return t.createLineString([this.p0,this.p1])},isVertical:function(){return this.p0.x===this.p1.x},equals:function(t){if(!(t instanceof r))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},intersection:function(t){var e=new v.default;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},project:function(){if(arguments[0]instanceof f.default){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new f.default(t);var e=this.projectionFactor(t),n=new f.default;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof r){var i=arguments[0],o=this.projectionFactor(i.p0),s=this.projectionFactor(i.p1);if(o>=1&&s>=1)return null;if(o<=0&&s<=0)return null;var a=this.project(i.p0);o<0&&(a=this.p0),o>1&&(a=this.p1);var u=this.project(i.p1);return s<0&&(u=this.p0),s>1&&(u=this.p1),new r(a,u)}},normalize:function(){this.p1.compareTo(this.p0)<0&&this.reverse()},angle:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},getCoordinate:function(t){return 0===t?this.p0:this.p1},distancePerpendicular:function(t){return u.default.distancePointLinePerpendicular(t,this.p0,this.p1)},minY:function(){return Math.min(this.p0.y,this.p1.y)},midPoint:function(){return r.midPoint(this.p0,this.p1)},projectionFactor:function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;return i<=0?d.default.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i},closestPoints:function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=d.default.MAX_VALUE,r=null,o=this.closestPoint(t.p0);i=o.distance(t.p0),n[0]=o,n[1]=t.p0;var s=this.closestPoint(t.p1);(r=s.distance(t.p1))<i&&(i=r,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(r=a.distance(this.p0))<i&&(i=r,n[0]=this.p0,n[1]=a);var u=t.closestPoint(this.p1);return r=u.distance(this.p1),r<i&&(i=r,n[0]=this.p1,n[1]=u),n},closestPoint:function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},maxX:function(){return Math.max(this.p0.x,this.p1.x)},getLength:function(){return this.p0.distance(this.p1)},compareTo:function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},reverse:function(){var t=this.p0;this.p0=this.p1,this.p1=t},equalsTopo:function(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p0.equals(t.p1)&&this.p1.equals(t.p0)},lineIntersection:function(t){try{return b.default.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof s.default))throw t}return null},maxY:function(){return Math.max(this.p0.y,this.p1.y)},pointAlongOffset:function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(r*r+o*o),a=0,u=0;if(0!==e){if(s<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");a=e*r/s,u=e*o/s}var l=n-u,c=i+a;return new f.default(l,c)},setCoordinates:function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},segmentFraction:function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||d.default.isNaN(e))&&(e=1),e},toString:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},isHorizontal:function(){return this.p0.y===this.p1.y},distance:function(){if(arguments[0]instanceof r){var t=arguments[0];return u.default.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof f.default){var e=arguments[0];return u.default.distancePointLine(e,this.p0,this.p1)}},pointAlong:function(t){var e=new f.default;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},hashCode:function(){var t=java.lang.Double.doubleToLongBits(this.p0.x);t^=31*java.lang.Double.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=java.lang.Double.doubleToLongBits(this.p1.x);return n^=31*java.lang.Double.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},interfaces_:function(){return[_.default,E.default]},getClass:function(){return r}}),r.midPoint=function(t,e){return new f.default((t.x+e.x)/2,(t.y+e.y)/2)},r.serialVersionUID=0x2d2172135f411c00},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,0===arguments.length)r.call(this,new k.default,0);else if(1===arguments.length){if((0,f.default)(arguments[0],s.default)){var t=arguments[0];r.call(this,new k.default,0,t)}else if(arguments[0]instanceof k.default){var e=arguments[0];r.call(this,e,0,r.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];r.call(this,n,i,r.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var o=arguments[0],a=arguments[1],u=arguments[2];this._precisionModel=o,this._coordinateSequenceFactory=u,this._SRID=a}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(189),s=i(o),a=n(13),u=i(a),l=n(9),f=i(l),c=n(3),d=i(c),h=n(32),p=i(h),g=n(20),_=i(g),m=n(50),v=i(m),y=n(134),b=i(y),x=n(38),E=i(x),w=n(0),M=i(w),L=n(380),P=i(L),C=n(39),I=i(C),S=n(133),O=i(S),N=n(46),T=i(N),R=n(17),A=i(R),D=n(66),k=i(D),j=n(28),F=i(j),z=n(7),G=i(z),B=n(37),q=i(B);(0,M.default)(r.prototype,{toGeometry:function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new d.default(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new d.default(t.getMinX(),t.getMinY()),new d.default(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new d.default(t.getMinX(),t.getMinY()),new d.default(t.getMinX(),t.getMaxY()),new d.default(t.getMaxX(),t.getMaxY()),new d.default(t.getMaxX(),t.getMinY()),new d.default(t.getMinX(),t.getMinY())]),null)},createLineString:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLineString(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if((0,f.default)(arguments[0],T.default)){var e=arguments[0];return new u.default(e,this)}}},createMultiLineString:function(){if(0===arguments.length)return new q.default(null,this);if(1===arguments.length){var t=arguments[0];return new q.default(t,this)}},buildGeometry:function(t){for(var e=null,n=!1,i=!1,o=t.iterator();o.hasNext();){var s=o.next(),a=s.getClass();null===e&&(e=a),a!==e&&(n=!0),s.isGeometryCollectionOrDerived()&&(i=!0)}if(null===e)return this.createGeometryCollection();if(n||i)return this.createGeometryCollection(r.toGeometryArray(t));var l=t.iterator().next();if(t.size()>1){if(l instanceof _.default)return this.createMultiPolygon(r.toPolygonArray(t));if(l instanceof u.default)return this.createMultiLineString(r.toLineStringArray(t));if(l instanceof p.default)return this.createMultiPoint(r.toPointArray(t));G.default.shouldNeverReachHere("Unhandled class: "+l.getClass().getName())}return l},createMultiPointFromCoords:function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},createPoint:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof d.default){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if((0,f.default)(arguments[0],T.default)){var e=arguments[0];return new p.default(e,this)}}},getCoordinateSequenceFactory:function(){return this._coordinateSequenceFactory},createPolygon:function(){if(0===arguments.length)return new _.default(null,null,this);if(1===arguments.length){if((0,f.default)(arguments[0],T.default)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof E.default){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];return new _.default(i,r,this)}},getSRID:function(){return this._SRID},createGeometryCollection:function(){if(0===arguments.length)return new A.default(null,this);if(1===arguments.length){var t=arguments[0];return new A.default(t,this)}},createGeometry:function(t){return new b.default(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return arguments[1],this._coordinateSequenceFactory.create(t)}}})},getPrecisionModel:function(){return this._precisionModel},createLinearRing:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if((0,f.default)(arguments[0],T.default)){var e=arguments[0];return new E.default(e,this)}}},createMultiPolygon:function(){if(0===arguments.length)return new I.default(null,this);if(1===arguments.length){var t=arguments[0];return new I.default(t,this)}},createMultiPoint:function(){if(0===arguments.length)return new v.default(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new v.default(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if((0,f.default)(arguments[0],T.default)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var i=new Array(n.size()).fill(null),r=0;r<n.size();r++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());O.default.copy(n,r,o,0,1),i[r]=this.createPoint(o)}return this.createMultiPoint(i)}}},interfaces_:function(){return[F.default]},getClass:function(){return r}}),r.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},r.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},r.getDefaultCoordinateSequenceFactory=function(){return P.default.instance()},r.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},r.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},r.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},r.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},r.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},r.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},r.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},r.serialVersionUID=-0x5ea75f2051eeb400},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._shell=null,this._holes=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(u.default.call(this,n),null===t&&(t=this.getFactory().createLinearRing()),null===e&&(e=[]),u.default.hasNullElements(e))throw new _.default("holes must not contain null elements");if(t.isEmpty()&&u.default.hasNonEmptyElements(e))throw new _.default("shell is empty but holes are not");this._shell=t,this._holes=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(12),s=i(o),a=n(16),u=i(a),l=n(77),f=i(l),c=n(65),d=i(c),h=n(9),p=i(h),g=n(10),_=i(g),m=n(0),v=i(m),y=n(30),b=i(y),x=n(40),E=i(x),w=n(25),M=i(w),L=n(49),P=i(L),C=n(48),I=i(C),S=n(78),O=i(S);(0,i(n(4)).default)(r,u.default),(0,v.default)(r.prototype,{computeEnvelopeInternal:function(){return this._shell.getEnvelopeInternal()},getSortIndex:function(){return u.default.SORTINDEX_POLYGON},getCoordinates:function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),i=0;i<n.length;i++)e++,t[e]=n[i];for(var r=0;r<this._holes.length;r++)for(var o=this._holes[r].getCoordinates(),s=0;s<o.length;s++)e++,t[e]=o[s];return t},getArea:function(){var t=0;t+=Math.abs(s.default.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(s.default.signedArea(this._holes[e].getCoordinateSequence()));return t},isRectangle:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var i=t.getX(n);if(i!==e.getMinX()&&i!==e.getMaxX())return!1;var r=t.getY(n);if(r!==e.getMinY()&&r!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),n=1;n<=4;n++){var i=t.getX(n),r=t.getY(n);if(i!==o==(r!==s))return!1;o=i,s=r}return!0},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t,i=this._shell,r=n._shell;if(!i.equalsExact(r,e))return!1;if(this._holes.length!==n._holes.length)return!1;for(var o=0;o<this._holes.length;o++)if(!this._holes[o].equalsExact(n._holes[o],e))return!1;return!0}return u.default.prototype.equalsExact.apply(this,arguments)},normalize:function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);f.default.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var i=new Array(e.getCoordinates().length-1).fill(null);b.default.arraycopy(e.getCoordinates(),0,i,0,i.length);var r=M.default.minCoordinate(e.getCoordinates());M.default.scroll(i,r),b.default.arraycopy(i,0,e.getCoordinates(),0,i.length),e.getCoordinates()[i.length]=i[0],s.default.isCCW(e.getCoordinates())===n&&M.default.reverse(e.getCoordinates())}},getCoordinate:function(){return this._shell.getCoordinate()},getNumInteriorRing:function(){return this._holes.length},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},getLength:function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},getNumPoints:function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},reverse:function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},convexHull:function(){return this.getExteriorRing().convexHull()},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var i=arguments[0],r=arguments[1],o=i,e=this._shell,n=o._shell,s=e.compareToSameClass(n,r);if(0!==s)return s;for(var a=this.getNumInteriorRing(),u=o.getNumInteriorRing(),l=0;l<a&&l<u;){var f=this.getInteriorRingN(l),c=o.getInteriorRingN(l),d=f.compareToSameClass(c,r);if(0!==d)return d;l++}return l<a?1:l<u?-1:0}},apply:function(){if((0,p.default)(arguments[0],d.default)){var t=arguments[0];this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if((0,p.default)(arguments[0],O.default)){var n=arguments[0];if(this._shell.apply(n),!n.isDone())for(var e=0;e<this._holes.length&&(this._holes[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if((0,p.default)(arguments[0],I.default)){var i=arguments[0];i.filter(this)}else if((0,p.default)(arguments[0],E.default)){var r=arguments[0];r.filter(this),this._shell.apply(r);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(r)}},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},clone:function(){var t=u.default.prototype.clone.call(this);t._shell=this._shell.clone(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].clone();return t},getGeometryType:function(){return"Polygon"},copy:function(){for(var t=this._shell.copy(),e=new Array(this._holes.length).fill(null),n=0;n<e.length;n++)e[n]=this._holes[n].copy();return new r(t,e,this._factory)},getExteriorRing:function(){return this._shell},isEmpty:function(){return this._shell.isEmpty()},getInteriorRingN:function(t){return this._holes[t]},interfaces_:function(){return[P.default]},getClass:function(){return r}}),r.serialVersionUID=-0x307ffefd8dc97200},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{interfaces_:function(){return[]},getClass:function(){return i}}),i.opposite=function(t){return t===i.LEFT?i.RIGHT:t===i.RIGHT?i.LEFT:t},i.ON=0,i.LEFT=1,i.RIGHT=2},function(t,e,n){"use strict";function i(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return r(t);case"FeatureCollection":return s(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return a(t);default:throw new Error("unknown GeoJSON type")}}function r(t){var e={type:"Feature"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}}),e.properties=o(t.properties),e.geometry=a(t.geometry),e}function o(t){var e={};return t?(Object.keys(t).forEach(function(n){var i=t[n];"object"===(void 0===i?"undefined":l(i))?(i.length&&(e[n]=i.map(function(t){return t})),e[n]=o(i)):e[n]=i}),e):e}function s(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}}),e.features=t.features.map(function(t){return r(t)}),e}function a(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map(function(t){return a(t)}),e):(e.coordinates=u(t.coordinates),e)}function u(t){return"object"!==l(t[0])?t.slice():t.map(function(t){return u(t)})}Object.defineProperty(e,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=i},function(t,e,n){"use strict";function i(t,e,n){if(n=n||{},!(0,o.isObject)(n))throw new Error("options is invalid");var i=n.units,s=(0,r.getCoord)(t),a=(0,r.getCoord)(e),u=(0,o.degreesToRadians)(a[1]-s[1]),l=(0,o.degreesToRadians)(a[0]-s[0]),f=(0,o.degreesToRadians)(s[1]),c=(0,o.degreesToRadians)(a[1]),d=Math.pow(Math.sin(u/2),2)+Math.pow(Math.sin(l/2),2)*Math.cos(f)*Math.cos(c);return(0,o.radiansToLength)(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)),i)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),o=n(1);e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(f.default.apply(this),0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.ensureCapacity(e.length),this.add(e,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(3),s=i(o),a=n(0),u=i(a),l=n(2),f=i(l);(0,i(n(4)).default)(r,f.default),(0,u.default)(r.prototype,{getCoordinate:function(t){return this.get(t)},addAll:function(){if(2===arguments.length){for(var t=arguments[0],e=arguments[1],n=!1,i=t.iterator();i.hasNext();)this.add(i.next(),e),n=!0;return n}return f.default.prototype.addAll.apply(this,arguments)},clone:function(){for(var t=f.default.prototype.clone.call(this),e=0;e<this.size();e++)t.add(e,this.get(e).copy());return t},toCoordinateArray:function(){return this.toArray(r.coordArrayType)},add:function(){if(1===arguments.length){var t=arguments[0];f.default.prototype.add.call(this,t)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var e=arguments[0],n=arguments[1];return this.add(e,n,!0),!0}if(arguments[0]instanceof s.default&&"boolean"==typeof arguments[1]){var i=arguments[0],r=arguments[1];if(!r&&this.size()>=1){var o=this.get(this.size()-1);if(o.equals2D(i))return null}f.default.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var a=arguments[0],u=arguments[1];return this.add(a,u),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var l=arguments[0],c=arguments[1],d=arguments[2];if(d)for(var h=0;h<l.length;h++)this.add(l[h],c);else for(var h=l.length-1;h>=0;h--)this.add(l[h],c);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof s.default){var p=arguments[0],g=arguments[1],_=arguments[2];if(!_){var m=this.size();if(m>0){if(p>0){var v=this.get(p-1);if(v.equals2D(g))return null}if(p<m){var y=this.get(p);if(y.equals2D(g))return null}}}f.default.prototype.add.call(this,p,g)}}else if(4===arguments.length){var b=arguments[0],x=arguments[1],E=arguments[2],w=arguments[3],M=1;E>w&&(M=-1);for(var h=E;h!==w;h+=M)this.add(b[h],x);return!0}},closeRing:function(){this.size()>0&&this.add(new s.default(this.get(0)),!1)},interfaces_:function(){return[]},getClass:function(){return r}}),r.coordArrayType=new Array(0).fill(null)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}function o(){}function s(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=n(24),u=i(a),l=n(3),f=i(l),c=n(0),d=i(c),h=n(130),p=i(h),g=n(30),_=i(g),m=n(63),v=i(m),y=n(11),b=i(y);(0,d.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.isRing=function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])},r.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(r.indexOf(i,e)<0)return i}return null},r.scroll=function(t,e){var n=r.indexOf(e,t);if(n<0)return null;var i=new Array(t.length).fill(null);_.default.arraycopy(t,n,i,0,t.length-n),_.default.arraycopy(t,0,i,t.length-n,n),_.default.arraycopy(i,0,t,0,t.length)},r.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];if(i===r)return!0;if(null===i||null===r)return!1;if(i.length!==r.length)return!1;for(var n=0;n<i.length;n++)if(0!==o.compare(i[n],r[n]))return!1;return!0}},r.intersection=function(t,e){for(var n=new u.default,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()},r.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},r.removeRepeatedPoints=function(t){return r.hasRepeatedPoints(t)?new u.default(t,!1).toCoordinateArray():t},r.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;i<=n;i++){var r=t[i];t[i]=t[e-i],t[e-i]=r}},r.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var i=new Array(e).fill(null);if(0===e)return i;for(var r=0,n=0;n<t.length;n++)null!==t[n]&&(i[r++]=t[n]);return i},r.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new f.default(t[n]);return e}if(5===arguments.length)for(var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],n=0;n<a;n++)o[s+n]=new f.default(i[r+n])},r.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[t.length-n-1];if(0!==i.compareTo(r))return!1}return!0},r.envelope=function(t){for(var e=new b.default,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},r.toCoordinateArray=function(t){return t.toArray(r.coordArrayType)},r.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},r.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},r.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,i=t[e].compareTo(t[n]);if(0!==i)return i}return 1},r.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(0!==i)return i;n++}return n<e.length?-1:n<t.length?1:0},r.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},r.extract=function(t,e,n){e=p.default.clamp(e,0,t.length),n=p.default.clamp(n,-1,t.length);var i=n-e+1;n<0&&(i=0),e>=t.length&&(i=0),n<e&&(i=0);var r=new Array(i).fill(null);if(0===i)return r;for(var o=0,s=e;s<=n;s++)r[o++]=t[s];return r},(0,d.default)(o.prototype,{compare:function(t,e){var n=t,i=e;return r.compare(n,i)},interfaces_:function(){return[v.default]},getClass:function(){return o}}),(0,d.default)(s.prototype,{compare:function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var o=r.compare(n,i);return r.isEqualReversed(n,i)?0:o},OLDcompare:function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var o=r.increasingDirection(n),s=r.increasingDirection(i),a=o>0?0:n.length-1,u=s>0?0:n.length-1,l=0;l<n.length;l++){var f=n[a].compareTo(i[u]);if(0!==f)return f;a+=o,u+=s}return 0},interfaces_:function(){return[v.default]},getClass:function(){return s}}),r.ForwardComparator=o,r.BidirectionalComparator=s,r.coordArrayType=new Array(0).fill(null)},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t){var e=[1/0,1/0,-1/0,-1/0];return(0,r.coordEach)(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}Object.defineProperty(e,"__esModule",{value:!0});var r=n(6);e.default=i},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){M.default.apply(this)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(73),s=i(o),a=n(12),u=i(a),l=n(3),f=i(l),c=n(0),d=i(c),h=n(185),p=i(h),g=n(30),_=i(g),m=n(75),v=i(m),y=n(11),b=i(y),x=n(4),E=i(x),w=n(370),M=i(w);(0,E.default)(r,M.default),(0,d.default)(r.prototype,{isInSegmentEnvelopes:function(t){var e=new b.default(this._inputLines[0][0],this._inputLines[0][1]),n=new b.default(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},computeIntersection:function(){if(3!==arguments.length)return M.default.prototype.computeIntersection.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2];if(this._isProper=!1,b.default.intersects(e,n,t)&&0===u.default.orientationIndex(e,n,t)&&0===u.default.orientationIndex(n,e,t))return this._isProper=!0,(t.equals(e)||t.equals(n))&&(this._isProper=!1),this._result=M.default.POINT_INTERSECTION,null;this._result=M.default.NO_INTERSECTION},normalizeToMinimum:function(t,e,n,i,r){r.x=this.smallestInAbsValue(t.x,e.x,n.x,i.x),r.y=this.smallestInAbsValue(t.y,e.y,n.y,i.y),t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},safeHCoordinateIntersection:function(t,e,n,i){var o=null;try{o=v.default.intersection(t,e,n,i)}catch(a){if(!(a instanceof s.default))throw a;o=r.nearestEndpoint(t,e,n,i)}return o},intersection:function(t,e,n,i){var o=this.intersectionWithNormalization(t,e,n,i);return this.isInSegmentEnvelopes(o)||(o=new f.default(r.nearestEndpoint(t,e,n,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},smallestInAbsValue:function(t,e,n,i){var r=t,o=Math.abs(r);return Math.abs(e)<o&&(r=e,o=Math.abs(e)),Math.abs(n)<o&&(r=n,o=Math.abs(n)),Math.abs(i)<o&&(r=i),r},checkDD:function(t,e,n,i,r){var o=p.default.intersection(t,e,n,i),s=this.isInSegmentEnvelopes(o);_.default.out.println("DD in env = "+s+"  --------------------- "+o),r.distance(o)>1e-4&&_.default.out.println("Distance = "+r.distance(o))},intersectionWithNormalization:function(t,e,n,i){var r=new f.default(t),o=new f.default(e),s=new f.default(n),a=new f.default(i),u=new f.default;this.normalizeToEnvCentre(r,o,s,a,u);var l=this.safeHCoordinateIntersection(r,o,s,a);return l.x+=u.x,l.y+=u.y,l},computeCollinearIntersection:function(t,e,n,i){var r=b.default.intersects(t,e,n),o=b.default.intersects(t,e,i),s=b.default.intersects(n,i,t),a=b.default.intersects(n,i,e);return r&&o?(this._intPt[0]=n,this._intPt[1]=i,M.default.COLLINEAR_INTERSECTION):s&&a?(this._intPt[0]=t,this._intPt[1]=e,M.default.COLLINEAR_INTERSECTION):r&&s?(this._intPt[0]=n,this._intPt[1]=t,!n.equals(t)||o||a?M.default.COLLINEAR_INTERSECTION:M.default.POINT_INTERSECTION):r&&a?(this._intPt[0]=n,this._intPt[1]=e,!n.equals(e)||o||s?M.default.COLLINEAR_INTERSECTION:M.default.POINT_INTERSECTION):o&&s?(this._intPt[0]=i,this._intPt[1]=t,!i.equals(t)||r||a?M.default.COLLINEAR_INTERSECTION:M.default.POINT_INTERSECTION):o&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||r||s?M.default.COLLINEAR_INTERSECTION:M.default.POINT_INTERSECTION):M.default.NO_INTERSECTION},normalizeToEnvCentre:function(t,e,n,i,r){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,l=n.x<i.x?n.x:i.x,f=n.y<i.y?n.y:i.y,c=n.x>i.x?n.x:i.x,d=n.y>i.y?n.y:i.y,h=o>l?o:l,p=a<c?a:c,g=s>f?s:f,_=u<d?u:d,m=(h+p)/2,v=(g+_)/2;r.x=m,r.y=v,t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},computeIntersect:function(t,e,n,i){if(this._isProper=!1,!b.default.intersects(t,e,n,i))return M.default.NO_INTERSECTION;var r=u.default.orientationIndex(t,e,n),o=u.default.orientationIndex(t,e,i);if(r>0&&o>0||r<0&&o<0)return M.default.NO_INTERSECTION;var s=u.default.orientationIndex(n,i,t),a=u.default.orientationIndex(n,i,e);return s>0&&a>0||s<0&&a<0?M.default.NO_INTERSECTION:0===r&&0===o&&0===s&&0===a?this.computeCollinearIntersection(t,e,n,i):(0===r||0===o||0===s||0===a?(this._isProper=!1,t.equals2D(n)||t.equals2D(i)?this._intPt[0]=t:e.equals2D(n)||e.equals2D(i)?this._intPt[0]=e:0===r?this._intPt[0]=new f.default(n):0===o?this._intPt[0]=new f.default(i):0===s?this._intPt[0]=new f.default(t):0===a&&(this._intPt[0]=new f.default(e))):(this._isProper=!0,this._intPt[0]=this.intersection(t,e,n,i)),M.default.POINT_INTERSECTION)},interfaces_:function(){return[]},getClass:function(){return r}}),r.nearestEndpoint=function(t,e,n,i){var r=t,o=u.default.distancePointLine(t,n,i),s=u.default.distancePointLine(e,n,i);return s<o&&(o=s,r=e),s=u.default.distancePointLine(n,t,e),s<o&&(o=s,r=n),s=u.default.distancePointLine(i,t,e),s<o&&(o=s,r=i),r}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.arraycopy=function(t,e,n,i,r){for(var o=0,s=e;s<e+r;s++)n[i+o]=t[s],o++},i.getProperty=function(t){return{"line.separator":"\n"}[t]}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(64);!function(t){t&&t.__esModule}(r);i.prototype.add=function(){},i.prototype.addAll=function(){},i.prototype.isEmpty=function(){},i.prototype.iterator=function(){},i.prototype.size=function(){},i.prototype.toArray=function(){},i.prototype.remove=function(){}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._coordinates=null;var t=arguments[0],e=arguments[1];s.default.call(this,e),this.init(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(16),s=i(o),a=n(65),u=i(a),l=n(9),f=i(l),c=n(0),d=i(c),h=n(40),p=i(h),g=n(47),_=i(g),m=n(48),v=i(m),y=n(78),b=i(y),x=n(192),E=i(x),w=n(11),M=i(w),L=n(7),P=i(L);(0,i(n(4)).default)(r,s.default),(0,d.default)(r.prototype,{computeEnvelopeInternal:function(){if(this.isEmpty())return new M.default;var t=new M.default;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},getSortIndex:function(){return s.default.SORTINDEX_POINT},getCoordinates:function(){return this.isEmpty()?[]:[this.getCoordinate()]},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),e))}return s.default.prototype.equalsExact.apply(this,arguments)},normalize:function(){},getCoordinate:function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},getBoundaryDimension:function(){return _.default.FALSE},getDimension:function(){return 0},getNumPoints:function(){return this.isEmpty()?0:1},reverse:function(){return this.copy()},getX:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=n;return i.compare(this._coordinates,e._coordinates)}},apply:function(){if((0,f.default)(arguments[0],u.default)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if((0,f.default)(arguments[0],b.default)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else if((0,f.default)(arguments[0],v.default)){var n=arguments[0];n.filter(this)}else if((0,f.default)(arguments[0],p.default)){var i=arguments[0];i.filter(this)}},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},clone:function(){var t=s.default.prototype.clone.call(this);return t._coordinates=this._coordinates.clone(),t},getGeometryType:function(){return"Point"},copy:function(){return new r(this._coordinates.copy(),this._factory)},getCoordinateSequence:function(){return this._coordinates},getY:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y},isEmpty:function(){return 0===this._coordinates.size()},init:function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),P.default.isTrue(t.size()<=1),this._coordinates=t},isSimple:function(){return!0},interfaces_:function(){return[E.default]},getClass:function(){return r}}),r.serialVersionUID=0x44077bad161cbc00},function(t,e,n){"use strict";function i(t){return"[object Array]"===L.call(t)}function r(t){return"[object ArrayBuffer]"===L.call(t)}function o(t){return"undefined"!=typeof FormData&&t instanceof FormData}function s(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function a(t){return"string"==typeof t}function u(t){return"number"==typeof t}function l(t){return void 0===t}function f(t){return null!==t&&"object"===(void 0===t?"undefined":E(t))}function c(t){return"[object Date]"===L.call(t)}function d(t){return"[object File]"===L.call(t)}function h(t){return"[object Blob]"===L.call(t)}function p(t){return"[object Function]"===L.call(t)}function g(t){return f(t)&&p(t.pipe)}function _(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function m(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function v(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function y(t,e){if(null!==t&&void 0!==t)if("object"!==(void 0===t?"undefined":E(t))&&(t=[t]),i(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}function b(){function t(t,n){"object"===E(e[n])&&"object"===(void 0===t?"undefined":E(t))?e[n]=b(e[n],t):e[n]=t}for(var e={},n=0,i=arguments.length;n<i;n++)y(arguments[n],t);return e}function x(t,e,n){return y(e,function(e,i){t[i]=n&&"function"==typeof e?w(e,n):e}),t}var E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w=n(167),M=n(296),L=Object.prototype.toString;t.exports={isArray:i,isArrayBuffer:r,isBuffer:M,isFormData:o,isArrayBufferView:s,isString:a,isNumber:u,isObject:f,isUndefined:l,isDate:c,isFile:d,isBlob:h,isFunction:p,isStream:g,isURLSearchParams:_,isStandardBrowserEnv:v,forEach:y,merge:b,extend:x,trim:m}},function(t,e,n){"use strict";function i(t,e,n){if(n=n||{},"object"!==(void 0===n?"undefined":s(n)))throw new Error("options is invalid");var i=n.ignoreBoundary;if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var u=(0,a.getCoord)(t),l=(0,a.getCoords)(e),f=e.geometry?e.geometry.type:e.type,c=e.bbox;if(c&&!1===o(u,c))return!1;"Polygon"===f&&(l=[l]);for(var d=0,h=!1;d<l.length&&!h;d++)if(r(u,l[d][0],i)){for(var p=!1,g=1;g<l[d].length&&!p;)r(u,l[d][g],!i)&&(p=!0),g++;p||(h=!0)}return h}function r(t,e,n){var i=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var r=0,o=e.length-1;r<e.length;o=r++){var s=e[r][0],a=e[r][1],u=e[o][0],l=e[o][1];if(t[1]*(s-u)+a*(u-t[0])+l*(t[0]-s)==0&&(s-t[0])*(u-t[0])<=0&&(a-t[1])*(l-t[1])<=0)return!n;a>t[1]!=l>t[1]&&t[0]<(u-s)*(t[1]-a)/(l-a)+s&&(i=!i)}return i}function o(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(5);e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new p.default(t),this.elt[1]=new p.default(t)}else if(arguments[0]instanceof r){var e=arguments[0];this.elt[0]=new p.default(e.elt[0]),this.elt[1]=new p.default(e.elt[1])}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.elt[0]=new p.default(u.default.NONE),this.elt[1]=new p.default(u.default.NONE),this.elt[n].setLocation(i)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new p.default(o,s,a),this.elt[1]=new p.default(o,s,a)}else if(4===arguments.length){var l=arguments[0],f=arguments[1],c=arguments[2],d=arguments[3];this.elt[0]=new p.default(u.default.NONE,u.default.NONE,u.default.NONE),this.elt[1]=new p.default(u.default.NONE,u.default.NONE,u.default.NONE),this.elt[l].setLocations(f,c,d)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(43),s=i(o),a=n(14),u=i(a),l=n(21),f=i(l),c=n(0),d=i(c),h=n(409),p=i(h);(0,d.default)(r.prototype,{getGeometryCount:function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},setAllLocations:function(t,e){this.elt[t].setAllLocations(e)},isNull:function(t){return this.elt[t].isNull()},setAllLocationsIfNull:function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},isLine:function(t){return this.elt[t].isLine()},merge:function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new p.default(t.elt[e]):this.elt[e].merge(t.elt[e])},flip:function(){this.elt[0].flip(),this.elt[1].flip()},getLocation:function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(f.default.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},toString:function(){var t=new s.default;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},isArea:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},isAnyNull:function(t){return this.elt[t].isAnyNull()},setLocation:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(f.default.ON,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.elt[n].setLocation(i,r)}},isEqualOnSide:function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},allPositionsEqual:function(t,e){return this.elt[t].allPositionsEqual(e)},toLine:function(t){this.elt[t].isArea()&&(this.elt[t]=new p.default(this.elt[t].location[0]))},interfaces_:function(){return[]},getClass:function(){return r}}),r.toLineLabel=function(t){for(var e=new r(u.default.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){this.parser=new s.default(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(188),s=i(o),a=n(0),u=i(a);(0,u.default)(r.prototype,{write:function(t){return this.parser.write(t)}}),(0,u.default)(r,{toLineString:function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){var t=arguments[0],e=arguments[1];p.default.call(this,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(16),s=i(o),a=n(131),u=i(a),l=n(0),f=i(l),c=n(132),d=i(c),h=n(17),p=i(h),g=n(47),_=i(g);(0,i(n(4)).default)(r,p.default),(0,f.default)(r.prototype,{getSortIndex:function(){return s.default.SORTINDEX_MULTILINESTRING},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&p.default.prototype.equalsExact.call(this,t,e)}return p.default.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return this.isClosed()?_.default.FALSE:0},isClosed:function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},getDimension:function(){return 1},reverse:function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},getBoundary:function(){return new u.default(this).getBoundary()},getGeometryType:function(){return"MultiLineString"},copy:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new r(t,this._factory)},interfaces_:function(){return[d.default]},getClass:function(){return r}}),r.serialVersionUID=0x7155d2ab4afa8000},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(arguments[0]instanceof p.default&&arguments[1]instanceof d.default){var t=arguments[0],e=arguments[1];r.call(this,e.getCoordinateSequenceFactory().create(t),e)}else if((0,f.default)(arguments[0],E.default)&&arguments[1]instanceof d.default){var n=arguments[0],i=arguments[1];s.default.call(this,n,i),this.validateConstruction()}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(13),s=i(o),a=n(16),u=i(a),l=n(9),f=i(l),c=n(19),d=i(c),h=n(3),p=i(h),g=n(10),_=i(g),m=n(0),v=i(m),y=n(133),b=i(y),x=n(46),E=i(x),w=n(47),M=i(w);(0,i(n(4)).default)(r,s.default),(0,v.default)(r.prototype,{getSortIndex:function(){return u.default.SORTINDEX_LINEARRING},getBoundaryDimension:function(){return M.default.FALSE},isClosed:function(){return!!this.isEmpty()||s.default.prototype.isClosed.call(this)},reverse:function(){var t=this._points.copy();return b.default.reverse(t),this.getFactory().createLinearRing(t)},validateConstruction:function(){if(!this.isEmpty()&&!s.default.prototype.isClosed.call(this))throw new _.default("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<r.MINIMUM_VALID_SIZE)throw new _.default("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},getGeometryType:function(){return"LinearRing"},copy:function(){return new r(this._points.copy(),this._factory)},interfaces_:function(){return[]},getClass:function(){return r}}),r.MINIMUM_VALID_SIZE=4,r.serialVersionUID=-0x3b229e262367a600},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){var t=arguments[0],e=arguments[1];f.default.call(this,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(16),s=i(o),a=n(0),u=i(a),l=n(17),f=i(l),c=n(49),d=i(c),h=n(2),p=i(h);(0,i(n(4)).default)(r,f.default),(0,u.default)(r.prototype,{getSortIndex:function(){return s.default.SORTINDEX_MULTIPOLYGON},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&f.default.prototype.equalsExact.call(this,t,e)}return f.default.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},reverse:function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new p.default,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e],i=n.getBoundary(),r=0;r<i.getNumGeometries();r++)t.add(i.getGeometryN(r));var o=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(o))},getGeometryType:function(){return"MultiPolygon"},copy:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new r(t,this._factory)},interfaces_:function(){return[d.default]},getClass:function(){return r}}),r.serialVersionUID=-0x7a5aa1369171980},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return o(function(){return t})()}function o(t){function e(t){return t=m(t[0]*g.radians,t[1]*g.radians),[t[0]*P+u,c-t[1]*P]}function n(t){return(t=m.invert((t[0]-u)/P,(c-t[1])/P))&&[t[0]*g.degrees,t[1]*g.degrees]}function i(t,e){return t=s(t,e),[t[0]*P+u,c-t[1]*P]}function r(){m=(0,d.default)(h=(0,_.rotateRadians)(N,T,R),s);var t=s(S,O);return u=C-t[0]*P,c=I+t[1]*P,o()}function o(){return M=L=null,e}var s,u,c,h,m,y,E,w,M,L,P=150,C=480,I=250,S=0,O=0,N=0,T=0,R=0,A=null,D=a.default,k=null,j=p.default,F=.5,z=(0,b.default)(i,F);return e.stream=function(t){return M&&L===t?M:M=x(D(h,z(j(L=t))))},e.clipAngle=function(t){return arguments.length?(D=+t?(0,l.default)(A=t*g.radians,6*g.radians):(A=null,a.default),o()):A*g.degrees},e.clipExtent=function(t){return arguments.length?(j=null==t?(k=y=E=w=null,p.default):(0,f.clipExtent)(k=+t[0][0],y=+t[0][1],E=+t[1][0],w=+t[1][1]),o()):null==k?null:[[k,y],[E,w]]},e.scale=function(t){return arguments.length?(P=+t,r()):P},e.translate=function(t){return arguments.length?(C=+t[0],I=+t[1],r()):[C,I]},e.center=function(t){return arguments.length?(S=t[0]%360*g.radians,O=t[1]%360*g.radians,r()):[S*g.degrees,O*g.degrees]},e.rotate=function(t){return arguments.length?(N=t[0]%360*g.radians,T=t[1]%360*g.radians,R=t.length>2?t[2]%360*g.radians:0,r()):[N*g.degrees,T*g.degrees,R*g.degrees]},e.precision=function(t){return arguments.length?(z=(0,b.default)(i,F=t*t),o()):(0,g.sqrt)(F)},e.fitExtent=function(t,n){return(0,v.fitExtent)(e,t,n)},e.fitSize=function(t,n){return(0,v.fitSize)(e,t,n)},function(){return s=t.apply(this,arguments),e.invert=s.invert&&n,r()}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,e.projectionMutator=o;var s=n(639),a=i(s),u=n(640),l=i(u),f=n(159),c=n(268),d=i(c),h=n(162),p=i(h),g=n(8),_=n(119),m=n(120),v=n(165),y=n(641),b=i(y),x=(0,m.transformer)({point:function(t,e){this.stream.point(t*g.radians,e*g.radians)}})},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(31),o=function(t){return t&&t.__esModule?t:{default:t}}(r);i.prototype=Object.create(o.default.prototype),i.prototype.constructor=i,i.prototype.get=function(){},i.prototype.set=function(){},i.prototype.isEmpty=function(){}},function(t,e,n){"use strict";function i(t){this.str=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype.append=function(t){this.str+=t},i.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},i.prototype.toString=function(t){return this.str}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return null==t?_:t.color}function o(t){return null==t?null:t.parent}function s(t,e){null!==t&&(t.color=e)}function a(t){return null==t?null:t.left}function u(t){return null==t?null:t.right}function l(){this.root_=null,this.size_=0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var f=n(2),c=i(f),d=n(371),h=i(d),p=n(56),g=i(p),_=0;l.prototype=new h.default,l.prototype.get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},l.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:_,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,r=this.root_;do{if(n=r,(i=t.compareTo(r.key))<0)r=r.left;else{if(!(i>0)){var o=r.value;return r.value=e,o}r=r.right}}while(null!==r);var s={key:t,left:null,right:null,value:e,parent:n,color:_,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},l.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!=this.root_&&1==t.parent.color;)if(o(t)==a(o(o(t)))){var e=u(o(o(t)));1==r(e)?(s(o(t),_),s(e,_),s(o(o(t)),1),t=o(o(t))):(t==u(o(t))&&(t=o(t),this.rotateLeft(t)),s(o(t),_),s(o(o(t)),1),this.rotateRight(o(o(t))))}else{var e=a(o(o(t)));1==r(e)?(s(o(t),_),s(e,_),s(o(o(t)),1),t=o(o(t))):(t==a(o(t))&&(t=o(t),this.rotateRight(t)),s(o(t),_),s(o(o(t)),1),this.rotateLeft(o(o(t))))}this.root_.color=_},l.prototype.values=function(){var t=new c.default,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=l.successor(e));)t.add(e.value);return t},l.prototype.entrySet=function(){var t=new g.default,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=l.successor(e));)t.add(e);return t},l.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.left==t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},l.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.right==t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},l.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},l.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var e=t.parent,n=t;null!==e&&n===e.right;)n=e,e=e.parent;return e},l.prototype.size=function(){return this.size_}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(77),o=i(r),s=n(2),a=i(s),u={reverseOrder:function(){return{compare:function(t,e){return e.compareTo(t)}}},min:function(t){return u.sort(t),t.get(0)},sort:function(t,e){var n=t.toArray();e?o.default.sort(n,e):o.default.sort(n);for(var i=t.iterator(),r=0,s=n.length;r<s;r++)i.next(),i.set(n[r])},singletonList:function(t){var e=new a.default;return e.add(t),e}};e.default=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(72),u=i(a);(0,s.default)(r.prototype,{setOrdinate:function(t,e,n){},size:function(){},getOrdinate:function(t,e){},getCoordinate:function(){if(1===arguments.length){arguments[0]}else if(2===arguments.length){arguments[0],arguments[1]}},getCoordinateCopy:function(t){},getDimension:function(){},getX:function(t){},clone:function(){},expandEnvelope:function(t){},copy:function(){},getY:function(t){},toCoordinateArray:function(){},interfaces_:function(){return[u.default]},getClass:function(){return r}}),r.X=0,r.Y=1,r.Z=2,r.M=3},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(10),s=i(o),a=n(0),u=i(a),l=n(187),f=i(l);(0,u.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.toDimensionSymbol=function(t){switch(t){case r.FALSE:return r.SYM_FALSE;case r.TRUE:return r.SYM_TRUE;case r.DONTCARE:return r.SYM_DONTCARE;case r.P:return r.SYM_P;case r.L:return r.SYM_L;case r.A:return r.SYM_A}throw new s.default("Unknown dimension value: "+t)},r.toDimensionValue=function(t){switch(f.default.toUpperCase(t)){case r.SYM_FALSE:return r.FALSE;case r.SYM_TRUE:return r.TRUE;case r.SYM_DONTCARE:return r.DONTCARE;case r.SYM_P:return r.P;case r.SYM_L:return r.L;case r.SYM_A:return r.A}throw new s.default("Unknown dimension symbol: "+t)},r.P=0,r.L=1,r.A=2,r.FALSE=-1,r.TRUE=-2,r.DONTCARE=-3,r.SYM_FALSE="F",r.SYM_TRUE="T",r.SYM_DONTCARE="*",r.SYM_P="0",r.SYM_L="1",r.SYM_A="2"},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){var t=arguments[0],e=arguments[1];f.default.call(this,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(16),s=i(o),a=n(0),u=i(a),l=n(17),f=i(l),c=n(47),d=i(c),h=n(192),p=i(h);(0,i(n(4)).default)(r,f.default),(0,u.default)(r.prototype,{getSortIndex:function(){return s.default.SORTINDEX_MULTIPOINT},isValid:function(){return!0},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&f.default.prototype.equalsExact.call(this,t,e)}return f.default.prototype.equalsExact.apply(this,arguments)},getCoordinate:function(){if(1===arguments.length){var t=arguments[0];return this._geometries[t].getCoordinate()}return f.default.prototype.getCoordinate.apply(this,arguments)},getBoundaryDimension:function(){return d.default.FALSE},getDimension:function(){return 0},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},getGeometryType:function(){return"MultiPoint"},copy:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new r(t,this._factory)},interfaces_:function(){return[p.default]},getClass:function(){return r}}),r.serialVersionUID=-0x6fb1ed4162e0fc00},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._ptLocator=new s.default,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new T.default,this._resultPolyList=new A.default,this._resultLineList=new A.default,this._resultPointList=new A.default;var t=arguments[0],e=arguments[1];O.default.call(this,t,e),this._graph=new G.default(new I.default),this._geomFact=t.getFactory()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(81),s=i(o),a=n(14),u=i(a),l=n(392),f=i(l),c=n(407),d=i(c),h=n(202),p=i(h),g=n(21),_=i(g),m=n(410),v=i(m),y=n(411),b=i(y),x=n(100),E=i(x),w=n(0),M=i(w),L=n(35),P=i(L),C=n(143),I=i(C),S=n(144),O=i(S),N=n(213),T=i(N),R=n(2),A=i(R),D=n(7),k=i(D),j=n(4),F=i(j),z=n(83),G=i(z);(0,F.default)(r,O.default),(0,M.default)(r.prototype,{insertUniqueEdge:function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new P.default(t.getLabel()),i.flip());var r=e.getDepth();r.isNull()&&r.add(n),r.add(i),n.merge(i)}else this._edgeList.add(t)},getGraph:function(){return this._graph},cancelDuplicateResultEdges:function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},isCoveredByLA:function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},computeGeometry:function(t,e,n,i){var o=new A.default;return o.addAll(t),o.addAll(e),o.addAll(n),o.isEmpty()?r.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},mergeSymLabels:function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){t.next().getEdges().mergeSymLabels()}},isCovered:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(this._ptLocator.locate(t,i)!==u.default.EXTERIOR)return!0}return!1},replaceCollapsedEdges:function(){for(var t=new A.default,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},updateNodeLabelling:function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},getResultGeometry:function(t){return this.computeOverlay(t),this._resultGeom},insertUniqueEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},computeOverlay:function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new A.default;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e);this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),f.default.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new p.default(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var i=new v.default(this,this._geomFact,this._ptLocator);this._resultLineList=i.build(t);var r=new b.default(this,this._geomFact,this._ptLocator);this._resultPointList=r.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},labelIncompleteNode:function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},copyPoints:function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},findResultAreaEdges:function(t){for(var e=this._graph.getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getLabel();i.isArea()&&!n.isInteriorAreaEdge()&&r.isResultOfOp(i.getLocation(0,_.default.RIGHT),i.getLocation(1,_.default.RIGHT),t)&&n.setInResult(!0)}},computeLabelsFromDepths:function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),i=e.getDepth();if(!i.isNull()){i.normalize();for(var r=0;r<2;r++)n.isNull(r)||!n.isArea()||i.isNull(r)||(0===i.getDelta(r)?n.toLine(r):(k.default.isTrue(!i.isNull(r,_.default.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(r,_.default.LEFT,i.getLocation(r,_.default.LEFT)),k.default.isTrue(!i.isNull(r,_.default.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(r,_.default.RIGHT,i.getLocation(r,_.default.RIGHT))))}}},computeLabelling:function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){t.next().getEdges().computeLabelling(this._arg)}this.mergeSymLabels(),this.updateNodeLabelling()},labelIncompleteNodes:function(){for(var t=0,e=this._graph.getNodes().iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(t++,i.isNull(0)?this.labelIncompleteNode(n,0):this.labelIncompleteNode(n,1)),n.getEdges().updateLabelling(i)}},isCoveredByA:function(t){return!!this.isCovered(t,this._resultPolyList)},interfaces_:function(){return[]},getClass:function(){return r}}),r.overlayOp=function(t,e,n){return new r(t,e).getResultGeometry(n)},r.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return r.createEmptyResult(r.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return d.default.map(t,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),E.default.overlayOp(t,e,r.INTERSECTION)},r.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return r.createEmptyResult(r.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),E.default.overlayOp(t,e,r.SYMDIFFERENCE)},r.resultDimension=function(t,e,n){var i=e.getDimension(),o=n.getDimension(),s=-1;switch(t){case r.INTERSECTION:s=Math.min(i,o);break;case r.UNION:s=Math.max(i,o);break;case r.DIFFERENCE:s=i;break;case r.SYMDIFFERENCE:s=Math.max(i,o)}return s},r.createEmptyResult=function(t,e,n,i){var o=null;switch(r.resultDimension(t,e,n)){case-1:o=i.createGeometryCollection(new Array(0).fill(null));break;case 0:o=i.createPoint();break;case 1:o=i.createLineString();break;case 2:o=i.createPolygon()}return o},r.difference=function(t,e){return t.isEmpty()?r.createEmptyResult(r.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),E.default.overlayOp(t,e,r.DIFFERENCE))},r.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),i=t.getLocation(1);return r.isResultOfOp(n,i,e)}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];switch(o===u.default.BOUNDARY&&(o=u.default.INTERIOR),s===u.default.BOUNDARY&&(s=u.default.INTERIOR),a){case r.INTERSECTION:return o===u.default.INTERIOR&&s===u.default.INTERIOR;case r.UNION:return o===u.default.INTERIOR||s===u.default.INTERIOR;case r.DIFFERENCE:return o===u.default.INTERIOR&&s!==u.default.INTERIOR;case r.SYMDIFFERENCE:return o===u.default.INTERIOR&&s!==u.default.INTERIOR||o!==u.default.INTERIOR&&s===u.default.INTERIOR}return!1}},r.INTERSECTION=1,r.UNION=2,r.DIFFERENCE=3,r.SYMDIFFERENCE=4},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this.pt=null,1===arguments.length){var t=arguments[0];f.default.call(this,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];f.default.call(this,r.msgWithCoord(e,n)),this.name="TopologyException",this.pt=new s.default(n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(3),s=i(o),a=n(0),u=i(a),l=n(55),f=i(l);(0,i(n(4)).default)(r,f.default),(0,u.default)(r.prototype,{getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return r}}),r.msgWithCoord=function(t,e){return null!==e?t+" [ "+e+" ]":t}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t,e,n,i){if(i=i||{},!(0,o.isObject)(i))throw new Error("options is invalid");var s=i.units,a=(0,r.getCoord)(t),u=(0,o.degreesToRadians)(a[0]),l=(0,o.degreesToRadians)(a[1]),f=(0,o.degreesToRadians)(n),c=(0,o.lengthToRadians)(e,s),d=Math.asin(Math.sin(l)*Math.cos(c)+Math.cos(l)*Math.sin(c)*Math.cos(f)),h=u+Math.atan2(Math.sin(f)*Math.sin(c)*Math.cos(l),Math.cos(c)-Math.sin(l)*Math.sin(d));return(0,o.point)([(0,o.radiansToDegrees)(h),(0,o.radiansToDegrees)(d)])}Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),o=n(1);e.default=i},function(t,e,n){"use strict";function i(t){this.name="RuntimeException",this.message=t,this.stack=(new Error).stack,Error.call(this,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype=Object.create(Error.prototype),i.prototype.constructor=Error},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.array_=[],arguments[0]instanceof s.default&&this.addAll(arguments[0])}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(31),s=i(o),a=n(64),u=(i(a),n(98)),l=i(u),f=n(128),c=i(f),d=n(191),h=i(d);r.prototype=new h.default,r.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++){if(this.array_[e]===t)return!0}return!1},r.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},r.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},r.prototype.remove=function(t){throw new javascript.util.OperationNotSupported},r.prototype.size=function(){return this.array_.length},r.prototype.isEmpty=function(){return 0===this.array_.length},r.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},r.prototype.iterator=function(){return new p(this)};var p=function(t){this.hashSet_=t,this.position_=0};p.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new l.default;return this.hashSet_.array_[this.position_++]},p.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},p.prototype.remove=function(){throw new c.default}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.array_=[],arguments[0]instanceof s.default&&this.addAll(arguments[0])}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(31),s=i(o),a=n(64),u=(i(a),n(98)),l=i(u),f=n(128),c=i(f),d=n(372),h=i(d);r.prototype=new h.default,r.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++){if(0===this.array_[e].compareTo(t))return!0}return!1},r.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++){if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0}return this.array_.push(t),!0},r.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},r.prototype.remove=function(t){throw new c.default},r.prototype.size=function(){return this.array_.length},r.prototype.isEmpty=function(){return 0===this.array_.length},r.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},r.prototype.iterator=function(){return new p(this)};var p=function(t){this.treeSet_=t,this.position_=0};p.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new l.default;return this.treeSet_.array_[this.position_++]},p.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},p.prototype.remove=function(){throw new c.default}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(3),s=i(o),a=n(10),u=i(a);(0,i(n(0)).default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.isNorthern=function(t){return t===r.NE||t===r.NW},r.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},r.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e,i=t>e?t:e;return 0===n&&3===i?3:n},r.isInHalfPlane=function(t,e){return e===r.SE?t===r.SE||t===r.SW:t===e||t===e+1},r.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new u.default("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?r.NE:r.SE:e>=0?r.NW:r.SW}if(arguments[0]instanceof s.default&&arguments[1]instanceof s.default){var n=arguments[0],i=arguments[1];if(i.x===n.x&&i.y===n.y)throw new u.default("Cannot compute the quadrant for two identical points "+n);return i.x>=n.x?i.y>=n.y?r.NE:r.SE:i.y>=n.y?r.NW:r.SW}},r.NE=0,r.NW=1,r.SW=2,r.SE=3},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n={},i=[];if("LineString"===t.type&&(t=(0,d.feature)(t)),"LineString"===e.type&&(e=(0,d.feature)(e)),"Feature"===t.type&&"Feature"===e.type&&"LineString"===t.geometry.type&&"LineString"===e.geometry.type&&2===t.geometry.coordinates.length&&2===e.geometry.coordinates.length){var r=o(t,e);return r&&i.push(r),(0,d.featureCollection)(i)}var s=(0,a.default)();return s.load((0,l.default)(e)),(0,c.featureEach)((0,l.default)(t),function(t){(0,c.featureEach)(s.search(t),function(e){var r=o(t,e);if(r){var s=(0,f.getCoords)(r).join(",");n[s]||(n[s]=!0,i.push(r))}})}),(0,d.featureCollection)(i)}function o(t,e){var n=(0,f.getCoords)(t),i=(0,f.getCoords)(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==i.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var r=n[0][0],o=n[0][1],s=n[1][0],a=n[1][1],u=i[0][0],l=i[0][1],c=i[1][0],h=i[1][1],p=(h-l)*(s-r)-(c-u)*(a-o),g=(c-u)*(o-l)-(h-l)*(r-u),_=(s-r)*(o-l)-(a-o)*(r-u);if(0===p)return null;var m=g/p,v=_/p;if(m>=0&&m<=1&&v>=0&&v<=1){var y=r+m*(s-r),b=o+m*(a-o);return(0,d.point)([y,b])}return null}Object.defineProperty(e,"__esModule",{value:!0});var s=n(114),a=i(s),u=n(89),l=i(u),f=n(5),c=n(6),d=n(1);e.default=r},function(t,e,n){"use strict";function i(t,e){t&&a.hasOwnProperty(t.type)&&a[t.type](t,e)}function r(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function o(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)r(t[n],e,1);e.polygonEnd()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){t&&s.hasOwnProperty(t.type)?s[t.type](t,e):i(t,e)};var s={Feature:function(t,e){i(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)i(n[r].geometry,e)}},a={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){r(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)r(n[i],e,0)},Polygon:function(t,e){o(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)o(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)i(n[r],e)}}},function(t,e,n){"use strict";function i(t,e){var n="object"===(void 0===e?"undefined":a(e))?e.mutate:e;if(!t)throw new Error("geojson is required");var i=(0,l.getType)(t),o=[];switch(i){case"LineString":o=r(t);break;case"MultiLineString":case"Polygon":(0,l.getCoords)(t).forEach(function(t){o.push(r(t))});break;case"MultiPolygon":(0,l.getCoords)(t).forEach(function(t){var e=[];t.forEach(function(t){e.push(r(t))}),o.push(e)});break;case"Point":return t;case"MultiPoint":var s={};(0,l.getCoords)(t).forEach(function(t){var e=t.join("-");s.hasOwnProperty(e)||(o.push(t),s[e]=!0)});break;default:throw new Error(i+" geometry not supported")}return t.coordinates?!0===n?(t.coordinates=o,t):{type:i,coordinates:o}:!0===n?(t.geometry.coordinates=o,t):(0,u.feature)({type:i,coordinates:o},t.properties,t.bbox,t.id)}function r(t){var e=(0,l.getCoords)(t);if(2===e.length&&!o(e[0],e[1]))return e;var n,i,r,a=[],u=e.length-1;a.push(e[0]);for(var f=1;f<u;f++)n=e[f-1],i=e[f],r=e[f+1],s(n,r,i)||a.push(i);return a.push(r),a}function o(t,e){return t[0]===e[0]&&t[1]===e[1]}function s(t,e,n){var i=n[0],r=n[1],o=t[0],s=t[1],a=e[0],u=e[1],l=i-o,f=r-s,c=a-o,d=u-s;return 0==l*d-f*c&&(Math.abs(c)>=Math.abs(d)?c>0?o<=i&&i<=a:a<=i&&i<=o:d>0?s<=r&&r<=u:u<=r&&r<=s)}Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=n(1),l=n(5);e.default=i},function(t,e,n){"use strict";function i(t,e,n){if(n=n||{},!(0,s.isObject)(n))throw new Error("options is invalid");if(!0===n.final)return r(t,e);var i=(0,o.getCoord)(t),a=(0,o.getCoord)(e),u=(0,s.degreesToRadians)(i[0]),l=(0,s.degreesToRadians)(a[0]),f=(0,s.degreesToRadians)(i[1]),c=(0,s.degreesToRadians)(a[1]),d=Math.sin(l-u)*Math.cos(c),h=Math.cos(f)*Math.sin(c)-Math.sin(f)*Math.cos(c)*Math.cos(l-u);return(0,s.radiansToDegrees)(Math.atan2(d,h))}function r(t,e){var n=i(e,t);return n=(n+180)%360}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),s=n(1);e.default=i},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype.hasNext=function(){},i.prototype.next=function(){},i.prototype.remove=function(){}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=r.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof o){var t=arguments[0];this._modelType=t,t===r.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var e=arguments[0];this._modelType=r.FIXED,this.setScale(e)}else if(arguments[0]instanceof r){var n=arguments[0];this._modelType=n._modelType,this._scale=n._scale}}function o(){this._name=null;var t=arguments[0];this._name=t,o.nameToTypeMap.put(t,this)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(99),a=i(s),u=n(3),l=i(u),f=n(15),c=i(f),d=n(0),h=i(d),p=n(74),g=i(p),_=n(26),m=i(_),v=n(28),y=i(v);(0,h.default)(r.prototype,{equals:function(t){if(!(t instanceof r))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},compareTo:function(t){var e=t,n=this.getMaximumSignificantDigits(),i=e.getMaximumSignificantDigits();return new g.default(n).compareTo(new g.default(i))},getScale:function(){return this._scale},isFloating:function(){return this._modelType===r.FLOATING||this._modelType===r.FLOATING_SINGLE},getType:function(){return this._modelType},toString:function(){var t="UNKNOWN";return this._modelType===r.FLOATING?t="Floating":this._modelType===r.FLOATING_SINGLE?t="Floating-Single":this._modelType===r.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},makePrecise:function(){if("number"==typeof arguments[0]){var t=arguments[0];if(c.default.isNaN(t))return t;if(this._modelType===r.FLOATING_SINGLE){return t}return this._modelType===r.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof l.default){var e=arguments[0];if(this._modelType===r.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},getMaximumSignificantDigits:function(){var t=16;return this._modelType===r.FLOATING?t=16:this._modelType===r.FLOATING_SINGLE?t=6:this._modelType===r.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},setScale:function(t){this._scale=Math.abs(t)},interfaces_:function(){return[y.default,m.default]},getClass:function(){return r}}),r.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},(0,h.default)(o.prototype,{readResolve:function(){return o.nameToTypeMap.get(this._name)},toString:function(){return this._name},interfaces_:function(){return[y.default]},getClass:function(){return o}}),o.serialVersionUID=-552860263173159e4,o.nameToTypeMap=new a.default,r.Type=o,r.serialVersionUID=0x6bee6404e9a25c00,r.FIXED=new o("FIXED"),r.FLOATING=new o("FLOATING"),r.FLOATING_SINGLE=new o("FLOATING SINGLE"),r.maximumPreciseValue=9007199254740992},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{visitItem:function(t){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(){this.reset()}function r(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return new i},i.prototype={constructor:i,reset:function(){this.s=this.t=0},add:function(t){r(o,t,this.t),r(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}},function(t,e,n){"use strict";function i(t,e){if(!(this instanceof i))return new i(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function r(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function o(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,i,r){r||(r=_(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],a(r,t.leaf?i(o):o);return r}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function c(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function h(t,e){var n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function g(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function _(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(t,e,n,i,r){for(var o,s=[e,n];s.length;)n=s.pop(),e=s.pop(),n-e<=i||(o=e+Math.ceil((n-e)/i/2)*i,v(t,o,e,n,r),s.push(e,o,o,n))}t.exports=i;var v=n(322);i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!g(t,e))return n;for(var r,o,s,a,u=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],a=e.leaf?i(s):s,g(t,a)&&(e.leaf?n.push(s):p(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!g(t,e))return!1;for(var i,r,o,s,a=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],s=e.leaf?n(o):o,g(t,s)){if(e.leaf||p(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=_([]),this},remove:function(t,e){if(!t)return this;for(var n,i,o,s,a=this.data,u=this.toBBox(t),l=[],f=[];a||l.length;){if(a||(a=l.pop(),i=l[l.length-1],n=f.pop(),s=!0),a.leaf&&-1!==(o=r(t,a.children,e)))return a.children.splice(o,1),l.push(a),this._condense(l),this;s||a.leaf||!p(a,u)?i?(n++,a=i.children[n],s=!1):a=null:(l.push(a),f.push(n),n=0,i=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:u,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,s=n-e+1,a=this._maxEntries;if(s<=a)return r=_(t.slice(e,n+1)),o(r,this.toBBox),r;i||(i=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,i-1))),r=_([]),r.leaf=!1,r.height=i;var u,l,f,c,d=Math.ceil(s/a),h=d*Math.ceil(Math.sqrt(a));for(m(t,e,n,h,this.compareMinX),u=e;u<=n;u+=h)for(f=Math.min(u+h-1,n),m(t,u,f,d,this.compareMinY),l=u;l<=f;l+=d)c=Math.min(l+d-1,f),r.children.push(this._build(t,l,c,i-1));return o(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,s,a,u,l,c,h;;){if(i.push(e),e.leaf||i.length-1===n)break;for(c=h=1/0,r=0,o=e.children.length;r<o;r++)s=e.children[r],u=f(s),l=d(t,s)-u,l<h?(h=l,c=u<c?u:c,a=s):l===h&&u<c&&(c=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t:i(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),a(s,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var s=this._chooseSplitIndex(n,r,i),a=_(n.children.splice(s,n.children.length-s));a.height=n.height,a.leaf=n.leaf,o(n,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=_([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,a,u,l,c,d;for(l=c=1/0,i=e;i<=n-e;i++)r=s(t,0,i,this.toBBox),o=s(t,i,n,this.toBBox),a=h(r,o),u=f(r)+f(o),a<l?(l=a,d=i,c=u<c?u:c):a===l&&u<c&&(c=u,d=i);return d},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:u,r=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,u=this.toBBox,l=s(t,0,e,u),f=s(t,n-e,n,u),d=c(l)+c(f);for(r=e;r<n-e;r++)o=t.children[r],a(l,t.leaf?u(o):o),d+=c(l);for(r=n-e-1;r>=e;r--)o=t.children[r],a(f,t.leaf?u(o):o),d+=c(f);return d},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)a(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children,e.splice(e.indexOf(t[n]),1)):this.clear():o(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},function(t,e,n){"use strict";function i(t,e){var n=0,i=0,s=0;return(0,r.coordEach)(t,function(t){n+=t[0],i+=t[1],s++},!0),(0,o.point)([n/s,i/s],e)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),o=n(1);e.default=i},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){u.default.call(this,"Projective point not representable on the Cartesian plane.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(129),u=i(a);(0,i(n(4)).default)(r,u.default),(0,s.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){this.value=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype.intValue=function(){return this.value},i.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},i.isNaN=function(t){return Number.isNaN(t)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];this.x=e,this.y=n,this.w=1}else if(arguments[0]instanceof r&&arguments[1]instanceof r){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof u.default&&arguments[1]instanceof u.default){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var l=arguments[0],f=arguments[1],c=arguments[2];this.x=l,this.y=f,this.w=c}else if(4===arguments.length){var d=arguments[0],h=arguments[1],p=arguments[2],g=arguments[3],_=d.y-h.y,m=h.x-d.x,v=d.x*h.y-h.x*d.y,y=p.y-g.y,b=g.x-p.x,x=p.x*g.y-g.x*p.y;this.x=m*x-b*v,this.y=y*v-_*x,this.w=_*b-y*m}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(73),s=i(o),a=n(3),u=i(a),l=n(15),f=i(l);(0,i(n(0)).default)(r.prototype,{getY:function(){var t=this.y/this.w;if(f.default.isNaN(t)||f.default.isInfinite(t))throw new s.default;return t},getX:function(){var t=this.x/this.w;if(f.default.isNaN(t)||f.default.isInfinite(t))throw new s.default;return t},getCoordinate:function(){var t=new u.default;return t.x=this.getX(),t.y=this.getY(),t},interfaces_:function(){return[]},getClass:function(){return r}}),r.intersection=function(t,e,n,i){var r=t.y-e.y,o=e.x-t.x,a=t.x*e.y-e.x*t.y,l=n.y-i.y,c=i.x-n.x,d=n.x*i.y-i.x*n.y,h=o*d-c*a,p=l*a-r*d,g=r*c-l*o,_=h/g,m=p/g;if(f.default.isNaN(_)||f.default.isInfinite(_)||f.default.isNaN(m)||f.default.isInfinite(m))throw new s.default;return new u.default(_,m)}},function(t,e,n){"use strict";function i(){}function r(){}function o(){}function s(){}function a(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var u=n(0),l=function(t){return t&&t.__esModule?t:{default:t}}(u);(0,l.default)(i.prototype,{isInBoundary:function(t){},interfaces_:function(){return[]},getClass:function(){return i}}),(0,l.default)(r.prototype,{isInBoundary:function(t){return t%2==1},interfaces_:function(){return[i]},getClass:function(){return r}}),(0,l.default)(o.prototype,{isInBoundary:function(t){return t>0},interfaces_:function(){return[i]},getClass:function(){return o}}),(0,l.default)(s.prototype,{isInBoundary:function(t){return t>1},interfaces_:function(){return[i]},getClass:function(){return s}}),(0,l.default)(a.prototype,{isInBoundary:function(t){return 1===t},interfaces_:function(){return[i]},getClass:function(){return a}}),i.Mod2BoundaryNodeRule=r,i.EndPointBoundaryNodeRule=o,i.MultiValentEndPointBoundaryNodeRule=s,i.MonoValentEndPointBoundaryNodeRule=a,i.MOD2_BOUNDARY_RULE=new r,i.ENDPOINT_BOUNDARY_RULE=new o,i.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new s,i.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new a,i.OGC_SFS_BOUNDARY_RULE=i.MOD2_BOUNDARY_RULE},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(2),o=function(t){return t&&t.__esModule?t:{default:t}}(r);i.sort=function(){var t,e,n,i,r=arguments[0];if(1===arguments.length)return i=function(t,e){return t.compareTo(e)},void r.sort(i);if(2===arguments.length)n=arguments[1],i=function(t,e){return n.compare(t,e)},r.sort(i);else{if(3===arguments.length){e=r.slice(arguments[1],arguments[2]),e.sort();var o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length));for(r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t]);return}if(4===arguments.length){for(e=r.slice(arguments[1],arguments[2]),n=arguments[3],i=function(t,e){return n.compare(t,e)},e.sort(i),o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length)),r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t]);return}}},i.asList=function(t){for(var e=new o.default,n=0,i=t.length;n<i;n++)e.add(t[n]);return e}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{filter:function(t,e){},isDone:function(){},isGeometryChanged:function(){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];r.call(this,t,3)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this._coordinates=new Array(e).fill(null);for(var n=0;n<e;n++)this._coordinates[n]=new f.default}else if((0,u.default)(arguments[0],v.default)){var i=arguments[0];if(null===i)return this._coordinates=new Array(0).fill(null),null;this._dimension=i.getDimension(),this._coordinates=new Array(i.size()).fill(null);for(var n=0;n<this._coordinates.length;n++)this._coordinates[n]=i.getCoordinateCopy(n)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var o=arguments[0],s=arguments[1];this._coordinates=o,this._dimension=s,null===o&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],l=arguments[1];this._coordinates=new Array(a).fill(null),this._dimension=l;for(var n=0;n<a;n++)this._coordinates[n]=new f.default}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(43),s=i(o),a=n(9),u=i(a),l=n(3),f=i(l),c=n(10),d=i(c),h=n(15),p=i(h),g=n(0),_=i(g),m=n(46),v=i(m),y=n(28),b=i(y);(0,_.default)(r.prototype,{setOrdinate:function(t,e,n){switch(e){case v.default.X:this._coordinates[t].x=n;break;case v.default.Y:this._coordinates[t].y=n;break;case v.default.Z:this._coordinates[t].z=n;break;default:throw new d.default("invalid ordinateIndex")}},size:function(){return this._coordinates.length},getOrdinate:function(t,e){switch(e){case v.default.X:return this._coordinates[t].x;case v.default.Y:return this._coordinates[t].y;case v.default.Z:return this._coordinates[t].z}return p.default.NaN},getCoordinate:function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},getCoordinateCopy:function(t){return new f.default(this._coordinates[t])},getDimension:function(){return this._dimension},getX:function(t){return this._coordinates[t].x},clone:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new r(t,this._dimension)},expandEnvelope:function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},copy:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new r(t,this._dimension)},toString:function(){if(this._coordinates.length>0){var t=new s.default(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},getY:function(t){return this._coordinates[t].y},toCoordinateArray:function(){return this._coordinates},interfaces_:function(){return[v.default,b.default]},getClass:function(){return r}}),r.serialVersionUID=-0xcb44a778db18e00},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.array_=[]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(384),s=i(o),a=n(42),u=i(a);r.prototype=new u.default,r.prototype.add=function(t){return this.array_.push(t),!0},r.prototype.get=function(t){if(t<0||t>=this.size())throw new IndexOutOfBoundsException;return this.array_[t]},r.prototype.push=function(t){return this.array_.push(t),t},r.prototype.pop=function(t){if(0===this.array_.length)throw new s.default;return this.array_.pop()},r.prototype.peek=function(){if(0===this.array_.length)throw new s.default;return this.array_[this.array_.length-1]},r.prototype.empty=function(){return 0===this.array_.length},r.prototype.isEmpty=function(){return this.empty()},r.prototype.search=function(t){return this.array_.indexOf(t)},r.prototype.size=function(){return this.array_.length},r.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._boundaryRule=b.default.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new p.default("Rule must be non-null");this._boundaryRule=t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(14),s=i(o),a=n(13),u=i(a),l=n(12),f=i(l),c=n(3),d=i(c),h=n(10),p=i(h),g=n(32),_=i(g),m=n(20),v=i(m),y=n(76),b=i(y),x=n(0),E=i(x),w=n(39),M=i(w),L=n(196),P=i(L),C=n(17),I=i(C),S=n(37),O=i(S);(0,E.default)(r.prototype,{locateInternal:function(){if(arguments[0]instanceof d.default&&arguments[1]instanceof v.default){var t=arguments[0],e=arguments[1];if(e.isEmpty())return s.default.EXTERIOR;var n=e.getExteriorRing(),i=this.locateInPolygonRing(t,n);if(i===s.default.EXTERIOR)return s.default.EXTERIOR;if(i===s.default.BOUNDARY)return s.default.BOUNDARY;for(var r=0;r<e.getNumInteriorRing();r++){var o=e.getInteriorRingN(r),a=this.locateInPolygonRing(t,o);if(a===s.default.INTERIOR)return s.default.EXTERIOR;if(a===s.default.BOUNDARY)return s.default.BOUNDARY}return s.default.INTERIOR}if(arguments[0]instanceof d.default&&arguments[1]instanceof u.default){var l=arguments[0],c=arguments[1];if(!c.getEnvelopeInternal().intersects(l))return s.default.EXTERIOR;var h=c.getCoordinates();return c.isClosed()||!l.equals(h[0])&&!l.equals(h[h.length-1])?f.default.isOnLine(l,h)?s.default.INTERIOR:s.default.EXTERIOR:s.default.BOUNDARY}if(arguments[0]instanceof d.default&&arguments[1]instanceof _.default){var p=arguments[0];return arguments[1].getCoordinate().equals2D(p)?s.default.INTERIOR:s.default.EXTERIOR}},locateInPolygonRing:function(t,e){return e.getEnvelopeInternal().intersects(t)?f.default.locatePointInRing(t,e.getCoordinates()):s.default.EXTERIOR},intersects:function(t,e){return this.locate(t,e)!==s.default.EXTERIOR},updateLocationInfo:function(t){t===s.default.INTERIOR&&(this._isIn=!0),t===s.default.BOUNDARY&&this._numBoundaries++},computeLocation:function(t,e){if(e instanceof _.default&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof u.default)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof v.default)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof O.default)for(var n=e,i=0;i<n.getNumGeometries();i++){var r=n.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,r))}else if(e instanceof M.default)for(var o=e,i=0;i<o.getNumGeometries();i++){var s=o.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,s))}else if(e instanceof I.default)for(var a=new P.default(e);a.hasNext();){var l=a.next();l!==e&&this.computeLocation(t,l)}},locate:function(t,e){return e.isEmpty()?s.default.EXTERIOR:e instanceof u.default?this.locateInternal(t,e):e instanceof v.default?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?s.default.BOUNDARY:this._numBoundaries>0||this._isIn?s.default.INTERIOR:s.default.EXTERIOR)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._nodeList=new s.default(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(399),s=i(o),a=n(36),u=i(a),l=n(79),f=i(l),c=n(3),d=i(c),h=n(197),p=i(h),g=n(0),_=i(g),m=n(2),v=i(m),y=n(402),b=i(y);(0,_.default)(r.prototype,{getCoordinates:function(){return this._pts},size:function(){return this._pts.length},getCoordinate:function(t){return this._pts[t]},isClosed:function(){return this._pts[0].equals(this._pts[this._pts.length-1])},getSegmentOctant:function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this._data=t},safeOctant:function(t,e){return t.equals2D(e)?0:p.default.octant(t,e)},getData:function(){return this._data},addIntersection:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=(arguments[2],arguments[3]),o=new d.default(n.getIntersection(r));this.addIntersection(o,i)}},toString:function(){return u.default.toLineString(new f.default(this._pts))},getNodeList:function(){return this._nodeList},addIntersectionNode:function(t,e){var n=e,i=n+1;if(i<this._pts.length){var r=this._pts[i];t.equals2D(r)&&(n=i)}return this._nodeList.add(t,n)},addIntersections:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},interfaces_:function(){return[b.default]},getClass:function(){return r}}),r.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new v.default;return r.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],i=arguments[1],o=n.iterator();o.hasNext();){var s=o.next();s.getNodeList().addSplitEdges(i)}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._edges=new E.default,this._nodes=null,this._edgeEndList=new E.default,0===arguments.length)this._nodes=new _.default(new P.default);else if(1===arguments.length){var t=arguments[0];this._nodes=new _.default(t)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(14),s=i(o),a=n(12),u=i(a),l=n(3),f=i(l),c=n(84),d=i(c),h=n(0),p=i(h),g=n(140),_=i(g),m=n(206),v=i(m),y=n(30),b=i(y),x=n(2),E=i(x),w=n(58),M=i(w),L=n(142),P=i(L);(0,p.default)(r.prototype,{printEdges:function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},find:function(t){return this._nodes.find(t)},addNode:function(){if(arguments[0]instanceof d.default){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof f.default){var e=arguments[0];return this._nodes.addNode(e)}},getNodeIterator:function(){return this._nodes.iterator()},linkResultDirectedEdges:function(){for(var t=this._nodes.iterator();t.hasNext();){t.next().getEdges().linkResultDirectedEdges()}},debugPrintln:function(t){b.default.out.println(t)},isBoundaryNode:function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(t)===s.default.BOUNDARY},linkAllDirectedEdges:function(){for(var t=this._nodes.iterator();t.hasNext();){t.next().getEdges().linkAllDirectedEdges()}},matchInSameDirection:function(t,e,n,i){return!!t.equals(n)&&(u.default.computeOrientation(t,e,i)===u.default.COLLINEAR&&M.default.quadrant(t,e)===M.default.quadrant(n,i))},getEdgeEnds:function(){return this._edgeEndList},debugPrint:function(t){b.default.out.print(t)},getEdgeIterator:function(){return this._edges.iterator()},findEdgeInSameDirection:function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return i;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return i}return null},insertEdge:function(t){this._edges.add(t)},findEdgeEnd:function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},addEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var i=new v.default(n,!0),r=new v.default(n,!1);i.setSym(r),r.setSym(i),this.add(i),this.add(r)}},add:function(t){this._nodes.add(t),this._edgeEndList.add(t)},getNodes:function(){return this._nodes.values()},findEdge:function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return i}return null},interfaces_:function(){return[]},getClass:function(){return r}}),r.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();){e.next().getEdges().linkResultDirectedEdges()}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){p.default.apply(this),this._coord=null,this._edges=null;var t=arguments[0],e=arguments[1];this._coord=t,this._edges=e,this._label=new f.default(0,s.default.NONE)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(14),s=i(o),a=n(0),u=i(a),l=n(35),f=i(l),c=n(4),d=i(c),h=n(205),p=i(h);(0,d.default)(r,p.default),(0,u.default)(r.prototype,{isIncidentEdgeInResult:function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();){if(t.next().getEdge().isInResult())return!0}return!1},isIsolated:function(){return 1===this._label.getGeometryCount()},getCoordinate:function(){return this._coord},print:function(t){t.println("node "+this._coord+" lbl: "+this._label)},computeIM:function(t){},computeMergedLocation:function(t,e){var n=s.default.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var i=t.getLocation(e);n!==s.default.BOUNDARY&&(n=i)}return n},setLabel:function(){if(2!==arguments.length)return p.default.prototype.setLabel.apply(this,arguments);var t=arguments[0],e=arguments[1];null===this._label?this._label=new f.default(t,e):this._label.setLocation(t,e)},getEdges:function(){return this._edges},mergeLabel:function(){if(arguments[0]instanceof r){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof f.default)for(var e=arguments[0],n=0;n<2;n++){var i=this.computeMergedLocation(e,n),o=this._label.getLocation(n);o===s.default.NONE&&this._label.setLocation(n,i)}},add:function(t){this._edges.insert(t),t.setNode(this)},setLabelBoundary:function(t){if(null===this._label)return null;var e=s.default.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case s.default.BOUNDARY:n=s.default.INTERIOR;break;case s.default.INTERIOR:default:n=s.default.BOUNDARY}this._label.setLocation(t,n)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(rt.default.apply(this),this._parentGeom=null,this._lineEdgeMap=new d.default,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new s.default,2===arguments.length){var t=arguments[0],e=arguments[1];r.call(this,t,e,T.default.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];this._argIndex=n,this._parentGeom=i,this._boundaryNodeRule=o,null!==i&&this.add(i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(81),s=i(o),a=n(14),u=i(a),l=n(13),f=i(l),c=n(99),d=i(c),h=n(12),p=i(h),g=n(9),_=i(g),m=n(21),v=i(m),y=n(3),b=i(y),x=n(32),E=i(x),w=n(20),M=i(w),L=n(50),P=i(L),C=n(413),I=i(C),S=n(38),O=i(S),N=n(76),T=i(N),R=n(0),A=i(R),D=n(210),k=i(D),j=n(39),F=i(j),z=n(35),G=i(z),B=n(17),q=i(B),U=n(25),V=i(U),Y=n(49),X=i(Y),H=n(417),Z=i(H),W=n(7),K=i(W),J=n(104),Q=i(J),$=n(4),tt=i($),et=n(37),nt=i(et),it=n(83),rt=i(it);(0,tt.default)(r,rt.default),(0,A.default)(r.prototype,{insertBoundaryPoint:function(t,e){var n=this._nodes.addNode(e),i=n.getLabel(),o=1,s=u.default.NONE;(s=i.getLocation(t,v.default.ON))===u.default.BOUNDARY&&o++;var a=r.determineBoundary(this._boundaryNodeRule,o);i.setLocation(t,a)},computeSelfNodes:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=new k.default(n,!0,!1);o.setIsDoneIfProperInt(r);var s=this.createEdgeSetIntersector(),a=this._parentGeom instanceof O.default||this._parentGeom instanceof M.default||this._parentGeom instanceof F.default,u=i||!a;return s.computeIntersections(this._edges,o,u),this.addSelfIntersectionNodes(this._argIndex),o}},computeSplitEdges:function(t){for(var e=this._edges.iterator();e.hasNext();){e.next().eiList.addSplitEdges(t)}},computeEdgeIntersections:function(t,e,n){var i=new k.default(e,n,!0);return i.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,i),i},getGeometry:function(){return this._parentGeom},getBoundaryNodeRule:function(){return this._boundaryNodeRule},hasTooFewPoints:function(){return this._hasTooFewPoints},addPoint:function(){if(arguments[0]instanceof E.default){var t=arguments[0],e=t.getCoordinate();this.insertPoint(this._argIndex,e,u.default.INTERIOR)}else if(arguments[0]instanceof b.default){var n=arguments[0];this.insertPoint(this._argIndex,n,u.default.INTERIOR)}},addPolygon:function(t){this.addPolygonRing(t.getExteriorRing(),u.default.EXTERIOR,u.default.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,u.default.INTERIOR,u.default.EXTERIOR)}},addEdge:function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],u.default.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],u.default.BOUNDARY)},addLineString:function(t){var e=V.default.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new Q.default(e,new G.default(this._argIndex,u.default.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),K.default.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},getInvalidPoint:function(){return this._invalidPoint},getBoundaryPoints:function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,i=t.iterator();i.hasNext();){var r=i.next();e[n++]=r.getCoordinate().copy()}return e},getBoundaryNodes:function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},addSelfIntersectionNode:function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===u.default.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},addPolygonRing:function(t,e,n){if(t.isEmpty())return null;var i=V.default.removeRepeatedPoints(t.getCoordinates());if(i.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=i[0],null;var r=e,o=n;p.default.isCCW(i)&&(r=n,o=e);var s=new Q.default(i,new G.default(this._argIndex,u.default.BOUNDARY,r,o));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,i[0],u.default.BOUNDARY)},insertPoint:function(t,e,n){var i=this._nodes.addNode(e),r=i.getLabel();null===r?i._label=new G.default(t,n):r.setLocation(t,n)},createEdgeSetIntersector:function(){return new I.default},addSelfIntersectionNodes:function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.eiList.iterator();r.hasNext();){var o=r.next();this.addSelfIntersectionNode(t,o.coord,i)}},add:function(){if(1!==arguments.length)return rt.default.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof F.default&&(this._useBoundaryDeterminationRule=!1),t instanceof M.default)this.addPolygon(t);else if(t instanceof f.default)this.addLineString(t);else if(t instanceof E.default)this.addPoint(t);else if(t instanceof P.default)this.addCollection(t);else if(t instanceof nt.default)this.addCollection(t);else if(t instanceof F.default)this.addCollection(t);else{if(!(t instanceof q.default))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},locate:function(t){return(0,_.default)(this._parentGeom,X.default)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new Z.default(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},findEdge:function(){if(1===arguments.length){var t=arguments[0];return this._lineEdgeMap.get(t)}return rt.default.prototype.findEdge.apply(this,arguments)},interfaces_:function(){return[]},getClass:function(){return r}}),r.determineBoundary=function(t,e){return t.isInBoundary(e)?u.default.BOUNDARY:u.default.INTERIOR}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(13),s=i(o),a=n(16),u=i(a),l=n(9),f=i(l),c=n(31),d=i(c),h=n(38),p=i(h),g=n(0),_=i(g),m=n(40),v=i(m),y=n(2),b=i(y);(0,_.default)(r.prototype,{filter:function(t){if(this._isForcedToLineString&&t instanceof p.default){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof s.default&&this._lines.add(t)},setForceToLineString:function(t){this._isForcedToLineString=t},interfaces_:function(){return[v.default]},getClass:function(){return r}}),r.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(r.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(r.getLines(e,n))}},r.getLines=function(){if(1===arguments.length){var t=arguments[0];return r.getLines(t,!1)}if(2===arguments.length){if((0,f.default)(arguments[0],d.default)&&(0,f.default)(arguments[1],d.default)){for(var e=arguments[0],n=arguments[1],i=e.iterator();i.hasNext();){var o=i.next();r.getLines(o,n)}return n}if(arguments[0]instanceof u.default&&"boolean"==typeof arguments[1]){var a=arguments[0],l=arguments[1],c=new b.default;return a.apply(new r(c,l)),c}if(arguments[0]instanceof u.default&&(0,f.default)(arguments[1],d.default)){var h=arguments[0],p=arguments[1];return h instanceof s.default?p.add(h):h.apply(new r(p)),p}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&(0,f.default)(arguments[0],d.default)&&(0,f.default)(arguments[1],d.default)){for(var g=arguments[0],_=arguments[1],m=arguments[2],i=g.iterator();i.hasNext();){var o=i.next();r.getLines(o,_,m)}return _}if("boolean"==typeof arguments[2]&&arguments[0]instanceof u.default&&(0,f.default)(arguments[1],d.default)){var v=arguments[0],y=arguments[1],x=arguments[2];return v.apply(new r(y,x)),y}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){v.default.apply(this),this._parentEdge=null,this._from=null,this._to=null,this._p0=null,this._p1=null,this._sym=null,this._edgeDirection=null,this._quadrant=null,this._angle=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._from=t,this._to=e,this._edgeDirection=i,this._p0=t.getCoordinate(),this._p1=n;var r=this._p1.x-this._p0.x,o=this._p1.y-this._p0.y;this._quadrant=p.default.quadrant(r,o),this._angle=Math.atan2(o,r)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(12),s=i(o),a=n(0),u=i(a),l=n(26),f=i(l),c=n(2),d=i(c),h=n(58),p=i(h),g=n(4),_=i(g),m=n(108),v=i(m);(0,_.default)(r,v.default),(0,u.default)(r.prototype,{isRemoved:function(){return null===this._parentEdge},compareDirection:function(t){return this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:s.default.computeOrientation(t._p0,t._p1,this._p1)},getCoordinate:function(){return this._from.getCoordinate()},print:function(t){var e=this.getClass().getName(),n=e.lastIndexOf("."),i=e.substring(n+1);t.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+this._angle)},getDirectionPt:function(){return this._p1},getAngle:function(){return this._angle},compareTo:function(t){var e=t;return this.compareDirection(e)},getFromNode:function(){return this._from},getSym:function(){return this._sym},setEdge:function(t){this._parentEdge=t},remove:function(){this._sym=null,this._parentEdge=null},getEdge:function(){return this._parentEdge},getQuadrant:function(){return this._quadrant},setSym:function(t){this._sym=t},getToNode:function(){return this._to},getEdgeDirection:function(){return this._edgeDirection},interfaces_:function(){return[f.default]},getClass:function(){return r}}),r.toEdges=function(t){for(var e=new d.default,n=t.iterator();n.hasNext();)e.add(n.next()._parentEdge);return e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._linearGeom=null,this._numLines=null,this._currentLine=null,this._componentIndex=0,this._vertexIndex=0,1===arguments.length){var t=arguments[0];r.call(this,t,0,0)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];r.call(this,e,n.getComponentIndex(),r.segmentEndVertexIndex(n))}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];if(!(0,s.default)(i,d.default))throw new u.default("Lineal geometry is required");this._linearGeom=i,this._numLines=i.getNumGeometries(),this._componentIndex=o,this._vertexIndex=a,this.loadCurrentLine()}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(9),s=i(o),a=n(10),u=i(a),l=n(0),f=i(l),c=n(132),d=i(c);(0,f.default)(r.prototype,{getComponentIndex:function(){return this._componentIndex},getLine:function(){return this._currentLine},getVertexIndex:function(){return this._vertexIndex},getSegmentEnd:function(){return this._vertexIndex<this.getLine().getNumPoints()-1?this._currentLine.getCoordinateN(this._vertexIndex+1):null},next:function(){if(!this.hasNext())return null;++this._vertexIndex>=this._currentLine.getNumPoints()&&(this._componentIndex++,this.loadCurrentLine(),this._vertexIndex=0)},loadCurrentLine:function(){if(this._componentIndex>=this._numLines)return this._currentLine=null,null;this._currentLine=this._linearGeom.getGeometryN(this._componentIndex)},getSegmentStart:function(){return this._currentLine.getCoordinateN(this._vertexIndex)},isEndOfLine:function(){return!(this._componentIndex>=this._numLines)&&!(this._vertexIndex<this._currentLine.getNumPoints()-1)},hasNext:function(){return!(this._componentIndex>=this._numLines)&&!(this._componentIndex===this._numLines-1&&this._vertexIndex>=this._currentLine.getNumPoints())},interfaces_:function(){return[]},getClass:function(){return r}}),r.segmentEndVertexIndex=function(t){return t.getSegmentFraction()>0?t.getSegmentIndex()+1:t.getSegmentIndex()}},function(t,e,n){"use strict";function i(t){if(!t)throw new Error("geojson is required");var e=[];return(0,l.flattenEach)(t,function(t){r(t,e)}),(0,a.featureCollection)(e)}function r(t,e){var n=[],i=t.geometry;switch(i.type){case"Polygon":n=(0,u.getCoords)(i);break;case"LineString":n=[(0,u.getCoords)(i)]}n.forEach(function(n){o(n,t.properties).forEach(function(t){t.id=e.length,e.push(t)})})}function o(t,e){var n=[];return t.reduce(function(t,i){var r=(0,a.lineString)([t,i],e);return r.bbox=s(t,i),n.push(r),i}),n}function s(t,e){var n=t[0],i=t[1],r=e[0],o=e[1];return[n<r?n:r,i<o?i:o,n>r?n:r,i>o?i:o]}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),u=n(5),l=n(6);e.default=i},function(t,e,n){"use strict";function i(t,e,n){if(n=n||{},!(0,s.isObject)(n))throw new Error("options is invalid");var i=n.final;if(!t)throw new Error("start point is required");if(!e)throw new Error("end point is required");var a;return a=i?r((0,o.getCoord)(e),(0,o.getCoord)(t)):r((0,o.getCoord)(t),(0,o.getCoord)(e)),a>180?-(360-a):a}function r(t,e){var n=(0,s.degreesToRadians)(t[1]),i=(0,s.degreesToRadians)(e[1]),r=(0,s.degreesToRadians)(e[0]-t[0]);r>Math.PI&&(r-=2*Math.PI),r<-Math.PI&&(r+=2*Math.PI);var o=Math.log(Math.tan(i/2+Math.PI/4)/Math.tan(n/2+Math.PI/4)),a=Math.atan2(r,o);return((0,s.radiansToDegrees)(a)+360)%360}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),s=n(1);e.default=i},function(t,e,n){"use strict";function i(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function r(t,e){return e[1]-t[1]||e[0]-t[0]}function o(t,n){var i,o,f,_=t.sort(r).pop();for(e.edges=g=[],e.cells=h=new Array(t.length),e.beaches=d=new c.default,e.circles=p=new c.default;;)if(f=u.firstCircle,_&&(!f||_[1]<f.y||_[1]===f.y&&_[0]<f.x))_[0]===i&&_[1]===o||((0,s.addBeach)(_),i=_[0],o=_[1]),_=t.pop();else{if(!f)break;(0,s.removeBeach)(f.arc)}if((0,a.sortCellHalfedges)(),n){var m=+n[0][0],v=+n[0][1],y=+n[1][0],b=+n[1][1];(0,l.clipEdges)(m,v,y,b),(0,a.clipCells)(m,v,y,b)}this.edges=g,this.cells=h,e.beaches=d=e.circles=p=e.edges=g=e.cells=h=null}Object.defineProperty(e,"__esModule",{value:!0}),e.edges=e.circles=e.cells=e.beaches=e.epsilon2=e.epsilon=void 0,e.default=o;var s=n(602),a=n(264),u=n(265),l=n(158),f=n(157),c=function(t){return t&&t.__esModule?t:{default:t}}(f),d=(e.epsilon=1e-6,e.epsilon2=1e-12,e.beaches=void 0),h=e.cells=void 0,p=e.circles=void 0,g=e.edges=void 0;o.prototype={constructor:o,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return(0,a.cellHalfedgeStart)(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(s=(o=n.halfedges).length)for(var o,s,a,u=n.site,l=-1,f=e[o[s-1]],c=f.left===u?f.right:f.left;++l<s;)a=c,f=e[o[l]],c=f.left===u?f.right:f.left,a&&c&&r<a.index&&r<c.index&&i(u,a,c)<0&&t.push([u.data,a.data,c.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var i,r,o=this,s=o._found||0,a=o.cells.length;!(r=o.cells[s]);)if(++s>=a)return null;var u=t-r.site[0],l=e-r.site[1],f=u*u+l*l;do{r=o.cells[i=s],s=null,r.halfedges.forEach(function(n){var i=o.edges[n],a=i.left;if(a!==r.site&&a||(a=i.right)){var u=t-a[0],l=e-a[1],c=u*u+l*l;c<f&&(f=c,s=a.index)}})}while(null!==s);return o._found=i,null==n||f<=n*n?r.site:null}}},function(t,e,n){"use strict";function i(t){return[(0,f.atan2)(t[1],t[0]),(0,f.asin)(t[2])]}function r(t){var e=t[0],n=t[1],i=(0,f.cos)(n);return[i*(0,f.cos)(e),i*(0,f.sin)(e),(0,f.sin)(n)]}function o(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function s(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function a(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function u(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function l(t){var e=(0,f.sqrt)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}Object.defineProperty(e,"__esModule",{value:!0}),e.spherical=i,e.cartesian=r,e.cartesianDot=o,e.cartesianCross=s,e.cartesianAddInPlace=a,e.cartesianScale=u,e.cartesianNormalizeInPlace=l;var f=n(8)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return null===t?NaN:+t}},function(t,e,n){"use strict";function i(t){return function(e,n){var i=(0,o.cos)(e),r=(0,o.cos)(n),s=t(i*r);return[s*r*(0,o.sin)(e),s*(0,o.sin)(n)]}}function r(t){return function(e,n){var i=(0,o.sqrt)(e*e+n*n),r=t(i),s=(0,o.sin)(r),a=(0,o.cos)(r);return[(0,o.atan2)(e*s,i*a),(0,o.asin)(i&&n*s/i)]}}Object.defineProperty(e,"__esModule",{value:!0}),e.azimuthalRaw=i,e.azimuthalInvert=r;var o=n(8)},function(t,e,n){"use strict";function i(t,e){var n=(0,o.default)(t),i=(n[0]+n[2])/2,r=(n[1]+n[3])/2;return(0,s.point)([i,r],e)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(27),o=function(t){return t&&t.__esModule?t:{default:t}}(r),s=n(1);e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=(0,u.getGeom)(t),i=(0,u.getGeom)(e);if((0,c.default)((0,a.default)(i,{precision:4})).coordinates[0].length<4)return null;if((0,c.default)((0,a.default)(n,{precision:4})).coordinates[0].length<4)return null;var r=new o.GeoJSONReader,s=r.read((0,a.default)(n)),f=r.read((0,a.default)(i)),d=o.OverlayOp.intersection(s,f);if(d.isEmpty())return null;var h=new o.GeoJSONWriter,p=h.write(d);return(0,l.feature)(p)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(97),s=n(152),a=i(s),u=n(5),l=n(1),f=n(61),c=i(f);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(366);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var r=n(382);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(436);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var s=n(438);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var a=n(443);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var u=n(444);Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})});var l=n(450);Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})});var f=n(455);Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}})});var c=n(456);Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})});var d=n(514);Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}})});var h=n(517);Object.keys(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}})});var p=n(524);Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})});var g=n(539);Object.keys(g).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return g[t]}})})},function(t,e,n){"use strict";function i(t){this.message=t||""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype=new Error,i.prototype.name="NoSuchElementException"},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.map_=new h}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2),s=i(o),a=n(190),u=i(a),l=n(56),f=i(l),c=n(381),d=i(c),h="undefined"!=typeof Map&&Map.prototype.values?Map:d.default;r.prototype=new u.default,r.prototype.get=function(t){return this.map_.get(t)||null},r.prototype.put=function(t,e){return this.map_.set(t,e),e},r.prototype.values=function(){for(var t=new s.default,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},r.prototype.entrySet=function(){var t=new f.default;return this.map_.entries().forEach(function(e){return t.add(e)}),t},r.prototype.size=function(){return this.map_.size()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._geom=new Array(2).fill(null);var t=arguments[0],e=arguments[1];this._geom[0]=t,this._geom[1]=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(387),s=i(o),a=n(0),u=i(a),l=n(55),f=i(l),c=n(51),d=i(c);(0,u.default)(r.prototype,{getResultGeometry:function(t){var e=null,n=!1,i=null;try{e=d.default.overlayOp(this._geom[0],this._geom[1],t);n=!0}catch(t){if(!(t instanceof f.default))throw t;i=t}if(!n)try{e=s.default.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof f.default?i:t}return e},interfaces_:function(){return[]},getClass:function(){return r}}),r.overlayOp=function(t,e,n){return new r(t,e).getResultGeometry(n)},r.union=function(t,e){return r.overlayOp(t,e,d.default.UNION)},r.intersection=function(t,e){return r.overlayOp(t,e,d.default.INTERSECTION)},r.symDifference=function(t,e){return r.overlayOp(t,e,d.default.SYMDIFFERENCE)},r.difference=function(t,e){return r.overlayOp(t,e,d.default.DIFFERENCE)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(13),s=i(o),a=n(19),u=i(a),l=n(10),f=i(l),c=n(32),d=i(c),h=n(20),p=i(h),g=n(50),_=i(g),m=n(38),v=i(m),y=n(0),b=i(y),x=n(39),E=i(x),w=n(17),M=i(w),L=n(2),P=i(L),C=n(37),I=i(C);(0,b.default)(r.prototype,{transformPoint:function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},transformPolygon:function(t,e){var n=!0,i=this.transformLinearRing(t.getExteriorRing(),t);null!==i&&i instanceof v.default&&!i.isEmpty()||(n=!1);for(var r=new P.default,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof v.default||(n=!1),r.add(s))}if(n)return this._factory.createPolygon(i,r.toArray([]));var a=new P.default;return null!==i&&a.add(i),a.addAll(r),this._factory.buildGeometry(a)},createCoordinateSequence:function(t){return this._factory.getCoordinateSequenceFactory().create(t)},getInputGeometry:function(){return this._inputGeom},transformMultiLineString:function(t,e){for(var n=new P.default,i=0;i<t.getNumGeometries();i++){var r=this.transformLineString(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},transformCoordinates:function(t,e){return this.copy(t)},transformLineString:function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},transformMultiPoint:function(t,e){for(var n=new P.default,i=0;i<t.getNumGeometries();i++){var r=this.transformPoint(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},transformMultiPolygon:function(t,e){for(var n=new P.default,i=0;i<t.getNumGeometries();i++){var r=this.transformPolygon(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},copy:function(t){return t.copy()},transformGeometryCollection:function(t,e){for(var n=new P.default,i=0;i<t.getNumGeometries();i++){var r=this.transform(t.getGeometryN(i));null!==r&&(this._pruneEmptyGeometry&&r.isEmpty()||n.add(r))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(u.default.toGeometryArray(n)):this._factory.buildGeometry(n)},transform:function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof d.default)return this.transformPoint(t,null);if(t instanceof _.default)return this.transformMultiPoint(t,null);if(t instanceof v.default)return this.transformLinearRing(t,null);if(t instanceof s.default)return this.transformLineString(t,null);if(t instanceof I.default)return this.transformMultiLineString(t,null);if(t instanceof p.default)return this.transformPolygon(t,null);if(t instanceof E.default)return this.transformMultiPolygon(t,null);if(t instanceof M.default)return this.transformGeometryCollection(t,null);throw new f.default("Unknown Geometry subtype: "+t.getClass().getName())},transformLinearRing:function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var i=n.size();return i>0&&i<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._monoChains=new m.default,this._index=new a.default,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,0===arguments.length);else if(1===arguments.length){var t=arguments[0];x.default.call(this,t)}}function o(){c.default.apply(this),this._si=null;var t=arguments[0];this._si=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(103),a=i(s),u=n(82),l=i(u),f=n(403),c=i(f),d=n(0),h=i(d),p=n(201),g=i(p),_=n(2),m=i(_),v=n(4),y=i(v),b=n(405),x=i(b);(0,y.default)(r,x.default),(0,h.default)(r.prototype,{getMonotoneChains:function(){return this._monoChains},getNodedSubstrings:function(){return l.default.getNodedSubstrings(this._nodedSegStrings)},getIndex:function(){return this._index},add:function(t){for(var e=g.default.getChains(t.getCoordinates(),t),n=e.iterator();n.hasNext();){var i=n.next();i.setId(this._idCounter++),this._index.insert(i.getEnvelope(),i),this._monoChains.add(i)}},computeNodes:function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},intersectChains:function(){for(var t=new o(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),i=this._index.query(n.getEnvelope()),r=i.iterator();r.hasNext();){var s=r.next();if(s.getId()>n.getId()&&(n.computeOverlaps(s,t),this._nOverlaps++),this._segInt.isDone())return null}},interfaces_:function(){return[]},getClass:function(){return r}}),(0,y.default)(o,c.default),(0,h.default)(o.prototype,{overlap:function(){if(4!==arguments.length)return c.default.prototype.overlap.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3],r=t.getContext(),o=n.getContext();this._si.processIntersections(r,e,o,i)},interfaces_:function(){return[]},getClass:function(){return o}}),r.SegmentOverlapAction=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(0===arguments.length)r.call(this,r.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];B.default.call(this,t)}}function o(){var t=arguments[0];m.default.call(this,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(198),a=i(s),u=n(395),l=i(u),f=n(9),c=i(f),d=n(67),h=i(d),p=n(200),g=i(p),_=n(137),m=i(_),v=n(15),y=i(v),b=n(0),x=i(b),E=n(45),w=i(E),M=n(396),L=i(M),P=n(2),C=i(P),I=n(63),S=i(I),O=n(28),N=i(O),T=n(11),R=i(T),A=n(7),D=i(A),k=n(4),j=i(k),F=n(42),z=i(F),G=n(397),B=i(G),q=n(398),U=i(q);(0,j.default)(r,B.default),(0,x.default)(r.prototype,{createParentBoundablesFromVerticalSlices:function(t,e){D.default.isTrue(t.length>0);for(var n=new C.default,i=0;i<t.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i],e));return n},createNode:function(t){return new o(t)},size:function(){return 0===arguments.length?B.default.prototype.size.call(this):B.default.prototype.size.apply(this,arguments)},insert:function(){if(2!==arguments.length)return B.default.prototype.insert.apply(this,arguments);var t=arguments[0],e=arguments[1];if(t.isNull())return null;B.default.prototype.insert.call(this,t,e)},getIntersectsOp:function(){return r.intersectsOp},verticalSlices:function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),i=new Array(e).fill(null),r=t.iterator(),o=0;o<e;o++){i[o]=new C.default;for(var s=0;r.hasNext()&&s<n;){var a=r.next();i[o].add(a),s++}}return i},query:function(){if(1===arguments.length){var t=arguments[0];return B.default.prototype.query.call(this,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];B.default.prototype.query.call(this,e,n)}else if(3===arguments.length)if((0,c.default)(arguments[2],h.default)&&arguments[0]instanceof Object&&arguments[1]instanceof m.default){var i=arguments[0],r=arguments[1],o=arguments[2];B.default.prototype.query.call(this,i,r,o)}else if((0,c.default)(arguments[2],z.default)&&arguments[0]instanceof Object&&arguments[1]instanceof m.default){var s=arguments[0],a=arguments[1],u=arguments[2];B.default.prototype.query.call(this,s,a,u)}},getComparator:function(){return r.yComparator},createParentBoundablesFromVerticalSlice:function(t,e){return B.default.prototype.createParentBoundables.call(this,t,e)},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return B.default.prototype.remove.call(this,t,e)}return B.default.prototype.remove.apply(this,arguments)},depth:function(){return 0===arguments.length?B.default.prototype.depth.call(this):B.default.prototype.depth.apply(this,arguments)},createParentBoundables:function(t,e){D.default.isTrue(!t.isEmpty());var n=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new C.default(t);w.default.sort(i,r.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(o,e)},nearestNeighbour:function(){if(1===arguments.length){if((0,c.default)(arguments[0],U.default)){var t=arguments[0],e=new L.default(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof L.default){var n=arguments[0];return this.nearestNeighbour(n,y.default.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof r&&(0,c.default)(arguments[1],U.default)){var i=arguments[0],o=arguments[1],e=new L.default(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(e)}if(arguments[0]instanceof L.default&&"number"==typeof arguments[1]){var s=arguments[0],u=arguments[1],f=u,d=null,h=new l.default;for(h.add(s);!h.isEmpty()&&f>0;){var p=h.poll(),g=p.getDistance();if(g>=f)break;p.isLeaves()?(f=g,d=p):p.expandToQueue(h,f)}return[d.getBoundable(0).getItem(),d.getBoundable(1).getItem()]}}else if(3===arguments.length){var _=arguments[0],m=arguments[1],v=arguments[2],b=new a.default(_,m),e=new L.default(this.getRoot(),b,v);return this.nearestNeighbour(e)[0]}},interfaces_:function(){return[g.default,N.default]},getClass:function(){return r}}),r.centreX=function(t){return r.avg(t.getMinX(),t.getMaxX())},r.avg=function(t,e){return(t+e)/2},r.centreY=function(t){return r.avg(t.getMinY(),t.getMaxY())},(0,j.default)(o,m.default),(0,x.default)(o.prototype,{computeBounds:function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new R.default(n.getBounds()):t.expandToInclude(n.getBounds())}return t},interfaces_:function(){return[]},getClass:function(){return o}}),r.STRtreeNode=o,r.serialVersionUID=0x39920f7d5f261e0,r.xComparator={interfaces_:function(){return[S.default]},compare:function(t,e){return B.default.compareDoubles(r.centreX(t.getBounds()),r.centreX(e.getBounds()))}},r.yComparator={interfaces_:function(){return[S.default]},compare:function(t,e){return B.default.compareDoubles(r.centreY(t.getBounds()),r.centreY(e.getBounds()))}},r.intersectsOp={interfaces_:function(){return[IntersectsOp]},intersects:function(t,e){return t.intersects(e)}},r.DEFAULT_NODE_CAPACITY=10},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(P.default.apply(this),this.pts=null,this._env=null,this.eiList=new u.default(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new M.default,this._depthDelta=0,1===arguments.length){var t=arguments[0];r.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.pts=e,this._label=n}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(43),s=i(o),a=n(421),u=i(a),l=n(423),f=i(l),c=n(21),d=i(c),h=n(3),p=i(h),g=n(0),_=i(g),m=n(35),v=i(m),y=n(11),b=i(y),x=n(4),E=i(x),w=n(425),M=i(w),L=n(205),P=i(L);(0,E.default)(r,P.default),(0,_.default)(r.prototype,{getDepth:function(){return this._depth},getCollapsedEdge:function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new r(t,v.default.toLineLabel(this._label))},isIsolated:function(){return this._isIsolated},getCoordinates:function(){return this.pts},setIsolated:function(t){this._isIsolated=t},setName:function(t){this._name=t},equals:function(t){if(!(t instanceof r))return!1;var e=t;if(this.pts.length!==e.pts.length)return!1;for(var n=!0,i=!0,o=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(e.pts[s])||(n=!1),this.pts[s].equals2D(e.pts[--o])||(i=!1),!n&&!i)return!1;return!0},getCoordinate:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},print:function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},computeIM:function(t){r.updateIM(this._label,t)},isCollapsed:function(){return!!this._label.isArea()&&(3===this.pts.length&&!!this.pts[0].equals(this.pts[2]))},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getMaximumSegmentIndex:function(){return this.pts.length-1},getDepthDelta:function(){return this._depthDelta},getNumPoints:function(){return this.pts.length},printReverse:function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},getMonotoneChainEdge:function(){return null===this._mce&&(this._mce=new f.default(this)),this._mce},getEnvelope:function(){if(null===this._env){this._env=new b.default;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},addIntersection:function(t,e,n,i){var r=new p.default(t.getIntersection(i)),o=e,s=t.getEdgeDistance(n,i),a=o+1;if(a<this.pts.length){var u=this.pts[a];r.equals2D(u)&&(o=a,s=0)}this.eiList.add(r,o,s)},toString:function(){var t=new s.default;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},isPointwiseEqual:function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},setDepthDelta:function(t){this._depthDelta=t},getEdgeIntersectionList:function(){return this.eiList},addIntersections:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},interfaces_:function(){return[]},getClass:function(){return r}}),r.updateIM=function(){if(2!==arguments.length)return P.default.prototype.updateIM.apply(this,arguments);var t=arguments[0],e=arguments[1];e.setAtLeastIfValid(t.getLocation(0,d.default.ON),t.getLocation(1,d.default.ON),1),t.isArea()&&(e.setAtLeastIfValid(t.getLocation(0,d.default.LEFT),t.getLocation(1,d.default.LEFT),2),e.setAtLeastIfValid(t.getLocation(0,d.default.RIGHT),t.getLocation(1,d.default.RIGHT),2))}},function(t,e,n){"use strict";function i(){if(this.min=null,this.max=null,0===arguments.length)this.min=0,this.max=0;else if(1===arguments.length){var t=arguments[0];this.init(t.min,t.max)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.init(e,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{expandToInclude:function(t){t.max>this.max&&(this.max=t.max),t.min<this.min&&(this.min=t.min)},getWidth:function(){return this.max-this.min},overlaps:function(){if(1===arguments.length){var t=arguments[0];return this.overlaps(t.min,t.max)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!(this.min>n||this.max<e)}},getMin:function(){return this.min},toString:function(){return"["+this.min+", "+this.max+"]"},contains:function(){if(1===arguments.length){if(arguments[0]instanceof i){var t=arguments[0];return this.contains(t.min,t.max)}if("number"==typeof arguments[0]){var e=arguments[0];return e>=this.min&&e<=this.max}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return n>=this.min&&r<=this.max}},init:function(t,e){this.min=t,this.max=e,t>e&&(this.min=e,this.max=t)},getMax:function(){return this.max},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.p0=null,this.p1=null,this.p2=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.p0=t,this.p1=e,this.p2=n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(3),s=i(o),a=n(10),u=i(a),l=n(0),f=i(l),c=n(146),d=i(c),h=n(75),p=i(h);(0,f.default)(r.prototype,{area:function(){return r.area(this.p0,this.p1,this.p2)},signedArea:function(){return r.signedArea(this.p0,this.p1,this.p2)},interpolateZ:function(t){if(null===t)throw new u.default("Supplied point is null.");return r.interpolateZ(t,this.p0,this.p1,this.p2)},longestSideLength:function(){return r.longestSideLength(this.p0,this.p1,this.p2)},isAcute:function(){return r.isAcute(this.p0,this.p1,this.p2)},circumcentre:function(){return r.circumcentre(this.p0,this.p1,this.p2)},area3D:function(){return r.area3D(this.p0,this.p1,this.p2)},centroid:function(){return r.centroid(this.p0,this.p1,this.p2)},inCentre:function(){return r.inCentre(this.p0,this.p1,this.p2)},interfaces_:function(){return[]},getClass:function(){return r}}),r.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},r.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},r.det=function(t,e,n,i){return t*i-e*n},r.interpolateZ=function(t,e,n,i){var r=e.x,o=e.y,s=n.x-r,a=i.x-r,u=n.y-o,l=i.y-o,f=s*l-a*u,c=t.x-r,d=t.y-o,h=(l*c-a*d)/f,p=(-u*c+s*d)/f;return e.z+h*(n.z-e.z)+p*(i.z-e.z)},r.longestSideLength=function(t,e,n){var i=t.distance(e),r=e.distance(n),o=n.distance(t),s=i;return r>s&&(s=r),o>s&&(s=o),s},r.isAcute=function(t,e,n){return!!d.default.isAcute(t,e,n)&&(!!d.default.isAcute(e,n,t)&&!!d.default.isAcute(n,t,e))},r.circumcentre=function(t,e,n){var i=n.x,o=n.y,a=t.x-i,u=t.y-o,l=e.x-i,f=e.y-o,c=2*r.det(a,u,l,f),d=r.det(u,a*a+u*u,f,l*l+f*f),h=r.det(a,a*a+u*u,l,l*l+f*f),p=i-d/c,g=o+h/c;return new s.default(p,g)},r.perpendicularBisector=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=new p.default(t.x+n/2,t.y+i/2,1),o=new p.default(t.x-i+n/2,t.y+n+i/2,1);return new p.default(r,o)},r.angleBisector=function(t,e,n){var i=e.distance(t),r=e.distance(n),o=i/(i+r),a=n.x-t.x,u=n.y-t.y;return new s.default(t.x+o*a,t.y+o*u)},r.area3D=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,u=n.z-t.z,l=r*u-o*a,f=o*s-i*u,c=i*a-r*s,d=l*l+f*f+c*c;return Math.sqrt(d)/2},r.centroid=function(t,e,n){var i=(t.x+e.x+n.x)/3,r=(t.y+e.y+n.y)/3;return new s.default(i,r)},r.inCentre=function(t,e,n){var i=e.distance(n),r=t.distance(n),o=t.distance(e),a=i+r+o,u=(i*t.x+r*e.x+o*n.x)/a,l=(i*t.y+r*e.y+o*n.y)/a;return new s.default(u,l)}},function(t,e,n){"use strict";function i(){if(this._quadrantSegments=i.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=i.CAP_ROUND,this._joinStyle=i.JOIN_ROUND,this._mitreLimit=i.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=i.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.setQuadrantSegments(e),this.setEndCapStyle(n)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(a)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{getEndCapStyle:function(){return this._endCapStyle},isSingleSided:function(){return this._isSingleSided},setQuadrantSegments:function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=i.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=i.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==i.JOIN_ROUND&&(this._quadrantSegments=i.DEFAULT_QUADRANT_SEGMENTS)},getJoinStyle:function(){return this._joinStyle},setJoinStyle:function(t){this._joinStyle=t},setSimplifyFactor:function(t){this._simplifyFactor=t<0?0:t},getSimplifyFactor:function(){return this._simplifyFactor},getQuadrantSegments:function(){return this._quadrantSegments},setEndCapStyle:function(t){this._endCapStyle=t},getMitreLimit:function(){return this._mitreLimit},setMitreLimit:function(t){this._mitreLimit=t},setSingleSided:function(t){this._isSingleSided=t},interfaces_:function(){return[]},getClass:function(){return i}}),i.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},i.CAP_ROUND=1,i.CAP_FLAT=2,i.CAP_SQUARE=3,i.JOIN_ROUND=1,i.JOIN_MITRE=2,i.JOIN_BEVEL=3,i.DEFAULT_QUADRANT_SEGMENTS=8,i.DEFAULT_MITRE_LIMIT=5,i.DEFAULT_SIMPLIFY_FACTOR=.01},function(t,e,n){"use strict";function i(){this._isMarked=!1,this._isVisited=!1,this._data=null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{setVisited:function(t){this._isVisited=t},isMarked:function(){return this._isMarked},setData:function(t){this._data=t},getData:function(){return this._data},setMarked:function(t){this._isMarked=t},getContext:function(){return this._data},isVisited:function(){return this._isVisited},setContext:function(t){this._data=t},interfaces_:function(){return[]},getClass:function(){return i}}),i.getComponentWithVisitedState=function(t,e){for(;t.hasNext();){var n=t.next();if(n.isVisited()===e)return n}return null},i.setVisited=function(t,e){for(;t.hasNext();)t.next().setVisited(e)},i.setMarked=function(t,e){for(;t.hasNext();)t.next().setMarked(e)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(_.default.apply(this),this._pt=null,this._deStar=null,1===arguments.length){var t=arguments[0];r.call(this,t,new s.default)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._pt=e,this._deStar=n}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(485),s=i(o),a=n(56),u=i(a),l=n(0),f=i(l),c=n(87),d=i(c),h=n(4),p=i(h),g=n(108),_=i(g);(0,p.default)(r,_.default),(0,f.default)(r.prototype,{isRemoved:function(){return null===this._pt},addOutEdge:function(t){this._deStar.add(t)},getCoordinate:function(){return this._pt},getOutEdges:function(){return this._deStar},remove:function(){if(0===arguments.length)this._pt=null;else if(1===arguments.length){var t=arguments[0];this._deStar.remove(t)}},getIndex:function(t){return this._deStar.getIndex(t)},getDegree:function(){return this._deStar.getDegree()},interfaces_:function(){return[]},getClass:function(){return r}}),r.getEdgesBetween=function(t,e){var n=d.default.toEdges(t.getOutEdges().getEdges()),i=new u.default(n),r=d.default.toEdges(e.getOutEdges().getEdges());return i.retainAll(r),i}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(d.default.apply(this),this._dirEdge=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];this.setDirectedEdges(t,e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(109),s=i(o),a=n(0),u=i(a),l=n(4),f=i(l),c=n(108),d=i(c);(0,f.default)(r,d.default),(0,u.default)(r.prototype,{isRemoved:function(){return null===this._dirEdge},setDirectedEdges:function(t,e){this._dirEdge=[t,e],t.setEdge(this),e.setEdge(this),t.setSym(e),e.setSym(t),t.getFromNode().addOutEdge(t),e.getFromNode().addOutEdge(e)},getDirEdge:function(){if(Number.isInteger(arguments[0])){var t=arguments[0];return this._dirEdge[t]}if(arguments[0]instanceof s.default){var e=arguments[0];return this._dirEdge[0].getFromNode()===e?this._dirEdge[0]:this._dirEdge[1].getFromNode()===e?this._dirEdge[1]:null}},remove:function(){this._dirEdge=null},getOppositeNode:function(t){return this._dirEdge[0].getFromNode()===t?this._dirEdge[0].getToNode():this._dirEdge[1].getFromNode()===t?this._dirEdge[1].getToNode():null},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._p=null,1===arguments.length){var t=arguments[0];this._p=new u.default(t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._p=new u.default(e,n)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._p=new u.default(i,r,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(73),s=i(o),a=n(3),u=i(a),l=n(530),f=i(l),c=n(0),d=i(c),h=n(30),p=i(h),g=n(75),_=i(g);(0,d.default)(r.prototype,{circleCenter:function(t,e){var n=new r(this.getX(),this.getY()),i=this.bisector(n,t),o=this.bisector(t,e),a=new _.default(i,o),u=null;try{u=new r(a.getX(),a.getY())}catch(i){if(!(i instanceof s.default))throw i;p.default.err.println("a: "+n+"  b: "+t+"  c: "+e),p.default.err.println(i)}return u},dot:function(t){return this._p.x*t.getX()+this._p.y*t.getY()},magn:function(){return Math.sqrt(this._p.x*this._p.x+this._p.y*this._p.y)},getZ:function(){return this._p.z},bisector:function(t,e){var n=e.getX()-t.getX(),i=e.getY()-t.getY(),r=new _.default(t.getX()+n/2,t.getY()+i/2,1),o=new _.default(t.getX()-i+n/2,t.getY()+n+i/2,1);return new _.default(r,o)},equals:function(){if(1===arguments.length){var t=arguments[0];return this._p.x===t.getX()&&this._p.y===t.getY()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this._p.distance(e.getCoordinate())<n}},getCoordinate:function(){return this._p},isInCircle:function(t,e,n){return f.default.isInCircleRobust(t._p,e._p,n._p,this._p)},interpolateZValue:function(t,e,n){var i=t.getX(),r=t.getY(),o=e.getX()-i,s=n.getX()-i,a=e.getY()-r,u=n.getY()-r,l=o*u-s*a,f=this.getX()-i,c=this.getY()-r,d=(u*f-s*c)/l,h=(-a*f+o*c)/l;return t.getZ()+d*(e.getZ()-t.getZ())+h*(n.getZ()-t.getZ())},midPoint:function(t){return new r((this._p.x+t.getX())/2,(this._p.y+t.getY())/2,(this._p.z+t.getZ())/2)},rightOf:function(t){return this.isCCW(t.dest(),t.orig())},isCCW:function(t,e){return(t._p.x-this._p.x)*(e._p.y-this._p.y)-(t._p.y-this._p.y)*(e._p.x-this._p.x)>0},getX:function(){return this._p.x},crossProduct:function(t){return this._p.x*t.getY()-this._p.y*t.getX()},setZ:function(t){this._p.z=t},times:function(t){return new r(t*this._p.x,t*this._p.y)},cross:function(){return new r(this._p.y,-this._p.x)},leftOf:function(t){return this.isCCW(t.orig(),t.dest())},toString:function(){return"POINT ("+this._p.x+" "+this._p.y+")"},sub:function(t){return new r(this._p.x-t.getX(),this._p.y-t.getY())},getY:function(){return this._p.y},classify:function(t,e){var n=this,i=e.sub(t),o=n.sub(t),s=i.crossProduct(o);return s>0?r.LEFT:s<0?r.RIGHT:i.getX()*o.getX()<0||i.getY()*o.getY()<0?r.BEHIND:i.magn()<o.magn()?r.BEYOND:t.equals(n)?r.ORIGIN:e.equals(n)?r.DESTINATION:r.BETWEEN},sum:function(t){return new r(this._p.x+t.getX(),this._p.y+t.getY())},distance:function(t,e){return Math.sqrt(Math.pow(e.getX()-t.getX(),2)+Math.pow(e.getY()-t.getY(),2))},circumRadiusRatio:function(t,e){var n=this.circleCenter(t,e),i=this.distance(n,t),r=this.distance(this,t),o=this.distance(t,e);return o<r&&(r=o),o=this.distance(e,this),o<r&&(r=o),i/r},interfaces_:function(){return[]},getClass:function(){return r}}),r.interpolateZ=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=e.distance(n),r=t.distance(e),o=n.z-e.z;return e.z+o*(r/i)}if(4===arguments.length){var s=arguments[0],a=arguments[1],u=arguments[2],l=arguments[3],f=a.x,c=a.y,d=u.x-f,h=l.x-f,p=u.y-c,g=l.y-c,_=d*g-h*p,m=s.x-f,v=s.y-c,y=(g*m-h*v)/_,b=(-p*m+d*v)/_;return a.z+y*(u.z-a.z)+b*(l.z-a.z)}},r.LEFT=0,r.RIGHT=1,r.BEYOND=2,r.BEHIND=3,r.BETWEEN=4,r.ORIGIN=5,r.DESTINATION=6},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._componentIndex=0,this._segmentIndex=0,this._segmentFraction=0,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._componentIndex=t._componentIndex,this._segmentIndex=t._segmentIndex,this._segmentFraction=t._segmentFraction}else if(2===arguments.length){var e=arguments[0],n=arguments[1];r.call(this,0,e,n)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this._componentIndex=i,this._segmentIndex=o,this._segmentFraction=s,this.normalize()}else if(4===arguments.length){var a=arguments[0],u=arguments[1],l=arguments[2],f=arguments[3];this._componentIndex=a,this._segmentIndex=u,this._segmentFraction=l,f&&this.normalize()}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(3),s=i(o),a=n(0),u=i(a),l=n(18),f=i(l),c=n(26),d=i(c);(0,u.default)(r.prototype,{getSegmentIndex:function(){return this._segmentIndex},getComponentIndex:function(){return this._componentIndex},isEndpoint:function(t){var e=t.getGeometryN(this._componentIndex),n=e.getNumPoints()-1;return this._segmentIndex>=n||this._segmentIndex===n&&this._segmentFraction>=1},isValid:function(t){if(this._componentIndex<0||this._componentIndex>=t.getNumGeometries())return!1;var e=t.getGeometryN(this._componentIndex);return!(this._segmentIndex<0||this._segmentIndex>e.getNumPoints())&&((this._segmentIndex!==e.getNumPoints()||0===this._segmentFraction)&&!(this._segmentFraction<0||this._segmentFraction>1))},normalize:function(){this._segmentFraction<0&&(this._segmentFraction=0),this._segmentFraction>1&&(this._segmentFraction=1),this._componentIndex<0&&(this._componentIndex=0,this._segmentIndex=0,this._segmentFraction=0),this._segmentIndex<0&&(this._segmentIndex=0,this._segmentFraction=0),1===this._segmentFraction&&(this._segmentFraction=0,this._segmentIndex+=1)},toLowest:function(t){var e=t.getGeometryN(this._componentIndex),n=e.getNumPoints()-1;return this._segmentIndex<n?this:new r(this._componentIndex,n,1,!1)},getCoordinate:function(t){var e=t.getGeometryN(this._componentIndex),n=e.getCoordinateN(this._segmentIndex);if(this._segmentIndex>=e.getNumPoints()-1)return n;var i=e.getCoordinateN(this._segmentIndex+1);return r.pointAlongSegmentByFraction(n,i,this._segmentFraction)},getSegmentFraction:function(){return this._segmentFraction},getSegment:function(t){var e=t.getGeometryN(this._componentIndex),n=e.getCoordinateN(this._segmentIndex);if(this._segmentIndex>=e.getNumPoints()-1){var i=e.getCoordinateN(e.getNumPoints()-2);return new f.default(i,n)}var r=e.getCoordinateN(this._segmentIndex+1);return new f.default(n,r)},clamp:function(t){if(this._componentIndex>=t.getNumGeometries())return this.setToEnd(t),null;if(this._segmentIndex>=t.getNumPoints()){var e=t.getGeometryN(this._componentIndex);this._segmentIndex=e.getNumPoints()-1,this._segmentFraction=1}},setToEnd:function(t){this._componentIndex=t.getNumGeometries()-1;var e=t.getGeometryN(this._componentIndex);this._segmentIndex=e.getNumPoints()-1,this._segmentFraction=1},compareTo:function(t){var e=t;return this._componentIndex<e._componentIndex?-1:this._componentIndex>e._componentIndex?1:this._segmentIndex<e._segmentIndex?-1:this._segmentIndex>e._segmentIndex?1:this._segmentFraction<e._segmentFraction?-1:this._segmentFraction>e._segmentFraction?1:0},clone:function(){return new r(this._componentIndex,this._segmentIndex,this._segmentFraction)},toString:function(){return"LinearLoc["+this._componentIndex+", "+this._segmentIndex+", "+this._segmentFraction+"]"},isOnSameSegment:function(t){return this._componentIndex===t._componentIndex&&(this._segmentIndex===t._segmentIndex||(t._segmentIndex-this._segmentIndex==1&&0===t._segmentFraction||this._segmentIndex-t._segmentIndex==1&&0===this._segmentFraction))},snapToVertex:function(t,e){if(this._segmentFraction<=0||this._segmentFraction>=1)return null;var n=this.getSegmentLength(t),i=this._segmentFraction*n,r=n-i;i<=r&&i<e?this._segmentFraction=0:r<=i&&r<e&&(this._segmentFraction=1)},compareLocationValues:function(t,e,n){return this._componentIndex<t?-1:this._componentIndex>t?1:this._segmentIndex<e?-1:this._segmentIndex>e?1:this._segmentFraction<n?-1:this._segmentFraction>n?1:0},getSegmentLength:function(t){var e=t.getGeometryN(this._componentIndex),n=this._segmentIndex;this._segmentIndex>=e.getNumPoints()-1&&(n=e.getNumPoints()-2);var i=e.getCoordinateN(n),r=e.getCoordinateN(n+1);return i.distance(r)},isVertex:function(){return this._segmentFraction<=0||this._segmentFraction>=1},interfaces_:function(){return[d.default]},getClass:function(){return r}}),r.getEndLocation=function(t){var e=new r;return e.setToEnd(t),e},r.pointAlongSegmentByFraction=function(t,e,n){if(n<=0)return t;if(n>=1)return e;var i=(e.x-t.x)*n+t.x,r=(e.y-t.y)*n+t.y,o=(e.z-t.z)*n+t.z;return new s.default(i,r,o)},r.compareLocationValues=function(t,e,n,i,r,o){return t<i?-1:t>i?1:e<r?-1:e>r?1:n<o?-1:n>o?1:0}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){if(n=n||{},!(0,p.isObject)(n))throw new Error("options is invalid");var i=t.geometry?t.geometry.type:t.type;if("LineString"!==i&&"MultiLineString"!==i)throw new Error("lines must be LineString or MultiLineString");var r=(0,p.point)([1/0,1/0],{dist:1/0}),o=0;return(0,h.flattenEach)(t,function(t){for(var i=(0,g.getCoords)(t),a=0;a<i.length-1;a++){var l=(0,p.point)(i[a]);l.properties.dist=(0,u.default)(e,l,n);var c=(0,p.point)(i[a+1]);c.properties.dist=(0,u.default)(e,c,n);var h=(0,u.default)(l,c,n),_=Math.max(l.properties.dist,c.properties.dist),m=(0,s.default)(l,c),v=(0,f.default)(e,_,m+90,n),y=(0,f.default)(e,_,m-90,n),b=(0,d.default)((0,p.lineString)([v.geometry.coordinates,y.geometry.coordinates]),(0,p.lineString)([l.geometry.coordinates,c.geometry.coordinates])),x=null;b.features.length>0&&(x=b.features[0],x.properties.dist=(0,u.default)(e,x,n),x.properties.location=o+(0,u.default)(l,x,n)),l.properties.dist<r.properties.dist&&(r=l,r.properties.index=a,r.properties.location=o),c.properties.dist<r.properties.dist&&(r=c,r.properties.index=a+1,r.properties.location=o+h),x&&x.properties.dist<r.properties.dist&&(r=x,r.properties.index=a),o+=h}}),r}Object.defineProperty(e,"__esModule",{value:!0});var o=n(62),s=i(o),a=n(23),u=i(a),l=n(54),f=i(l),c=n(59),d=i(c),h=n(6),p=n(1),g=n(5);e.default=r},function(t,e,n){"use strict";function i(t){var e=(0,a.default)(t);return e.insert=function(t){if(Array.isArray(t)){var e=t;t=r(e),t.bbox=e}else t.bbox=t.bbox?t.bbox:o(t);return a.default.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach(function(t){var n=r(t);n.bbox=t,e.push(n)}):(0,u.featureEach)(t,function(t){t.bbox=t.bbox?t.bbox:o(t),e.push(t)}),a.default.prototype.load.call(this,e)},e.remove=function(t){if(Array.isArray(t)){var e=t;t=r(e),t.bbox=e}return a.default.prototype.remove.call(this,t)},e.clear=function(){return a.default.prototype.clear.call(this)},e.search=function(t){return{type:"FeatureCollection",features:a.default.prototype.search.call(this,this.toBBox(t))}},e.collides=function(t){return a.default.prototype.collides.call(this,this.toBBox(t))},e.all=function(){return{type:"FeatureCollection",features:a.default.prototype.all.call(this)}},e.toJSON=function(){return a.default.prototype.toJSON.call(this)},e.fromJSON=function(t){return a.default.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;return e=t.bbox?t.bbox:Array.isArray(t)&&4===t.length?t:o(t),{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}function r(t){var e=[t[0],t[1]],n=[t[0],t[3]],i=[t[2],t[3]];return{type:"Feature",bbox:t,properties:{},geometry:{type:"Polygon",coordinates:[[e,[t[2],t[1]],i,n,e]]}}}function o(t){var e=[1/0,1/0,-1/0,-1/0];return(0,u.coordEach)(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}Object.defineProperty(e,"__esModule",{value:!0});var s=n(542),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=n(6);e.default=i},function(t,e,n){"use strict";function i(t,e,n){if(n=n||{},!(0,o.isObject)(n))throw new Error("options is invalid");var i=n.units;if(!t)throw new Error("from point is required");if(!e)throw new Error("to point is required");var a=(0,s.getCoord)(t),u=(0,s.getCoord)(e);u[0]+=u[0]-a[0]>180?-360:a[0]-u[0]>180?360:0;var l=r(a,u);return(0,o.convertLength)(l,"meters",i)}function r(t,e,n){n=void 0===n?o.earthRadius:Number(n);var i=n,r=t[1]*Math.PI/180,s=e[1]*Math.PI/180,a=s-r,u=Math.abs(e[0]-t[0])*Math.PI/180;u>Math.PI&&(u-=2*Math.PI);var l=Math.log(Math.tan(s/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),f=Math.abs(l)>1e-11?a/l:Math.cos(r);return Math.sqrt(a*a+f*f*u*u)*i}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),s=n(5);e.default=i},function(t,e,n){"use strict";function i(t){return(0,u.geomReduce)(t,function(t,e){return t+r(e)},0)}function r(t){var e,n=0;switch(t.type){case"Polygon":return o(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=o(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(e=0;e<t.geometries.length;e++)n+=r(t.geometries[e]);return n}}function o(t){var e=0;if(t&&t.length>0){e+=Math.abs(s(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(s(t[n]))}return e}function s(t){var e,n,i,r,o,s,u,f=0,c=t.length;if(c>2){for(u=0;u<c;u++)u===c-2?(r=c-2,o=c-1,s=0):u===c-1?(r=c-1,o=0,s=1):(r=u,o=u+1,s=u+2),e=t[r],n=t[o],i=t[s],f+=(a(i[0])-a(e[0]))*Math.sin(a(n[1]));f=f*l*l/2}return f}function a(t){return t*Math.PI/180}Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=6378137;e.default=i},function(t,e,n){"use strict";function i(t,e,n){n=n||{};var i=n.ignoreEndVertices;if(!(0,s.isObject)(n))throw new Error("invalid options");if(!t)throw new Error("pt is required");if(!e)throw new Error("line is required");for(var a=(0,o.getCoord)(t),u=(0,o.getCoords)(e),l=0;l<u.length-1;l++){var f=!1;if(i&&(0===l&&(f="start"),l===u.length-2&&(f="end"),0===l&&l+1===u.length-1&&(f="both")),r(u[l],u[l+1],a,f))return!0}return!1}function r(t,e,n,i){var r=n[0],o=n[1],s=t[0],a=t[1],u=e[0],l=e[1],f=n[0]-s,c=n[1]-a,d=u-s,h=l-a;return 0==f*h-c*d&&(i?"start"===i?Math.abs(d)>=Math.abs(h)?d>0?s<r&&r<=u:u<=r&&r<s:h>0?a<o&&o<=l:l<=o&&o<a:"end"===i?Math.abs(d)>=Math.abs(h)?d>0?s<=r&&r<u:u<r&&r<=s:h>0?a<=o&&o<l:l<o&&o<=a:"both"===i?Math.abs(d)>=Math.abs(h)?d>0?s<r&&r<u:u<r&&r<s:h>0?a<o&&o<l:l<o&&o<a:void 0:Math.abs(d)>=Math.abs(h)?d>0?s<=r&&r<=u:u<=r&&r<=s:h>0?a<=o&&o<=l:l<=o&&o<=a)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),s=n(1);e.default=i},function(t,e,n){"use strict";function i(t,e,n,i){if(i=i||{},!(0,o.isObject)(i))throw new Error("options is invalid");var a=i.units,u=i.properties;if(!t)throw new Error("origin is required");if(void 0===e||null===e)throw new Error("distance is required");if(void 0===n||null===n)throw new Error("bearing is required");if(!(e>=0))throw new Error("distance must be greater than 0");var l=(0,o.convertLength)(e,a,"meters"),f=(0,s.getCoord)(t),c=r(f,l,n);return c[0]+=c[0]-f[0]>180?-360:f[0]-c[0]>180?360:0,(0,o.point)(c,u)}function r(t,e,n,i){i=void 0===i?o.earthRadius:Number(i);var r=e/i,s=t[0]*Math.PI/180,a=(0,o.degreesToRadians)(t[1]),u=(0,o.degreesToRadians)(n),l=r*Math.cos(u),f=a+l;Math.abs(f)>Math.PI/2&&(f=f>0?Math.PI-f:-Math.PI-f);var c=Math.log(Math.tan(f/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),d=Math.abs(c)>1e-11?l/c:Math.cos(a);return[(180*(s+r*Math.sin(u)/d)/Math.PI+540)%360-180,180*f/Math.PI]}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),s=n(5);e.default=i},function(t,e,n){"use strict";function i(t,e){return[t>f.pi?t-f.tau:t<-f.pi?t+f.tau:t,e]}function r(t,e,n){return(t%=f.tau)?e||n?(0,l.default)(s(t),a(e,n)):s(t):e||n?a(e,n):i}function o(t){return function(e,n){return e+=t,[e>f.pi?e-f.tau:e<-f.pi?e+f.tau:e,n]}}function s(t){var e=o(t);return e.invert=o(-t),e}function a(t,e){function n(t,e){var n=(0,f.cos)(e),a=(0,f.cos)(t)*n,u=(0,f.sin)(t)*n,l=(0,f.sin)(e),c=l*i+a*r;return[(0,f.atan2)(u*o-c*s,a*i-l*r),(0,f.asin)(c*o+u*s)]}var i=(0,f.cos)(t),r=(0,f.sin)(t),o=(0,f.cos)(e),s=(0,f.sin)(e);return n.invert=function(t,e){var n=(0,f.cos)(e),a=(0,f.cos)(t)*n,u=(0,f.sin)(t)*n,l=(0,f.sin)(e),c=l*o-u*s;return[(0,f.atan2)(u*o+l*s,a*i+c*r),(0,f.asin)(c*i-a*r)]},n}Object.defineProperty(e,"__esModule",{value:!0}),e.rotateRadians=r,e.default=function(t){function e(e){return e=t(e[0]*f.radians,e[1]*f.radians),e[0]*=f.degrees,e[1]*=f.degrees,e}return t=r(t[0]*f.radians,t[1]*f.radians,t.length>2?t[2]*f.radians:0),e.invert=function(e){return e=t.invert(e[0]*f.radians,e[1]*f.radians),e[0]*=f.degrees,e[1]*=f.degrees,e},e};var u=n(268),l=function(t){return t&&t.__esModule?t:{default:t}}(u),f=n(8);i.invert=i},function(t,e,n){"use strict";function i(t){return function(e){var n=new r;for(var i in t)n[i]=t[i];return n.stream=e,n}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return{stream:i(t)}},e.transformer=i,r.prototype={constructor:r,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},function(t,e,n){"use strict";(function(e){function i(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var r=n(33),o=n(299),s={"Content-Type":"application/x-www-form-urlencoded"},a={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=n(168):void 0!==e&&(t=n(168)),t}(),transformRequest:[function(t,e){return o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(i(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(i(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};a.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(t){a.headers[t]={}}),r.forEach(["post","put","patch"],function(t){a.headers[t]=r.merge(s)}),t.exports=a}).call(e,n(298))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(null==t)return r.default;var e,n,i=t.scale[0],o=t.scale[1],s=t.translate[0],a=t.translate[1];return function(t,r){r||(e=n=0);var u=2,l=t.length,f=new Array(l);for(f[0]=(e+=t[0])*i+s,f[1]=(n+=t[1])*o+a;u<l;)f[u]=t[u],++u;return f}};var i=n(178),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=e.id,i=e.bbox,r=null==e.properties?{}:e.properties,s=o(t,e);return null==n&&null==i?{type:"Feature",properties:r,geometry:s}:null==i?{type:"Feature",id:n,properties:r,geometry:s}:{type:"Feature",id:n,bbox:i,properties:r,geometry:s}}function o(t,e){function n(t,e){e.length&&e.pop();for(var n=c[t<0?~t:t],i=0,r=n.length;i<r;++i)e.push(f(n[i],i));t<0&&(0,a.default)(e,r)}function i(t){return f(t)}function r(t){for(var e=[],i=0,r=t.length;i<r;++i)n(t[i],e);return e.length<2&&e.push(e[0]),e}function o(t){for(var e=r(t);e.length<4;)e.push(e[0]);return e}function s(t){return t.map(o)}function u(t){var e,n=t.type;switch(n){case"GeometryCollection":return{type:n,geometries:t.geometries.map(u)};case"Point":e=i(t.coordinates);break;case"MultiPoint":e=t.coordinates.map(i);break;case"LineString":e=r(t.arcs);break;case"MultiLineString":e=t.arcs.map(r);break;case"Polygon":e=s(t.arcs);break;case"MultiPolygon":e=t.arcs.map(s);break;default:return null}return{type:n,coordinates:e}}var f=(0,l.default)(t.transform),c=t.arcs;return u(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return r(t,e)})}:r(t,e)},e.feature=r,e.object=o;var s=n(336),a=i(s),u=n(122),l=i(u)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i,r,o){function s(i,o){for(var s=e(i)&d,a=f[s],u=0;a!=r;){if(n(a,i))return c[s]=o;if(++u>=t)throw new Error("full hashmap");a=f[s=s+1&d]}return f[s]=i,c[s]=o,o}function a(i,o){for(var s=e(i)&d,a=f[s],u=0;a!=r;){if(n(a,i))return c[s];if(++u>=t)throw new Error("full hashmap");a=f[s=s+1&d]}return f[s]=i,c[s]=o,o}function u(i,o){for(var s=e(i)&d,a=f[s],u=0;a!=r;){if(n(a,i))return c[s];if(++u>=t)break;a=f[s=s+1&d]}return o}function l(){for(var t=[],e=0,n=f.length;e<n;++e){var i=f[e];i!=r&&t.push(i)}return t}3===arguments.length&&(i=o=Array,r=null);for(var f=new i(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),c=new o(t),d=t-1,h=0;h<t;++h)f[h]=r;return{set:s,maybeSet:a,get:u,keys:l}}},function(t,e,n){"use strict";function i(t){var e=[t[0],t[1]],n=[t[0],t[3]],i=[t[2],t[3]],o=[t[2],t[1]];return(0,r.polygon)([[e,o,i,n,e]])}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1);e.default=i},function(t,e,n){"use strict";function i(t,e,n){n=n||{};var i=n.steps||64,o=n.properties;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if("object"!==(void 0===n?"undefined":r(n)))throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be a number");i=i||64,o=o||t.properties||{};for(var u=[],l=0;l<i;l++)u.push((0,s.default)(t,e,-360*l/i,n).geometry.coordinates);return u.push(u[0]),(0,a.polygon)([u],o)}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(54),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=n(1);e.default=i},function(t,e,n){"use strict";function i(t){var e=[];return"FeatureCollection"===t.type?(0,r.featureEach)(t,function(t){(0,r.coordEach)(t,function(n){e.push((0,o.point)(n,t.properties))})}):(0,r.coordEach)(t,function(n){e.push((0,o.point)(n,t.properties))}),(0,o.featureCollection)(e)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),o=n(1);e.default=i},function(t,e,n){"use strict";function i(t){this.message=t||""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype=new Error,i.prototype.name="OperationNotSupported"},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(15),s=i(o);(0,i(n(0)).default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.log10=function(t){var e=Math.log(t);return s.default.isInfinite(e)?e:s.default.isNaN(e)?e:e/r.LOG_10},r.min=function(t,e,n,i){var r=t;return e<r&&(r=e),n<r&&(r=n),i<r&&(r=i),r},r.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1],o=arguments[2];return i<r?r:i>o?o:i}},r.wrap=function(t,e){return t<0?e- -t%e:t%e},r.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=t;return e>i&&(i=e),n>i&&(i=n),i}if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],i=r;return o>i&&(i=o),s>i&&(i=s),a>i&&(i=a),i}},r.average=function(t,e){return(t+e)/2},r.LOG_10=Math.log(10)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0];r.call(this,t,l.default.MOD2_BOUNDARY_RULE)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._geom=e,this._geomFact=e.getFactory(),this._bnRule=n}}function o(){this.count=null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(13),a=i(s),u=n(76),l=i(u),f=n(0),c=i(f),d=n(25),h=i(d),p=n(2),g=i(p),_=n(44),m=i(_),v=n(37),y=i(v);(0,c.default)(r.prototype,{boundaryMultiLineString:function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},getBoundary:function(){return this._geom instanceof a.default?this.boundaryLineString(this._geom):this._geom instanceof y.default?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},boundaryLineString:function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();if(t.isClosed()){return this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint()}return this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},getEmptyMultiPoint:function(){return this._geomFact.createMultiPoint()},computeBoundaryCoordinates:function(t){var e=new g.default;this._endpointMap=new m.default;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);0!==i.getNumPoints()&&(this.addEndpoint(i.getCoordinateN(0)),this.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var r=this._endpointMap.entrySet().iterator();r.hasNext();){var o=r.next(),s=o.getValue(),a=s.count;this._bnRule.isInBoundary(a)&&e.add(o.getKey())}return h.default.toCoordinateArray(e)},addEndpoint:function(t){var e=this._endpointMap.get(t);null===e&&(e=new o,this._endpointMap.put(t,e)),e.count++},interfaces_:function(){return[]},getClass:function(){return r}}),r.getBoundary=function(){if(1===arguments.length){var t=arguments[0],e=new r(t);return e.getBoundary()}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=new r(n,i);return e.getBoundary()}},(0,c.default)(o.prototype,{interfaces_:function(){return[]},getClass:function(){return o}})},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(43),s=i(o),a=n(373),u=i(a),l=n(15),f=i(l),c=n(0),d=i(c),h=n(46),p=i(h);(0,d.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.copyCoord=function(t,e,n,i){for(var r=Math.min(t.getDimension(),n.getDimension()),o=0;o<r;o++)n.setOrdinate(i,o,t.getOrdinate(e,o))},r.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&(t.getOrdinate(0,p.default.X)===t.getOrdinate(e-1,p.default.X)&&t.getOrdinate(0,p.default.Y)===t.getOrdinate(e-1,p.default.Y))},r.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),r=0;r<n;r++)for(var o=0;o<i;o++){var s=t.getOrdinate(r,o),a=e.getOrdinate(r,o);if(t.getOrdinate(r,o)!==e.getOrdinate(r,o)&&(!f.default.isNaN(s)||!f.default.isNaN(a)))return!1}return!0},r.extend=function(t,e,n){var i=t.create(n,e.getDimension()),o=e.size();if(r.copy(e,0,i,0,o),o>0)for(var s=o;s<n;s++)r.copy(e,o-1,i,s,1);return i},r.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),i=0;i<=n;i++)r.swap(t,i,e-i)},r.swap=function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var r=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,r)}},r.copy=function(t,e,n,i,o){for(var s=0;s<o;s++)r.copyCoord(t,e+s,n,i+s)},r.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),i=new s.default;i.append("(");for(var r=0;r<e;r++){r>0&&i.append(" ");for(var o=0;o<n;o++)o>0&&i.append(","),i.append(u.default.toString(t.getOrdinate(r,o)))}return i.append(")"),i.toString()}},r.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?r.createClosedRing(t,e,4):e.getOrdinate(0,p.default.X)===e.getOrdinate(n-1,p.default.X)&&e.getOrdinate(0,p.default.Y)===e.getOrdinate(n-1,p.default.Y)?e:r.createClosedRing(t,e,n+1)},r.createClosedRing=function(t,e,n){var i=t.create(n,e.getDimension()),o=e.size();r.copy(e,0,i,0,o);for(var s=o;s<n;s++)r.copy(e,0,i,s,1);return i}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._factory=null,this._isUserDataCopied=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._factory=t}}function o(){}function s(){}function a(){}function u(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var l=n(13),f=i(l),c=n(32),d=i(c),h=n(20),p=i(h),g=n(50),_=i(g),m=n(38),v=i(m),y=n(0),b=i(y),x=n(39),E=i(x),w=n(17),M=i(w),L=n(2),P=i(L),C=n(7),I=i(C),S=n(37),O=i(S);(0,b.default)(r.prototype,{setCopyUserData:function(t){this._isUserDataCopied=t},edit:function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},editInternal:function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof M.default?this.editGeometryCollection(t,e):t instanceof p.default?this.editPolygon(t,e):t instanceof d.default?e.edit(t,this._factory):t instanceof f.default?e.edit(t,this._factory):(I.default.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},editGeometryCollection:function(t,e){for(var n=e.edit(t,this._factory),i=new P.default,r=0;r<n.getNumGeometries();r++){var o=this.edit(n.getGeometryN(r),e);null===o||o.isEmpty()||i.add(o)}return n.getClass()===_.default?this._factory.createMultiPoint(i.toArray([])):n.getClass()===O.default?this._factory.createMultiLineString(i.toArray([])):n.getClass()===E.default?this._factory.createMultiPolygon(i.toArray([])):this._factory.createGeometryCollection(i.toArray([]))},editPolygon:function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var i=this.edit(n.getExteriorRing(),e);if(null===i||i.isEmpty())return this._factory.createPolygon();for(var r=new P.default,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||r.add(s)}return this._factory.createPolygon(i,r.toArray([]))},interfaces_:function(){return[]},getClass:function(){return r}}),r.GeometryEditorOperation=o,(0,b.default)(s.prototype,{edit:function(t,e){return t},interfaces_:function(){return[o]},getClass:function(){return s}}),(0,b.default)(a.prototype,{edit:function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof v.default?e.createLinearRing(n):t instanceof f.default?e.createLineString(n):t instanceof d.default?n.length>0?e.createPoint(n[0]):e.createPoint():t},interfaces_:function(){return[o]},getClass:function(){return a}}),(0,b.default)(u.prototype,{edit:function(t,e){return t instanceof v.default?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof f.default?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof d.default?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},interfaces_:function(){return[o]},getClass:function(){return u}}),r.NoOpGeometryOperation=s,r.CoordinateOperation=a,r.CoordinateSequenceOperation=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._geomFactory=null,this._inputPts=null,1===arguments.length){var t=arguments[0];r.call(this,r.extractCoordinates(t),t.getFactory())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._inputPts=L.default.filterCoordinates(e),this._geomFactory=n}}function o(){this._origin=null;var t=arguments[0];this._origin=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(57),a=i(s),u=n(12),l=i(u),f=n(24),c=i(f),d=n(77),h=i(d),p=n(80),g=i(p),_=n(0),m=i(_),v=n(25),y=i(v),b=n(2),x=i(b),E=n(63),w=i(E),M=n(385),L=i(M),P=n(7),C=i(P);(0,m.default)(r.prototype,{preSort:function(t){for(var e=null,n=1;n<t.length;n++)(t[n].y<t[0].y||t[n].y===t[0].y&&t[n].x<t[0].x)&&(e=t[0],t[0]=t[n],t[n]=e);return h.default.sort(t,1,t.length,new o(t[0])),t},computeOctRing:function(t){var e=this.computeOctPts(t),n=new c.default;return n.add(e,!1),n.size()<3?null:(n.closeRing(),n.toCoordinateArray())},lineOrPolygon:function(t){if(t=this.cleanRing(t),3===t.length)return this._geomFactory.createLineString([t[0],t[1]]);var e=this._geomFactory.createLinearRing(t);return this._geomFactory.createPolygon(e,null)},cleanRing:function(t){C.default.equals(t[0],t[t.length-1]);for(var e=new x.default,n=null,i=0;i<=t.length-2;i++){var r=t[i],o=t[i+1];r.equals(o)||(null!==n&&this.isBetween(n,r,o)||(e.add(r),n=r))}e.add(t[t.length-1]);var s=new Array(e.size()).fill(null);return e.toArray(s)},isBetween:function(t,e,n){if(0!==l.default.computeOrientation(t,e,n))return!1;if(t.x!==n.x){if(t.x<=e.x&&e.x<=n.x)return!0;if(n.x<=e.x&&e.x<=t.x)return!0}if(t.y!==n.y){if(t.y<=e.y&&e.y<=n.y)return!0;if(n.y<=e.y&&e.y<=t.y)return!0}return!1},reduce:function(t){var e=this.computeOctRing(t);if(null===e)return t;for(var n=new a.default,i=0;i<e.length;i++)n.add(e[i]);for(var i=0;i<t.length;i++)l.default.isPointInRing(t[i],e)||n.add(t[i]);var r=y.default.toCoordinateArray(n);return r.length<3?this.padArray3(r):r},getConvexHull:function(){if(0===this._inputPts.length)return this._geomFactory.createGeometryCollection(null);if(1===this._inputPts.length)return this._geomFactory.createPoint(this._inputPts[0]);if(2===this._inputPts.length)return this._geomFactory.createLineString(this._inputPts);var t=this._inputPts;this._inputPts.length>50&&(t=this.reduce(this._inputPts));var e=this.preSort(t),n=this.grahamScan(e),i=this.toCoordinateArray(n);return this.lineOrPolygon(i)},padArray3:function(t){for(var e=new Array(3).fill(null),n=0;n<e.length;n++)n<t.length?e[n]=t[n]:e[n]=t[0];return e},computeOctPts:function(t){for(var e=new Array(8).fill(null),n=0;n<e.length;n++)e[n]=t[0];for(var i=1;i<t.length;i++)t[i].x<e[0].x&&(e[0]=t[i]),t[i].x-t[i].y<e[1].x-e[1].y&&(e[1]=t[i]),t[i].y>e[2].y&&(e[2]=t[i]),t[i].x+t[i].y>e[3].x+e[3].y&&(e[3]=t[i]),t[i].x>e[4].x&&(e[4]=t[i]),t[i].x-t[i].y>e[5].x-e[5].y&&(e[5]=t[i]),t[i].y<e[6].y&&(e[6]=t[i]),t[i].x+t[i].y<e[7].x+e[7].y&&(e[7]=t[i]);return e},toCoordinateArray:function(t){for(var e=new Array(t.size()).fill(null),n=0;n<t.size();n++){var i=t.get(n);e[n]=i}return e},grahamScan:function(t){var e=null,n=new g.default;e=n.push(t[0]),e=n.push(t[1]),e=n.push(t[2]);for(var i=3;i<t.length;i++){for(e=n.pop();!n.empty()&&l.default.computeOrientation(n.peek(),e,t[i])>0;)e=n.pop();e=n.push(e),e=n.push(t[i])}return e=n.push(t[0]),n},interfaces_:function(){return[]},getClass:function(){return r}}),r.extractCoordinates=function(t){var e=new L.default;return t.apply(e),e.getCoordinates()},(0,m.default)(o.prototype,{compare:function(t,e){var n=t,i=e;return o.polarCompare(this._origin,n,i)},interfaces_:function(){return[w.default]},getClass:function(){return o}}),o.polarCompare=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=n.x-t.x,s=n.y-t.y,a=l.default.computeOrientation(t,e,n);if(a===l.default.COUNTERCLOCKWISE)return 1;if(a===l.default.CLOCKWISE)return-1;var u=i*i+r*r,f=o*o+s*s;return u<f?-1:u>f?1:0},r.RadialComparator=o},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{getCoordinates:function(){},size:function(){},getCoordinate:function(t){},isClosed:function(){},setData:function(t){},getData:function(){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._childBoundables=new f.default,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(199),s=i(o),a=n(0),u=i(a),l=n(2),f=i(l),c=n(28),d=i(c),h=n(7),p=i(h);(0,u.default)(r.prototype,{getLevel:function(){return this._level},size:function(){return this._childBoundables.size()},getChildBoundables:function(){return this._childBoundables},addChildBoundable:function(t){p.default.isTrue(null===this._bounds),this._childBoundables.add(t)},isEmpty:function(){return this._childBoundables.isEmpty()},getBounds:function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},interfaces_:function(){return[s.default,d.default]},getClass:function(){return r}}),r.serialVersionUID=0x5a1e55ec41369800},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{computeNodes:function(t){},getNodedSubstrings:function(){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{processIntersections:function(t,e,n,i){},isDone:function(){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.nodeMap=new _.default,this.nodeFact=null;var t=arguments[0];this.nodeFact=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(14),s=i(o),a=n(3),u=i(a),l=n(84),f=i(l),c=n(0),d=i(c),h=n(2),p=i(h),g=n(44),_=i(g);(0,d.default)(r.prototype,{find:function(t){return this.nodeMap.get(t)},addNode:function(){if(arguments[0]instanceof u.default){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof f.default){var n=arguments[0],e=this.nodeMap.get(n.getCoordinate());return null===e?(this.nodeMap.put(n.getCoordinate(),n),n):(e.mergeLabel(n),e)}},print:function(t){for(var e=this.iterator();e.hasNext();){e.next().print(t)}},iterator:function(){return this.nodeMap.values().iterator()},values:function(){return this.nodeMap.values()},getBoundaryNodes:function(t){for(var e=new p.default,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===s.default.BOUNDARY&&e.add(i)}return e},add:function(t){var e=t.getCoordinate();this.addNode(e).add(t)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];r.call(this,e,n,i,null)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];r.call(this,o),this.init(s,a),this._label=u}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(12),s=i(o),a=n(0),u=i(a),l=n(26),f=i(l),c=n(58),d=i(c),h=n(7),p=i(h);(0,u.default)(r.prototype,{compareDirection:function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:s.default.computeOrientation(t._p0,t._p1,this._p1)},getDy:function(){return this._dy},getCoordinate:function(){return this._p0},setNode:function(t){this._node=t},print:function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),i=n.lastIndexOf("."),r=n.substring(i+1);t.print("  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},compareTo:function(t){var e=t;return this.compareDirection(e)},getDirectedCoordinate:function(){return this._p1},getDx:function(){return this._dx},getLabel:function(){return this._label},getEdge:function(){return this._edge},getQuadrant:function(){return this._quadrant},getNode:function(){return this._node},toString:function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},computeLabel:function(t){},init:function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=d.default.quadrant(this._dx,this._dy),p.default.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},interfaces_:function(){return[f.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(84),s=i(o);(0,i(n(0)).default)(r.prototype,{createNode:function(t){return new s.default(t,null)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){p.default.apply(this)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(412),s=i(o),a=n(84),u=i(a),l=n(0),f=i(l),c=n(4),d=i(c),h=n(142),p=i(h);(0,d.default)(r,p.default),(0,f.default)(r.prototype,{createNode:function(t){return new u.default(t,new s.default)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._li=new d.default,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new f.default(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];r.call(this,e,n,s.default.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new f.default(0,i,a),this._arg[1]=new f.default(1,o,a)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(76),s=i(o),a=n(0),u=i(a),l=n(85),f=i(l),c=n(29),d=i(c);(0,u.default)(r.prototype,{getArgGeometry:function(t){return this._arg[t].getGeometry()},setComputationPrecision:function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(){}function r(t,e){var n,i,r,o,s={32:{d:127,c:128,b:0,a:0},64:{d:32752,c:0,b:0,a:0}},a={32:8,64:11}[t];if(o||(n=e<0||1/e<0,isFinite(e)||(o=s[t],n&&(o.d+=1<<t/4-1),i=Math.pow(2,a)-1,r=0)),!o){for(i={32:127,64:1023}[t],r=Math.abs(e);r>=2;)i++,r/=2;for(;r<1&&i>0;)i--,r*=2;i<=0&&(r/=2),32===t&&i>254&&(o={d:n?255:127,c:128,b:0,a:0},i=Math.pow(2,a)-1,r=0)}return i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.exponent=function(t){return r(64,t)-1023},i.powerOf2=function(t){return Math.pow(2,t)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(12),s=i(o);(0,i(n(0)).default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.toDegrees=function(t){return 180*t/Math.PI},r.normalize=function(t){for(;t>Math.PI;)t-=r.PI_TIMES_2;for(;t<=-Math.PI;)t+=r.PI_TIMES_2;return t},r.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],i=n.x-e.x,r=n.y-e.y;return Math.atan2(r,i)}},r.isAcute=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)>0},r.isObtuse=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)<0},r.interiorAngle=function(t,e,n){var i=r.angle(e,t),o=r.angle(e,n);return Math.abs(o-i)},r.normalizePositive=function(t){if(t<0){for(;t<0;)t+=r.PI_TIMES_2;t>=r.PI_TIMES_2&&(t=0)}else{for(;t>=r.PI_TIMES_2;)t-=r.PI_TIMES_2;t<0&&(t=0)}return t},r.angleBetween=function(t,e,n){var i=r.angle(e,t),o=r.angle(e,n);return r.diff(i,o)},r.diff=function(t,e){var n=null;return n=t<e?e-t:t-e,n>Math.PI&&(n=2*Math.PI-n),n},r.toRadians=function(t){return t*Math.PI/180},r.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?r.COUNTERCLOCKWISE:n<0?r.CLOCKWISE:r.NONE},r.angleBetweenOriented=function(t,e,n){var i=r.angle(e,t),o=r.angle(e,n),s=o-i;return s<=-Math.PI?s+r.PI_TIMES_2:s>Math.PI?s-r.PI_TIMES_2:s},r.PI_TIMES_2=2*Math.PI,r.PI_OVER_2=Math.PI/2,r.PI_OVER_4=Math.PI/4,r.COUNTERCLOCKWISE=s.default.COUNTERCLOCKWISE,r.CLOCKWISE=s.default.CLOCKWISE,r.NONE=s.default.COLLINEAR},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._parentGeometry=null,this._isSelfTouchingRingFormingHoleValid=!1,this._validErr=null;var t=arguments[0];this._parentGeometry=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(57),s=i(o),a=n(13),u=i(a),l=n(12),f=i(l),c=n(16),d=i(c),h=n(494),p=i(h),g=n(3),_=i(g),m=n(32),v=i(m),y=n(20),b=i(y),x=n(50),E=i(x),w=n(38),M=i(w),L=n(15),P=i(L),C=n(0),I=i(C),S=n(214),O=i(S),N=n(85),T=i(N),R=n(39),A=i(R),D=n(228),k=i(D),j=n(17),F=i(j),z=n(499),G=i(z),B=n(29),q=i(B),U=n(500),V=i(U),Y=n(7),X=i(Y);(0,I.default)(r.prototype,{checkInvalidCoordinates:function(){if(arguments[0]instanceof Array){for(var t=arguments[0],e=0;e<t.length;e++)if(!r.isValid(t[e]))return this._validErr=new V.default(V.default.INVALID_COORDINATE,t[e]),null}else if(arguments[0]instanceof b.default){var n=arguments[0];if(this.checkInvalidCoordinates(n.getExteriorRing().getCoordinates()),null!==this._validErr)return null;for(var e=0;e<n.getNumInteriorRing();e++)if(this.checkInvalidCoordinates(n.getInteriorRingN(e).getCoordinates()),null!==this._validErr)return null}},checkHolesNotNested:function(t,e){for(var n=new G.default(e),i=0;i<t.getNumInteriorRing();i++){var r=t.getInteriorRingN(i);n.add(r)}n.isNonNested()||(this._validErr=new V.default(V.default.NESTED_HOLES,n.getNestedPoint()))},checkConsistentArea:function(t){var e=new k.default(t);if(!e.isNodeConsistentArea())return this._validErr=new V.default(V.default.SELF_INTERSECTION,e.getInvalidPoint()),null;e.hasDuplicateRings()&&(this._validErr=new V.default(V.default.DUPLICATE_RINGS,e.getInvalidPoint()))},isValid:function(){return this.checkValid(this._parentGeometry),null===this._validErr},checkShellInsideHole:function(t,e,n){var i=t.getCoordinates(),o=e.getCoordinates(),s=r.findPtNotNode(i,e,n);if(null!==s){if(!f.default.isPointInRing(s,o))return s}var a=r.findPtNotNode(o,t,n);if(null!==a){return f.default.isPointInRing(a,i)?a:null}return X.default.shouldNeverReachHere("points in shell and hole appear to be equal"),null},checkNoSelfIntersectingRings:function(t){for(var e=t.getEdgeIterator();e.hasNext();){var n=e.next();if(this.checkNoSelfIntersectingRing(n.getEdgeIntersectionList()),null!==this._validErr)return null}},checkConnectedInteriors:function(t){var e=new p.default(t);e.isInteriorsConnected()||(this._validErr=new V.default(V.default.DISCONNECTED_INTERIOR,e.getCoordinate()))},checkNoSelfIntersectingRing:function(t){for(var e=new s.default,n=!0,i=t.iterator();i.hasNext();){var r=i.next();if(n)n=!1;else{if(e.contains(r.coord))return this._validErr=new V.default(V.default.RING_SELF_INTERSECTION,r.coord),null;e.add(r.coord)}}},checkHolesInShell:function(t,e){for(var n=t.getExteriorRing(),i=new O.default(n),o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=r.findPtNotNode(s.getCoordinates(),n,e);if(null===a)return null;if(!i.isInside(a))return this._validErr=new V.default(V.default.HOLE_OUTSIDE_SHELL,a),null}},checkTooFewPoints:function(t){if(t.hasTooFewPoints())return this._validErr=new V.default(V.default.TOO_FEW_POINTS,t.getInvalidPoint()),null},getValidationError:function(){return this.checkValid(this._parentGeometry),this._validErr},checkValid:function(){if(arguments[0]instanceof v.default){var t=arguments[0];this.checkInvalidCoordinates(t.getCoordinates())}else if(arguments[0]instanceof E.default){var e=arguments[0];this.checkInvalidCoordinates(e.getCoordinates())}else if(arguments[0]instanceof M.default){var n=arguments[0];if(this.checkInvalidCoordinates(n.getCoordinates()),null!==this._validErr)return null;if(this.checkClosedRing(n),null!==this._validErr)return null;var i=new T.default(0,n);if(this.checkTooFewPoints(i),null!==this._validErr)return null;var r=new q.default;i.computeSelfNodes(r,!0,!0),this.checkNoSelfIntersectingRings(i)}else if(arguments[0]instanceof u.default){var o=arguments[0];if(this.checkInvalidCoordinates(o.getCoordinates()),null!==this._validErr)return null;var i=new T.default(0,o);this.checkTooFewPoints(i)}else if(arguments[0]instanceof b.default){var s=arguments[0];if(this.checkInvalidCoordinates(s),null!==this._validErr)return null;if(this.checkClosedRings(s),null!==this._validErr)return null;var i=new T.default(0,s);if(this.checkTooFewPoints(i),null!==this._validErr)return null;if(this.checkConsistentArea(i),null!==this._validErr)return null;if(!this._isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(i),null!==this._validErr))return null;if(this.checkHolesInShell(s,i),null!==this._validErr)return null;if(this.checkHolesNotNested(s,i),null!==this._validErr)return null;this.checkConnectedInteriors(i)}else if(arguments[0]instanceof A.default){for(var a=arguments[0],l=0;l<a.getNumGeometries();l++){var f=a.getGeometryN(l);if(this.checkInvalidCoordinates(f),null!==this._validErr)return null;if(this.checkClosedRings(f),null!==this._validErr)return null}var i=new T.default(0,a);if(this.checkTooFewPoints(i),null!==this._validErr)return null;if(this.checkConsistentArea(i),null!==this._validErr)return null;if(!this._isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(i),null!==this._validErr))return null;for(var l=0;l<a.getNumGeometries();l++){var f=a.getGeometryN(l);if(this.checkHolesInShell(f,i),null!==this._validErr)return null}for(var l=0;l<a.getNumGeometries();l++){var f=a.getGeometryN(l);if(this.checkHolesNotNested(f,i),null!==this._validErr)return null}if(this.checkShellsNotNested(a,i),null!==this._validErr)return null;this.checkConnectedInteriors(i)}else if(arguments[0]instanceof F.default)for(var c=arguments[0],l=0;l<c.getNumGeometries();l++){var h=c.getGeometryN(l);if(this.checkValid(h),null!==this._validErr)return null}else if(arguments[0]instanceof d.default){var p=arguments[0];if(this._validErr=null,p.isEmpty())return null;if(p instanceof v.default)this.checkValid(p);else if(p instanceof E.default)this.checkValid(p);else if(p instanceof M.default)this.checkValid(p);else if(p instanceof u.default)this.checkValid(p);else if(p instanceof b.default)this.checkValid(p);else if(p instanceof A.default)this.checkValid(p);else{if(!(p instanceof F.default))throw new UnsupportedOperationException(p.getClass().getName());this.checkValid(p)}}},setSelfTouchingRingFormingHoleValid:function(t){this._isSelfTouchingRingFormingHoleValid=t},checkShellNotNested:function(t,e,n){var i=t.getCoordinates(),o=e.getExteriorRing(),s=o.getCoordinates(),a=r.findPtNotNode(i,o,n);if(null===a)return null;if(!f.default.isPointInRing(a,s))return null;if(e.getNumInteriorRing()<=0)return this._validErr=new V.default(V.default.NESTED_SHELLS,a),null;for(var u=null,l=0;l<e.getNumInteriorRing();l++){var c=e.getInteriorRingN(l);if(null===(u=this.checkShellInsideHole(t,c,n)))return null}this._validErr=new V.default(V.default.NESTED_SHELLS,u)},checkClosedRings:function(t){if(this.checkClosedRing(t.getExteriorRing()),null!==this._validErr)return null;for(var e=0;e<t.getNumInteriorRing();e++)if(this.checkClosedRing(t.getInteriorRingN(e)),null!==this._validErr)return null},checkClosedRing:function(t){if(!t.isClosed()){var e=null;t.getNumPoints()>=1&&(e=t.getCoordinateN(0)),this._validErr=new V.default(V.default.RING_NOT_CLOSED,e)}},checkShellsNotNested:function(t,e){for(var n=0;n<t.getNumGeometries();n++)for(var i=t.getGeometryN(n),r=i.getExteriorRing(),o=0;o<t.getNumGeometries();o++)if(n!==o){var s=t.getGeometryN(o);if(this.checkShellNotNested(r,s,e),null!==this._validErr)return null}},interfaces_:function(){return[]},getClass:function(){return r}}),r.findPtNotNode=function(t,e,n){for(var i=n.findEdge(e),r=i.getEdgeIntersectionList(),o=0;o<t.length;o++){var s=t[o];if(!r.isIntersection(s))return s}return null},r.isValid=function(){if(arguments[0]instanceof d.default){return new r(arguments[0]).isValid()}if(arguments[0]instanceof _.default){var t=arguments[0];return!P.default.isNaN(t.x)&&(!P.default.isInfinite(t.x)&&(!P.default.isNaN(t.y)&&!P.default.isInfinite(t.y)))}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null;var t=arguments[0];this._geomFactory=r.extractFactory(t),this._inputGeoms=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(2),u=i(a);(0,s.default)(r.prototype,{extractElements:function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);this._skipEmpty&&i.isEmpty()||e.add(i)}},combine:function(){for(var t=new u.default,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},interfaces_:function(){return[]},getClass:function(){return r}}),r.combine=function(){if(1===arguments.length){var t=arguments[0],e=new r(t);return e.combine()}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=new r(r.createList(n,i));return e.combine()}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],e=new r(r.createList(o,s,a));return e.combine()}},r.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},r.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new u.default;return n.add(t),n.add(e),n}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],n=new u.default;return n.add(i),n.add(r),n.add(o),n}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._subdiv=null,this._isUsingTolerance=!1;var t=arguments[0];this._subdiv=t,this._isUsingTolerance=t.getTolerance()>0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(236),s=i(o);(0,i(n(0)).default)(r.prototype,{insertSite:function(t){var e=this._subdiv.locate(t);if(this._subdiv.isVertexOfEdge(e,t))return e;this._subdiv.isOnEdge(e,t.getCoordinate())&&(e=e.oPrev(),this._subdiv.delete(e.oNext()));var n=this._subdiv.makeEdge(e.orig(),t);s.default.splice(n,e);var i=n;do{n=this._subdiv.connect(e,n.sym()),e=n.oPrev()}while(e.lNext()!==i);for(;;){var r=e.oPrev();if(r.dest().rightOf(e)&&t.isInCircle(e.orig(),r.dest(),e.dest()))s.default.swap(e),e=e.oPrev();else{if(e.oNext()===i)return n;e=e.oNext().lPrev()}}},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._visitedKey=0,this._quadEdges=new F.default,this._startingEdge=null,this._tolerance=null,this._edgeCoincidenceTolerance=null,this._frameVertex=new Array(3).fill(null),this._frameEnv=null,this._locator=null,this._seg=new k.default,this._triEdges=new Array(3).fill(null);var t=arguments[0],e=arguments[1];this._tolerance=e,this._edgeCoincidenceTolerance=e/r.EDGE_COINCIDENCE_TOL_FACTOR,this.createFrame(t),this._startingEdge=this.initSubdiv(),this._locator=new I.default(this)}function o(){}function s(){this._triList=new F.default}function a(){this._triList=new F.default}function u(){this._coordList=new d.default,this._triCoords=new F.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var l=n(236),f=i(l),c=n(24),d=i(c),h=n(56),p=i(h),g=n(36),_=i(g),m=n(19),v=i(m),y=n(3),b=i(y),x=n(10),E=i(x),w=n(80),M=i(w),L=n(0),P=i(L),C=n(237),I=i(C),S=n(532),O=i(S),N=n(111),T=i(N),R=n(30),A=i(R),D=n(18),k=i(D),j=n(2),F=i(j),z=n(11),G=i(z),B=n(106),q=i(B),U=n(533),V=i(U);(0,P.default)(r.prototype,{getTriangleVertices:function(t){var e=new a;return this.visitTriangles(e,t),e.getTriangleVertices()},isFrameVertex:function(t){return!!t.equals(this._frameVertex[0])||(!!t.equals(this._frameVertex[1])||!!t.equals(this._frameVertex[2]))},isVertexOfEdge:function(t,e){return!(!e.equals(t.orig(),this._tolerance)&&!e.equals(t.dest(),this._tolerance))},connect:function(t,e){var n=f.default.connect(t,e);return this._quadEdges.add(n),n},getVoronoiCellPolygon:function(t,e){var n=new F.default,i=t;do{var r=t.rot().orig().getCoordinate();n.add(r),t=t.oPrev()}while(t!==i);var o=new d.default;o.addAll(n,!1),o.closeRing(),o.size()<4&&(A.default.out.println(o),o.add(o.get(o.size()-1),!0));var s=o.toCoordinateArray(),a=e.createPolygon(e.createLinearRing(s),null),u=i.orig();return a.setUserData(u.getCoordinate()),a},setLocator:function(t){this._locator=t},initSubdiv:function(){var t=this.makeEdge(this._frameVertex[0],this._frameVertex[1]),e=this.makeEdge(this._frameVertex[1],this._frameVertex[2]);f.default.splice(t.sym(),e);var n=this.makeEdge(this._frameVertex[2],this._frameVertex[0]);return f.default.splice(e.sym(),n),f.default.splice(n.sym(),t),t},isFrameBorderEdge:function(t){var e=new Array(3).fill(null);r.getTriangleEdges(t,e);var n=new Array(3).fill(null);r.getTriangleEdges(t.sym(),n);var i=t.lNext().dest();if(this.isFrameVertex(i))return!0;var o=t.sym().lNext().dest();return!!this.isFrameVertex(o)},makeEdge:function(t,e){var n=f.default.makeEdge(t,e);return this._quadEdges.add(n),n},visitTriangles:function(t,e){this._visitedKey++;var n=new M.default;n.push(this._startingEdge);for(var i=new p.default;!n.empty();){var r=n.pop();if(!i.contains(r)){var o=this.fetchTriangleToVisit(r,n,e,i);null!==o&&t.visit(o)}}},isFrameEdge:function(t){return!(!this.isFrameVertex(t.orig())&&!this.isFrameVertex(t.dest()))},isOnEdge:function(t,e){return this._seg.setCoordinates(t.orig().getCoordinate(),t.dest().getCoordinate()),this._seg.distance(e)<this._edgeCoincidenceTolerance},getEnvelope:function(){return new G.default(this._frameEnv)},createFrame:function(t){var e=t.getWidth(),n=t.getHeight(),i=0;i=e>n?10*e:10*n,this._frameVertex[0]=new T.default((t.getMaxX()+t.getMinX())/2,t.getMaxY()+i),this._frameVertex[1]=new T.default(t.getMinX()-i,t.getMinY()-i),this._frameVertex[2]=new T.default(t.getMaxX()+i,t.getMinY()-i),this._frameEnv=new G.default(this._frameVertex[0].getCoordinate(),this._frameVertex[1].getCoordinate()),this._frameEnv.expandToInclude(this._frameVertex[2].getCoordinate())},getTriangleCoordinates:function(t){var e=new u;return this.visitTriangles(e,t),e.getTriangles()},getVertices:function(t){for(var e=new p.default,n=this._quadEdges.iterator();n.hasNext();){var i=n.next(),r=i.orig();!t&&this.isFrameVertex(r)||e.add(r);var o=i.dest();!t&&this.isFrameVertex(o)||e.add(o)}return e},fetchTriangleToVisit:function(t,e,n,i){var r=t,o=0,s=!1;do{this._triEdges[o]=r,this.isFrameEdge(r)&&(s=!0);var a=r.sym();i.contains(a)||e.push(a),i.add(r),o++,r=r.lNext()}while(r!==t);return s&&!n?null:this._triEdges},getEdges:function(){if(0===arguments.length)return this._quadEdges;if(1===arguments.length){for(var t=arguments[0],e=this.getPrimaryEdges(!1),n=new Array(e.size()).fill(null),i=0,r=e.iterator();r.hasNext();){var o=r.next();n[i++]=t.createLineString([o.orig().getCoordinate(),o.dest().getCoordinate()])}return t.createMultiLineString(n)}},getVertexUniqueEdges:function(t){for(var e=new F.default,n=new p.default,i=this._quadEdges.iterator();i.hasNext();){var r=i.next(),o=r.orig();n.contains(o)||(n.add(o),!t&&this.isFrameVertex(o)||e.add(r));var s=r.sym(),a=s.orig();n.contains(a)||(n.add(a),!t&&this.isFrameVertex(a)||e.add(s))}return e},getTriangleEdges:function(t){var e=new s;return this.visitTriangles(e,t),e.getTriangleEdges()},getPrimaryEdges:function(t){this._visitedKey++;var e=new F.default,n=new M.default;n.push(this._startingEdge);for(var i=new p.default;!n.empty();){var r=n.pop();if(!i.contains(r)){var o=r.getPrimary();!t&&this.isFrameEdge(o)||e.add(o),n.push(r.oNext()),n.push(r.sym().oNext()),i.add(r),i.add(r.sym())}}return e},delete:function(t){f.default.splice(t,t.oPrev()),f.default.splice(t.sym(),t.sym().oPrev());var e=t.sym(),n=t.rot(),i=t.rot().sym();this._quadEdges.remove(t),this._quadEdges.remove(e),this._quadEdges.remove(n),this._quadEdges.remove(i),t.delete(),e.delete(),n.delete(),i.delete()},locateFromEdge:function(t,e){for(var n=0,i=this._quadEdges.size(),r=e;;){if(++n>i)throw new O.default(r.toLineSegment());if(t.equals(r.orig())||t.equals(r.dest()))break;if(t.rightOf(r))r=r.sym();else if(t.rightOf(r.oNext())){if(t.rightOf(r.dPrev()))break;r=r.dPrev()}else r=r.oNext()}return r},getTolerance:function(){return this._tolerance},getVoronoiCellPolygons:function(t){this.visitTriangles(new o,!0);for(var e=new F.default,n=this.getVertexUniqueEdges(!1),i=n.iterator();i.hasNext();){var r=i.next();e.add(this.getVoronoiCellPolygon(r,t))}return e},getVoronoiDiagram:function(t){var e=this.getVoronoiCellPolygons(t);return t.createGeometryCollection(v.default.toGeometryArray(e))},getTriangles:function(t){for(var e=this.getTriangleCoordinates(!1),n=new Array(e.size()).fill(null),i=0,r=e.iterator();r.hasNext();){var o=r.next();n[i++]=t.createPolygon(t.createLinearRing(o),null)}return t.createGeometryCollection(n)},insertSite:function(t){var e=this.locate(t);if(t.equals(e.orig(),this._tolerance)||t.equals(e.dest(),this._tolerance))return e;var n=this.makeEdge(e.orig(),t);f.default.splice(n,e);var i=n;do{n=this.connect(e,n.sym()),e=n.oPrev()}while(e.lNext()!==i);return i},locate:function(){if(1===arguments.length){if(arguments[0]instanceof T.default){var t=arguments[0];return this._locator.locate(t)}if(arguments[0]instanceof b.default){var e=arguments[0];return this._locator.locate(new T.default(e))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=this._locator.locate(new T.default(n));if(null===r)return null;var o=r;r.dest().getCoordinate().equals2D(n)&&(o=r.sym());var s=o;do{if(s.dest().getCoordinate().equals2D(i))return s;s=s.oNext()}while(s!==o);return null}},interfaces_:function(){return[]},getClass:function(){return r}}),r.getTriangleEdges=function(t,e){if(e[0]=t,e[1]=e[0].lNext(),e[2]=e[1].lNext(),e[2].lNext()!==e[0])throw new E.default("Edges do not form a triangle")},(0,P.default)(o.prototype,{visit:function(t){for(var e=t[0].orig().getCoordinate(),n=t[1].orig().getCoordinate(),i=t[2].orig().getCoordinate(),r=q.default.circumcentre(e,n,i),o=new T.default(r),s=0;s<3;s++)t[s].rot().setOrig(o)},interfaces_:function(){return[V.default]},getClass:function(){return o}}),(0,P.default)(s.prototype,{getTriangleEdges:function(){return this._triList},visit:function(t){this._triList.add(t.clone())},interfaces_:function(){return[V.default]},getClass:function(){return s}}),(0,P.default)(a.prototype,{visit:function(t){this._triList.add([t[0].orig(),t[1].orig(),t[2].orig()])},getTriangleVertices:function(){return this._triList},interfaces_:function(){return[V.default]},getClass:function(){return a}}),(0,P.default)(u.prototype,{checkTriangleSize:function(t){t.length>=2?_.default.toLineString(t[0],t[1]):t.length>=1&&_.default.toPoint(t[0])},visit:function(t){this._coordList.clear();for(var e=0;e<3;e++){var n=t[e].orig();this._coordList.add(n.getCoordinate())}if(this._coordList.size()>0){this._coordList.closeRing();var i=this._coordList.toCoordinateArray();if(4!==i.length)return null;this._triCoords.add(i)}},getTriangles:function(){return this._triCoords},interfaces_:function(){return[V.default]},getClass:function(){return u}}),r.TriangleCircumcentreVisitor=o,r.TriangleEdgesListVisitor=s,r.TriangleVertexListVisitor=a,r.TriangleCoordinatesVisitor=u,r.EDGE_COINCIDENCE_TOL_FACTOR=1e3},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._siteCoords=null,this._tolerance=0,this._subdiv=null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(24),s=i(o),a=n(16),u=i(a),l=n(77),f=i(l),c=n(9),d=i(c),h=n(31),p=i(h),g=n(149),_=i(g),m=n(150),v=i(m),y=n(0),b=i(y),x=n(111),E=i(x),w=n(25),M=i(w),L=n(2),P=i(L),C=n(11),I=i(C);(0,b.default)(r.prototype,{create:function(){if(null!==this._subdiv)return null;var t=r.envelope(this._siteCoords),e=r.toVertices(this._siteCoords);this._subdiv=new v.default(t,this._tolerance),new _.default(this._subdiv).insertSites(e)},setTolerance:function(t){this._tolerance=t},setSites:function(){if(arguments[0]instanceof u.default){var t=arguments[0];this._siteCoords=r.extractUniqueCoordinates(t)}else if((0,d.default)(arguments[0],p.default)){var e=arguments[0];this._siteCoords=r.unique(M.default.toCoordinateArray(e))}},getEdges:function(t){return this.create(),this._subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this._subdiv},getTriangles:function(t){return this.create(),this._subdiv.getTriangles(t)},interfaces_:function(){return[]},getClass:function(){return r}}),r.extractUniqueCoordinates=function(t){if(null===t)return new s.default;var e=t.getCoordinates();return r.unique(e)},r.envelope=function(t){for(var e=new I.default,n=t.iterator();n.hasNext();){var i=n.next();e.expandToInclude(i)}return e},r.unique=function(t){var e=M.default.copyDeep(t);return f.default.sort(e),new s.default(e,!1)},r.toVertices=function(t){for(var e=new P.default,n=t.iterator();n.hasNext();){var i=n.next();e.add(new E.default(i))}return e}},function(t,e,n){"use strict";function i(t,e){if(e=e||{},!(0,s.isObject)(e))throw new Error("options is invalid");var n=e.precision,i=e.coordinates,a=e.mutate;if(n=void 0===n||null===n||isNaN(n)?6:n,i=void 0===i||null===i||isNaN(i)?3:i,!t)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof i)throw new Error("<coordinates> must be a number");!1!==a&&void 0!==a||(t=JSON.parse(JSON.stringify(t)));var u=Math.pow(10,n);return(0,o.coordEach)(t,function(t){r(t,u,i)}),t}function r(t,e,n){t.length>n&&t.splice(n,t.length);for(var i=0;i<t.length;i++)t[i]=Math.round(t[i]*e)/e;return t}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),s=n(1);e.default=i},function(t,e,n){"use strict";function i(t,e){return o(t,"mercator",e)}function r(t,e){return o(t,"wgs84",e)}function o(t,e,n){if(n=n||{},!(0,f.isObject)(n))throw new Error("options is invalid");var i=n.mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&(0,f.isNumber)(t[0])?t="mercator"===e?s(t):a(t):(!0!==i&&(t=(0,d.default)(t)),(0,l.coordEach)(t,function(t){var n="mercator"===e?s(t):a(t);t[0]=n[0],t[1]=n[1]})),t}function s(t){var e=Math.PI/180,n=6378137,i=20037508.342789244,r=Math.abs(t[0])<=180?t[0]:t[0]-360*u(t[0]),o=[n*r*e,n*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return o[0]>i&&(o[0]=i),o[0]<-i&&(o[0]=-i),o[1]>i&&(o[1]=i),o[1]<-i&&(o[1]=-i),o}function a(t){var e=180/Math.PI,n=6378137;return[t[0]*e/n,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/n)))*e]}function u(t){return t<0?-1:t>0?1:0}Object.defineProperty(e,"__esModule",{value:!0}),e.toMercator=i,e.toWgs84=r;var l=n(6),f=n(1),c=n(22),d=function(t){return t&&t.__esModule?t:{default:t}}(c)},function(t,e,n){"use strict";function i(){for(var t=new r.GeoJSONReader,e=t.read(JSON.stringify(arguments[0].geometry)),n=1;n<arguments.length;n++)e=r.UnionOp.union(e,t.read(JSON.stringify(arguments[n].geometry)));return e=(new r.GeoJSONWriter).write(e),{type:"Feature",geometry:e,properties:arguments[0].properties}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(97);e.default=i},function(t,e,n){"use strict";function i(t,e){if(e=e||{},!(0,s.isObject)(e))throw new Error("options is invalid");var n=e.properties,i=(0,o.getType)(t),a=(0,o.getCoords)(t);if(n=n||t.properties||{},!a.length)throw new Error("polygon must contain coordinates");switch(i){case"Polygon":return r(a,n);case"MultiPolygon":var u=[];return a.forEach(function(t){u.push(r(t,n))}),(0,s.featureCollection)(u);default:throw new Error("geom "+i+" not supported")}}function r(t,e){return t.length>1?(0,s.multiLineString)(t,e):(0,s.lineString)(t[0],e)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),s=n(1);e.default=i},function(t,e,n){"use strict";function i(t,e,n){var i=e[0]-t[0],r=e[1]-t[1],o=n[0]-e[0],s=n[1]-e[1];return Math.sign(i*s-o*r)}function r(t,e){var n=t.geometry.coordinates.map(function(t){return t[0]}),i=t.geometry.coordinates.map(function(t){return t[1]}),r=e.geometry.coordinates.map(function(t){return t[0]}),o=e.geometry.coordinates.map(function(t){return t[1]});return Math.max(null,n)===Math.max(null,r)&&Math.max(null,i)===Math.max(null,o)&&Math.min(null,n)===Math.min(null,r)&&Math.min(null,i)===Math.min(null,o)}function o(t,e){return e.geometry.coordinates[0].every(function(e){return(0,u.default)((0,l.point)(e),t)})}function s(t,e){return t[0]===e[0]&&t[1]===e[1]}Object.defineProperty(e,"__esModule",{value:!0}),e.coordinatesEqual=e.envelopeContains=e.envelopeIsEqual=e.orientationIndex=void 0;var a=n(258),u=function(t){return t&&t.__esModule?t:{default:t}}(a),l=n(1);e.orientationIndex=i,e.envelopeIsEqual=r,e.envelopeContains=o,e.coordinatesEqual=s},function(t,e,n){"use strict";function i(){this._=null}function r(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function o(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function s(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function a(t){for(;t.L;)t=t.L;return t}Object.defineProperty(e,"__esModule",{value:!0}),e.RedBlackNode=r,i.prototype={constructor:i,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=a(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(o(this,n),t=n,n=t.U),n.C=!1,i.C=!0,s(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(s(this,n),t=n,n=t.U),n.C=!1,i.C=!0,o(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,u=t.L,l=t.R;if(n=u?l?a(l):u:l,r?r.L===t?r.L=n:r.R=n:this._=n,u&&l?(i=n.C,n.C=t.C,n.L=u,u.U=n,n!==l?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=l,l.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,o(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,s(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,o(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,s(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,o(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,s(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},e.default=i},function(t,e,n){"use strict";function i(t,e,n,i){var r=[null,null],s=l.edges.push(r)-1;return r.left=t,r.right=e,n&&o(r,t,e,n),i&&o(r,e,t,i),l.cells[t.index].halfedges.push(s),l.cells[e.index].halfedges.push(s),r}function r(t,e,n){var i=[e,n];return i.left=t,i}function o(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function s(t,e,n,i,r){var o,s=t[0],a=t[1],u=s[0],l=s[1],f=a[0],c=a[1],d=0,h=1,p=f-u,g=c-l;if(o=e-u,p||!(o>0)){if(o/=p,p<0){if(o<d)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>d&&(d=o)}if(o=i-u,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>d&&(d=o)}else if(p>0){if(o<d)return;o<h&&(h=o)}if(o=n-l,g||!(o>0)){if(o/=g,g<0){if(o<d)return;o<h&&(h=o)}else if(g>0){if(o>h)return;o>d&&(d=o)}if(o=r-l,g||!(o<0)){if(o/=g,g<0){if(o>h)return;o>d&&(d=o)}else if(g>0){if(o<d)return;o<h&&(h=o)}return!(d>0||h<1)||(d>0&&(t[0]=[u+d*p,l+d*g]),h<1&&(t[1]=[u+h*p,l+h*g]),!0)}}}}}function a(t,e,n,i,r){var o=t[1];if(o)return!0;var s,a,u=t[0],l=t.left,f=t.right,c=l[0],d=l[1],h=f[0],p=f[1],g=(c+h)/2,_=(d+p)/2;if(p===d){if(g<e||g>=i)return;if(c>h){if(u){if(u[1]>=r)return}else u=[g,n];o=[g,r]}else{if(u){if(u[1]<n)return}else u=[g,r];o=[g,n]}}else if(s=(c-h)/(p-d),a=_-s*g,s<-1||s>1)if(c>h){if(u){if(u[1]>=r)return}else u=[(n-a)/s,n];o=[(r-a)/s,r]}else{if(u){if(u[1]<n)return}else u=[(r-a)/s,r];o=[(n-a)/s,n]}else if(d<p){if(u){if(u[0]>=i)return}else u=[e,s*e+a];o=[i,s*i+a]}else{if(u){if(u[0]<e)return}else u=[i,s*i+a];o=[e,s*e+a]}return t[0]=u,t[1]=o,!0}function u(t,e,n,i){for(var r,o=l.edges.length;o--;)a(r=l.edges[o],t,e,n,i)&&s(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>l.epsilon||Math.abs(r[0][1]-r[1][1])>l.epsilon)||delete l.edges[o]}Object.defineProperty(e,"__esModule",{value:!0}),e.createEdge=i,e.createBorderEdge=r,e.setEdgeEnd=o,e.clipEdges=u;var l=n(91)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function s(r,o,s,a){var l=0,f=0;if(null==r||(l=u(r,s))!==(f=u(o,s))||g(r,o)<0^s>0)do{a.point(0===l||3===l?t:n,l>1?i:e)}while((l=(l+s+4)%4)!==f);else a.point(o[0],o[1])}function u(i,r){return(0,o.abs)(i[0]-t)<o.epsilon?r>0?0:3:(0,o.abs)(i[0]-n)<o.epsilon?r>0?2:1:(0,o.abs)(i[1]-e)<o.epsilon?r>0?1:0:r>0?3:2}function f(t,e){return g(t.x,e.x)}function g(t,e){var n=u(t,1),i=u(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(o){function u(t,e){r(t,e)&&T.point(t,e)}function g(){for(var e=0,n=0,r=E.length;n<r;++n)for(var o,s,a=E[n],u=1,l=a.length,f=a[0],c=f[0],d=f[1];u<l;++u)o=c,s=d,f=a[u],c=f[0],d=f[1],s<=i?d>i&&(c-o)*(i-s)>(d-s)*(t-o)&&++e:d<=i&&(c-o)*(i-s)<(d-s)*(t-o)&&--e;return e}function _(){T=R,x=[],E=[],N=!0}function m(){var t=g(),e=N&&t,n=(x=(0,d.merge)(x)).length;(e||n)&&(o.polygonStart(),e&&(o.lineStart(),s(null,null,1,o),o.lineEnd()),n&&(0,c.default)(x,f,t,s,o),o.polygonEnd()),T=o,x=E=w=null}function v(){A.point=b,E&&E.push(w=[]),O=!0,S=!1,C=I=NaN}function y(){x&&(b(M,L),P&&S&&R.rejoin(),x.push(R.result())),A.point=u,S&&T.lineEnd()}function b(o,s){var a=r(o,s);if(E&&w.push([o,s]),O)M=o,L=s,P=a,O=!1,a&&(T.lineStart(),T.point(o,s));else if(a&&S)T.point(o,s);else{var u=[C=Math.max(p,Math.min(h,C)),I=Math.max(p,Math.min(h,I))],f=[o=Math.max(p,Math.min(h,o)),s=Math.max(p,Math.min(h,s))];(0,l.default)(u,f,t,e,n,i)?(S||(T.lineStart(),T.point(u[0],u[1])),T.point(f[0],f[1]),a||T.lineEnd(),N=!1):a&&(T.lineStart(),T.point(o,s),N=!1)}C=o,I=s,S=a}var x,E,w,M,L,P,C,I,S,O,N,T=o,R=(0,a.default)(),A={point:u,lineStart:v,lineEnd:y,polygonStart:_,polygonEnd:m};return A}}Object.defineProperty(e,"__esModule",{value:!0}),e.clipExtent=r,e.default=function(){var t,e,n,i=0,o=0,s=960,a=500;return n={stream:function(n){return t&&e===n?t:t=r(i,o,s,a)(e=n)},extent:function(r){return arguments.length?(i=+r[0][0],o=+r[0][1],s=+r[1][0],a=+r[1][1],t=e=null,n):[[i,o],[s,a]]}}};var o=n(8),s=n(269),a=i(s),u=n(613),l=i(u),f=n(270),c=i(f),d=n(160),h=1e9,p=-h},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(272);Object.defineProperty(e,"bisect",{enumerable:!0,get:function(){return i(r).default}}),Object.defineProperty(e,"bisectRight",{enumerable:!0,get:function(){return r.bisectRight}}),Object.defineProperty(e,"bisectLeft",{enumerable:!0,get:function(){return r.bisectLeft}});var o=n(69);Object.defineProperty(e,"ascending",{enumerable:!0,get:function(){return i(o).default}});var s=n(273);Object.defineProperty(e,"bisector",{enumerable:!0,get:function(){return i(s).default}});var a=n(614);Object.defineProperty(e,"cross",{enumerable:!0,get:function(){return i(a).default}});var u=n(615);Object.defineProperty(e,"descending",{enumerable:!0,get:function(){return i(u).default}});var l=n(275);Object.defineProperty(e,"deviation",{enumerable:!0,get:function(){return i(l).default}});var f=n(277);Object.defineProperty(e,"extent",{enumerable:!0,get:function(){return i(f).default}});var c=n(616);Object.defineProperty(e,"histogram",{enumerable:!0,get:function(){return i(c).default}});var d=n(619);Object.defineProperty(e,"thresholdFreedmanDiaconis",{enumerable:!0,get:function(){return i(d).default}});var h=n(620);Object.defineProperty(e,"thresholdScott",{enumerable:!0,get:function(){return i(h).default}});var p=n(281);Object.defineProperty(e,"thresholdSturges",{enumerable:!0,get:function(){return i(p).default}});var g=n(621);Object.defineProperty(e,"max",{enumerable:!0,get:function(){return i(g).default}});var _=n(622);Object.defineProperty(e,"mean",{enumerable:!0,get:function(){return i(_).default}});var m=n(623);Object.defineProperty(e,"median",{enumerable:!0,get:function(){return i(m).default}});var v=n(624);Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return i(v).default}});var y=n(282);Object.defineProperty(e,"min",{enumerable:!0,get:function(){return i(y).default}});var b=n(274);Object.defineProperty(e,"pairs",{enumerable:!0,get:function(){return i(b).default}});var x=n(625);Object.defineProperty(e,"permute",{enumerable:!0,get:function(){return i(x).default}});var E=n(161);Object.defineProperty(e,"quantile",{enumerable:!0,get:function(){return i(E).default}});var w=n(279);Object.defineProperty(e,"range",{enumerable:!0,get:function(){return i(w).default}});var M=n(626);Object.defineProperty(e,"scan",{enumerable:!0,get:function(){return i(M).default}});var L=n(627);Object.defineProperty(e,"shuffle",{enumerable:!0,get:function(){return i(L).default}});var P=n(628);Object.defineProperty(e,"sum",{enumerable:!0,get:function(){return i(P).default}});var C=n(280);Object.defineProperty(e,"ticks",{enumerable:!0,get:function(){return i(C).default}}),Object.defineProperty(e,"tickIncrement",{enumerable:!0,get:function(){return C.tickIncrement}}),Object.defineProperty(e,"tickStep",{enumerable:!0,get:function(){return C.tickStep}});var I=n(283);Object.defineProperty(e,"transpose",{enumerable:!0,get:function(){return i(I).default}});var S=n(276);Object.defineProperty(e,"variance",{enumerable:!0,get:function(){return i(S).default}});var O=n(629);Object.defineProperty(e,"zip",{enumerable:!0,get:function(){return i(O).default}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if(null==n&&(n=r.default),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,o=(i-1)*e,s=Math.floor(o),a=+n(t[s],s,t);return a+(+n(t[s+1],s+1,t)-a)*(o-s)}};var i=n(93),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t}},function(t,e,n){"use strict";function i(t,e){function n(t,e){var n=(0,r.sqrt)(a-2*o*(0,r.sin)(e))/o;return[n*(0,r.sin)(t*=o),u-n*(0,r.cos)(t)]}var i=(0,r.sin)(t),o=(i+(0,r.sin)(e))/2;if((0,r.abs)(o)<r.epsilon)return(0,s.cylindricalEqualAreaRaw)(t);var a=1+i*(2*o-i),u=(0,r.sqrt)(a)/o;return n.invert=function(t,e){var n=u-e;return[(0,r.atan2)(t,(0,r.abs)(n))/o*(0,r.sign)(n),(0,r.asin)((a-(t*t+n*n)*o*o)/(2*o))]},n}Object.defineProperty(e,"__esModule",{value:!0}),e.conicEqualAreaRaw=i,e.default=function(){return(0,o.conicProjection)(i).scale(155.424).center([0,33.6442])};var r=n(8),o=n(164),s=n(642)},function(t,e,n){"use strict";function i(t){var e=0,n=r.pi/3,i=(0,o.projectionMutator)(t),s=i(e,n);return s.parallels=function(t){return arguments.length?i(e=t[0]*r.radians,n=t[1]*r.radians):[e*r.degrees,n*r.degrees]},s}Object.defineProperty(e,"__esModule",{value:!0}),e.conicProjection=i;var r=n(8),o=n(41)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),(0,a.default)(n,t.stream(l.default));var s=l.default.result(),u=Math.min(i/(s[1][0]-s[0][0]),r/(s[1][1]-s[0][1])),f=+e[0][0]+(i-u*(s[1][0]+s[0][0]))/2,c=+e[0][1]+(r-u*(s[1][1]+s[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*u).translate([f,c])}function o(t,e,n){return r(t,[[0,0],e],n)}Object.defineProperty(e,"__esModule",{value:!0}),e.fitExtent=r,e.fitSize=o;var s=n(60),a=i(s),u=n(287),l=i(u)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){return[t,(0,s.log)((0,s.tan)((s.halfPi+e)/2))]}function o(t){function e(){var e=s.pi*c(),l=a((0,u.default)(a.rotate()).invert([0,0]));return h(null==p?[[l[0]-e,l[1]-e],[l[0]+e,l[1]+e]]:t===r?[[Math.max(l[0]-e,p),n],[Math.min(l[0]+e,i),o]]:[[p,Math.max(l[1]-e,n)],[i,Math.min(l[1]+e,o)]])}var n,i,o,a=(0,f.default)(t),l=a.center,c=a.scale,d=a.translate,h=a.clipExtent,p=null;return a.scale=function(t){return arguments.length?(c(t),e()):c()},a.translate=function(t){return arguments.length?(d(t),e()):d()},a.center=function(t){return arguments.length?(l(t),e()):l()},a.clipExtent=function(t){return arguments.length?(null==t?p=n=i=o=null:(p=+t[0][0],n=+t[0][1],i=+t[1][0],o=+t[1][1]),e()):null==p?null:[[p,n],[i,o]]},e()}Object.defineProperty(e,"__esModule",{value:!0}),e.mercatorRaw=r,e.default=function(){return o(r).scale(961/s.tau)},e.mercatorProjection=o;var s=n(8),a=n(119),u=i(a),l=n(41),f=i(l);r.invert=function(t,e){return[t,2*(0,s.atan)((0,s.exp)(e))-s.halfPi]}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},function(t,e,n){"use strict";var i=n(33),r=n(300),o=n(302),s=n(303),a=n(304),u=n(169),l="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(305);t.exports=function(t){return new Promise(function(e,f){var c=t.data,d=t.headers;i.isFormData(c)&&delete d["Content-Type"];var h=new XMLHttpRequest,p="onreadystatechange",g=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in h||a(t.url)||(h=new window.XDomainRequest,p="onload",g=!0,h.onprogress=function(){},h.ontimeout=function(){}),t.auth){var _=t.auth.username||"",m=t.auth.password||"";d.Authorization="Basic "+l(_+":"+m)}if(h.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,h[p]=function(){if(h&&(4===h.readyState||g)&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?s(h.getAllResponseHeaders()):null,i=t.responseType&&"text"!==t.responseType?h.response:h.responseText,o={data:i,status:1223===h.status?204:h.status,statusText:1223===h.status?"No Content":h.statusText,headers:n,config:t,request:h};r(e,f,o),h=null}},h.onerror=function(){f(u("Network Error",t,null,h)),h=null},h.ontimeout=function(){f(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",h)),h=null},i.isStandardBrowserEnv()){var v=n(306),y=(t.withCredentials||a(t.url))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;y&&(d[t.xsrfHeaderName]=y)}if("setRequestHeader"in h&&i.forEach(d,function(t,e){void 0===c&&"content-type"===e.toLowerCase()?delete d[e]:h.setRequestHeader(e,t)}),t.withCredentials&&(h.withCredentials=!0),t.responseType)try{h.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){h&&(h.abort(),f(t),h=null)}),void 0===c&&(c=null),h.send(c)})}},function(t,e,n){"use strict";var i=n(301);t.exports=function(t,e,n,r,o){var s=new Error(t);return i(s,e,n,r,o)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},function(t,e,n){"use strict";var i,r,o,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};/* @preserve
 * Leaflet 1.2.0, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2017 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function(n,a){"object"===s(e)&&void 0!==t?a(e):(r=[e],i=a,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o))}(0,function(t){function e(t){var e,n,i,r;for(n=1,i=arguments.length;n<i;n++){r=arguments[n];for(e in r)t[e]=r[e]}return t}function n(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}function i(t){return t._leaflet_id=t._leaflet_id||++ge,t._leaflet_id}function r(t,e,n){var i,r,o,s;return s=function(){i=!1,r&&(o.apply(n,r),r=!1)},o=function(){i?r=arguments:(t.apply(n,arguments),setTimeout(s,e),i=!0)}}function o(t,e,n){var i=e[1],r=e[0],o=i-r;return t===i&&n?t:((t-r)%o+o)%o+r}function a(){return!1}function u(t,e){var n=Math.pow(10,e||5);return Math.round(t*n)/n}function l(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function f(t){return l(t).split(/\s+/)}function c(t,e){t.hasOwnProperty("options")||(t.options=t.options?pe(t.options):{});for(var n in e)t.options[n]=e[n];return t.options}function d(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}function h(t,e){return t.replace(_e,function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i})}function p(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function g(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}function _(t){var e=+new Date,n=Math.max(0,16-(e-ye));return ye=e+n,window.setTimeout(t,n)}function m(t,e,i){if(!i||be!==_)return be.call(window,n(t,e));t.call(e)}function v(t){t&&xe.call(window,t)}function y(){}function b(t){if(L&&L.Mixin){t=me(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}function x(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}function E(t,e,n){return t instanceof x?t:me(t)?new x(t[0],t[1]):void 0===t||null===t?t:"object"===(void 0===t?"undefined":s(t))&&"x"in t&&"y"in t?new x(t.x,t.y):new x(t,e,n)}function w(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function M(t,e){return!t||t instanceof w?t:new w(t,e)}function P(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function C(t,e){return t instanceof P?t:new P(t,e)}function I(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function S(t,e,n){return t instanceof I?t:me(t)&&"object"!==s(t[0])?3===t.length?new I(t[0],t[1],t[2]):2===t.length?new I(t[0],t[1]):null:void 0===t||null===t?t:"object"===(void 0===t?"undefined":s(t))&&"lat"in t?new I(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new I(t,e,n)}function O(t,e,n,i){if(me(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function N(t,e,n,i){return new O(t,e,n,i)}function T(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function R(t,e){var n,i,r,o,s,a,u="";for(n=0,r=t.length;n<r;n++){for(s=t[n],i=0,o=s.length;i<o;i++)a=s[i],u+=(i?"L":"M")+a.x+" "+a.y;u+=e?ln?"z":"x":""}return u||"M0 0"}function A(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}function D(t,e,n,i){return"touchstart"===e?j(t,n,i):"touchmove"===e?q(t,n,i):"touchend"===e&&U(t,n,i),this}function k(t,e,n){var i=t["_leaflet_"+e+n];return"touchstart"===e?t.removeEventListener(dn,i,!1):"touchmove"===e?t.removeEventListener(hn,i,!1):"touchend"===e&&(t.removeEventListener(pn,i,!1),t.removeEventListener(gn,i,!1)),this}function j(t,e,i){var r=n(function(t){if("mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(_n.indexOf(t.target.tagName)<0))return;$(t)}B(t,e)});t["_leaflet_touchstart"+i]=r,t.addEventListener(dn,r,!1),vn||(document.documentElement.addEventListener(dn,F,!0),document.documentElement.addEventListener(hn,z,!0),document.documentElement.addEventListener(pn,G,!0),document.documentElement.addEventListener(gn,G,!0),vn=!0)}function F(t){mn[t.pointerId]=t,yn++}function z(t){mn[t.pointerId]&&(mn[t.pointerId]=t)}function G(t){delete mn[t.pointerId],yn--}function B(t,e){t.touches=[];for(var n in mn)t.touches.push(mn[n]);t.changedTouches=[t],e(t)}function q(t,e,n){var i=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&B(t,e)};t["_leaflet_touchmove"+n]=i,t.addEventListener(hn,i,!1)}function U(t,e,n){var i=function(t){B(t,e)};t["_leaflet_touchend"+n]=i,t.addEventListener(pn,i,!1),t.addEventListener(gn,i,!1)}function V(t,e,n){function i(t){var e;if(nn){if(!je||"mouse"===t.pointerType)return;e=yn}else e=t.touches.length;if(!(e>1)){var n=Date.now(),i=n-(o||n);s=t.touches?t.touches[0]:t,a=i>0&&i<=u,o=n}}function r(t){if(a&&!s.cancelBubble){if(nn){if(!je||"mouse"===t.pointerType)return;var n,i,r={};for(i in s)n=s[i],r[i]=n&&n.bind?n.bind(s):n;s=r}s.type="dblclick",e(s),o=null}}var o,s,a=!1,u=250;return t[En+bn+n]=i,t[En+xn+n]=r,t[En+"dblclick"+n]=e,t.addEventListener(bn,i,!1),t.addEventListener(xn,r,!1),t.addEventListener("dblclick",e,!1),this}function Y(t,e){var n=t[En+bn+e],i=t[En+xn+e],r=t[En+"dblclick"+e];return t.removeEventListener(bn,n,!1),t.removeEventListener(xn,i,!1),je||t.removeEventListener("dblclick",r,!1),this}function X(t,e,n,i){if("object"===(void 0===e?"undefined":s(e)))for(var r in e)Z(t,r,e[r],n);else{e=f(e);for(var o=0,a=e.length;o<a;o++)Z(t,e[o],n,i)}return this}function H(t,e,n,i){if("object"===(void 0===e?"undefined":s(e)))for(var r in e)W(t,r,e[r],n);else if(e){e=f(e);for(var o=0,a=e.length;o<a;o++)W(t,e[o],n,i)}else{for(var u in t[wn])W(t,u,t[wn][u]);delete t[wn]}return this}function Z(t,e,n,r){var o=e+i(n)+(r?"_"+i(r):"");if(t[wn]&&t[wn][o])return this;var s=function(e){return n.call(r||t,e||window.event)},a=s;nn&&0===e.indexOf("touch")?D(t,e,s,o):!rn||"dblclick"!==e||!V||nn&&qe?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",s,!1):"mouseenter"===e||"mouseleave"===e?(s=function(e){e=e||window.event,ot(t,e)&&a(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",s,!1)):("click"===e&&ze&&(s=function(t){st(t,a)}),t.addEventListener(e,s,!1)):"attachEvent"in t&&t.attachEvent("on"+e,s):V(t,s,o),t[wn]=t[wn]||{},t[wn][o]=s}function W(t,e,n,r){var o=e+i(n)+(r?"_"+i(r):""),s=t[wn]&&t[wn][o];if(!s)return this;nn&&0===e.indexOf("touch")?k(t,e,o):rn&&"dblclick"===e&&Y?Y(t,o):"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",s,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s),t[wn][o]=null}function K(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,rt(t),this}function J(t){return Z(t,"mousewheel",K),this}function Q(t){return X(t,"mousedown touchstart dblclick",K),Z(t,"click",it),this}function $(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function tt(t){return $(t),K(t),this}function et(t,e){if(!e)return new x(t.clientX,t.clientY);var n=e.getBoundingClientRect();return new x(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)}function nt(t){return je?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Mn:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function it(t){Ln[t.type]=!0}function rt(t){var e=Ln[t.type];return Ln[t.type]=!1,e}function ot(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}function st(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=Ie&&n-Ie;if(i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated)return void tt(t);Ie=n,e(t)}function at(t){return"string"==typeof t?document.getElementById(t):t}function ut(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function lt(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function ft(t){var e=t.parentNode;e&&e.removeChild(t)}function ct(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function dt(t){var e=t.parentNode;e.lastChild!==t&&e.appendChild(t)}function ht(t){var e=t.parentNode;e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function pt(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=vt(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function gt(t,e){if(void 0!==t.classList)for(var n=f(e),i=0,r=n.length;i<r;i++)t.classList.add(n[i]);else if(!pt(t,e)){var o=vt(t);mt(t,(o?o+" ":"")+e)}}function _t(t,e){void 0!==t.classList?t.classList.remove(e):mt(t,l((" "+vt(t)+" ").replace(" "+e+" "," ")))}function mt(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function vt(t){return void 0===t.className.baseVal?t.className:t.className.baseVal}function yt(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&bt(t,e)}function bt(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}function xt(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function Et(t,e,n){var i=e||new x(0,0);t.style[Cn]=(Ze?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function wt(t,e){t._leaflet_pos=e,Je?Et(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Mt(t){return t._leaflet_pos||new x(0,0)}function Lt(){X(window,"dragstart",$)}function Pt(){H(window,"dragstart",$)}function Ct(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(It(),Nn=t,Tn=t.style.outline,t.style.outline="none",X(window,"keydown",It))}function It(){Nn&&(Nn.style.outline=Tn,Nn=void 0,Tn=void 0,H(window,"keydown",It))}function St(t,e){return new Dn(t,e)}function Ot(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=Dt(t,n),t=Rt(t,n)}function Nt(t,e,n){return Math.sqrt(Gt(t,e,n,!0))}function Tt(t,e,n){return Gt(t,e,n)}function Rt(t,e){var n=t.length,i=("undefined"==typeof Uint8Array?"undefined":s(Uint8Array))!==void 0+""?Uint8Array:Array,r=new i(n);r[0]=r[n-1]=1,At(t,r,e,0,n-1);var o,a=[];for(o=0;o<n;o++)r[o]&&a.push(t[o]);return a}function At(t,e,n,i,r){var o,s,a,u=0;for(s=i+1;s<=r-1;s++)(a=Gt(t[s],t[i],t[r],!0))>u&&(o=s,u=a);u>n&&(e[o]=1,At(t,e,n,i,o),At(t,e,n,o,r))}function Dt(t,e){for(var n=[t[0]],i=1,r=0,o=t.length;i<o;i++)zt(t[i],t[r])>e&&(n.push(t[i]),r=i);return r<o-1&&n.push(t[o-1]),n}function kt(t,e,n,i,r){var o,s,a,u=i?Xn:Ft(t,n),l=Ft(e,n);for(Xn=l;;){if(!(u|l))return[t,e];if(u&l)return!1;o=u||l,s=jt(t,e,o,n,r),a=Ft(s,n),o===u?(t=s,u=a):(e=s,l=a)}}function jt(t,e,n,i,r){var o,s,a=e.x-t.x,u=e.y-t.y,l=i.min,f=i.max;return 8&n?(o=t.x+a*(f.y-t.y)/u,s=f.y):4&n?(o=t.x+a*(l.y-t.y)/u,s=l.y):2&n?(o=f.x,s=t.y+u*(f.x-t.x)/a):1&n&&(o=l.x,s=t.y+u*(l.x-t.x)/a),new x(o,s,r)}function Ft(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function zt(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function Gt(t,e,n,i){var r,o=e.x,s=e.y,a=n.x-o,u=n.y-s,l=a*a+u*u;return l>0&&(r=((t.x-o)*a+(t.y-s)*u)/l,r>1?(o=n.x,s=n.y):r>0&&(o+=a*r,s+=u*r)),a=t.x-o,u=t.y-s,i?a*a+u*u:new x(o,s)}function Bt(t){return!me(t[0])||"object"!==s(t[0][0])&&void 0!==t[0][0]}function qt(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Bt(t)}function Ut(t,e,n){var i,r,o,s,a,u,l,f,c,d=[1,4,2,8];for(r=0,l=t.length;r<l;r++)t[r]._code=Ft(t[r],e);for(s=0;s<4;s++){for(f=d[s],i=[],r=0,l=t.length,o=l-1;r<l;o=r++)a=t[r],u=t[o],a._code&f?u._code&f||(c=jt(u,a,f,e,n),c._code=Ft(c,e),i.push(c)):(u._code&f&&(c=jt(u,a,f,e,n),c._code=Ft(c,e),i.push(c)),i.push(a));t=i}return t}function Vt(t){return new di(t)}function Yt(t,e){return new gi(t,e)}function Xt(t,e){return new mi(t,e)}function Ht(t,e,n){return new vi(t,e,n)}function Zt(t,e){return new yi(t,e)}function Wt(t,e){return new bi(t,e)}function Kt(t,e){var n,i,r,o,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,u=[],l=e&&e.pointToLayer,f=e&&e.coordsToLatLng||Jt;if(!a&&!s)return null;switch(s.type){case"Point":return n=f(a),l?l(t,n):new gi(n);case"MultiPoint":for(r=0,o=a.length;r<o;r++)n=f(a[r]),u.push(l?l(t,n):new gi(n));return new fi(u);case"LineString":case"MultiLineString":return i=Qt(a,"LineString"===s.type?0:1,f),new yi(i,e);case"Polygon":case"MultiPolygon":return i=Qt(a,"Polygon"===s.type?1:2,f),new bi(i,e);case"GeometryCollection":for(r=0,o=s.geometries.length;r<o;r++){var c=Kt({geometry:s.geometries[r],type:"Feature",properties:t.properties},e);c&&u.push(c)}return new fi(u);default:throw new Error("Invalid GeoJSON object.")}}function Jt(t){return new I(t[1],t[0],t[2])}function Qt(t,e,n){for(var i,r=[],o=0,s=t.length;o<s;o++)i=e?Qt(t[o],e-1,n):(n||Jt)(t[o]),r.push(i);return r}function $t(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[u(t.lng,e),u(t.lat,e),u(t.alt,e)]:[u(t.lng,e),u(t.lat,e)]}function te(t,e,n,i){for(var r=[],o=0,s=t.length;o<s;o++)r.push(e?te(t[o],e-1,n,i):$t(t[o],i));return!e&&n&&r.push(r[0]),r}function ee(t,n){return t.feature?e({},t.feature,{geometry:n}):ne(n)}function ne(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}function ie(t,e){return new xi(t,e)}function re(t,e,n){return new Pi(t,e,n)}function oe(t){return new Ti(t)}function se(t){return new Ri(t)}function ae(t,e){return new Ai(t,e)}function ue(t,e){return new Di(t,e)}function le(t){return un?new ji(t):null}function fe(t){return ln||fn?new Bi(t):null}function ce(t,e){return new qi(t,e)}function de(){return window.L=Ki,this}var he=Object.freeze;Object.freeze=function(t){return t};var pe=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),ge=0,_e=/\{ *([\w_\-]+) *\}/g,me=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},ve="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",ye=0,be=window.requestAnimationFrame||g("RequestAnimationFrame")||_,xe=window.cancelAnimationFrame||g("CancelAnimationFrame")||g("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)},Ee=(Object.freeze||Object)({freeze:he,extend:e,create:pe,bind:n,lastId:ge,stamp:i,throttle:r,wrapNum:o,falseFn:a,formatNum:u,trim:l,splitWords:f,setOptions:c,getParamString:d,template:h,isArray:me,indexOf:p,emptyImageUrl:ve,requestFn:be,cancelFn:xe,requestAnimFrame:m,cancelAnimFrame:v});y.extend=function(t){var n=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=n.__super__=this.prototype,r=pe(i);r.constructor=n,n.prototype=r;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&"__super__"!==o&&(n[o]=this[o]);return t.statics&&(e(n,t.statics),delete t.statics),t.includes&&(b(t.includes),e.apply(null,[r].concat(t.includes)),delete t.includes),r.options&&(t.options=e(pe(r.options),t.options)),e(r,t),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},n},y.include=function(t){return e(this.prototype,t),this},y.mergeOptions=function(t){return e(this.prototype.options,t),this},y.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var we={on:function(t,e,n){if("object"===(void 0===t?"undefined":s(t)))for(var i in t)this._on(i,t[i],e);else{t=f(t);for(var r=0,o=t.length;r<o;r++)this._on(t[r],e,n)}return this},off:function(t,e,n){if(t)if("object"===(void 0===t?"undefined":s(t)))for(var i in t)this._off(i,t[i],e);else{t=f(t);for(var r=0,o=t.length;r<o;r++)this._off(t[r],e,n)}else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var r={fn:e,ctx:n},o=i,s=0,a=o.length;s<a;s++)if(o[s].fn===e&&o[s].ctx===n)return;o.push(r)},_off:function(t,e,n){var i,r,o;if(this._events&&(i=this._events[t])){if(!e){for(r=0,o=i.length;r<o;r++)i[r].fn=a;return void delete this._events[t]}if(n===this&&(n=void 0),i)for(r=0,o=i.length;r<o;r++){var s=i[r];if(s.ctx===n&&s.fn===e)return s.fn=a,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(r,1)}}},fire:function(t,n,i){if(!this.listens(t,i))return this;var r=e({},n,{type:t,target:this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var u=o[s];u.fn.call(u.ctx||this,r)}this._firingCount--}}return i&&this._propagateEvent(r),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,i){if("object"===(void 0===t?"undefined":s(t))){for(var r in t)this.once(r,t[r],e);return this}var o=n(function(){this.off(t,e,i).off(t,o,i)},this);return this.on(t,e,i).on(t,o,i)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[i(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[i(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,e({layer:t.target},t),!0)}};we.addEventListener=we.on,we.removeEventListener=we.clearAllEventListeners=we.off,we.addOneTimeEventListener=we.once,we.fireEvent=we.fire,we.hasEventListeners=we.listens;var Me=y.extend(we);x.prototype={clone:function(){return new x(this.x,this.y)},add:function(t){return this.clone()._add(E(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(E(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new x(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new x(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(t){t=E(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=E(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=E(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},w.prototype={extend:function(t){return t=E(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new x((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new x(this.min.x,this.max.y)},getTopRight:function(){return new x(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return t="number"==typeof t[0]||t instanceof x?E(t):M(t),t instanceof w?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=M(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>=e.x&&i.x<=n.x,s=r.y>=e.y&&i.y<=n.y;return o&&s},overlaps:function(t){t=M(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>e.x&&i.x<n.x,s=r.y>e.y&&i.y<n.y;return o&&s},isValid:function(){return!(!this.min||!this.max)}},P.prototype={extend:function(t){var e,n,i=this._southWest,r=this._northEast;if(t instanceof I)e=t,n=t;else{if(!(t instanceof P))return t?this.extend(S(t)||C(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||r?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new I(e.lat,e.lng),this._northEast=new I(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new P(new I(e.lat-i,e.lng-r),new I(n.lat+i,n.lng+r))},getCenter:function(){return new I((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new I(this.getNorth(),this.getWest())},getSouthEast:function(){return new I(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof I||"lat"in t?S(t):C(t);var e,n,i=this._southWest,r=this._northEast;return t instanceof P?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=r.lat&&e.lng>=i.lng&&n.lng<=r.lng},intersects:function(t){t=C(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>=e.lat&&i.lat<=n.lat,s=r.lng>=e.lng&&i.lng<=n.lng;return o&&s},overlaps:function(t){t=C(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>e.lat&&i.lat<n.lat,s=r.lng>e.lng&&i.lng<n.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=C(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},I.prototype={equals:function(t,e){return!!t&&(t=S(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+u(this.lat,t)+", "+u(this.lng,t)+")"},distanceTo:function(t){return Pe.distance(this,S(t))},wrap:function(){return Pe.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return C([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new I(this.lat,this.lng,this.alt)}};var Le={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new w(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?o(t.lng,this.wrapLng,!0):t.lng;return new I(this.wrapLat?o(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,r=e.lng-n.lng;if(0===i&&0===r)return t;var o=t.getSouthWest(),s=t.getNorthEast();return new P(new I(o.lat-i,o.lng-r),new I(s.lat-i,s.lng-r))}},Pe=e({},Le,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,o=Math.sin(i)*Math.sin(r)+Math.cos(i)*Math.cos(r)*Math.cos((e.lng-t.lng)*n);return this.R*Math.acos(Math.min(o,1))}}),Ce={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=Math.sin(i*e);return new x(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new I((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return new w([-t,-t],[t,t])}()};O.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new x((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var Ie,Se,Oe,Ne,Te=e({},Pe,{code:"EPSG:3857",projection:Ce,transformation:function(){var t=.5/(Math.PI*Ce.R);return N(t,.5,-t,.5)}()}),Re=e({},Te,{code:"EPSG:900913"}),Ae=document.documentElement.style,De="ActiveXObject"in window,ke=De&&!document.addEventListener,je="msLaunchUri"in navigator&&!("documentMode"in document),Fe=A("webkit"),ze=A("android"),Ge=A("android 2")||A("android 3"),Be=!!window.opera,qe=A("chrome"),Ue=A("gecko")&&!Fe&&!Be&&!De,Ve=!qe&&A("safari"),Ye=A("phantom"),Xe="OTransition"in Ae,He=0===navigator.platform.indexOf("Win"),Ze=De&&"transition"in Ae,We="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ge,Ke="MozPerspective"in Ae,Je=!window.L_DISABLE_3D&&(Ze||We||Ke)&&!Xe&&!Ye,Qe="undefined"!=typeof orientation||A("mobile"),$e=Qe&&Fe,tn=Qe&&We,en=!window.PointerEvent&&window.MSPointerEvent,nn=!(!window.PointerEvent&&!en),rn=!window.L_NO_TOUCH&&(nn||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),on=Qe&&Be,sn=Qe&&Ue,an=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,un=function(){return!!document.createElement("canvas").getContext}(),ln=!(!document.createElementNS||!T("svg").createSVGRect),fn=!ln&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"===s(e.adj)}catch(t){return!1}}(),cn=(Object.freeze||Object)({ie:De,ielt9:ke,edge:je,webkit:Fe,android:ze,android23:Ge,opera:Be,chrome:qe,gecko:Ue,safari:Ve,phantom:Ye,opera12:Xe,win:He,ie3d:Ze,webkit3d:We,gecko3d:Ke,any3d:Je,mobile:Qe,mobileWebkit:$e,mobileWebkit3d:tn,msPointer:en,pointer:nn,touch:rn,mobileOpera:on,mobileGecko:sn,retina:an,canvas:un,svg:ln,vml:fn}),dn=en?"MSPointerDown":"pointerdown",hn=en?"MSPointerMove":"pointermove",pn=en?"MSPointerUp":"pointerup",gn=en?"MSPointerCancel":"pointercancel",_n=["INPUT","SELECT","OPTION"],mn={},vn=!1,yn=0,bn=en?"MSPointerDown":nn?"pointerdown":"touchstart",xn=en?"MSPointerUp":nn?"pointerup":"touchend",En="_leaflet_",wn="_leaflet_events",Mn=He&&qe?2*window.devicePixelRatio:Ue?window.devicePixelRatio:1,Ln={},Pn=(Object.freeze||Object)({on:X,off:H,stopPropagation:K,disableScrollPropagation:J,disableClickPropagation:Q,preventDefault:$,stop:tt,getMousePosition:et,getWheelDelta:nt,fakeStop:it,skipped:rt,isExternalTarget:ot,addListener:X,removeListener:H}),Cn=xt(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),In=xt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Sn="webkitTransition"===In||"OTransition"===In?In+"End":"transitionend";if("onselectstart"in document)Se=function(){X(window,"selectstart",$)},Oe=function(){H(window,"selectstart",$)};else{var On=xt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Se=function(){if(On){var t=document.documentElement.style;Ne=t[On],t[On]="none"}},Oe=function(){On&&(document.documentElement.style[On]=Ne,Ne=void 0)}}var Nn,Tn,Rn=(Object.freeze||Object)({TRANSFORM:Cn,TRANSITION:In,TRANSITION_END:Sn,get:at,getStyle:ut,create:lt,remove:ft,empty:ct,toFront:dt,toBack:ht,hasClass:pt,addClass:gt,removeClass:_t,setClass:mt,getClass:vt,setOpacity:yt,testProp:xt,setTransform:Et,setPosition:wt,getPosition:Mt,disableTextSelection:Se,enableTextSelection:Oe,disableImageDrag:Lt,enableImageDrag:Pt,preventOutline:Ct,restoreOutline:It}),An=Me.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=Mt(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=m(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),wt(this._el,n),this.fire("step")},_complete:function(){v(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Dn=Me.extend({options:{crs:Te,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=c(this,e),this._initContainer(t),this._initLayout(),this._onResize=n(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(S(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=In&&Je&&!on&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),X(this._proxy,Sn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,i){if(n=void 0===n?this._zoom:this._limitZoom(n),t=this._limitCenter(S(t),n,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i){void 0!==i.animate&&(i.zoom=e({animate:i.animate},i.zoom),i.pan=e({animate:i.animate,duration:i.duration},i.pan));if(this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,i.zoom):this._tryAnimatedPan(t,i.pan))return clearTimeout(this._sizeTimer),this}return this._resetView(t,n),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Je?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Je?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),o=t instanceof x?t:this.latLngToContainerPoint(t),s=o.subtract(r).multiplyBy(1-1/i),a=this.containerPointToLatLng(r.add(s));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():C(t);var n=E(e.paddingTopLeft||e.padding||[0,0]),i=E(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(i));if((r="number"==typeof e.maxZoom?Math.min(e.maxZoom,r):r)===1/0)return{center:t.getCenter(),zoom:r};var o=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),r),a=this.project(t.getNorthEast(),r);return{center:this.unproject(s.add(a).divideBy(2).add(o),r),zoom:r}},fitBounds:function(t,e){if(t=C(t),!t.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=E(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new An,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){gt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){function i(t){var e=t?-1:1,n=t?_:g,i=_*_-g*g+e*b*b*v*v,r=2*n*b*v,o=i/r,s=Math.sqrt(o*o+1)-o;return s<1e-9?-18:Math.log(s)}function r(t){return(Math.exp(t)-Math.exp(-t))/2}function o(t){return(Math.exp(t)+Math.exp(-t))/2}function s(t){return r(t)/o(t)}function a(t){return g*(o(x)/o(x+y*t))}function u(t){return g*(o(x)*s(x+y*t)-r(x))/b}function l(t){return 1-Math.pow(1-t,1.5)}function f(){var n=(Date.now()-E)/M,i=l(n)*w;n<=1?(this._flyToFrame=m(f,this),this._move(this.unproject(c.add(d.subtract(c).multiplyBy(u(i)/v)),p),this.getScaleZoom(g/a(i),p),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}if(n=n||{},!1===n.animate||!Je)return this.setView(t,e,n);this._stop();var c=this.project(this.getCenter()),d=this.project(t),h=this.getSize(),p=this._zoom;t=S(t),e=void 0===e?p:e;var g=Math.max(h.x,h.y),_=g*this.getZoomScale(p,e),v=d.distanceTo(c)||1,y=1.42,b=y*y,x=i(0),E=Date.now(),w=(i(1)-x)/y,M=n.duration?1e3*n.duration:1e3*w*.8;return this._moveStart(!0),f.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=C(t),t.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){return this.options.minZoom=t,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(t):this},setMaxZoom:function(t){return this.options.maxZoom=t,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,C(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},!0===t?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=i.divideBy(2).round(),s=r.divideBy(2).round(),a=o.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=n(this._handleGeolocationResponse,this),r=n(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,r,t):navigator.geolocation.getCurrentPosition(i,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new I(e,n),r=i.toBounds(t.coords.accuracy),o=this._locateOptions;if(o.setView){var s=this.getBoundsZoom(r);this.setView(i,o.maxZoom?Math.min(s,o.maxZoom):s)}var a={latlng:i,bounds:r,timestamp:t.timestamp};for(var u in t.coords)"number"==typeof t.coords[u]&&(a[u]=t.coords[u]);this.fire("locationfound",a)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}ft(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ft(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i=lt("div",n,e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new P(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=C(t),n=E(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),u=this.getSize().subtract(n),l=M(this.project(a,i),this.project(s,i)).getSize(),f=Je?this.options.zoomSnap:1,c=u.x/l.x,d=u.y/l.y,h=e?Math.max(c,d):Math.min(c,d);return i=this.getScaleZoom(h,i),f&&(i=Math.round(i/(f/100))*(f/100),i=e?Math.ceil(i/f)*f:Math.floor(i/f)*f),Math.max(r,Math.min(o,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new x(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new w(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(S(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(E(t),e)},layerPointToLatLng:function(t){var e=E(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(S(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(S(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(C(t))},distance:function(t,e){return this.options.crs.distance(S(t),S(e))},containerPointToLayerPoint:function(t){return E(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return E(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(E(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(S(t)))},mouseEventToContainerPoint:function(t){return et(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=at(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");X(e,"scroll",this._onScroll,this),this._containerId=i(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Je,gt(t,"leaflet-container"+(rn?" leaflet-touch":"")+(an?" leaflet-retina":"")+(ke?" leaflet-oldie":"")+(Ve?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ut(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),wt(this._mapPane,new x(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(gt(t.markerPane,"leaflet-zoom-hide"),gt(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){wt(this._mapPane,new x(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t){return t&&this.fire("zoomstart"),this.fire("movestart")},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return v(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){wt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[i(this._container)]=this;var e=t?H:X;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Je&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){v(this._resizeRequest),this._resizeRequest=m(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,r=[],o="mouseout"===e||"mouseover"===e,s=t.target||t.srcElement,a=!1;s;){if((n=this._targets[i(s)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(o&&!ot(s,t))break;if(r.push(n),o)break}if(s===this._container)break;s=s.parentNode}return r.length||a||o||!ot(s,t)||(r=[this]),r},_handleDOMEvent:function(t){if(this._loaded&&!rt(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e||Ct(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,i){if("click"===t.type){var r=e({},t);r.type="preclick",this._fireDOMEvent(r,r.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,n)),i.length)){var o=i[0];"contextmenu"===n&&o.listens(n,!0)&&$(t);var s={originalEvent:t};if("keypress"!==t.type){var a=o.options&&"icon"in o.options;s.containerPoint=a?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=a?o.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var u=0;u<i.length;u++)if(i[u].fire(n,s,!0),s.originalEvent._stopped||!1===i[u].options.bubblingMouseEvents&&-1!==p(this._mouseEvents,n))return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Mt(this._mapPane)||new x(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return M([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),r=this.getSize().divideBy(2),o=new w(i.subtract(r),i.add(r)),s=this._getBoundsOffset(o,n,e);return s.round().equals([0,0])?t:this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new w(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=M(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=i.min.subtract(t.min),o=i.max.subtract(t.max);return new x(this._rebound(r.x,-o.x),this._rebound(r.y,-o.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=Je?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_t(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._floor();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=lt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=Cn,n=this._proxy.style[e];Et(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();Et(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ft(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r))&&(m(function(){this._moveStart(!0)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,i,r){i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,gt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:r}),setTimeout(n(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(_t(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),m(function(){this._moveEnd(!0)},this))}}),kn=y.extend({options:{position:"topright"},initialize:function(t){c(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return gt(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this},remove:function(){return this._map?(ft(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),jn=function(t){return new kn(t)};Dn.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,r){var o=n+t+" "+n+r;e[t+r]=lt("div",o,i)}var e=this._controlCorners={},n="leaflet-",i=this._controlContainer=lt("div",n+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ft(this._controlCorners[t]);ft(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Fn=kn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){c(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var i in t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return kn.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(i(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){gt(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(gt(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):_t(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _t(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=lt("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Q(e),J(e);var i=this._form=lt("form",t+"-list");n&&(this._map.on("click",this.collapse,this),ze||X(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=this._layersLink=lt("a",t+"-toggle",e);r.href="#",r.title="Layers",rn?(X(r,"click",tt),X(r,"click",this.expand,this)):X(r,"focus",this.expand,this),n||this.expand(),this._baseLayersList=lt("div",t+"-base",i),this._separator=lt("div",t+"-separator",i),this._overlaysList=lt("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&i(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(n(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ct(this._baseLayersList),ct(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&r>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(i(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?(e=document.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers",r),this._layerControlInputs.push(e),e.layerId=i(t.layer),X(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var s=document.createElement("div");return n.appendChild(s),s.appendChild(e),s.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||r.push(e);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])||this._map.addLayer(i[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),zn=function(t,e,n){return new Fn(t,e,n)},Gn=kn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=lt("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,r){var o=lt("a",n,i);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),Q(o),X(o,"click",tt),X(o,"click",r,this),X(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";_t(this._zoomInButton,e),_t(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&gt(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&gt(this._zoomInButton,e)}});Dn.mergeOptions({zoomControl:!0}),Dn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Gn,this.addControl(this.zoomControl))});var Bn=function(t){return new Gn(t)},qn=kn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=lt("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=lt("div",e,n)),t.imperial&&(this._iScale=lt("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,r=3.2808399*t;r>5280?(e=r/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),Un=function(t){return new qn(t)},Vn=kn.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){c(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=lt("div","leaflet-control-attribution"),Q(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});Dn.mergeOptions({attributionControl:!0}),Dn.addInitHook(function(){this.options.attributionControl&&(new Vn).addTo(this)});var Yn=function(t){return new Vn(t)};kn.Layers=Fn,kn.Zoom=Gn,kn.Scale=qn,kn.Attribution=Vn,jn.layers=zn,jn.zoom=Bn,jn.scale=Un,jn.attribution=Yn;var Xn,Hn=y.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),Zn={Events:we},Wn=rn?"touchstart mousedown":"mousedown",Kn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Jn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Qn=Me.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){c(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(X(this._dragStartTarget,Wn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qn._dragging===this&&this.finishDrag(),H(this._dragStartTarget,Wn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!pt(this._element,"leaflet-zoom-anim")&&!(Qn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(Qn._dragging=this,this._preventOutline&&Ct(this._element),Lt(),Se(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new x(e.clientX,e.clientY),X(document,Jn[t.type],this._onMove,this),X(document,Kn[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new x(e.clientX,e.clientY),i=n.subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||($(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Mt(this._element).subtract(i),gt(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),gt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,v(this._animRequest),this._lastEvent=t,this._animRequest=m(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),wt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){_t(document.body,"leaflet-dragging"),this._lastTarget&&(_t(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in Jn)H(document,Jn[t],this._onMove,this),H(document,Kn[t],this._onUp,this);Pt(),Oe(),this._moved&&this._moving&&(v(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Qn._dragging=!1}}),$n=(Object.freeze||Object)({simplify:Ot,pointToSegmentDistance:Nt,closestPointOnSegment:Tt,clipSegment:kt,_getEdgeIntersection:jt,_getBitCode:Ft,_sqClosestPointOnSegment:Gt,isFlat:Bt,_flat:qt}),ti=(Object.freeze||Object)({clipPolygon:Ut}),ei={project:function(t){return new x(t.lng,t.lat)},unproject:function(t){return new I(t.y,t.x)},bounds:new w([-180,-90],[180,90])},ni={R:6378137,R_MINOR:6356752.314245179,bounds:new w([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),s=o*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),o/2);return i=-n*Math.log(Math.max(a,1e-10)),new x(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),s=Math.exp(-t.y/i),a=Math.PI/2-2*Math.atan(s),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)e=o*Math.sin(a),e=Math.pow((1-e)/(1+e),o/2),l=Math.PI/2-2*Math.atan(s*e)-a,a+=l;return new I(a*n,t.x*n/i)}},ii=(Object.freeze||Object)({LonLat:ei,Mercator:ni,SphericalMercator:Ce}),ri=e({},Pe,{code:"EPSG:3395",projection:ni,transformation:function(){var t=.5/(Math.PI*ni.R);return N(t,.5,-t,.5)}()}),oi=e({},Pe,{code:"EPSG:4326",projection:ei,transformation:N(1/180,1,-1/180,.5)}),si=e({},Le,{projection:ei,transformation:N(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});Le.Earth=Pe,Le.EPSG3395=ri,Le.EPSG3857=Te,Le.EPSG900913=Re,Le.EPSG4326=oi,Le.Simple=si;var ai=Me.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[i(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[i(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});Dn.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=i(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=i(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&i(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){t=t?me(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[i(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=i(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ui=ai.extend({initialize:function(t){this._layers={};var e,n;if(t)for(e=0,n=t.length;e<n;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){for(var t in this._layers)this.removeLayer(this._layers[t]);return this},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,i);return this},onAdd:function(t){for(var e in this._layers)t.addLayer(this._layers[e])},onRemove:function(t){for(var e in this._layers)t.removeLayer(this._layers[e])},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return i(t)}}),li=function(t){return new ui(t)},fi=ui.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),ui.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),ui.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new P;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),ci=function(t){return new fi(t)},di=y.extend({initialize:function(t){c(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var r=E(i),o=E("shadow"===e&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return an&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),hi=di.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return hi.imagePath||(hi.imagePath=this._detectIconPath()),(this.options.imagePath||hi.imagePath)+di.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=lt("div","leaflet-default-icon-path",document.body),e=ut(t,"background-image")||ut(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,"")}}),pi=Hn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Qn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),gt(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_t(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var e=this._marker,n=e._shadow,i=Mt(e._icon),r=e._map.layerPointToLatLng(i);n&&wt(n,i),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),gi=ai.extend({options:{icon:new hi,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(t,e){c(this,e),this._latlng=S(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=S(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),t.alt&&(n.alt=t.alt)),gt(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=t.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(gt(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ft(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ft(this._shadow),this._shadow=null},_setPos:function(t){wt(this._icon,t),this._shadow&&wt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(gt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),pi)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new pi(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;yt(this._icon,t),this._shadow&&yt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),_i=ai.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return c(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(rn?10:0)}}),mi=_i.extend({options:{fill:!0,radius:10},initialize:function(t,e){c(this,e),this._latlng=S(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=S(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return _i.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new w(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),vi=mi.extend({initialize:function(t,n,i){if("number"==typeof n&&(n=e({},i,{radius:n})),c(this,n),this._latlng=S(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new P(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:_i.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===Pe.distance){var r=Math.PI/180,o=this._mRadius/Pe.R/r,s=n.project([e+o,t]),a=n.project([e-o,t]),u=s.add(a).divideBy(2),l=n.unproject(u).lat,f=Math.acos((Math.cos(o*r)-Math.sin(e*r)*Math.sin(l*r))/(Math.cos(e*r)*Math.cos(l*r)))/r;(isNaN(f)||0===f)&&(f=o/Math.cos(Math.PI/180*e)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(f)?0:Math.max(Math.round(u.x-n.project([l,t-f]).x),1),this._radiusY=Math.max(Math.round(u.y-s.y),1)}else{var c=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(c).x}this._updateBounds()}}),yi=_i.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){c(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,r=null,o=Gt,s=0,a=this._parts.length;s<a;s++)for(var u=this._parts[s],l=1,f=u.length;l<f;l++){e=u[l-1],n=u[l];var c=o(t,e,n,!0);c<i&&(i=c,r=o(t,e,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,s,a=this._rings[0],u=a.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,i=0;t<u-1;t++)if(r=a[t],o=a[t+1],n=r.distanceTo(o),(i+=n)>e)return s=(i-e)/n,this._map.layerPointToLatLng([o.x-s*(o.x-r.x),o.y-s*(o.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=S(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new P,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Bt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=Bt(t),i=0,r=t.length;i<r;i++)n?(e[i]=S(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new w;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new x(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(n),t.max._add(n),this._pxBounds=t)},_projectLatlngs:function(t,e,n){var i,r,o=t[0]instanceof I,s=t.length;if(o){for(r=[],i=0;i<s;i++)r[i]=this._map.latLngToLayerPoint(t[i]),n.extend(r[i]);e.push(r)}else for(i=0;i<s;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);var e,n,i,r,o,s,a,u=this._parts;for(e=0,i=0,r=this._rings.length;e<r;e++)for(a=this._rings[e],n=0,o=a.length;n<o-1;n++)(s=kt(a[n],a[n+1],t,n,!0))&&(u[i]=u[i]||[],u[i].push(s[0]),s[1]===a[n+1]&&n!==o-2||(u[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=Ot(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,r,o,s,a,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(a=this._parts[n],i=0,s=a.length,r=s-1;i<s;r=i++)if((e||0!==i)&&Nt(t,a[r],a[i])<=u)return!0;return!1}});yi._flat=qt;var bi=yi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,s,a,u,l=this._rings[0],f=l.length;if(!f)return null;for(o=s=a=0,t=0,e=f-1;t<f;e=t++)n=l[t],i=l[e],r=n.y*i.x-i.y*n.x,s+=(n.x+i.x)*r,a+=(n.y+i.y)*r,o+=3*r;return u=0===o?l[0]:[s/o,a/o],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=yi.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof I&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){yi.prototype._setLatLngs.call(this,t),Bt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Bt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new x(e,e);if(t=new w(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);for(var i,r=0,o=this._rings.length;r<o;r++)i=Ut(this._rings[r],t,!0),i.length&&this._parts.push(i)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,r,o,s,a,u,l=!1;if(!this._pxBounds.contains(t))return!1;for(r=0,a=this._parts.length;r<a;r++)for(e=this._parts[r],o=0,u=e.length,s=u-1;o<u;s=o++)n=e[o],i=e[s],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(l=!l);return l||yi.prototype._containsPoint.call(this,t,!0)}}),xi=fi.extend({initialize:function(t,e){c(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,r=me(t)?t:t.features;if(r){for(e=0,n=r.length;e<n;e++)i=r[e],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var s=Kt(t,o);return s?(s.feature=ne(t),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),Ei={toGeoJSON:function(t){return ee(this,{type:"Point",coordinates:$t(this.getLatLng(),t)})}};gi.include(Ei),vi.include(Ei),mi.include(Ei),yi.include({toGeoJSON:function(t){var e=!Bt(this._latlngs),n=te(this._latlngs,e?1:0,!1,t);return ee(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}}),bi.include({toGeoJSON:function(t){var e=!Bt(this._latlngs),n=e&&!Bt(this._latlngs[0]),i=te(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),ee(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),ui.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)}),ee(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer(function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(n)i.push(r.geometry);else{var o=ne(r);"FeatureCollection"===o.type?i.push.apply(i,o.features):i.push(o)}}}),n?ee(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var wi=ie,Mi=ai.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=C(e),c(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(gt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ft(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&dt(this._image),this},bringToBack:function(){return this._map&&ht(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=C(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=lt("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":"")+(this.options.className||""));t.onselectstart=a,t.onmousemove=a,t.onload=n(this.fire,this,"load"),t.onerror=n(this._overlayOnError,this,"error"),this.options.crossOrigin&&(t.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),t.src=this._url,t.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Et(this._image,n,e)},_reset:function(){var t=this._image,e=new w(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();wt(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){yt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Li=function(t,e,n){return new Mi(t,e,n)},Pi=Mi.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:lt("video");if(e.class=e.class||"",e.class+="leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""),e.onselectstart=a,e.onmousemove=a,e.onloadeddata=n(this.fire,this,"load"),!t){me(this._url)||(this._url=[this._url]),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var i=0;i<this._url.length;i++){var r=lt("source");r.src=this._url[i],e.appendChild(r)}}}}),Ci=ai.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){c(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&yt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&yt(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(yt(this._container,0),this._removeTimeout=setTimeout(n(ft,void 0,this._container),200)):ft(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=S(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&dt(this._container),this},bringToBack:function(){return this._map&&ht(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=E(this.options.offset),n=this._getAnchor();this._zoomAnimated?wt(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}}),Ii=Ci.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Ci.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof _i||this._source.on("preclick",K))},onRemove:function(t){Ci.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof _i||this._source.off("preclick",K))},getEvents:function(){var t=Ci.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=lt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=lt("div",t+"-content-wrapper",e);if(this._contentNode=lt("div",t+"-content",n),Q(n),J(this._contentNode),X(n,"contextmenu",K),this._tipContainer=lt("div",t+"-tip-container",e),this._tip=lt("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=lt("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",X(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,r=this.options.maxHeight;r&&i>r?(e.height=r+"px",gt(t,"leaflet-popup-scrolled")):_t(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();wt(this._container,e.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(ut(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,r=new x(this._containerLeft,-n-this._containerBottom);r._add(Mt(this._container));var o=t.layerPointToContainerPoint(r),s=E(this.options.autoPanPadding),a=E(this.options.autoPanPaddingTopLeft||s),u=E(this.options.autoPanPaddingBottomRight||s),l=t.getSize(),f=0,c=0;o.x+i+u.x>l.x&&(f=o.x+i-l.x+u.x),o.x-f-a.x<0&&(f=o.x-a.x),o.y+n+u.y>l.y&&(c=o.y+n-l.y+u.y),o.y-c-a.y<0&&(c=o.y-a.y),(f||c)&&t.fire("autopanstart").panBy([f,c])}},_onCloseButtonClick:function(t){this._close(),tt(t)},_getAnchor:function(){return E(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Si=function(t,e){return new Ii(t,e)};Dn.mergeOptions({closePopupOnClick:!0}),Dn.include({openPopup:function(t,e,n){return t instanceof Ii||(t=new Ii(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),ai.include({bindPopup:function(t,e){return t instanceof Ii?(c(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new Ii(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof ai||(e=t,t=this),t instanceof fi)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(this._popup&&this._map){if(tt(t),e instanceof _i)return void this.openPopup(t.layer||t.target,t.latlng);this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Oi=Ci.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Ci.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Ci.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Ci.prototype.getEvents.call(this);return rn&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=lt("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),r=e.layerPointToContainerPoint(t),o=this.options.direction,s=n.offsetWidth,a=n.offsetHeight,u=E(this.options.offset),l=this._getAnchor();"top"===o?t=t.add(E(-s/2+u.x,-a+u.y+l.y,!0)):"bottom"===o?t=t.subtract(E(s/2-u.x,-u.y,!0)):"center"===o?t=t.subtract(E(s/2+u.x,a/2-l.y+u.y,!0)):"right"===o||"auto"===o&&r.x<i.x?(o="right",t=t.add(E(u.x+l.x,l.y-a/2+u.y,!0))):(o="left",t=t.subtract(E(s+l.x-u.x,a/2-l.y-u.y,!0))),_t(n,"leaflet-tooltip-right"),_t(n,"leaflet-tooltip-left"),_t(n,"leaflet-tooltip-top"),_t(n,"leaflet-tooltip-bottom"),gt(n,"leaflet-tooltip-"+o),wt(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&yt(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return E(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ni=function(t,e){return new Oi(t,e)};Dn.include({openTooltip:function(t,e,n){return t instanceof Oi||(t=new Oi(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),ai.include({bindTooltip:function(t,e){return t instanceof Oi?(c(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new Oi(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),rn&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof ai||(e=t,t=this),t instanceof fi)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(gt(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(_t(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Ti=di.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=E(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});di.Default=hi;var Ri=ai.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Qe,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){c(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ft(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(dt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ht(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=r(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof x?t:new x(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),r=0,o=n.length;r<o;r++)e=n[r].style.zIndex,n[r]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ke){yt(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var o=Math.min(1,(t-r.loaded)/200);yt(r.el,o),o<1?e=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(v(this._fadeFrame),this._fadeFrame=m(this._updateOpacity,this))}},_onOpaqueTile:a,_initContainer:function(){this._container||(this._container=lt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(ft(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],r=this._map;return i||(i=this._levels[t]={},i.el=lt("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,r.getCenter(),r.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:a,_onRemoveLevel:a,_onCreateLevel:a,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)return void this._removeAllTiles();for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ft(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(t,e,n,i){var r=Math.floor(t/2),o=Math.floor(e/2),s=n-1,a=new x(+r,+o);a.z=+s;var u=this._tileCoordsToKey(a),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),s>i&&this._retainParent(r,o,s,i))},_retainChildren:function(t,e,n,i){for(var r=2*t;r<2*t+2;r++)for(var o=2*e;o<2*e+2;o++){var s=new x(r,o);s.z=n+1;var a=this._tileCoordsToKey(s),u=this._tiles[a];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<i&&this._retainChildren(r,o,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var r=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom)&&(r=void 0);var o=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!o||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();Je?Et(t.el,r,i):wt(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*i);return new w(r.subtract(o),r.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(i),o=r.getCenter(),s=[],a=this.options.keepBuffer,u=new w(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var f=this._tiles[l].coords;f.z===this._tileZoom&&u.contains(new x(f.x,f.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)return void this._setView(t,n);for(var c=r.min.y;c<=r.max.y;c++)for(var d=r.min.x;d<=r.max.x;d++){var h=new x(d,c);h.z=this._tileZoom,this._isValidTile(h)&&(this._tiles[this._tileCoordsToKey(h)]||s.push(h))}if(s.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var p=document.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],p);this._level.el.appendChild(p)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return C(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToBounds:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),r=i.add(n),o=e.unproject(i,t.z),s=e.unproject(r,t.z),a=new P(o,s);return this.options.noWrap||e.wrapLatLngBounds(a),a},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new x(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(ft(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){gt(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=a,t.onmousemove=a,ke&&this.options.opacity<1&&yt(t,this.options.opacity),ze&&!Ge&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var i=this._getTilePos(t),r=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),n(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&m(n(this._tileReady,this,t,null,o)),wt(o,i),this._tiles[r]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,i){if(this._map){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var r=this._tileCoordsToKey(t);i=this._tiles[r],i&&(i.loaded=+new Date,this._map._fadeAnimated?(yt(i.el,0),v(this._fadeFrame),this._fadeFrame=m(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(gt(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ke||!this._map._fadeAnimated?m(this._pruneTiles,this):setTimeout(n(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new x(this._wrapX?o(t.x,this._wrapX):t.x,this._wrapY?o(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new w(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),Ai=Ri.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,e=c(this,e),e.detectRetina&&an&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),ze||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return X(i,"load",n(this._tileOnLoad,this,e,i)),X(i,"error",n(this._tileOnError,this,e,i)),this.options.crossOrigin&&(i.crossOrigin=""),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(t),i},getTileUrl:function(t){var n={r:an?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=i),n["-y"]=i}return h(this._url,e(n,this.options))},_tileOnLoad:function(t,e){ke?setTimeout(n(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.src!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,i=this.options.zoomOffset;return n&&(t=e-t),t+i},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=a,e.onerror=a,e.complete||(e.src=ve,ft(e)))}}),Di=Ai.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var i=e({},this.defaultWmsParams);for(var r in n)r in this.options||(i[r]=n[r]);n=c(this,n),i.width=i.height=n.tileSize*(n.detectRetina&&an?2:1),this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Ai.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToBounds(t),n=this._crs.project(e.getNorthWest()),i=this._crs.project(e.getSouthEast()),r=(this._wmsVersion>=1.3&&this._crs===oi?[i.y,n.x,n.y,i.x]:[n.x,i.y,i.x,n.y]).join(","),o=Ai.prototype.getTileUrl.call(this,t);return o+d(this.wmsParams,o,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+r},setParams:function(t,n){return e(this.wmsParams,t),n||this.redraw(),this}});Ai.WMS=Di,ae.wms=ue;var ki=ai.extend({options:{padding:.1},initialize:function(t){c(this,t),i(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&gt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=Mt(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),s=this._map.project(t,e),a=s.subtract(o),u=r.multiplyBy(-n).add(i).add(r).subtract(a);Je?Et(this._container,u,n):wt(this._container,u)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new w(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ji=ki.extend({getEvents:function(){var t=ki.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ki.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");X(t,"mousemove",r(this._onMouseMove,32,this),this),X(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),X(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){delete this._ctx,ft(this._container),H(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},ki.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=an?2:1;wt(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",an&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ki.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[i(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[L.stamp(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e,n=t.options.dashArray.split(","),i=[];for(e=0;e<n.length;e++)i.push(Number(n[e]));t.options._dashArray=i}},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||m(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new w,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,r,o,s=t._parts,a=s.length,u=this._ctx;if(a){for(this._drawnLayers[t._leaflet_id]=t,u.beginPath(),n=0;n<a;n++){for(i=0,r=s[n].length;i<r;i++)o=s[n][i],u[i?"lineTo":"moveTo"](o.x,o.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=t._radius,r=(t._radiusY||i)/i;this._drawnLayers[t._leaflet_id]=t,1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(e.x,e.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)e=r.layer,e.options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(n=e);n&&(it(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(_t(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var n,i,r=this._drawFirst;r;r=r.next)n=r.layer,n.options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(gt(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order,n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))},_bringToBack:function(t){var e=t._order,n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}),Fi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),zi={_initContainer:function(){this._container=lt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ki.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Fi("shape");gt(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Fi("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[i(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;ft(e),t.removeInteractiveTarget(e),delete this._layers[i(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,r=t._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(e||(e=t._stroke=Fi("stroke")),r.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=me(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(r.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=Fi("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){dt(t._container)},_bringToBack:function(t){ht(t._container)}},Gi=fn?Fi:T,Bi=ki.extend({getEvents:function(){var t=ki.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=Gi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Gi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ft(this._container),H(this._container),delete this._container,delete this._rootGroup},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){ki.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),wt(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Gi("path");t.options.className&&gt(e,t.options.className),t.options.interactive&&gt(e,"leaflet-interactive"),this._updateStyle(t),this._layers[i(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ft(t._path),t.removeInteractiveTarget(t._path),delete this._layers[i(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,R(t._parts,e))},_updateCircle:function(t){var e=t._point,n=t._radius,i=t._radiusY||n,r="a"+n+","+i+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){dt(t._path)},_bringToBack:function(t){ht(t._path)}});fn&&Bi.include(zi),Dn.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&le()||fe()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=Bi&&fe({pane:t})||ji&&le({pane:t}),this._paneRenderers[t]=e),e}});var qi=bi.extend({initialize:function(t,e){bi.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=C(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});Bi.create=Gi,Bi.pointsToPath=R,xi.geometryToLayer=Kt,xi.coordsToLatLng=Jt,xi.coordsToLatLngs=Qt,xi.latLngToCoords=$t,xi.latLngsToCoords=te,xi.getFeature=ee,xi.asFeature=ne,Dn.mergeOptions({boxZoom:!0});var Ui=Hn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){X(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){H(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ft(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Se(),Lt(),this._startPoint=this._map.mouseEventToContainerPoint(t),X(document,{contextmenu:tt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=lt("div","leaflet-zoom-box",this._container),gt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new w(this._point,this._startPoint),n=e.getSize();wt(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ft(this._box),_t(this._container,"leaflet-crosshair")),Oe(),Pt(),H(document,{contextmenu:tt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(n(this._resetState,this),0);var e=new P(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Dn.addInitHook("addHandler","boxZoom",Ui),Dn.mergeOptions({doubleClickZoom:!0});var Vi=Hn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});Dn.addInitHook("addHandler","doubleClickZoom",Vi),Dn.mergeOptions({dragging:!0,inertia:!Ge,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Yi=Hn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Qn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}gt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_t(this._map._container,"leaflet-grab"),_t(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=C(this._map.options.maxBounds);this._offsetLimit=M(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),e-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,s=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=r.multiplyBy(s/o),u=a.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,u),f=a.multiplyBy(l/u),c=l/(n.inertiaDeceleration*s),d=f.multiplyBy(-c/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),m(function(){e.panBy(d,{duration:c,easeLinearity:s,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});Dn.addInitHook("addHandler","dragging",Yi),Dn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Xi=Hn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),X(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),H(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;e<n;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;e<n;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;e<n;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;e<n;e++)i[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;e<n;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;e<n;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){X(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){H(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys){if(i._panAnim&&i._panAnim._inProgress)return;e=this._panKeys[n],t.shiftKey&&(e=E(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup)return;i.closePopup()}tt(t)}}});Dn.addInitHook("addHandler","keyboard",Xi),Dn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Hi=Hn.extend({addHooks:function(){X(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){H(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=nt(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var r=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(n(this._performZoom,this),r),tt(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,s=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});Dn.addInitHook("addHandler","scrollWheelZoom",Hi),Dn.mergeOptions({tap:!0,tapTolerance:15});var Zi=Hn.extend({addHooks:function(){X(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){H(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if($(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new x(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&gt(i,"leaflet-active"),this._holdTimeout=setTimeout(n(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),X(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),H(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&_t(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new x(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});rn&&!nn&&Dn.addInitHook("addHandler","tap",Zi),Dn.mergeOptions({touchZoom:rn&&!Ge,bounceAtZoomLimits:!0});var Wi=Hn.extend({addHooks:function(){gt(this._map._container,"leaflet-touch-zoom"),X(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),H(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),X(document,"touchmove",this._onTouchMove,this),X(document,"touchend",this._onTouchEnd,this),$(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),o=i.distanceTo(r)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=i._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0),this._moved=!0),v(this._animRequest);var a=n(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=m(a,this,!0),$(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);this._zooming=!1,v(this._animRequest),H(document,"touchmove",this._onTouchMove),H(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Dn.addInitHook("addHandler","touchZoom",Wi),Dn.BoxZoom=Ui,Dn.DoubleClickZoom=Vi,Dn.Drag=Yi,Dn.Keyboard=Xi,Dn.ScrollWheelZoom=Hi,Dn.Tap=Zi,Dn.TouchZoom=Wi;var Ki=window.L;window.L=t,Object.freeze=he,t.version="1.2.0",t.noConflict=de,t.Control=kn,t.control=jn,t.Browser=cn,t.Evented=Me,t.Mixin=Zn,t.Util=Ee,t.Class=y,t.Handler=Hn,t.extend=e,t.bind=n,t.stamp=i,t.setOptions=c,t.DomEvent=Pn,t.DomUtil=Rn,t.PosAnimation=An,t.Draggable=Qn,t.LineUtil=$n,t.PolyUtil=ti,t.Point=x,t.point=E,t.Bounds=w,t.bounds=M,t.Transformation=O,t.transformation=N,t.Projection=ii,t.LatLng=I,t.latLng=S,t.LatLngBounds=P,t.latLngBounds=C,t.CRS=Le,t.GeoJSON=xi,t.geoJSON=ie,t.geoJson=wi,t.Layer=ai,t.LayerGroup=ui,t.layerGroup=li,t.FeatureGroup=fi,t.featureGroup=ci,t.ImageOverlay=Mi,t.imageOverlay=Li,t.VideoOverlay=Pi,t.videoOverlay=re,t.DivOverlay=Ci,t.Popup=Ii,t.popup=Si,t.Tooltip=Oi,t.tooltip=Ni,t.Icon=di,t.icon=Vt,t.DivIcon=Ti,t.divIcon=oe,t.Marker=gi,t.marker=Yt,t.TileLayer=Ai,t.tileLayer=ae,t.GridLayer=Ri,t.gridLayer=se,t.SVG=Bi,t.svg=fe,t.Renderer=ki,t.Canvas=ji,t.canvas=le,t.Path=_i,t.CircleMarker=mi,t.circleMarker=Xt,t.Circle=vi,t.circle=Ht,t.Polyline=yi,t.polyline=Zt,t.Polygon=bi,t.polygon=Wt,t.Rectangle=qi,t.rectangle=ce,t.Map=Dn,t.map=St})},function(t,e,n){"use strict";function i(t,e){if(e=e||{},!(0,o.isObject)(e))throw new Error("options is invalid");var n=e.concavity||1/0,i=[];if((0,r.coordEach)(t,function(t){i.push([t[0],t[1]])}),!i.length)return null;var a=s(i,n);return a.length>3?(0,o.polygon)([a]):null}Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),o=n(1),s=n(321);e.default=i},function(t,e,n){"use strict";function i(t,e){for(var n=new Array(t.length-1),i=1;i<t.length;++i)for(var r=n[i-1]=new Array(t.length-1),o=0,s=0;o<t.length;++o)o!==e&&(r[s++]=t[i][o]);return n}function r(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var i=0;i<t;++i)e[n][i]=["m",i,"[",t-n-1,"]"].join("")}return e}function o(t){return 1&t?"-":""}function s(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",s(t.slice(0,e)),",",s(t.slice(e)),")"].join("")}function a(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var e=[],n=0;n<t.length;++n)e.push(["scale(",s(a(i(t,n))),",",o(n),t[0][n],")"].join(""));return e}function u(t){for(var e=[],n=[],o=r(t),u=[],l=0;l<t;++l)0==(1&l)?e.push.apply(e,a(i(o,l))):n.push.apply(n,a(i(o,l))),u.push("m"+l);var p=s(e),g=s(n),_="orientation"+t+"Exact",m=["function ",_,"(",u.join(),"){var p=",p,",n=",g,",d=sub(p,n);return d[d.length-1];};return ",_].join("");return new Function("sum","prod","scale","sub",m)(c,f,d,h)}function l(t){var e=m[t.length];return e||(e=m[t.length]=u(t.length)),e.apply(void 0,t)}var f=n(175),c=n(324),d=n(325),h=n(327),p=5,g=u(3),_=u(4),m=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var i,r=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),s=r-o;if(r>0){if(o<=0)return s;i=r+o}else{if(!(r<0))return s;if(o>=0)return s;i=-(r+o)}var a=3.3306690738754716e-16*i;return s>=a||s<=-a?s:g(t,e,n)},function(t,e,n,i){var r=t[0]-i[0],o=e[0]-i[0],s=n[0]-i[0],a=t[1]-i[1],u=e[1]-i[1],l=n[1]-i[1],f=t[2]-i[2],c=e[2]-i[2],d=n[2]-i[2],h=o*l,p=s*u,g=s*a,m=r*l,v=r*u,y=o*a,b=f*(h-p)+c*(g-m)+d*(v-y),x=(Math.abs(h)+Math.abs(p))*Math.abs(f)+(Math.abs(g)+Math.abs(m))*Math.abs(c)+(Math.abs(v)+Math.abs(y))*Math.abs(d),E=7.771561172376103e-16*x;return b>E||-b>E?b:_(t,e,n,i)}];!function(){for(;m.length<=p;)m.push(u(m.length));for(var e=[],n=["slow"],i=0;i<=p;++i)e.push("a"+i),n.push("o"+i);for(var r=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"],i=2;i<=p;++i)r.push("case ",i,":return o",i,"(",e.slice(0,i).join(),");");r.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(r.join(""));var o=Function.apply(void 0,n);t.exports=o.apply(void 0,[l].concat(m));for(var i=0;i<=p;++i)t.exports[i]=m[i]}()},function(t,e,n){"use strict";function i(t,e,n){var i=t*e,o=r*t,s=o-t,a=o-s,u=t-a,l=r*e,f=l-e,c=l-f,d=e-c,h=i-a*c,p=h-u*c,g=p-a*d,_=u*d-g;return n?(n[0]=_,n[1]=i,n):[_,i]}t.exports=i;var r=+(Math.pow(2,27)+1)},function(t,e,n){"use strict";function i(t,e){if("FeatureCollection"!==t.type)throw new Error("points must be a FeatureCollection");var n=!1;return(0,u.featureCollection)(a(t.features.map(function(t){var i={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?i.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,i.z=t.geometry.coordinates[2]),i})).map(function(t){var e=[t.a.x,t.a.y],i=[t.b.x,t.b.y],r=[t.c.x,t.c.y],o={};return n?(e.push(t.a.z),i.push(t.b.z),r.push(t.c.z)):o={a:t.a.z,b:t.b.z,c:t.c.z},(0,u.polygon)([[e,i,r,e]],o)}))}function r(t,e,n){this.a=t,this.b=e,this.c=n;var i,r,o=e.x-t.x,s=e.y-t.y,a=n.x-t.x,u=n.y-t.y,l=o*(t.x+e.x)+s*(t.y+e.y),f=a*(t.x+n.x)+u*(t.y+n.y),c=2*(o*(n.y-e.y)-s*(n.x-e.x));this.x=(u*l-s*f)/c,this.y=(o*f-a*l)/c,i=this.x-t.x,r=this.y-t.y,this.r=i*i+r*r}function o(t,e){return e.x-t.x}function s(t){var e,n,i,r,o,s=t.length;t:for(;s;)for(n=t[--s],e=t[--s],i=s;i;)if(o=t[--i],r=t[--i],e===r&&n===o||e===o&&n===r){t.splice(s,2),t.splice(i,2),s-=2;continue t}}function a(t){if(t.length<3)return[];t.sort(o);for(var e,n,i,a,u,l,f=t.length-1,c=t[f].x,d=t[0].x,h=t[f].y,p=h;f--;)t[f].y<h&&(h=t[f].y),t[f].y>p&&(p=t[f].y);var g,_=d-c,m=p-h,v=_>m?_:m,y=.5*(d+c),b=.5*(p+h),x=[new r({x:y-20*v,y:b-v,__sentinel:!0},{x:y,y:b+20*v,__sentinel:!0},{x:y+20*v,y:b-v,__sentinel:!0})],E=[],w=[];for(f=t.length;f--;){for(w.length=0,g=x.length;g--;)_=t[f].x-x[g].x,_>0&&_*_>x[g].r?(E.push(x[g]),x.splice(g,1)):(m=t[f].y-x[g].y,_*_+m*m>x[g].r||(w.push(x[g].a,x[g].b,x[g].b,x[g].c,x[g].c,x[g].a),x.splice(g,1)));for(s(w),g=w.length;g;)n=w[--g],e=w[--g],i=t[f],a=n.x-e.x,u=n.y-e.y,l=2*(a*(i.y-n.y)-u*(i.x-n.x)),Math.abs(l)>1e-12&&x.push(new r(e,n,i))}for(Array.prototype.push.apply(E,x),f=E.length;f--;)(E[f].a.__sentinel||E[f].b.__sentinel||E[f].c.__sentinel)&&E.splice(f,1);return E}Object.defineProperty(e,"__esModule",{value:!0});var u=n(1);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(t){t=o(t),t[0]<s&&(s=t[0]),t[0]>u&&(u=t[0]),t[1]<a&&(a=t[1]),t[1]>l&&(l=t[1])}function n(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"Point":e(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(e)}}var i,o=(0,r.default)(t.transform),s=1/0,a=s,u=-s,l=-s;t.arcs.forEach(function(t){for(var e,n=-1,i=t.length;++n<i;)e=o(t[n],n),e[0]<s&&(s=e[0]),e[0]>u&&(u=e[0]),e[1]<a&&(a=e[1]),e[1]>l&&(l=e[1])});for(i in t.objects)n(t.objects[i]);return[s,a,u,l]};var i=n(122),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){function n(e){var n,i=t.arcs[e<0?~e:e],r=i[0];return t.transform?(n=[0,0],i.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=i[i.length-1],e<0?[n,r]:[r,n]}function i(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach(function(t){r[t<0?~t:t]=1}),a.push(i)}}var r={},o={},s={},a=[],u=-1;return e.forEach(function(n,i){var r,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(r=e[++u],e[u]=n,e[i]=r)}),e.forEach(function(t){var e,i,r=n(t),a=r[0],u=r[1];if(e=s[a])if(delete s[e.end],e.push(t),e.end=u,i=o[u]){delete o[i.start];var l=i===e?e:e.concat(i);o[l.start=e.start]=s[l.end=i.end]=l}else o[e.start]=s[e.end]=e;else if(e=o[u])if(delete o[e.start],e.unshift(t),e.start=a,i=s[a]){delete s[i.end];var f=i===e?e:i.concat(e);o[f.start=i.start]=s[f.end=e.end]=f}else o[e.start]=s[e.end]=e;else e=[t],o[e.start=a]=s[e.end=u]=e}),i(s,o),i(o,s),e.forEach(function(t){r[t<0?~t:t]||a.push([t])}),a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(null==t)return r.default;var e,n,i=t.scale[0],o=t.scale[1],s=t.translate[0],a=t.translate[1];return function(t,r){r||(e=n=0);var u=2,l=t.length,f=new Array(l),c=Math.round((t[0]-s)/i),d=Math.round((t[1]-a)/o);for(f[0]=c-e,e=c,f[1]=d-n,n=d;u<l;)f[u]=t[u],++u;return f}};var i=n(178),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t[0]===e[0]&&t[1]===e[1]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){r[0]=t[0],r[1]=t[1];var e=o[0]^o[1];return 2147483647&(e=e<<5^e>>7^o[2]^o[3])};var i=new ArrayBuffer(16),r=new Float64Array(i),o=new Uint32Array(i)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return(0,u.default)((0,s.default)(t))}Object.defineProperty(e,"__esModule",{value:!0});var o=n(27),s=i(o),a=n(125),u=i(a);e.default=r},function(t,e,n){"use strict";function i(t){var e=t[0],n=t[1],i=t[2],r=t[3];if((0,o.default)(t.slice(0,2),[i,n])>=(0,o.default)(t.slice(0,2),[e,r])){var s=(n+r)/2;return[e,s-(i-e)/2,i,s+(i-e)/2]}var a=(e+i)/2;return[a-(r-n)/2,n,a+(r-n)/2,r]}Object.defineProperty(e,"__esModule",{value:!0});var r=n(23),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(3),s=i(o),a=n(0),u=i(a),l=n(186),f=i(l);(0,u.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.orientationIndex=function(t,e,n){var i=r.orientationIndexFilter(t,e,n);if(i<=1)return i;var o=f.default.valueOf(e.x).selfAdd(-t.x),s=f.default.valueOf(e.y).selfAdd(-t.y),a=f.default.valueOf(n.x).selfAdd(-e.x),u=f.default.valueOf(n.y).selfAdd(-e.y);return o.selfMultiply(u).selfSubtract(s.selfMultiply(a)).signum()},r.signOfDet2x2=function(t,e,n,i){return t.multiply(i).selfSubtract(e.multiply(n)).signum()},r.intersection=function(t,e,n,i){var r=f.default.valueOf(i.y).selfSubtract(n.y).selfMultiply(f.default.valueOf(e.x).selfSubtract(t.x)),o=f.default.valueOf(i.x).selfSubtract(n.x).selfMultiply(f.default.valueOf(e.y).selfSubtract(t.y)),a=r.subtract(o),u=f.default.valueOf(i.x).selfSubtract(n.x).selfMultiply(f.default.valueOf(t.y).selfSubtract(n.y)),l=f.default.valueOf(i.y).selfSubtract(n.y).selfMultiply(f.default.valueOf(t.x).selfSubtract(n.x)),c=u.subtract(l),d=c.selfDivide(a).doubleValue(),h=f.default.valueOf(t.x).selfAdd(f.default.valueOf(e.x).selfSubtract(t.x).selfMultiply(d)).doubleValue(),p=f.default.valueOf(e.x).selfSubtract(t.x).selfMultiply(f.default.valueOf(t.y).selfSubtract(n.y)),g=f.default.valueOf(e.y).selfSubtract(t.y).selfMultiply(f.default.valueOf(t.x).selfSubtract(n.x)),_=p.subtract(g),m=_.selfDivide(a).doubleValue(),v=f.default.valueOf(n.y).selfAdd(f.default.valueOf(i.y).selfSubtract(n.y).selfMultiply(m)).doubleValue();return new s.default(h,v)},r.orientationIndexFilter=function(t,e,n){var i=null,o=(t.x-n.x)*(e.y-n.y),s=(t.y-n.y)*(e.x-n.x),a=o-s;if(o>0){if(s<=0)return r.signum(a);i=o+s}else{if(!(o<0))return r.signum(a);if(s>=0)return r.signum(a);i=-o-s}var u=r.DP_SAFE_EPSILON*i;return a>=u||-a>=u?r.signum(a):2},r.signum=function(t){return t>0?1:t<0?-1:0},r.DP_SAFE_EPSILON=1e-15},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof r){var e=arguments[0];this.init(e)}else if("string"==typeof arguments[0]){var n=arguments[0];r.call(this,r.parse(n))}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.init(i,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(43),s=i(o),a=n(15),u=i(a),l=n(0),f=i(l),c=n(74),d=i(c),h=n(187),p=i(h),g=n(26),_=i(g),m=n(72),v=i(m),y=n(28),b=i(y);(0,f.default)(r.prototype,{le:function(t){return this._hi<t._hi||this._hi===t._hi&&this._lo<=t._lo},extractSignificantDigits:function(t,e){var n=this.abs(),i=r.magnitude(n._hi),o=r.TEN.pow(i);n=n.divide(o),n.gt(r.TEN)?(n=n.divide(r.TEN),i+=1):n.lt(r.ONE)&&(n=n.multiply(r.TEN),i-=1);for(var a=i+1,u=new s.default,l=r.MAX_PRINT_DIGITS-1,f=0;f<=l;f++){t&&f===a&&u.append(".");var c=Math.trunc(n._hi);if(c<0)break;var d=!1,h=0;c>9?(d=!0,h="9"):h="0"+c,u.append(h),n=n.subtract(r.valueOf(c)).multiply(r.TEN),d&&n.selfAdd(r.TEN);var p=!0,g=r.magnitude(n._hi);if(g<0&&Math.abs(g)>=l-f&&(p=!1),!p)break}return e[0]=i,u.toString()},sqr:function(){return this.multiply(this)},doubleValue:function(){return this._hi+this._lo},subtract:function(){if(arguments[0]instanceof r){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},equals:function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},isZero:function(){return 0===this._hi&&0===this._lo},selfSubtract:function(){if(arguments[0]instanceof r){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},getSpecialNumberString:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},min:function(t){return this.le(t)?this:t},selfDivide:function(){if(1===arguments.length){if(arguments[0]instanceof r){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],o=null,s=null,a=null,u=null,l=null,f=null,c=null,d=null;return l=this._hi/n,f=r.SPLIT*l,o=f-l,d=r.SPLIT*n,o=f-o,s=l-o,a=d-n,c=l*n,a=d-a,u=n-a,d=o*a-c+o*u+s*a+s*u,f=(this._hi-c-d+this._lo-l*i)/n,d=l+f,this._hi=d,this._lo=l-d+f,this}},dump:function(){return"DD<"+this._hi+", "+this._lo+">"},divide:function(){if(arguments[0]instanceof r){var t=arguments[0],e=null,n=null,i=null,o=null,s=null,a=null,l=null,f=null;s=this._hi/t._hi,a=r.SPLIT*s,e=a-s,f=r.SPLIT*t._hi,e=a-e,n=s-e,i=f-t._hi,l=s*t._hi,i=f-i,o=t._hi-i,f=e*i-l+e*o+n*i+n*o,a=(this._hi-l-f+this._lo-s*t._lo)/t._hi,f=s+a;return new r(f,s-f+a)}if("number"==typeof arguments[0]){var c=arguments[0];return u.default.isNaN(c)?r.createNaN():r.copy(this).selfDivide(c,0)}},ge:function(t){return this._hi>t._hi||this._hi===t._hi&&this._lo>=t._lo},pow:function(t){if(0===t)return r.valueOf(1);var e=new r(this),n=r.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2==1&&n.selfMultiply(e),(i/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},ceil:function(){if(this.isNaN())return r.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new r(t,e)},compareTo:function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},rint:function(){return this.isNaN()?this:this.add(.5).floor()},setValue:function(){if(arguments[0]instanceof r){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},max:function(t){return this.ge(t)?this:t},sqrt:function(){if(this.isZero())return r.valueOf(0);if(this.isNegative())return r.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=r.valueOf(e),i=this.subtract(n.sqr()),o=i._hi*(.5*t);return n.add(o)},selfAdd:function(){if(1===arguments.length){if(arguments[0]instanceof r){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,i=null,o=null,s=null,a=null,u=null;return o=this._hi+e,a=o-this._hi,s=o-a,s=e-a+(this._hi-s),u=s+this._lo,n=o+u,i=u+(o-n),this._hi=n+i,this._lo=i+(n-this._hi),this}}else if(2===arguments.length){var l=arguments[0],f=arguments[1],n=null,i=null,c=null,d=null,o=null,s=null,a=null,u=null;o=this._hi+l,c=this._lo+f,a=o-this._hi,u=c-this._lo,s=o-a,d=c-u,s=l-a+(this._hi-s),d=f-u+(this._lo-d),a=s+c,n=o+a,i=a+(o-n),a=d+i;var h=n+a,p=a+(n-h);return this._hi=h,this._lo=p,this}},selfMultiply:function(){if(1===arguments.length){if(arguments[0]instanceof r){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],o=null,s=null,a=null,u=null,l=null,f=null;l=r.SPLIT*this._hi,o=l-this._hi,f=r.SPLIT*n,o=l-o,s=this._hi-o,a=f-n,l=this._hi*n,a=f-a,u=n-a,f=o*a-l+o*u+s*a+s*u+(this._hi*i+this._lo*n);var c=l+f;o=l-c;var d=f+o;return this._hi=c,this._lo=d,this}},selfSqr:function(){return this.selfMultiply(this)},floor:function(){if(this.isNaN())return r.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new r(t,e)},negate:function(){return this.isNaN()?this:new r(-this._hi,-this._lo)},clone:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return null;throw t}},multiply:function(){if(arguments[0]instanceof r){var t=arguments[0];return t.isNaN()?r.createNaN():r.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return u.default.isNaN(e)?r.createNaN():r.copy(this).selfMultiply(e,0)}},isNaN:function(){return u.default.isNaN(this._hi)},intValue:function(){return Math.trunc(this._hi)},toString:function(){var t=r.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},toStandardNotation:function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),i=e[0]+1,o=n;if("."===n.charAt(0))o="0"+n;else if(i<0)o="0."+r.stringOfChar("0",-i)+n;else if(-1===n.indexOf(".")){var s=i-n.length,a=r.stringOfChar("0",s);o=n+a+".0"}return this.isNegative()?"-"+o:o},reciprocal:function(){var t=null,e=null,n=null,i=null,o=null,s=null,a=null,u=null;o=1/this._hi,s=r.SPLIT*o,t=s-o,u=r.SPLIT*this._hi,t=s-t,e=o-t,n=u-this._hi,a=o*this._hi,n=u-n,i=this._hi-n,u=t*n-a+t*i+e*n+e*i,s=(1-a-u-o*this._lo)/this._hi;var l=o+s;return new r(l,o-l+s)},toSciNotation:function(){if(this.isZero())return r.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),i=r.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new IllegalStateException("Found leading zero: "+n);var o="";n.length>1&&(o=n.substring(1));var s=n.charAt(0)+"."+o;return this.isNegative()?"-"+s+i:s+i},abs:function(){return this.isNaN()?r.NaN:this.isNegative()?this.negate():new r(this)},isPositive:function(){return this._hi>0||0===this._hi&&this._lo>0},lt:function(t){return this._hi<t._hi||this._hi===t._hi&&this._lo<t._lo},add:function(){if(arguments[0]instanceof r){var t=arguments[0];return r.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return r.copy(this).selfAdd(e)}},init:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof r){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this._hi=n,this._lo=i}},gt:function(t){return this._hi>t._hi||this._hi===t._hi&&this._lo>t._lo},isNegative:function(){return this._hi<0||0===this._hi&&this._lo<0},trunc:function(){return this.isNaN()?r.NaN:this.isPositive()?this.floor():this.ceil()},signum:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},interfaces_:function(){return[b.default,_.default,v.default]},getClass:function(){return r}}),r.sqr=function(t){return r.valueOf(t).selfMultiply(t)},r.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return r.parse(t)}if("number"==typeof arguments[0]){return new r(arguments[0])}},r.sqrt=function(t){return r.valueOf(t).sqrt()},r.parse=function(t){for(var e=0,n=t.length;p.default.isWhitespace(t.charAt(e));)e++;var i=!1;if(e<n){var o=t.charAt(e);"-"!==o&&"+"!==o||(e++,"-"===o&&(i=!0))}for(var s=new r,a=0,u=0,l=0;;){if(e>=n)break;var f=t.charAt(e);if(e++,p.default.isDigit(f)){var c=f-"0";s.selfMultiply(r.TEN),s.selfAdd(c),a++}else{if("."!==f){if("e"===f||"E"===f){var h=t.substring(e);try{l=d.default.parseInt(h)}catch(e){throw e instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+h+" in string "+t):e}break}throw new NumberFormatException("Unexpected character '"+f+"' at position "+e+" in string "+t)}u=a}}var g=s,_=a-u-l;if(0===_)g=s;else if(_>0){var m=r.TEN.pow(_);g=s.divide(m)}else if(_<0){var m=r.TEN.pow(-_);g=s.multiply(m)}return i?g.negate():g},r.createNaN=function(){return new r(u.default.NaN,u.default.NaN)},r.copy=function(t){return new r(t)},r.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),i=Math.trunc(Math.floor(n));return 10*Math.pow(10,i)<=e&&(i+=1),i},r.stringOfChar=function(t,e){for(var n=new s.default,i=0;i<e;i++)n.append(t);return n.toString()},r.PI=new r(3.141592653589793,1.2246467991473532e-16),r.TWO_PI=new r(6.283185307179586,2.4492935982947064e-16),r.PI_2=new r(1.5707963267948966,6.123233995736766e-17),r.E=new r(2.718281828459045,1.4456468917292502e-16),r.NaN=new r(u.default.NaN,u.default.NaN),r.EPS=1.23259516440783e-32,r.SPLIT=134217729,r.MAX_PRINT_DIGITS=32,r.TEN=r.valueOf(10),r.ONE=r.valueOf(1),r.SCI_NOT_EXPONENT_CHAR="E",r.SCI_NOT_ZERO="0.0E0"},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.isWhitespace=function(t){return t<=32&&t>=0||127==t},i.toUpperCase=function(t){return t.toUpperCase()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){this.geometryFactory=t||new u.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(3),s=i(o),a=n(19),u=i(a),l=n(0),f=i(l),c={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};(0,f.default)(r.prototype,{read:function(t){var e,n,i;t=t.replace(/[\n\r]/g," ");var r=c.typeStr.exec(t);if(-1!==t.search("EMPTY")&&(r=c.emptyTypeStr.exec(t),r[2]=void 0),r&&(n=r[1].toLowerCase(),i=r[2],h[n]&&(e=h[n].apply(this,[i]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},write:function(t){return this.extractGeometry(t)},extractGeometry:function(t){var e=t.getGeometryType().toLowerCase();if(!d[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+d[e].apply(this,[t])+")"}});var d={coordinate:function(t){return t.x+" "+t.y},point:function(t){return d.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+d.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(d.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(d.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+d.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+d.linestring.apply(this,[t._shell])+")");for(var n=0,i=t._holes.length;n<i;++n)e.push("("+d.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+d.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},h={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(c.spaces);return this.geometryFactory.createPoint(new s.default(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(c.trimParens,"$1"),i.push(h.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(i)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(c.spaces),i.push(new s.default(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(i)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(c.spaces),i.push(new s.default(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(c.parenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(c.trimParens,"$1"),i.push(h.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(i)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,i,r,o=t.trim().split(c.parenComma),s=[],a=0,u=o.length;a<u;++a)e=o[a].replace(c.trimParens,"$1"),n=h.linestring.apply(this,[e]),i=this.geometryFactory.createLinearRing(n._points),0===a?r=i:s.push(i);return this.geometryFactory.createPolygon(r,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(c.doubleParenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(c.trimParens,"$1"),i.push(h.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(i)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();t=t.replace(/,\s*([A-Za-z])/g,"|$1");for(var e=t.trim().split("|"),n=[],i=0,r=e.length;i<r;++i)n.push(this.read(e[i]));return this.geometryFactory.createGeometryCollection(n)}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(9),s=i(o),a=n(0),u=i(a),l=n(46),f=i(l);(0,u.default)(r.prototype,{create:function(){if(1===arguments.length){if(arguments[0]instanceof Array){arguments[0]}else if((0,s.default)(arguments[0],f.default)){arguments[0]}}else if(2===arguments.length){arguments[0],arguments[1]}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype.get=function(){},i.prototype.put=function(){},i.prototype.size=function(){},i.prototype.values=function(){},i.prototype.entrySet=function(){}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(31),o=function(t){return t&&t.__esModule?t:{default:t}}(r);i.prototype=new o.default,i.prototype.contains=function(){}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(14),s=i(o),a=n(9),u=i(a),l=n(3),f=i(l),c=n(0),d=i(c),h=n(46),p=i(h),g=n(194),_=i(g);(0,d.default)(r.prototype,{countSegment:function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,i=e.x;return n>i&&(n=e.x,i=t.x),this._p.x>=n&&this._p.x<=i&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var r=t.x-this._p.x,o=t.y-this._p.y,s=e.x-this._p.x,a=e.y-this._p.y,u=_.default.signOfDet2x2(r,o,s,a);if(0===u)return this._isPointOnSegment=!0,null;a<o&&(u=-u),u>0&&this._crossingCount++}},isPointInPolygon:function(){return this.getLocation()!==s.default.EXTERIOR},getLocation:function(){return this._isPointOnSegment?s.default.BOUNDARY:this._crossingCount%2==1?s.default.INTERIOR:s.default.EXTERIOR},isOnSegment:function(){return this._isPointOnSegment},interfaces_:function(){return[]},getClass:function(){return r}}),r.locatePointInRing=function(){if(arguments[0]instanceof f.default&&(0,u.default)(arguments[1],p.default)){for(var t=arguments[0],e=arguments[1],n=new r(t),i=new f.default,o=new f.default,s=1;s<e.size();s++)if(e.getCoordinate(s,i),e.getCoordinate(s-1,o),n.countSegment(i,o),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof f.default&&arguments[1]instanceof Array){for(var a=arguments[0],l=arguments[1],n=new r(a),s=1;s<l.length;s++){var i=l[s],o=l[s-1];if(n.countSegment(i,o),n.isOnSegment())return n.getLocation()}return n.getLocation()}}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{interfaces_:function(){return[]},getClass:function(){return i}}),i.orientationIndex=function(t,e,n){var r=e.x-t.x,o=e.y-t.y,s=n.x-e.x,a=n.y-e.y;return i.signOfDet2x2(r,o,s,a)},i.signOfDet2x2=function(t,e,n,i){var r=null,o=null,s=null,a=0;if(r=1,0===t||0===i)return 0===e||0===n?0:e>0?n>0?-r:r:n>0?r:-r;if(0===e||0===n)return i>0?t>0?r:-r:t>0?-r:r;if(0<e?0<i?e<=i||(r=-r,o=t,t=n,n=o,o=e,e=i,i=o):e<=-i?(r=-r,n=-n,i=-i):(o=t,t=-n,n=o,o=e,e=-i,i=o):0<i?-e<=i?(r=-r,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=i,i=o):e>=i?(t=-t,e=-e,n=-n,i=-i):(r=-r,o=-t,t=-n,n=o,o=-e,e=-i,i=o),0<t){if(!(0<n))return r;if(!(t<=n))return r}else{if(0<n)return-r;if(!(t>=n))return-r;r=-r,t=-t,n=-n}for(;;){if(a+=1,s=Math.floor(n/t),n-=s*t,(i-=s*e)<0)return-r;if(i>e)return r;if(t>n+n){if(e<i+i)return r}else{if(e>i+i)return-r;n=t-n,i=e-i,r=-r}if(0===i)return 0===n?0:-r;if(0===n)return r;if(s=Math.floor(t/n),t-=s*n,(e-=s*i)<0)return r;if(e>i)return-r;if(n>t+t){if(i<e+e)return-r}else{if(i>e+e)return r;t=n-t,e=i-e,r=-r}if(0===e)return 0===t?0:r;if(0===t)return-r}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._matrix=null,0===arguments.length)this._matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(p.default.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var t=arguments[0];r.call(this),this.set(t)}else if(arguments[0]instanceof r){var e=arguments[0];r.call(this),this._matrix[u.default.INTERIOR][u.default.INTERIOR]=e._matrix[u.default.INTERIOR][u.default.INTERIOR],this._matrix[u.default.INTERIOR][u.default.BOUNDARY]=e._matrix[u.default.INTERIOR][u.default.BOUNDARY],this._matrix[u.default.INTERIOR][u.default.EXTERIOR]=e._matrix[u.default.INTERIOR][u.default.EXTERIOR],this._matrix[u.default.BOUNDARY][u.default.INTERIOR]=e._matrix[u.default.BOUNDARY][u.default.INTERIOR],this._matrix[u.default.BOUNDARY][u.default.BOUNDARY]=e._matrix[u.default.BOUNDARY][u.default.BOUNDARY],this._matrix[u.default.BOUNDARY][u.default.EXTERIOR]=e._matrix[u.default.BOUNDARY][u.default.EXTERIOR],this._matrix[u.default.EXTERIOR][u.default.INTERIOR]=e._matrix[u.default.EXTERIOR][u.default.INTERIOR],this._matrix[u.default.EXTERIOR][u.default.BOUNDARY]=e._matrix[u.default.EXTERIOR][u.default.BOUNDARY],this._matrix[u.default.EXTERIOR][u.default.EXTERIOR]=e._matrix[u.default.EXTERIOR][u.default.EXTERIOR]}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(43),s=i(o),a=n(14),u=i(a),l=n(10),f=i(l),c=n(0),d=i(c),h=n(47),p=i(h),g=n(72),_=i(g);(0,d.default)(r.prototype,{isIntersects:function(){return!this.isDisjoint()},isCovers:function(){return(r.isTrue(this._matrix[u.default.INTERIOR][u.default.INTERIOR])||r.isTrue(this._matrix[u.default.INTERIOR][u.default.BOUNDARY])||r.isTrue(this._matrix[u.default.BOUNDARY][u.default.INTERIOR])||r.isTrue(this._matrix[u.default.BOUNDARY][u.default.BOUNDARY]))&&this._matrix[u.default.EXTERIOR][u.default.INTERIOR]===p.default.FALSE&&this._matrix[u.default.EXTERIOR][u.default.BOUNDARY]===p.default.FALSE},isCoveredBy:function(){return(r.isTrue(this._matrix[u.default.INTERIOR][u.default.INTERIOR])||r.isTrue(this._matrix[u.default.INTERIOR][u.default.BOUNDARY])||r.isTrue(this._matrix[u.default.BOUNDARY][u.default.INTERIOR])||r.isTrue(this._matrix[u.default.BOUNDARY][u.default.BOUNDARY]))&&this._matrix[u.default.INTERIOR][u.default.EXTERIOR]===p.default.FALSE&&this._matrix[u.default.BOUNDARY][u.default.EXTERIOR]===p.default.FALSE},set:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),i=e%3;this._matrix[n][i]=p.default.toDimensionValue(t.charAt(e))}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this._matrix[r][o]=s}},isContains:function(){return r.isTrue(this._matrix[u.default.INTERIOR][u.default.INTERIOR])&&this._matrix[u.default.EXTERIOR][u.default.INTERIOR]===p.default.FALSE&&this._matrix[u.default.EXTERIOR][u.default.BOUNDARY]===p.default.FALSE},setAtLeast:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),i=e%3;this.setAtLeast(n,i,p.default.toDimensionValue(t.charAt(e)))}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this._matrix[r][o]<s&&(this._matrix[r][o]=s)}},setAtLeastIfValid:function(t,e,n){t>=0&&e>=0&&this.setAtLeast(t,e,n)},isWithin:function(){return r.isTrue(this._matrix[u.default.INTERIOR][u.default.INTERIOR])&&this._matrix[u.default.INTERIOR][u.default.EXTERIOR]===p.default.FALSE&&this._matrix[u.default.BOUNDARY][u.default.EXTERIOR]===p.default.FALSE},isTouches:function(t,e){return t>e?this.isTouches(e,t):(t===p.default.A&&e===p.default.A||t===p.default.L&&e===p.default.L||t===p.default.L&&e===p.default.A||t===p.default.P&&e===p.default.A||t===p.default.P&&e===p.default.L)&&(this._matrix[u.default.INTERIOR][u.default.INTERIOR]===p.default.FALSE&&(r.isTrue(this._matrix[u.default.INTERIOR][u.default.BOUNDARY])||r.isTrue(this._matrix[u.default.BOUNDARY][u.default.INTERIOR])||r.isTrue(this._matrix[u.default.BOUNDARY][u.default.BOUNDARY])))},isOverlaps:function(t,e){return t===p.default.P&&e===p.default.P||t===p.default.A&&e===p.default.A?r.isTrue(this._matrix[u.default.INTERIOR][u.default.INTERIOR])&&r.isTrue(this._matrix[u.default.INTERIOR][u.default.EXTERIOR])&&r.isTrue(this._matrix[u.default.EXTERIOR][u.default.INTERIOR]):t===p.default.L&&e===p.default.L&&(1===this._matrix[u.default.INTERIOR][u.default.INTERIOR]&&r.isTrue(this._matrix[u.default.INTERIOR][u.default.EXTERIOR])&&r.isTrue(this._matrix[u.default.EXTERIOR][u.default.INTERIOR]))},isEquals:function(t,e){return t===e&&(r.isTrue(this._matrix[u.default.INTERIOR][u.default.INTERIOR])&&this._matrix[u.default.INTERIOR][u.default.EXTERIOR]===p.default.FALSE&&this._matrix[u.default.BOUNDARY][u.default.EXTERIOR]===p.default.FALSE&&this._matrix[u.default.EXTERIOR][u.default.INTERIOR]===p.default.FALSE&&this._matrix[u.default.EXTERIOR][u.default.BOUNDARY]===p.default.FALSE)},toString:function(){for(var t=new s.default("123456789"),e=0;e<3;e++)for(var n=0;n<3;n++)t.setCharAt(3*e+n,p.default.toDimensionSymbol(this._matrix[e][n]));return t.toString()},setAll:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this._matrix[e][n]=t},get:function(t,e){return this._matrix[t][e]},transpose:function(){var t=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=t,t=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=t,t=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=t,this},matches:function(t){if(9!==t.length)throw new f.default("Should be length 9: "+t);for(var e=0;e<3;e++)for(var n=0;n<3;n++)if(!r.matches(this._matrix[e][n],t.charAt(3*e+n)))return!1;return!0},add:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this.setAtLeast(e,n,t.get(e,n))},isDisjoint:function(){return this._matrix[u.default.INTERIOR][u.default.INTERIOR]===p.default.FALSE&&this._matrix[u.default.INTERIOR][u.default.BOUNDARY]===p.default.FALSE&&this._matrix[u.default.BOUNDARY][u.default.INTERIOR]===p.default.FALSE&&this._matrix[u.default.BOUNDARY][u.default.BOUNDARY]===p.default.FALSE},isCrosses:function(t,e){return t===p.default.P&&e===p.default.L||t===p.default.P&&e===p.default.A||t===p.default.L&&e===p.default.A?r.isTrue(this._matrix[u.default.INTERIOR][u.default.INTERIOR])&&r.isTrue(this._matrix[u.default.INTERIOR][u.default.EXTERIOR]):t===p.default.L&&e===p.default.P||t===p.default.A&&e===p.default.P||t===p.default.A&&e===p.default.L?r.isTrue(this._matrix[u.default.INTERIOR][u.default.INTERIOR])&&r.isTrue(this._matrix[u.default.EXTERIOR][u.default.INTERIOR]):t===p.default.L&&e===p.default.L&&0===this._matrix[u.default.INTERIOR][u.default.INTERIOR]},interfaces_:function(){return[_.default]},getClass:function(){return r}}),r.matches=function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var t=arguments[0],e=arguments[1];return e===p.default.SYM_DONTCARE||(e===p.default.SYM_TRUE&&(t>=0||t===p.default.TRUE)||(e===p.default.SYM_FALSE&&t===p.default.FALSE||(e===p.default.SYM_P&&t===p.default.P||(e===p.default.SYM_L&&t===p.default.L||e===p.default.SYM_A&&t===p.default.A))))}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var n=arguments[0],i=arguments[1];return new r(n).matches(i)}},r.isTrue=function(t){return t>=0||t===p.default.TRUE}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(64),s=i(o),a=n(98),u=i(a),l=n(0),f=i(l),c=n(17),d=i(c);(0,f.default)(r.prototype,{next:function(){if(this._atStart)return this._atStart=!1,r.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new u.default;var t=this._parent.getGeometryN(this._index++);return t instanceof d.default?(this._subcollectionIterator=new r(t),this._subcollectionIterator.next()):t},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},interfaces_:function(){return[s.default]},getClass:function(){return r}}),r.isAtomic=function(t){return!(t instanceof d.default)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(3),s=i(o),a=n(10),u=i(a);(0,i(n(0)).default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new u.default("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),i=Math.abs(e);return t>=0?e>=0?n>=i?0:1:n>=i?7:6:e>=0?n>=i?3:2:n>=i?4:5}if(arguments[0]instanceof s.default&&arguments[1]instanceof s.default){var o=arguments[0],a=arguments[1],l=a.x-o.x,f=a.y-o.y;if(0===l&&0===f)throw new u.default("Cannot compute the octant for two identical points "+o);return r.octant(l,f)}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(199),s=i(o),a=n(0),u=i(a),l=n(28),f=i(l);(0,u.default)(r.prototype,{getItem:function(){return this._item},getBounds:function(){return this._bounds},interfaces_:function(){return[s.default,f.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{getBounds:function(){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{insert:function(t,e){},remove:function(t,e){},query:function(){1===arguments.length?arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(404),s=i(o),a=n(0),u=i(a),l=n(74),f=i(l),c=n(2),d=i(c),h=n(58),p=i(h);(0,u.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.getChainStartIndices=function(t){var e=0,n=new d.default;n.add(new f.default(e));do{var i=r.findChainEnd(t,e);n.add(new f.default(i)),e=i}while(e<t.length-1);return r.toIntArray(n)},r.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=p.default.quadrant(t[n],t[n+1]),r=e+1;r<t.length;){if(!t[r-1].equals2D(t[r])){if(p.default.quadrant(t[r-1],t[r])!==i)break}r++}return r-1},r.getChains=function(){if(1===arguments.length){var t=arguments[0];return r.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=new d.default,o=r.getChainStartIndices(e),a=0;a<o.length-1;a++){var u=new s.default(e,o[a],o[a+1],n);i.add(u)}return i}},r.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._geometryFactory=null,this._shellList=new p.default;var t=arguments[0];this._geometryFactory=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(12),s=i(o),a=n(52),u=i(a),l=n(0),f=i(l),c=n(203),d=i(c),h=n(2),p=i(h),g=n(7),_=i(g),m=n(83),v=i(m);(0,f.default)(r.prototype,{sortShellsAndHoles:function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isHole()?n.add(r):e.add(r)}},computePolygons:function(t){for(var e=new p.default,n=t.iterator();n.hasNext();){var i=n.next(),r=i.toPolygon(this._geometryFactory);e.add(r)}return e},placeFreeHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(null===i.getShell()){var r=this.findEdgeRingContaining(i,t);if(null===r)throw new u.default("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(r)}}},buildMinimalEdgeRings:function(t,e,n){for(var i=new p.default,r=t.iterator();r.hasNext();){var o=r.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else i.add(o)}return i},containsPoint:function(t){for(var e=this._shellList.iterator();e.hasNext();){if(e.next().containsPoint(t))return!0}return!1},buildMaximalEdgeRings:function(t){for(var e=new p.default,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var r=new d.default(i,this._geometryFactory);e.add(r),r.setInResult()}}return e},placePolygonHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}},getPolygons:function(){return this.computePolygons(this._shellList)},findEdgeRingContaining:function(t,e){for(var n=t.getLinearRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,a=null,u=e.iterator();u.hasNext();){var l=u.next(),f=l.getLinearRing(),c=f.getEnvelopeInternal();null!==o&&(a=o.getLinearRing().getEnvelopeInternal());var d=!1;c.contains(i)&&s.default.isPointInRing(r,f.getCoordinates())&&(d=!0),d&&(null===o||a.contains(c))&&(o=l)}return o},findShell:function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,e++)}return _.default.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},add:function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];v.default.linkResultDirectedEdges(n);var i=this.buildMaximalEdgeRings(e),r=new p.default,o=this.buildMinimalEdgeRings(i,this._shellList,r);this.sortShellsAndHoles(o,this._shellList,r),this.placeFreeHoles(this._shellList,r)}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){var t=arguments[0],e=arguments[1];f.default.call(this,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(408),s=i(o),a=n(0),u=i(a),l=n(204),f=i(l),c=n(2),d=i(c);(0,i(n(4)).default)(r,f.default),(0,u.default)(r.prototype,{buildMinimalRings:function(){var t=new d.default,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new s.default(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},setEdgeRing:function(t,e){t.setEdgeRing(e)},linkDirectedEdgesForMinimalEdgeRings:function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},getNext:function(t){return t.getNext()},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new v.default,this._pts=new v.default,this._label=new _.default(s.default.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new v.default,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(14),s=i(o),a=n(12),u=i(a),l=n(21),f=i(l),c=n(52),d=i(c),h=n(0),p=i(h),g=n(35),_=i(g),m=n(2),v=i(m),y=n(7),b=i(y);(0,p.default)(r.prototype,{computeRing:function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=u.default.isCCW(this._ring.getCoordinates())},isIsolated:function(){return 1===this._label.getGeometryCount()},computePoints:function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new d.default("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new d.default("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var i=e.getLabel();b.default.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},getLinearRing:function(){return this._ring},getCoordinate:function(t){return this._pts.get(t)},computeMaxNodeDegree:function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode(),n=e.getEdges().getOutgoingDegree(this);n>this._maxNodeDegree&&(this._maxNodeDegree=n),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},addPoints:function(t,e,n){var i=t.getCoordinates();if(e){var r=1;n&&(r=0);for(var o=r;o<i.length;o++)this._pts.add(i[o])}else{var r=i.length-2;n&&(r=i.length-1);for(var o=r;o>=0;o--)this._pts.add(i[o])}},isHole:function(){return this._isHole},setInResult:function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},containsPoint:function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!u.default.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();){if(n.next().containsPoint(t))return!1}return!0},addHole:function(t){this._holes.add(t)},isShell:function(){return null===this._shell},getLabel:function(){return this._label},getEdges:function(){return this._edges},getMaxNodeDegree:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},getShell:function(){return this._shell},mergeLabel:function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=e.getLocation(n,f.default.RIGHT);if(i===s.default.NONE)return null;if(this._label.getLocation(n)===s.default.NONE)return this._label.setLocation(n,i),null}},setShell:function(t){this._shell=t,null!==t&&t.addHole(this)},toPolygon:function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(7),u=i(a);(0,s.default)(r.prototype,{setVisited:function(t){this._isVisited=t},setInResult:function(t){this._isInResult=t},isCovered:function(){return this._isCovered},isCoveredSet:function(){return this._isCoveredSet},setLabel:function(t){this._label=t},getLabel:function(){return this._label},setCovered:function(t){this._isCovered=t,this._isCoveredSet=!0},updateIM:function(t){u.default.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},isInResult:function(){return this._isInResult},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var t=arguments[0],e=arguments[1];if(u.default.call(this,t),this._isForward=e,e)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var n=t.getNumPoints()-1;this.init(t.getCoordinate(n),t.getCoordinate(n-1))}this.computeDirectedLabel()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(14),s=i(o),a=n(141),u=i(a),l=n(21),f=i(l),c=n(52),d=i(c),h=n(0),p=i(h),g=n(35),_=i(g);(0,i(n(4)).default)(r,u.default),(0,p.default)(r.prototype,{getNextMin:function(){return this._nextMin},getDepth:function(t){return this._depth[t]},setVisited:function(t){this._isVisited=t},computeDirectedLabel:function(){this._label=new _.default(this._edge.getLabel()),this._isForward||this._label.flip()},getNext:function(){return this._next},setDepth:function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new d.default("assigned depths do not match",this.getCoordinate());this._depth[t]=e},isInteriorAreaEdge:function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,f.default.LEFT)===s.default.INTERIOR&&this._label.getLocation(e,f.default.RIGHT)===s.default.INTERIOR||(t=!1);return t},setNextMin:function(t){this._nextMin=t},print:function(t){u.default.prototype.print.call(this,t),t.print(" "+this._depth[f.default.LEFT]+"/"+this._depth[f.default.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},setMinEdgeRing:function(t){this._minEdgeRing=t},isLineEdge:function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,s.default.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,s.default.EXTERIOR);return t&&e&&n},setEdgeRing:function(t){this._edgeRing=t},getMinEdgeRing:function(){return this._minEdgeRing},getDepthDelta:function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},setInResult:function(t){this._isInResult=t},getSym:function(){return this._sym},isForward:function(){return this._isForward},getEdge:function(){return this._edge},printEdge:function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},setSym:function(t){this._sym=t},setVisitedEdge:function(t){this.setVisited(t),this._sym.setVisited(t)},setEdgeDepths:function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;t===f.default.LEFT&&(i=-1);var r=f.default.opposite(t),o=n*i,s=e+o;this.setDepth(t,e),this.setDepth(r,s)},getEdgeRing:function(){return this._edgeRing},isInResult:function(){return this._isInResult},setNext:function(t){this._next=t},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return r}}),r.depthFactor=function(t,e){return t===s.default.EXTERIOR&&e===s.default.INTERIOR?1:t===s.default.INTERIOR&&e===s.default.EXTERIOR?-1:0}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._edgeMap=new M.default,this._edgeList=null,this._ptInAreaLocation=[u.default.NONE,u.default.NONE]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(43),s=i(o),a=n(14),u=i(a),l=n(21),f=i(l),c=n(52),d=i(c),h=n(0),p=i(h),g=n(30),_=i(g),m=n(208),v=i(m),y=n(2),b=i(y),x=n(7),E=i(x),w=n(44),M=i(w);(0,p.default)(r.prototype,{getNextCW:function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},propagateSideLabels:function(t){for(var e=u.default.NONE,n=this.iterator();n.hasNext();){var i=n.next(),r=i.getLabel();r.isArea(t)&&r.getLocation(t,f.default.LEFT)!==u.default.NONE&&(e=r.getLocation(t,f.default.LEFT))}if(e===u.default.NONE)return null;for(var o=e,n=this.iterator();n.hasNext();){var i=n.next(),r=i.getLabel();if(r.getLocation(t,f.default.ON)===u.default.NONE&&r.setLocation(t,f.default.ON,o),r.isArea(t)){var s=r.getLocation(t,f.default.LEFT),a=r.getLocation(t,f.default.RIGHT);if(a!==u.default.NONE){if(a!==o)throw new d.default("side location conflict",i.getCoordinate());s===u.default.NONE&&E.default.shouldNeverReachHere("found single null side (at "+i.getCoordinate()+")"),o=s}else E.default.isTrue(r.getLocation(t,f.default.LEFT)===u.default.NONE,"found single null side"),r.setLocation(t,f.default.RIGHT,o),r.setLocation(t,f.default.LEFT,o)}}},getCoordinate:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},print:function(t){_.default.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){e.next().print(t)}},isAreaLabelsConsistent:function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},checkAreaLabelsConsistent:function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,i=e.get(n).getLabel(),r=i.getLocation(t,f.default.LEFT);E.default.isTrue(r!==u.default.NONE,"Found unlabelled area edge");for(var o=r,s=this.iterator();s.hasNext();){var a=s.next(),l=a.getLabel();E.default.isTrue(l.isArea(t),"Found non-area edge");var c=l.getLocation(t,f.default.LEFT),d=l.getLocation(t,f.default.RIGHT);if(c===d)return!1;if(d!==o)return!1;o=c}return!0},findIndex:function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++){if(this._edgeList.get(e)===t)return e}return-1},iterator:function(){return this.getEdges().iterator()},getEdges:function(){return null===this._edgeList&&(this._edgeList=new b.default(this._edgeMap.values())),this._edgeList},getLocation:function(t,e,n){return this._ptInAreaLocation[t]===u.default.NONE&&(this._ptInAreaLocation[t]=v.default.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},toString:function(){var t=new s.default;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},computeEdgeEndLabels:function(t){for(var e=this.iterator();e.hasNext();){e.next().computeLabel(t)}},computeLabelling:function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var i=n.next(),r=i.getLabel(),o=0;o<2;o++)r.isLine(o)&&r.getLocation(o)===u.default.BOUNDARY&&(e[o]=!0);for(var n=this.iterator();n.hasNext();)for(var i=n.next(),r=i.getLabel(),o=0;o<2;o++)if(r.isAnyNull(o)){var s=u.default.NONE;if(e[o])s=u.default.EXTERIOR;else{var a=i.getCoordinate();s=this.getLocation(o,a,t)}r.setAllLocationsIfNull(o,s)}},getDegree:function(){return this._edgeMap.size()},insertEdgeEnd:function(t,e){this._edgeMap.put(t,e),this._edgeList=null},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._geom=null;var t=arguments[0];this._geom=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(14),s=i(o),a=n(12),u=i(a),l=n(20),f=i(l),c=n(209),d=i(c),h=n(0),p=i(h),g=n(196),_=i(g),m=n(17),v=i(m);(0,p.default)(r.prototype,{locate:function(t){return r.locate(t,this._geom)},interfaces_:function(){return[d.default]},getClass:function(){return r}}),r.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&u.default.isPointInRing(t,e.getCoordinates())},r.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!r.isPointInRing(t,n))return!1;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i);if(r.isPointInRing(t,o))return!1}return!0},r.containsPoint=function(t,e){if(e instanceof f.default)return r.containsPointInPolygon(t,e);if(e instanceof v.default)for(var n=new _.default(e);n.hasNext();){var i=n.next();if(i!==e&&r.containsPoint(t,i))return!0}return!1},r.locate=function(t,e){return e.isEmpty()?s.default.EXTERIOR:r.containsPoint(t,e)?s.default.INTERIOR:s.default.EXTERIOR}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{isTrivialIntersection:function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(i.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var o=t.getNumPoints()-1;if(0===e&&r===o||0===r&&e===o)return!0}}return!1},getProperIntersectionPoint:function(){return this._properIntersectionPoint},setIsDoneIfProperInt:function(t){this._isDoneWhenProperInt=t},hasProperInteriorIntersection:function(){return this._hasProperInterior},isBoundaryPointInternal:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next(),r=i.getCoordinate();if(t.isIntersection(r))return!0}return!1},hasProperIntersection:function(){return this._hasProper},hasIntersection:function(){return this._hasIntersection},isDone:function(){return this._isDone},isBoundaryPoint:function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},setBoundaryNodes:function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},addIntersections:function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},interfaces_:function(){return[]},getClass:function(){return i}}),i.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._min=c.default.POSITIVE_INFINITY,this._max=c.default.NEGATIVE_INFINITY}function o(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(36),a=i(s),u=n(3),l=i(u),f=n(15),c=i(f),d=n(0),h=i(d),p=n(63),g=i(p);(0,h.default)(r.prototype,{getMin:function(){return this._min},intersects:function(t,e){return!(this._min>e||this._max<t)},getMax:function(){return this._max},toString:function(){return a.default.toLineString(new l.default(this._min,0),new l.default(this._max,0))},interfaces_:function(){return[]},getClass:function(){return r}}),(0,h.default)(o.prototype,{compare:function(t,e){var n=t,i=e,r=(n._min+n._max)/2,o=(i._min+i._max)/2;return r<o?-1:r>o?1:0},interfaces_:function(){return[g.default]},getClass:function(){return o}}),r.NodeComparator=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._items=new f.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(67),s=i(o),a=n(0),u=i(a),l=n(2),f=i(l);(0,u.default)(r.prototype,{visitItem:function(t){this._items.add(t)},getItems:function(){return this._items},interfaces_:function(){return[s.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._edges=new f.default,this._ocaMap=new d.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(426),s=i(o),a=n(0),u=i(a),l=n(2),f=i(l),c=n(44),d=i(c);(0,u.default)(r.prototype,{print:function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var i=n.getCoordinates(),r=0;r<i.length;r++)r>0&&t.print(","),t.print(i[r].x+" "+i[r].y);t.println(")")}t.print(")  ")},addAll:function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},findEdgeIndex:function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},iterator:function(){return this._edges.iterator()},getEdges:function(){return this._edges},get:function(t){return this._edges.get(t)},findEqualEdge:function(t){var e=new s.default(t.getCoordinates());return this._ocaMap.get(e)},add:function(t){this._edges.add(t);var e=new s.default(t.getCoordinates());this._ocaMap.put(e,t)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._ring=null,this._tree=null,this._crossings=0,this._interval=new c.default;var t=arguments[0];this._ring=t,this.buildIndex()}function o(){a.default.apply(this),this.mcp=null,this.p=null;var t=arguments[0],e=arguments[1];this.mcp=t,this.p=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(215),a=i(s),u=n(429),l=i(u),f=n(105),c=i(f),d=n(15),h=i(d),p=n(0),g=i(p),_=n(201),m=i(_),v=n(25),y=i(v),b=n(194),x=i(b),E=n(11),w=i(E),M=n(4),L=i(M),P=n(433),C=i(P);(0,g.default)(r.prototype,{testLineSegment:function(t,e){var n=null,i=null,r=null,o=null,s=e.p0,a=e.p1;n=s.x-t.x,i=s.y-t.y,r=a.x-t.x,o=a.y-t.y,(i>0&&o<=0||o>0&&i<=0)&&0<x.default.signOfDet2x2(n,i,r,o)/(o-i)&&this._crossings++},buildIndex:function(){this._tree=new l.default;for(var t=y.default.removeRepeatedPoints(this._ring.getCoordinates()),e=m.default.getChains(t),n=0;n<e.size();n++){var i=e.get(n),r=i.getEnvelope();this._interval.min=r.getMinY(),this._interval.max=r.getMaxY(),this._tree.insert(this._interval,i)}},testMonotoneChain:function(t,e,n){n.select(t,e)},isInside:function(t){this._crossings=0;var e=new w.default(h.default.NEGATIVE_INFINITY,h.default.POSITIVE_INFINITY,t.y,t.y);this._interval.min=t.y,this._interval.max=t.y;for(var n=this._tree.query(this._interval),i=new o(this,t),r=n.iterator();r.hasNext();){var s=r.next();this.testMonotoneChain(e,i,s)}return this._crossings%2==1},interfaces_:function(){return[C.default]},getClass:function(){return r}}),(0,L.default)(o,a.default),(0,g.default)(o.prototype,{select:function(){if(1!==arguments.length)return a.default.prototype.select.apply(this,arguments);var t=arguments[0];this.mcp.testLineSegment(this.p,t)},interfaces_:function(){return[]},getClass:function(){return o}}),r.MCSelecter=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.tempEnv1=new f.default,this.selectedSegment=new u.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(18),u=i(a),l=n(11),f=i(l);(0,s.default)(r.prototype,{select:function(){if(1===arguments.length){arguments[0]}else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._items=new u.default,this._subnode=[null,null]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(2),u=i(a);(0,s.default)(r.prototype,{hasChildren:function(){for(var t=0;t<2;t++)if(null!==this._subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this._items);for(var e=0;e<2;e++)null!==this._subnode[e]&&this._subnode[e].addAllItems(t);return t},size:function(){for(var t=0,e=0;e<2;e++)null!==this._subnode[e]&&(t+=this._subnode[e].size());return t+this._items.size()},addAllItemsFromOverlapping:function(t,e){if(null!==t&&!this.isSearchMatch(t))return null;e.addAll(this._items),null!==this._subnode[0]&&this._subnode[0].addAllItemsFromOverlapping(t,e),null!==this._subnode[1]&&this._subnode[1].addAllItemsFromOverlapping(t,e)},hasItems:function(){return!this._items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,i=0;i<2;i++)if(null!==this._subnode[i]&&(n=this._subnode[i].remove(t,e))){this._subnode[i].isPrunable()&&(this._subnode[i]=null);break}return n||(n=this._items.remove(e))},getItems:function(){return this._items},depth:function(){for(var t=0,e=0;e<2;e++)if(null!==this._subnode[e]){var n=this._subnode[e].depth();n>t&&(t=n)}return t+1},nodeSize:function(){for(var t=0,e=0;e<2;e++)null!==this._subnode[e]&&(t+=this._subnode[e].nodeSize());return t+1},add:function(t){this._items.add(t)},interfaces_:function(){return[]},getClass:function(){return r}}),r.getSubnodeIndex=function(t,e){var n=-1;return t.min>=e&&(n=1),t.max<=e&&(n=0),n}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(145),u=i(a);(0,s.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.isZeroWidth=function(t,e){var n=e-t;if(0===n)return!0;var i=Math.max(Math.abs(t),Math.abs(e)),o=n/i;return u.default.exponent(o)<=r.MIN_BINARY_EXPONENT},r.MIN_BINARY_EXPONENT=-50},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._isMarked=!1;var t=arguments[0];u.default.call(this,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(219),u=i(a);(0,i(n(4)).default)(r,u.default),(0,s.default)(r.prototype,{mark:function(){this._isMarked=!0},setMark:function(t){this._isMarked=t},isMarked:function(){return this._isMarked},interfaces_:function(){return[]},getClass:function(){return r}}),r.setMarkBoth=function(t,e){t.setMark(e),t.sym().setMark(e)},r.isMarked=function(t){return t.isMarked()},r.setMark=function(t,e){t.setMark(e)},r.markBoth=function(t){t.mark(),t.sym().mark()},r.mark=function(t){t.mark()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._orig=null,this._sym=null,this._next=null;var t=arguments[0];this._orig=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(12),s=i(o),a=n(0),u=i(a),l=n(58),f=i(l),c=n(7),d=i(c);(0,u.default)(r.prototype,{find:function(t){var e=this;do{if(null===e)return null;if(e.dest().equals2D(t))return e;e=e.oNext()}while(e!==this);return null},dest:function(){return this._sym._orig},oNext:function(){return this._sym._next},insert:function(t){if(this.oNext()===this)return this.insertAfter(t),null;var e=this.compareTo(t),n=this;do{var i=n.oNext();if(i.compareTo(t)!==e||i===this)return n.insertAfter(t),null;n=i}while(n!==this);d.default.shouldNeverReachHere()},insertAfter:function(t){d.default.equals(this._orig,t.orig());var e=this.oNext();this._sym.setNext(t),t.sym().setNext(e)},degree:function(){var t=0,e=this;do{t++,e=e.oNext()}while(e!==this);return t},equals:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this._orig.equals2D(t)&&this._sym._orig.equals(e)}},deltaY:function(){return this._sym._orig.y-this._orig.y},sym:function(){return this._sym},prev:function(){return this._sym.next()._sym},compareAngularDirection:function(t){var e=this.deltaX(),n=this.deltaY(),i=t.deltaX(),r=t.deltaY();if(e===i&&n===r)return 0;var o=f.default.quadrant(e,n),a=f.default.quadrant(i,r);return o>a?1:o<a?-1:s.default.computeOrientation(t._orig,t.dest(),this.dest())},prevNode:function(){for(var t=this;2===t.degree();)if((t=t.prev())===this)return null;return t},compareTo:function(t){var e=t;return this.compareAngularDirection(e)},next:function(){return this._next},setSym:function(t){this._sym=t},orig:function(){return this._orig},toString:function(){return"HE("+this._orig.x+" "+this._orig.y+", "+this._sym._orig.x+" "+this._sym._orig.y+")"},setNext:function(t){this._next=t},init:function(t){this.setSym(t),t.setSym(this),this.setNext(t),t.setNext(this)},deltaX:function(){return this._sym._orig.x-this._orig.x},interfaces_:function(){return[]},getClass:function(){return r}}),r.init=function(t,e){if(null!==t._sym||null!==e._sym||null!==t._next||null!==e._next)throw new IllegalStateException("Edges are already initialized");return t.init(e),t},r.create=function(t,e){var n=new r(t),i=new r(e);return n.init(i),n}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._root=null,this._minExtent=1,this._root=new s.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(446),s=i(o),a=n(200),u=i(a),l=n(0),f=i(l),c=n(2),d=i(c),h=n(212),p=i(h),g=n(28),_=i(g),m=n(11),v=i(m);(0,f.default)(r.prototype,{size:function(){return null!==this._root?this._root.size():0},insert:function(t,e){this.collectStats(t);var n=r.ensureExtent(t,this._minExtent);this._root.insert(n,e)},query:function(){if(1===arguments.length){var t=arguments[0],e=new p.default;return this.query(t,e),e.getItems()}if(2===arguments.length){var n=arguments[0],i=arguments[1];this._root.visit(n,i)}},queryAll:function(){var t=new d.default;return this._root.addAllItems(t),t},remove:function(t,e){var n=r.ensureExtent(t,this._minExtent);return this._root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this._minExtent&&e>0&&(this._minExtent=e);var n=t.getHeight();n<this._minExtent&&n>0&&(this._minExtent=n)},depth:function(){return null!==this._root?this._root.depth():0},isEmpty:function(){return null===this._root},interfaces_:function(){return[u.default,_.default]},getClass:function(){return r}}),r.ensureExtent=function(t,e){var n=t.getMinX(),i=t.getMaxX(),r=t.getMinY(),o=t.getMaxY();return n!==i&&r!==o?t:(n===i&&(n-=e/2,i=n+e/2),r===o&&(r-=e/2,o=r+e/2),new v.default(n,i,r,o))},r.serialVersionUID=-0x678b60c967a25400},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._items=new u.default,this._subnode=new Array(4).fill(null)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(2),u=i(a),l=n(28),f=i(l);(0,s.default)(r.prototype,{hasChildren:function(){for(var t=0;t<4;t++)if(null!==this._subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this._items);for(var e=0;e<4;e++)null!==this._subnode[e]&&this._subnode[e].addAllItems(t);return t},getNodeCount:function(){for(var t=0,e=0;e<4;e++)null!==this._subnode[e]&&(t+=this._subnode[e].size());return t+1},size:function(){for(var t=0,e=0;e<4;e++)null!==this._subnode[e]&&(t+=this._subnode[e].size());return t+this._items.size()},addAllItemsFromOverlapping:function(t,e){if(!this.isSearchMatch(t))return null;e.addAll(this._items);for(var n=0;n<4;n++)null!==this._subnode[n]&&this._subnode[n].addAllItemsFromOverlapping(t,e)},visitItems:function(t,e){for(var n=this._items.iterator();n.hasNext();)e.visitItem(n.next())},hasItems:function(){return!this._items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,i=0;i<4;i++)if(null!==this._subnode[i]&&(n=this._subnode[i].remove(t,e))){this._subnode[i].isPrunable()&&(this._subnode[i]=null);break}return n||(n=this._items.remove(e))},visit:function(t,e){if(!this.isSearchMatch(t))return null;this.visitItems(t,e);for(var n=0;n<4;n++)null!==this._subnode[n]&&this._subnode[n].visit(t,e)},getItems:function(){return this._items},depth:function(){for(var t=0,e=0;e<4;e++)if(null!==this._subnode[e]){var n=this._subnode[e].depth();n>t&&(t=n)}return t+1},isEmpty:function(){var t=!0;this._items.isEmpty()||(t=!1);for(var e=0;e<4;e++)null!==this._subnode[e]&&(this._subnode[e].isEmpty()||(t=!1));return t},add:function(t){this._items.add(t)},interfaces_:function(){return[f.default]},getClass:function(){return r}}),r.getSubnodeIndex=function(t,e,n){var i=-1;return t.getMinX()>=e&&(t.getMinY()>=n&&(i=3),t.getMaxY()<=n&&(i=1)),t.getMaxX()<=e&&(t.getMinY()>=n&&(i=2),t.getMaxY()<=n&&(i=0)),i}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){this.geometryFactory=t||new u.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(3),s=i(o),a=n(19),u=i(a),l=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];(0,i(n(0)).default)(r.prototype,{read:function(t){var e=void 0;e="string"==typeof t?JSON.parse(t):t;var n=e.type;if(!f[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==l.indexOf(n)?f[n].apply(this,[e.coordinates]):"GeometryCollection"===n?f[n].apply(this,[e.geometries]):f[n].apply(this,[e])},write:function(t){var e=t.getGeometryType();if(!c[e])throw new Error("Geometry is not supported");return c[e].apply(this,[t])}});var f={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var i=t.geometry.type;if(!f[i])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=f.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(new s.default(i[0],i[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new s.default(t[0],t[1]),new s.default(t[2],t[1]),new s.default(t[2],t[3]),new s.default(t[0],t[3]),new s.default(t[0],t[1])])},Point:function(t){var e=new s.default(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(f.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=f.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(f.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=f.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),i=[],r=1;r<t.length;++r){var o=t[r],s=f.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);i.push(a)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(f.Polygon.apply(this,[i]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(this.read(i))}return this.geometryFactory.createGeometryCollection(e)}},c={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:c.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=c.Point.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),i=0;i<n.length;++i){var r=n[i];e.push(c.coordinate.apply(this,[r]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=c.LineString.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=c.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var i=0;i<t._holes.length;++i){var r=t._holes[i],o=c.LineString.apply(this,[r]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=c.Polygon.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=i.getGeometryType();e.push(c[r].apply(this,[i]))}return{type:"GeometryCollection",geometries:e}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];r.call(this,t,e,0,0)}else if(4===arguments.length){var n=arguments[0],i=arguments[1];arguments[2],arguments[3];this._noder=n,this._scaleFactor=i,this._isScaled=!this.isIntegerPrecision()}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(9),s=i(o),a=n(31),u=i(a),l=n(138),f=i(l),c=n(3),d=i(c),h=n(82),p=i(h),g=n(0),_=i(g),m=n(30),v=i(m),y=n(25),b=i(y),x=n(2),E=i(x);(0,_.default)(r.prototype,{rescale:function(){if((0,s.default)(arguments[0],u.default))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.rescale(n.getCoordinates())}else if(arguments[0]instanceof Array){var i=arguments[0];2===i.length&&(new d.default(i[0]),new d.default(i[1]));for(var e=0;e<i.length;e++)i[e].x=i[e].x/this._scaleFactor+this._offsetX,i[e].y=i[e].y/this._scaleFactor+this._offsetY;2===i.length&&i[0].equals2D(i[1])&&v.default.out.println(i)}},scale:function(){if((0,s.default)(arguments[0],u.default)){for(var t=arguments[0],e=new E.default,n=t.iterator();n.hasNext();){var i=n.next();e.add(new p.default(this.scale(i.getCoordinates()),i.getData()))}return e}if(arguments[0]instanceof Array){for(var r=arguments[0],o=new Array(r.length).fill(null),n=0;n<r.length;n++)o[n]=new d.default(Math.round((r[n].x-this._offsetX)*this._scaleFactor),Math.round((r[n].y-this._offsetY)*this._scaleFactor),r[n].z);return b.default.removeRepeatedPoints(o)}},isIntegerPrecision:function(){return 1===this._scaleFactor},getNodedSubstrings:function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},computeNodes:function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},interfaces_:function(){return[f.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._comps=null;var t=arguments[0];this._comps=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(20),s=i(o),a=n(0),u=i(a),l=n(17),f=i(l),c=n(2),d=i(c),h=n(48),p=i(h);(0,u.default)(r.prototype,{filter:function(t){t instanceof s.default&&this._comps.add(t)},interfaces_:function(){return[p.default]},getClass:function(){return r}}),r.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return r.getPolygons(t,new d.default)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof s.default?n.add(e):e instanceof f.default&&e.apply(new r(n)),n}}},function(t,e,n){"use strict";function i(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var t=arguments[0],e=arguments[1];i.call(this,t,i.INSIDE_AREA,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this._component=n,this._segIndex=r,this._pt=o}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{isInsideArea:function(){return this._segIndex===i.INSIDE_AREA},getCoordinate:function(){return this._pt},getGeometryComponent:function(){return this._component},getSegmentIndex:function(){return this._segIndex},interfaces_:function(){return[]},getClass:function(){return i}}),i.INSIDE_AREA=-1},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._edges=new s.default,this._dirEdges=new s.default,this._nodeMap=new d.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(56),s=i(o),a=n(109),u=i(a),l=n(0),f=i(l),c=n(487),d=i(c),h=n(87),p=i(h),g=n(2),_=i(g),m=n(110),v=i(m);(0,f.default)(r.prototype,{findNodesOfDegree:function(t){for(var e=new _.default,n=this.nodeIterator();n.hasNext();){var i=n.next();i.getDegree()===t&&e.add(i)}return e},dirEdgeIterator:function(){return this._dirEdges.iterator()},edgeIterator:function(){return this._edges.iterator()},remove:function(){if(arguments[0]instanceof v.default){var t=arguments[0];this.remove(t.getDirEdge(0)),this.remove(t.getDirEdge(1)),this._edges.remove(t),t.remove()}else if(arguments[0]instanceof p.default){var e=arguments[0],n=e.getSym();null!==n&&n.setSym(null),e.getFromNode().remove(e),e.remove(),this._dirEdges.remove(e)}else if(arguments[0]instanceof u.default){for(var i=arguments[0],r=i.getOutEdges().getEdges(),o=r.iterator();o.hasNext();){var s=o.next(),n=s.getSym();null!==n&&this.remove(n),this._dirEdges.remove(s);var a=s.getEdge();null!==a&&this._edges.remove(a)}this._nodeMap.remove(i.getCoordinate()),i.remove()}},findNode:function(t){return this._nodeMap.find(t)},getEdges:function(){return this._edges},nodeIterator:function(){return this._nodeMap.iterator()},contains:function(){if(arguments[0]instanceof v.default){var t=arguments[0];return this._edges.contains(t)}if(arguments[0]instanceof p.default){var e=arguments[0];return this._dirEdges.contains(e)}},add:function(){if(arguments[0]instanceof u.default){var t=arguments[0];this._nodeMap.add(t)}else if(arguments[0]instanceof v.default){var e=arguments[0];this._edges.add(e),this.add(e.getDirEdge(0)),this.add(e.getDirEdge(1))}else if(arguments[0]instanceof p.default){var n=arguments[0];this._dirEdges.add(n)}},getNodes:function(){return this._nodeMap.values()},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._factory=null,this._deList=new C.default,this._lowestEdge=null,this._ring=null,this._ringPts=null,this._holes=null,this._shell=null,this._isHole=null,this._isProcessed=!1,this._isIncludedSet=!1,this._isIncluded=!1;var t=arguments[0];this._factory=t}function o(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(12),a=i(s),u=n(24),l=i(u),f=n(36),c=i(f),d=n(79),h=i(d),p=n(147),g=i(p),_=n(38),m=i(_),v=n(0),y=i(v),b=n(129),x=i(b),E=n(30),w=i(E),M=n(25),L=i(M),P=n(2),C=i(P),I=n(63),S=i(I),O=n(7),N=i(O);(0,y.default)(r.prototype,{isIncluded:function(){return this._isIncluded},getCoordinates:function(){if(null===this._ringPts){for(var t=new l.default,e=this._deList.iterator();e.hasNext();){var n=e.next(),i=n.getEdge();r.addEdge(i.getLine().getCoordinates(),n.getEdgeDirection(),t)}this._ringPts=t.toCoordinateArray()}return this._ringPts},isIncludedSet:function(){return this._isIncludedSet},isValid:function(){return this.getCoordinates(),!(this._ringPts.length<=3)&&(this.getRing(),g.default.isValid(this._ring))},build:function(t){var e=t;do{this.add(e),e.setRing(this),e=e.getNext(),N.default.isTrue(null!==e,"found null DE in ring"),N.default.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t)},isOuterHole:function(){return!!this._isHole&&!this.hasShell()},getPolygon:function(){var t=null;if(null!==this._holes){t=new Array(this._holes.size()).fill(null);for(var e=0;e<this._holes.size();e++)t[e]=this._holes.get(e)}return this._factory.createPolygon(this._ring,t)},isHole:function(){return this._isHole},isProcessed:function(){return this._isProcessed},addHole:function(){if(arguments[0]instanceof m.default){var t=arguments[0];null===this._holes&&(this._holes=new C.default),this._holes.add(t)}else if(arguments[0]instanceof r){var e=arguments[0];e.setShell(this);var n=e.getRing();null===this._holes&&(this._holes=new C.default),this._holes.add(n)}},setIncluded:function(t){this._isIncluded=t,this._isIncludedSet=!0},getOuterHole:function(){if(this.isHole())return null;for(var t=0;t<this._deList.size();t++){var e=this._deList.get(t),n=e.getSym().getRing();if(n.isOuterHole())return n}return null},computeHole:function(){var t=this.getRing();this._isHole=a.default.isCCW(t.getCoordinates())},hasShell:function(){return null!==this._shell},isOuterShell:function(){return null!==this.getOuterHole()},getLineString:function(){return this.getCoordinates(),this._factory.createLineString(this._ringPts)},toString:function(){return c.default.toLineString(new h.default(this.getCoordinates()))},getShell:function(){return this.isHole()?this._shell:this},add:function(t){this._deList.add(t)},getRing:function(){if(null!==this._ring)return this._ring;this.getCoordinates(),this._ringPts.length<3&&w.default.out.println(this._ringPts);try{this._ring=this._factory.createLinearRing(this._ringPts)}catch(t){if(!(t instanceof x.default))throw t;w.default.out.println(this._ringPts)}return this._ring},updateIncluded:function(){if(this.isHole())return null;for(var t=0;t<this._deList.size();t++){var e=this._deList.get(t),n=e.getSym().getRing().getShell();if(null!==n&&n.isIncludedSet())return this.setIncluded(!n.isIncluded()),null}},setShell:function(t){this._shell=t},setProcessed:function(t){this._isProcessed=t},interfaces_:function(){return[]},getClass:function(){return r}}),r.findDirEdgesInRing=function(t){var e=t,n=new C.default;do{n.add(e),e=e.getNext(),N.default.isTrue(null!==e,"found null DE in ring"),N.default.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t);return n},r.addEdge=function(t,e,n){if(e)for(var i=0;i<t.length;i++)n.add(t[i],!1);else for(var i=t.length-1;i>=0;i--)n.add(t[i],!1)},r.findEdgeRingContaining=function(t,e){for(var n=t.getRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,s=null,u=e.iterator();u.hasNext();){var l=u.next(),f=l.getRing(),c=f.getEnvelopeInternal();if(!c.equals(i)&&c.contains(i)){r=L.default.ptNotInList(n.getCoordinates(),f.getCoordinates());var d=!1;a.default.isPointInRing(r,f.getCoordinates())&&(d=!0),d&&(null===o||s.contains(c))&&(o=l,s=o.getRing().getEnvelopeInternal())}}return o},(0,y.default)(o.prototype,{compare:function(t,e){var n=t,i=e;return n.getRing().getEnvelope().compareTo(i.getRing().getEnvelope())},interfaces_:function(){return[S.default]},getClass:function(){return o}}),r.EnvelopeComparator=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._li=new f.default,this._geomGraph=null,this._nodeGraph=new s.default,this._invalidPoint=null;var t=arguments[0];this._geomGraph=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(495),s=i(o),a=n(0),u=i(a),l=n(29),f=i(l);(0,u.default)(r.prototype,{isNodeEdgeAreaLabelsConsistent:function(){for(var t=this._nodeGraph.getNodeIterator();t.hasNext();){var e=t.next();if(!e.getEdges().isAreaLabelsConsistent(this._geomGraph))return this._invalidPoint=e.getCoordinate().copy(),!1}return!0},getInvalidPoint:function(){return this._invalidPoint},hasDuplicateRings:function(){for(var t=this._nodeGraph.getNodeIterator();t.hasNext();)for(var e=t.next(),n=e.getEdges().iterator();n.hasNext();){var i=n.next();if(i.getEdgeEnds().size()>1)return this._invalidPoint=i.getEdge().getCoordinate(0),!0}return!1},isNodeConsistentArea:function(){var t=this._geomGraph.computeSelfNodes(this._li,!0,!0);return t.hasProperIntersection()?(this._invalidPoint=t.getProperIntersectionPoint(),!1):(this._nodeGraph.build(this._geomGraph),this.isNodeEdgeAreaLabelsConsistent())},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(141),s=i(o),a=n(0),u=i(a),l=n(35),f=i(l),c=n(2),d=i(c);(0,u.default)(r.prototype,{createEdgeEndForNext:function(t,e,n,i){var r=n.segmentIndex+1;if(r>=t.getNumPoints()&&null===i)return null;var o=t.getCoordinate(r);null!==i&&i.segmentIndex===n.segmentIndex&&(o=i.coord);var a=new s.default(t,n.coord,o,new f.default(t.getLabel()));e.add(a)},createEdgeEndForPrev:function(t,e,n,i){var r=n.segmentIndex;if(0===n.dist){if(0===r)return null;r--}var o=t.getCoordinate(r);null!==i&&i.segmentIndex>=r&&(o=i.coord);var a=new f.default(t.getLabel());a.flip();var u=new s.default(t,n.coord,o,a);e.add(u)},computeEdgeEnds:function(){if(1===arguments.length){for(var t=arguments[0],e=new d.default,n=t;n.hasNext();){var i=n.next();this.computeEdgeEnds(i,e)}return e}if(2===arguments.length){var r=arguments[0],o=arguments[1],s=r.getEdgeIntersectionList();s.addEndpoints();var a=s.iterator(),u=null,l=null;if(!a.hasNext())return null;var f=a.next();do{u=l,l=f,f=null,a.hasNext()&&(f=a.next()),null!==l&&(this.createEdgeEndForPrev(r,o,l,u),this.createEdgeEndForNext(r,o,l,f))}while(null!==l)}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){p.default.apply(this)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(496),s=i(o),a=n(0),u=i(a),l=n(498),f=i(l),c=n(4),d=i(c),h=n(142),p=i(h);(0,d.default)(r,p.default),(0,u.default)(r.prototype,{createNode:function(t){return new f.default(t,new s.default)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new E.default)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(224),s=i(o),a=n(103),u=i(a),l=n(16),f=i(l),c=n(9),d=i(c),h=n(19),p=i(h),g=n(0),_=i(g),m=n(148),v=i(m),y=n(49),b=i(y),x=n(2),E=i(x),w=n(42),M=i(w);(0,_.default)(r.prototype,{reduceToGeometries:function(t){for(var e=new E.default,n=t.iterator();n.hasNext();){var i=n.next(),r=null;(0,d.default)(i,M.default)?r=this.unionTree(i):i instanceof f.default&&(r=i),e.add(r)}return e},extractByEnvelope:function(t,e,n){for(var i=new E.default,r=0;r<e.getNumGeometries();r++){var o=e.getGeometryN(r);o.getEnvelopeInternal().intersects(t)?i.add(o):n.add(o)}return this._geomFactory.buildGeometry(i)},unionOptimized:function(t,e){var n=t.getEnvelopeInternal(),i=e.getEnvelopeInternal();if(!n.intersects(i)){return v.default.combine(t,e)}if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var r=n.intersection(i);return this.unionUsingEnvelopeIntersection(t,e,r)},union:function(){if(null===this._inputPolys)throw new IllegalStateException("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new u.default(r.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var i=t.itemsTree();return this.unionTree(i)},binaryUnion:function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];if(i-n<=1){var o=r.getGeometry(e,n);return this.unionSafe(o,null)}if(i-n==2)return this.unionSafe(r.getGeometry(e,n),r.getGeometry(e,n+1));var s=Math.trunc((i+n)/2),o=this.binaryUnion(e,n,s),a=this.binaryUnion(e,s,i);return this.unionSafe(o,a)}},repeatedUnion:function(t){for(var e=null,n=t.iterator();n.hasNext();){var i=n.next();e=null===e?i.copy():e.union(i)}return e},unionSafe:function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},unionActual:function(t,e){return r.restrictToPolygons(t.union(e))},unionTree:function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},unionUsingEnvelopeIntersection:function(t,e,n){var i=new E.default,r=this.extractByEnvelope(n,t,i),o=this.extractByEnvelope(n,e,i),s=this.unionActual(r,o);return i.add(s),v.default.combine(i)},bufferUnion:function(){if(1===arguments.length){var t=arguments[0],e=t.get(0).getFactory(),n=e.buildGeometry(t),i=n.buffer(0);return i}if(2===arguments.length){var r=arguments[0],o=arguments[1],e=r.getFactory(),n=e.createGeometryCollection([r,o]),i=n.buffer(0);return i}},interfaces_:function(){return[]},getClass:function(){return r}}),r.restrictToPolygons=function(t){if((0,d.default)(t,b.default))return t;var e=s.default.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(p.default.toPolygonArray(e))},r.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},r.union=function(t){return new r(t).union()},r.STRTREE_NODE_CAPACITY=4},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._pointGeom=null,this._otherGeom=null,this._geomFact=null;var t=arguments[0],e=arguments[1];this._pointGeom=t,this._otherGeom=e,this._geomFact=e.getFactory()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(81),s=i(o),a=n(14),u=i(a),l=n(57),f=i(l),c=n(0),d=i(c),h=n(148),p=i(h),g=n(25),_=i(g);(0,d.default)(r.prototype,{union:function(){for(var t=new s.default,e=new f.default,n=0;n<this._pointGeom.getNumGeometries();n++){var i=this._pointGeom.getGeometryN(n),r=i.getCoordinate();t.locate(r,this._otherGeom)===u.default.EXTERIOR&&e.add(r)}if(0===e.size())return this._otherGeom;var o=null,a=_.default.toCoordinateArray(e);return o=1===a.length?this._geomFact.createPoint(a[0]):this._geomFact.createMultiPointFromCoords(a),p.default.combine(o,this._otherGeom)},interfaces_:function(){return[]},getClass:function(){return r}}),r.union=function(t,e){return new r(t,e).union()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._index=new a.default}function o(){this._querySeg=null,this._items=new g.default;var t=arguments[0];this._querySeg=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(220),a=i(s),u=n(67),l=i(u),f=n(0),c=i(f),d=n(18),h=i(d),p=n(2),g=i(p),_=n(11),m=i(_),v=n(234),y=i(v);(0,c.default)(r.prototype,{remove:function(t){this._index.remove(new m.default(t.p0,t.p1),t)},add:function(){if(arguments[0]instanceof y.default)for(var t=arguments[0],e=t.getSegments(),n=0;n<e.length;n++){var i=e[n];this.add(i)}else if(arguments[0]instanceof h.default){var r=arguments[0];this._index.insert(new m.default(r.p0,r.p1),r)}},query:function(t){var e=new m.default(t.p0,t.p1),n=new o(t);return this._index.query(e,n),n.getItems()},interfaces_:function(){return[]},getClass:function(){return r}}),(0,c.default)(o.prototype,{visitItem:function(t){var e=t;m.default.intersects(e.p0,e.p1,this._querySeg.p0,this._querySeg.p1)&&this._items.add(t)},getItems:function(){return this._items},interfaces_:function(){return[l.default]},getClass:function(){return o}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._parentLine=null,this._segs=null,this._resultSegs=new f.default,this._minimumSize=null,1===arguments.length){var t=arguments[0];r.call(this,t,2)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._parentLine=e,this._minimumSize=n,this.init()}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(523),u=i(a),l=n(2),f=i(l);(0,s.default)(r.prototype,{addToResult:function(t){this._resultSegs.add(t)},asLineString:function(){return this._parentLine.getFactory().createLineString(r.extractCoordinates(this._resultSegs))},getResultSize:function(){var t=this._resultSegs.size();return 0===t?0:t+1},getParent:function(){return this._parentLine},getSegment:function(t){return this._segs[t]},getParentCoordinates:function(){return this._parentLine.getCoordinates()},getMinimumSize:function(){return this._minimumSize},asLinearRing:function(){return this._parentLine.getFactory().createLinearRing(r.extractCoordinates(this._resultSegs))},getSegments:function(){return this._segs},init:function(){var t=this._parentLine.getCoordinates();this._segs=new Array(t.length-1).fill(null);for(var e=0;e<t.length-1;e++){var n=new u.default(t[e],t[e+1],this._parentLine,e);this._segs[e]=n}},getResultCoordinates:function(){return r.extractCoordinates(this._resultSegs)},interfaces_:function(){return[]},getClass:function(){return r}}),r.extractCoordinates=function(t){for(var e=new Array(t.size()+1).fill(null),n=null,i=0;i<t.size();i++)n=t.get(i),e[i]=n.p0;return e[e.length-1]=n.p1,e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._isOnConstraint=null,this._constraint=null;var t=arguments[0];u.default.call(this,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(111),u=i(a);(0,i(n(4)).default)(r,u.default),(0,s.default)(r.prototype,{getConstraint:function(){return this._constraint},setOnConstraint:function(t){this._isOnConstraint=t},merge:function(t){t._isOnConstraint&&(this._isOnConstraint=!0,this._constraint=t._constraint)},isOnConstraint:function(){return this._isOnConstraint},setConstraint:function(t){this._isOnConstraint=!0,this._constraint=t},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._rot=null,this._vertex=null,this._next=null,this._data=null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(36),s=i(o),a=n(0),u=i(a),l=n(18),f=i(l);(0,u.default)(r.prototype,{equalsNonOriented:function(t){return!!this.equalsOriented(t)||!!this.equalsOriented(t.sym())},toLineSegment:function(){return new f.default(this._vertex.getCoordinate(),this.dest().getCoordinate())},dest:function(){return this.sym().orig()},oNext:function(){return this._next},equalsOriented:function(t){return!(!this.orig().getCoordinate().equals2D(t.orig().getCoordinate())||!this.dest().getCoordinate().equals2D(t.dest().getCoordinate()))},dNext:function(){return this.sym().oNext().sym()},lPrev:function(){return this._next.sym()},rPrev:function(){return this.sym().oNext()},rot:function(){return this._rot},oPrev:function(){return this._rot._next._rot},sym:function(){return this._rot._rot},setOrig:function(t){this._vertex=t},lNext:function(){return this.invRot().oNext().rot()},getLength:function(){return this.orig().getCoordinate().distance(this.dest().getCoordinate())},invRot:function(){return this._rot.sym()},setDest:function(t){this.sym().setOrig(t)},setData:function(t){this._data=t},getData:function(){return this._data},delete:function(){this._rot=null},orig:function(){return this._vertex},rNext:function(){return this._rot._next.invRot()},toString:function(){var t=this._vertex.getCoordinate(),e=this.dest().getCoordinate();return s.default.toLineString(t,e)},isLive:function(){return null!==this._rot},getPrimary:function(){return this.orig().getCoordinate().compareTo(this.dest().getCoordinate())<=0?this:this.sym()},dPrev:function(){return this.invRot().oNext().invRot()},setNext:function(t){this._next=t},interfaces_:function(){return[]},getClass:function(){return r}}),r.makeEdge=function(t,e){var n=new r,i=new r,o=new r,s=new r;n._rot=i,i._rot=o,o._rot=s,s._rot=n,n.setNext(n),i.setNext(s),o.setNext(o),s.setNext(i);var a=n;return a.setOrig(t),a.setDest(e),a},r.swap=function(t){var e=t.oPrev(),n=t.sym().oPrev();r.splice(t,e),r.splice(t.sym(),n),r.splice(t,e.lNext()),r.splice(t.sym(),n.lNext()),t.setOrig(e.dest()),t.setDest(n.dest())},r.splice=function(t,e){var n=t.oNext().rot(),i=e.oNext().rot(),r=e.oNext(),o=t.oNext(),s=i.oNext(),a=n.oNext();t.setNext(r),e.setNext(o),n.setNext(s),i.setNext(a)},r.connect=function(t,e){var n=r.makeEdge(t.dest(),e.orig());return r.splice(n,t.lNext()),r.splice(n.sym(),e),n}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._subdiv=null,this._lastEdge=null;var t=arguments[0];this._subdiv=t,this.init()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(531),u=i(a);(0,s.default)(r.prototype,{init:function(){this._lastEdge=this.findEdge()},locate:function(t){this._lastEdge.isLive()||this.init();var e=this._subdiv.locateFromEdge(t,this._lastEdge);return this._lastEdge=e,e},findEdge:function(){return this._subdiv.getEdges().iterator().next()},interfaces_:function(){return[u.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._ls=null,this._data=null,2===arguments.length){var t=arguments[0],e=arguments[1];this._ls=new f.default(t,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];this._ls=new f.default(n,i),this._data=o}else if(6===arguments.length){var a=arguments[0],u=arguments[1],l=arguments[2],c=arguments[3],d=arguments[4],h=arguments[5];r.call(this,new s.default(a,u,l),new s.default(c,d,h))}else if(7===arguments.length){var p=arguments[0],g=arguments[1],_=arguments[2],m=arguments[3],v=arguments[4],y=arguments[5],b=arguments[6];r.call(this,new s.default(p,g,_),new s.default(m,v,y),b)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(3),s=i(o),a=n(0),u=i(a),l=n(18),f=i(l);(0,u.default)(r.prototype,{getLineSegment:function(){return this._ls},getEndZ:function(){return this._ls.getCoordinate(1).z},getStartZ:function(){return this._ls.getCoordinate(0).z},intersection:function(t){return this._ls.intersection(t.getLineSegment())},getStart:function(){return this._ls.getCoordinate(0)},getEnd:function(){return this._ls.getCoordinate(1)},getEndY:function(){return this._ls.getCoordinate(1).y},getStartX:function(){return this._ls.getCoordinate(0).x},equalsTopo:function(t){return this._ls.equalsTopo(t.getLineSegment())},getStartY:function(){return this._ls.getCoordinate(0).y},setData:function(t){this._data=t},getData:function(){return this._data},getEndX:function(){return this._ls.getCoordinate(1).x},toString:function(){return this._ls.toString()},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t,this.checkGeometryType()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(13),s=i(o),a=n(10),u=i(a),l=n(112),f=i(l),c=n(0),d=i(c),h=n(240),p=i(h),g=n(241),_=i(g),m=n(242),v=i(m),y=n(37),b=i(y);(0,d.default)(r.prototype,{clampIndex:function(t){var e=t.clone();return e.clamp(this._linearGeom),e},project:function(t){return p.default.indexOf(this._linearGeom,t)},checkGeometryType:function(){if(!(this._linearGeom instanceof s.default||this._linearGeom instanceof b.default))throw new u.default("Input geometry must be linear")},extractPoint:function(){if(1===arguments.length){return arguments[0].getCoordinate(this._linearGeom)}if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.toLowest(this._linearGeom);return n.getSegment(this._linearGeom).pointAlongOffset(n.getSegmentFraction(),e)}},isValidIndex:function(t){return t.isValid(this._linearGeom)},getEndIndex:function(){return f.default.getEndLocation(this._linearGeom)},getStartIndex:function(){return new f.default},indexOfAfter:function(t,e){return p.default.indexOfAfter(this._linearGeom,t,e)},extractLine:function(t,e){return v.default.extract(this._linearGeom,t,e)},indexOf:function(t){return p.default.indexOf(this._linearGeom,t)},indicesOf:function(t){return _.default.indicesOf(this._linearGeom,t)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(88),s=i(o),a=n(112),u=i(a),l=n(15),f=i(l),c=n(0),d=i(c),h=n(18),p=i(h),g=n(7),_=i(g);(0,d.default)(r.prototype,{indexOf:function(t){return this.indexOfFromStart(t,null)},indexOfFromStart:function(t,e){for(var n=f.default.MAX_VALUE,i=0,r=0,o=-1,a=new p.default,l=new s.default(this._linearGeom);l.hasNext();l.next())if(!l.isEndOfLine()){a.p0=l.getSegmentStart(),a.p1=l.getSegmentEnd();var c=a.distance(t),d=a.segmentFraction(t),h=l.getComponentIndex(),g=l.getVertexIndex();c<n&&(null===e||e.compareLocationValues(h,g,d)<0)&&(i=h,r=g,o=d,n=c)}return n===f.default.MAX_VALUE?new u.default(e):new u.default(i,r,o)},indexOfAfter:function(t,e){if(null===e)return this.indexOf(t);var n=u.default.getEndLocation(this._linearGeom);if(n.compareTo(e)<=0)return n;var i=this.indexOfFromStart(t,e);return _.default.isTrue(i.compareTo(e)>=0,"computed location is before specified minimum location"),i},interfaces_:function(){return[]},getClass:function(){return r}}),r.indexOf=function(t,e){return new r(t).indexOf(e)},r.indexOfAfter=function(t,e,n){return new r(t).indexOfAfter(e,n)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(240),u=i(a);(0,s.default)(r.prototype,{indicesOf:function(t){var e=t.getGeometryN(0).getCoordinateN(0),n=t.getGeometryN(t.getNumGeometries()-1),i=n.getCoordinateN(n.getNumPoints()-1),r=new u.default(this._linearGeom),o=new Array(2).fill(null);return o[0]=r.indexOf(e),0===t.getLength()?o[1]=o[0].clone():o[1]=r.indexOfAfter(i,o[0]),o},interfaces_:function(){return[]},getClass:function(){return r}}),r.indicesOf=function(t,e){return new r(t).indicesOf(e)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._line=null;var t=arguments[0];this._line=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(13),s=i(o),a=n(24),u=i(a),l=n(88),f=i(l),c=n(0),d=i(c),h=n(7),p=i(h),g=n(243),_=i(g),m=n(37),v=i(m);(0,d.default)(r.prototype,{computeLinear:function(t,e){var n=new _.default(this._line.getFactory());n.setFixInvalidLines(!0),t.isVertex()||n.add(t.getCoordinate(this._line));for(var i=new f.default(this._line,t);i.hasNext()&&!(e.compareLocationValues(i.getComponentIndex(),i.getVertexIndex(),0)<0);i.next()){var r=i.getSegmentStart();n.add(r),i.isEndOfLine()&&n.endLine()}return e.isVertex()||n.add(e.getCoordinate(this._line)),n.getGeometry()},computeLine:function(t,e){var n=this._line.getCoordinates(),i=new u.default,r=t.getSegmentIndex();t.getSegmentFraction()>0&&(r+=1);var o=e.getSegmentIndex();1===e.getSegmentFraction()&&(o+=1),o>=n.length&&(o=n.length-1),t.isVertex()||i.add(t.getCoordinate(this._line));for(var s=r;s<=o;s++)i.add(n[s]);e.isVertex()||i.add(e.getCoordinate(this._line)),i.size()<=0&&i.add(t.getCoordinate(this._line));var a=i.toCoordinateArray();return a.length<=1&&(a=[a[0],a[0]]),this._line.getFactory().createLineString(a)},extract:function(t,e){return e.compareTo(t)<0?this.reverse(this.computeLinear(e,t)):this.computeLinear(t,e)},reverse:function(t){return t instanceof s.default?t.reverse():t instanceof v.default?t.reverse():(p.default.shouldNeverReachHere("non-linear geometry encountered"),null)},interfaces_:function(){return[]},getClass:function(){return r}}),r.extract=function(t,e,n){return new r(t).extract(e,n)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._geomFact=null,this._lines=new d.default,this._coordList=null,this._ignoreInvalidLines=!1,this._fixInvalidLines=!1,this._lastPt=null;var t=arguments[0];this._geomFact=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(24),s=i(o),a=n(10),u=i(a),l=n(0),f=i(l),c=n(2),d=i(c);(0,f.default)(r.prototype,{getGeometry:function(){return this.endLine(),this._geomFact.buildGeometry(this._lines)},getLastCoordinate:function(){return this._lastPt},endLine:function(){if(null===this._coordList)return null;if(this._ignoreInvalidLines&&this._coordList.size()<2)return this._coordList=null,null;var t=this._coordList.toCoordinateArray(),e=t;this._fixInvalidLines&&(e=this.validCoordinateSequence(t)),this._coordList=null;var n=null;try{n=this._geomFact.createLineString(e)}catch(t){if(!(t instanceof u.default))throw t;if(!this._ignoreInvalidLines)throw t}null!==n&&this._lines.add(n)},setFixInvalidLines:function(t){this._fixInvalidLines=t},add:function(){if(1===arguments.length){var t=arguments[0];this.add(t,!0)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];null===this._coordList&&(this._coordList=new s.default),this._coordList.add(e,n),this._lastPt=e}},setIgnoreInvalidLines:function(t){this._ignoreInvalidLines=t},validCoordinateSequence:function(t){return t.length>=2?t:[t[0],t[0]]},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(88),s=i(o),a=n(112),u=i(a);(0,i(n(0)).default)(r.prototype,{getLength:function(t){for(var e=0,n=new s.default(this._linearGeom);n.hasNext();){if(!n.isEndOfLine()){var i=n.getSegmentStart(),r=n.getSegmentEnd(),o=r.distance(i);if(t.getComponentIndex()===n.getComponentIndex()&&t.getSegmentIndex()===n.getVertexIndex())return e+o*t.getSegmentFraction();e+=o}n.next()}return e},resolveHigher:function(t){if(!t.isEndpoint(this._linearGeom))return t;var e=t.getComponentIndex();if(e>=this._linearGeom.getNumGeometries()-1)return t;do{e++}while(e<this._linearGeom.getNumGeometries()-1&&0===this._linearGeom.getGeometryN(e).getLength());return new u.default(e,0,0)},getLocation:function(){if(1===arguments.length){var t=arguments[0];return this.getLocation(t,!0)}if(2===arguments.length){var e=arguments[0],n=arguments[1],i=e;e<0&&(i=this._linearGeom.getLength()+e);var r=this.getLocationForward(i);return n?r:this.resolveHigher(r)}},getLocationForward:function(t){if(t<=0)return new u.default;for(var e=0,n=new s.default(this._linearGeom);n.hasNext();){if(n.isEndOfLine()){if(e===t){var i=n.getComponentIndex(),r=n.getVertexIndex();return new u.default(i,r,0)}}else{var o=n.getSegmentStart(),a=n.getSegmentEnd(),l=a.distance(o);if(e+l>t){var f=(t-e)/l,i=n.getComponentIndex(),r=n.getVertexIndex();return new u.default(i,r,f)}e+=l}n.next()}return u.default.getEndLocation(this._linearGeom)},interfaces_:function(){return[]},getClass:function(){return r}}),r.getLength=function(t,e){return new r(t).getLength(e)},r.getLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new r(t);return n.getLocation(e)}if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],n=new r(i);return n.getLocation(o,s)}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,i=1/0;return(0,l.featureEach)(e,function(e,r){var o=(0,u.default)(t,e);o<i&&(n=(0,s.default)(e),n.properties.featureIndex=r,n.properties.distanceToPoint=o,i=o)}),n}Object.defineProperty(e,"__esModule",{value:!0});var o=n(22),s=i(o),a=n(23),u=i(a),l=n(6);e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){if(n=n||{},!(0,b.isObject)(n))throw new Error("options is invalid");if(!t)throw new Error("pt is required");if(Array.isArray(t)?t=(0,b.point)(t):"Point"===t.type?t=(0,b.feature)(t):(0,v.featureOf)(t,"Point","point"),!e)throw new Error("line is required");Array.isArray(e)?e=(0,b.lineString)(e):"LineString"===e.type?e=(0,b.feature)(e):(0,v.featureOf)(e,"LineString","line");var i=1/0,r=t.geometry.coordinates;return(0,y.segmentEach)(e,function(t){var e=t.geometry.coordinates[0],s=t.geometry.coordinates[1],a=o(r,e,s,n);i>a&&(i=a)}),i}function o(t,e,n,i){var r=i.mercator,o=!0!==r?(0,d.default)(e,t,i):u(e,t,i),a=(0,b.bearingToAzimuth)(!0!==r?(0,f.default)(e,t):(0,p.default)(e,t)),l=(0,b.bearingToAzimuth)(!0!==r?(0,f.default)(e,n):(0,p.default)(e,n)),c=Math.abs(a-l);if(c>90)return o;var h=(l+180)%360,g=(0,b.bearingToAzimuth)(!0!==r?(0,f.default)(n,t):(0,p.default)(n,t)),_=Math.abs(g-h);return _>180&&(_=Math.abs(_-360)),_>90?!0!==r?(0,d.default)(t,n,i):u(t,n,i):!0!==r?o*Math.sin((0,b.degreesToRadians)(c)):s(e,n,t,i)}function s(t,e,n,i){var r=0;(Math.abs(t[0])>=180||Math.abs(e[0])>=180||Math.abs(n[0])>=180)&&(r=t[0]>0||e[0]>0||n[0]>0?-180:180);var o=(0,b.point)(n),s=(0,m.toMercator)([t[0]+r,t[1]]),u=(0,m.toMercator)([e[0]+r,e[1]]),l=(0,m.toMercator)([n[0]+r,n[1]]),f=(0,m.toWgs84)(a(s,u,l));return 0!==r&&(f[0]-=r),(0,_.default)(o,f,i)}function a(t,e,n){var i=t[0],r=t[1],o=e[0],s=e[1],a=n[0],u=n[1],l=o-i,f=s-r,c=l*l+f*f,d=((a-i)*l+(u-r)*f)/c;return[i+d*l,r+d*f]}function u(t,e,n){var i=n.units,r=0;Math.abs(t[0])>=180&&(r=t[0]>0?-180:180),Math.abs(e[0])>=180&&(r=e[0]>0?-180:180);var o=(0,m.toMercator)([t[0]+r,t[1]]),s=(0,m.toMercator)([e[0]+r,e[1]]),a=function(t){return t*t},u=a(o[0]-s[0])+a(o[1]-s[1]),l=Math.sqrt(u);return(0,b.convertLength)(l,"meters",i)}Object.defineProperty(e,"__esModule",{value:!0});var l=n(62),f=i(l),c=n(23),d=i(c),h=n(90),p=i(h),g=n(115),_=i(g),m=n(153),v=n(5),y=n(6),b=n(1);e.default=r},function(t,e,n){"use strict";function i(t,e){if(e=e||{},!(0,a.isObject)(e))throw new Error("options is invalid");if(!t)throw new Error("geojson is required");return(0,s.segmentReduce)(t,function(t,n){var i=n.geometry.coordinates;return t+(0,o.default)(i[0],i[1],e)},0)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(23),o=function(t){return t&&t.__esModule?t:{default:t}}(r),s=n(6),a=n(1);e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i){if(i=i||{},!(0,c.isObject)(i))throw new Error("options is invalid");var r,o=[];if("Feature"===t.type)r=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");r=t.coordinates}for(var a,l,d,h=0,p=0;p<r.length&&!(e>=h&&p===r.length-1);p++){if(h>e&&0===o.length){if(!(a=e-h))return o.push(r[p]),(0,c.lineString)(o);l=(0,s.default)(r[p],r[p-1])-180,d=(0,f.default)(r[p],a,l,i),o.push(d.geometry.coordinates)}if(h>=n)return(a=n-h)?(l=(0,s.default)(r[p],r[p-1])-180,d=(0,f.default)(r[p],a,l,i),o.push(d.geometry.coordinates),(0,c.lineString)(o)):(o.push(r[p]),(0,c.lineString)(o));if(h>=e&&o.push(r[p]),p===r.length-1)return(0,c.lineString)(o);h+=(0,u.default)(r[p],r[p+1],i)}return(0,c.lineString)(r[r.length-1])}Object.defineProperty(e,"__esModule",{value:!0});var o=n(62),s=i(o),a=n(23),u=i(a),l=n(54),f=i(l),c=n(1);e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){if(n=n||{},!(0,f.isObject)(n))throw new Error("options is invalid");var i=n.mask,r=n.properties,o=[];if(null===e||void 0===e)throw new Error("cellSide is required");if(!(0,f.isNumber)(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf((0,l.getType)(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=t[0],c=t[1],d=t[2],h=t[3],p=e/(0,u.default)([a,c],[d,c],n),g=p*(d-a),_=e/(0,u.default)([a,c],[a,h],n),m=_*(h-c),v=d-a,y=h-c,b=Math.floor(v/g),x=Math.floor(y/m),E=(v-b*g)/2,w=(y-x*m)/2,M=a+E;M<=d;){for(var L=c+w;L<=h;){var P=(0,f.point)([M,L],r);i?(0,s.default)(P,i)&&o.push(P):o.push(P),L+=m}M+=g}return(0,f.featureCollection)(o)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(250),s=i(o),a=n(23),u=i(a),l=n(5),f=n(1);e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=(0,x.getType)(t),i=(0,x.getType)(e),r=(0,x.getGeom)(t),d=(0,x.getGeom)(e);switch(n){case"Point":switch(i){case"MultiPoint":return o(r,d);case"LineString":return(0,v.default)(r,d,{ignoreEndVertices:!0});case"Polygon":return(0,b.default)(r,d,{ignoreBoundary:!0});default:throw new Error("feature2 "+i+" geometry not supported")}case"MultiPoint":switch(i){case"MultiPoint":return s(r,d);case"LineString":return a(r,d);case"Polygon":return u(r,d);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"LineString":return l(r,d);case"Polygon":return f(r,d);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"Polygon":return c(r,d);default:throw new Error("feature2 "+i+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}function o(t,e){var n,i=!1;for(n=0;n<e.coordinates.length;n++)if(h(e.coordinates[n],t.coordinates)){i=!0;break}return i}function s(t,e){for(var n=0;n<t.coordinates.length;n++){for(var i=!1,r=0;r<e.coordinates.length;r++)h(t.coordinates[n],e.coordinates[r])&&(i=!0);if(!i)return!1}return!0}function a(t,e){for(var n=!1,i=0;i<t.coordinates.length;i++){if(!(0,v.default)(t.coordinates[i],e))return!1;n||(n=(0,v.default)(t.coordinates[i],e,{ignoreEndVertices:!0}))}return n}function u(t,e){for(var n=!0,i=0;i<t.coordinates.length;i++){var r=(0,b.default)(t.coordinates[1],e);if(!r){n=!1;break}r=(0,b.default)(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&r}function l(t,e){for(var n=0;n<t.coordinates.length;n++)if(!(0,v.default)(t.coordinates[n],e))return!1;return!0}function f(t,e){if(!d((0,_.default)(e),(0,_.default)(t)))return!1;for(var n=!1,i=0;i<t.coordinates.length-1;i++){if(!(0,b.default)(t.coordinates[i],e))return!1;if(n||(n=(0,b.default)(t.coordinates[i],e,{ignoreBoundary:!0})),!n){var r=p(t.coordinates[i],t.coordinates[i+1]);n=(0,b.default)(r,e,{ignoreBoundary:!0})}}return n}function c(t,e){var n=(0,_.default)(t);if(!d((0,_.default)(e),n))return!1;for(var i=0;i<t.coordinates[0].length;i++)if(!(0,b.default)(t.coordinates[0][i],e))return!1;return!0}function d(t,e){return!(t[0]>e[0])&&(!(t[2]<e[2])&&(!(t[1]>e[1])&&!(t[3]<e[3])))}function h(t,e){return t[0]===e[0]&&t[1]===e[1]}function p(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}Object.defineProperty(e,"__esModule",{value:!0});var g=n(27),_=i(g),m=n(117),v=i(m),y=n(34),b=i(y),x=n(5);e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){if(n=n||{},!(0,f.isObject)(n))throw new Error("options is invalid");var i=n.properties,r=n.mask,o=[];if(null===e||void 0===e)throw new Error("cellSide is required");if(!(0,f.isNumber)(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(r&&-1===["Polygon","MultiPolygon"].indexOf((0,l.getType)(r)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=t[0],c=t[1],d=t[2],h=t[3],p=e/(0,s.default)([a,c],[d,c],n),g=p*(d-a),_=e/(0,s.default)([a,c],[a,h],n),m=_*(h-c),v=d-a,y=h-c,b=Math.floor(v/g),x=Math.floor(y/m),E=(v-b*g)/2,w=(y-x*m)/2,M=a+E,L=0;L<b;L++){for(var P=c+w,C=0;C<x;C++){var I=(0,f.polygon)([[[M,P],[M,P+m],[M+g,P+m],[M+g,P],[M,P]]],i);r?(0,u.default)(r,I)&&o.push(I):o.push(I),P+=m}M+=g}return(0,f.featureCollection)(o)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(23),s=i(o),a=n(96),u=i(a),l=n(5),f=n(1);e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){if(n=n||{},!(0,f.isObject)(n))throw new Error("options is invalid");var i=n.properties,r=n.mask,o=[];if(null===e||void 0===e)throw new Error("cellSide is required");if(!(0,f.isNumber)(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(r&&-1===["Polygon","MultiPolygon"].indexOf((0,l.getType)(r)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=e/(0,s.default)([t[0],t[1]],[t[2],t[1]],n),c=a*(t[2]-t[0]),d=e/(0,s.default)([t[0],t[1]],[t[0],t[3]],n),h=d*(t[3]-t[1]),p=0,g=t[0];g<=t[2];){for(var _=0,m=t[1];m<=t[3];){var v=null,y=null;p%2==0&&_%2==0?(v=(0,f.polygon)([[[g,m],[g,m+h],[g+c,m],[g,m]]],i),y=(0,f.polygon)([[[g,m+h],[g+c,m+h],[g+c,m],[g,m+h]]],i)):p%2==0&&_%2==1?(v=(0,f.polygon)([[[g,m],[g+c,m+h],[g+c,m],[g,m]]],i),y=(0,f.polygon)([[[g,m],[g,m+h],[g+c,m+h],[g,m]]],i)):_%2==0&&p%2==1?(v=(0,f.polygon)([[[g,m],[g,m+h],[g+c,m+h],[g,m]]],i),y=(0,f.polygon)([[[g,m],[g+c,m+h],[g+c,m],[g,m]]],i)):_%2==1&&p%2==1&&(v=(0,f.polygon)([[[g,m],[g,m+h],[g+c,m],[g,m]]],i),y=(0,f.polygon)([[[g,m+h],[g+c,m+h],[g+c,m],[g,m+h]]],i)),r?((0,u.default)(r,v)&&o.push(v),(0,u.default)(r,y)&&o.push(y)):(o.push(v),o.push(y)),m+=h,_++}p++,g+=c}return(0,f.featureCollection)(o)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(23),s=i(o),a=n(96),u=i(a),l=n(5),f=n(1);e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){if(n=n||{},!(0,d.isObject)(n))throw new Error("options is invalid");var i=n.properties||{},r=n.triangles,a=n.mask;if(null===e||void 0===e)throw new Error("cellSide is required");if(!(0,d.isNumber)(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(a&&-1===["Polygon","MultiPolygon"].indexOf((0,c.getType)(a)))throw new Error("options.mask must be a (Multi)Polygon");var l=t[0],h=t[1],p=t[2],g=t[3],_=(h+g)/2,m=(l+p)/2,v=2*e/(0,u.default)([l,_],[p,_],n),y=v*(p-l),b=2*e/(0,u.default)([m,h],[m,g],n),x=b*(g-h),E=y/2,w=2*E,M=Math.sqrt(3)/2*x,L=p-l,P=g-h,C=.75*w,I=M,S=(L-w)/(w-E/2),O=Math.floor(S),N=(O*C-E/2-L)/2-E/2+C/2,T=Math.floor((P-M)/M),R=(P-T*M)/2,A=T*M-P>M/2;A&&(R-=M/4);for(var D=[],k=[],j=0;j<6;j++){var F=2*Math.PI/6*j;D.push(Math.cos(F)),k.push(Math.sin(F))}for(var z=[],G=0;G<=O;G++)for(var B=0;B<=T;B++){var q=G%2==1;if((0!==B||!q)&&(0!==B||!A)){var U=G*C+l-N,V=B*I+h+R;if(q&&(V-=M/2),!0===r)s([U,V],y/2,x/2,i,D,k).forEach(function(t){a?(0,f.default)(a,t)&&z.push(t):z.push(t)});else{var Y=o([U,V],y/2,x/2,i,D,k);a?(0,f.default)(a,Y)&&z.push(Y):z.push(Y)}}}return(0,d.featureCollection)(z)}function o(t,e,n,i,r,o){for(var s=[],a=0;a<6;a++){var u=t[0]+e*r[a],l=t[1]+n*o[a];s.push([u,l])}return s.push(s[0].slice()),(0,d.polygon)([s],i)}function s(t,e,n,i,r,o){for(var s=[],a=0;a<6;a++){var u=[];u.push(t),u.push([t[0]+e*r[a],t[1]+n*o[a]]),u.push([t[0]+e*r[(a+1)%6],t[1]+n*o[(a+1)%6]]),u.push(t),s.push((0,d.polygon)([u],i))}return s}Object.defineProperty(e,"__esModule",{value:!0});var a=n(23),u=i(a),l=n(96),f=i(l),c=n(5),d=n(1);e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i,r){if(r=r||{},!(0,c.isObject)(r))throw new Error("options is invalid");var a=r.steps,l=r.units;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if(void 0===n||null===n)throw new Error("bearing1 is required");if(void 0===i||null===i)throw new Error("bearing2 is required");if("object"!==(void 0===r?"undefined":s(r)))throw new Error("options must be an object");a=a||64;var d=o(n),h=o(i),p=t.properties;if(d===h)return(0,c.lineString)((0,f.default)(t,e,r).geometry.coordinates[0],p);for(var g=d,_=d<h?h:h+360,m=g,v=[],y=0;m<_;)v.push((0,u.default)(t,e,m,l).geometry.coordinates),y++,m=g+360*y/a;return m>_&&v.push((0,u.default)(t,e,_,l).geometry.coordinates),(0,c.lineString)(v,p)}function o(t){var e=t%360;return e<0&&(e+=360),e}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(54),u=i(a),l=n(126),f=i(l),c=n(1);e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){if(n=n||{},!(0,_.isObject)(n))throw new Error("options is invalid");var i=n.tolerance||0,r=[],s=(0,a.default)();s.load((0,l.default)(t));var u;return(0,g.segmentEach)(e,function(t){var e=!1;(0,g.featureEach)(s.search(t),function(n){if(!1===e){var r=(0,p.getCoords)(t).sort(),s=(0,p.getCoords)(n).sort();(0,v.default)(r,s)?(e=!0,u=u?o(u,t):t):(0===i?(0,h.default)(r[0],n)&&(0,h.default)(r[1],n):(0,c.default)(n,r[0]).properties.dist<=i&&(0,c.default)(n,r[1]).properties.dist<=i)?(e=!0,u=u?o(u,t):t):(0===i?(0,h.default)(s[0],t)&&(0,h.default)(s[1],t):(0,c.default)(t,s[0]).properties.dist<=i&&(0,c.default)(t,s[1]).properties.dist<=i)&&(u=u?o(u,n):n)}}),!1===e&&u&&(r.push(u),u=void 0)}),u&&r.push(u),(0,_.featureCollection)(r)}function o(t,e){var n=(0,p.getCoords)(e),i=(0,p.getCoords)(t),r=i[0],o=i[i.length-1],s=t.geometry.coordinates;return(0,v.default)(n[0],r)?s.unshift(n[1]):(0,v.default)(n[0],o)?s.push(n[1]):(0,v.default)(n[1],r)?s.unshift(n[0]):(0,v.default)(n[1],o)&&s.push(n[0]),t}Object.defineProperty(e,"__esModule",{value:!0});var s=n(114),a=i(s),u=n(89),l=i(u),f=n(113),c=i(f),d=n(117),h=i(d),p=n(5),g=n(6),_=n(1),m=n(562),v=i(m);e.default=r},function(t,e,n){"use strict";function i(t){if(!t)throw new Error("line is required");var e=t.geometry?t.geometry.type:t.type;if(!Array.isArray(t)&&"LineString"!==e)throw new Error("geometry must be a LineString");for(var n,i,o=(0,r.getCoords)(t),s=0,a=1;a<o.length;)n=i||o[0],i=o[a],s+=(i[0]-n[0])*(i[1]+n[1]),a++;return s>0}Object.defineProperty(e,"__esModule",{value:!0});var r=n(5);e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){if(n=n||{},!(0,w.isObject)(n))throw new Error("options is invalid");var i=n.origin,r=n.mutate;if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var s=Array.isArray(i)||"object"===(void 0===i?"undefined":a(i));return!0!==r&&(t=(0,l.default)(t)),"FeatureCollection"!==t.type||s?o(t,e,i):((0,E.featureEach)(t,function(n,r){t.features[r]=o(n,e,i)}),t)}function o(t,e,n){var i="Point"===(0,M.getType)(t);return n=s(t,n),1===e||i?t:((0,E.coordEach)(t,function(t){var i=(0,y.default)(n,t),r=(0,m.default)(n,t),o=i*e,s=(0,M.getCoords)((0,x.default)(n,o,r));t[0]=s[0],t[1]=s[1],3===t.length&&(t[2]*=e)}),t)}function s(t,e){if(void 0!==e&&null!==e||(e="centroid"),Array.isArray(e)||"object"===(void 0===e?"undefined":a(e)))return(0,M.getCoord)(e);var n=t.bbox?t.bbox:(0,g.default)(t),i=n[0],r=n[1],o=n[2],s=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return(0,w.point)([i,r]);case"se":case"southeast":case"eastsouth":case"bottomright":return(0,w.point)([o,r]);case"nw":case"northwest":case"westnorth":case"topleft":return(0,w.point)([i,s]);case"ne":case"northeast":case"eastnorth":case"topright":return(0,w.point)([o,s]);case"center":return(0,c.default)(t);case void 0:case null:case"centroid":return(0,h.default)(t);default:throw new Error("invalid origin")}}Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=n(22),l=i(u),f=n(95),c=i(f),d=n(71),h=i(d),p=n(27),g=i(p),_=n(90),m=i(_),v=n(115),y=i(v),b=n(118),x=i(b),E=n(6),w=n(1),M=n(5);e.default=r},function(t,e,n){"use strict";function i(t,e,n){if(n=n||{},"object"!==(void 0===n?"undefined":s(n)))throw new Error("options is invalid");var i=n.ignoreBoundary;if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var u=(0,a.getCoord)(t),l=(0,a.getCoords)(e),f=e.geometry?e.geometry.type:e.type,c=e.bbox;if(c&&!1===o(u,c))return!1;"Polygon"===f&&(l=[l]);for(var d=0,h=!1;d<l.length&&!h;d++)if(r(u,l[d][0],i)){for(var p=!1,g=1;g<l[d].length&&!p;)r(u,l[d][g],!i)&&(p=!0),g++;p||(h=!0)}return h}function r(t,e,n){var i=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var r=0,o=e.length-1;r<e.length;o=r++){var s=e[r][0],a=e[r][1],u=e[o][0],l=e[o][1];if(t[1]*(s-u)+a*(u-t[0])+l*(t[0]-s)==0&&(s-t[0])*(u-t[0])<=0&&(a-t[1])*(l-t[1])<=0)return!n;a>t[1]!=l>t[1]&&t[0]<(u-s)*(t[1]-a)/(l-a)+s&&(i=!i)}return i}function o(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(5);e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(156),a=n(1),u=n(183),l=i(u),f=n(258),c=i(f),d=function(){function t(){r(this,t),this.edges=[],this.polygon=void 0,this.envelope=void 0}return o(t,[{key:"push",value:function(t){this[this.edges.length]=t,this.edges.push(t),this.polygon=this.envelope=void 0}},{key:"get",value:function(t){return this.edges[t]}},{key:"forEach",value:function(t){this.edges.forEach(t)}},{key:"map",value:function(t){return this.edges.map(t)}},{key:"some",value:function(t){return this.edges.some(t)}},{key:"isValid",value:function(){return!0}},{key:"isHole",value:function(){var t=this,e=this.edges.reduce(function(e,n,i){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=i),e},0),n=(0===e?this.length:e)-1,i=(e+1)%this.length,r=(0,s.orientationIndex)(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[i].from.coordinates);return 0===r?this.edges[n].from.coordinates[0]>this.edges[i].from.coordinates[0]:r>0}},{key:"toMultiPoint",value:function(){return(0,a.multiPoint)(this.edges.map(function(t){return t.from.coordinates}))}},{key:"toPolygon",value:function(){if(this.polygon)return this.polygon;var t=this.edges.map(function(t){return t.from.coordinates});return t.push(this.edges[0].from.coordinates),this.polygon=(0,a.polygon)([t])}},{key:"getEnvelope",value:function(){return this.envelope?this.envelope:this.envelope=(0,l.default)(this.toPolygon())}},{key:"inside",value:function(t){return(0,c.default)(t,this.toPolygon())}},{key:"length",get:function(){return this.edges.length}}],[{key:"findEdgeRingContaining",value:function(t,e){var n=t.getEnvelope(),i=void 0,r=void 0;return e.forEach(function(e){var o=e.getEnvelope();if(r&&(i=r.getEnvelope()),!(0,s.envelopeIsEqual)(o,n)&&(0,s.envelopeContains)(o,n)){var u=t.map(function(t){return t.from.coordinates}).find(function(t){return!e.some(function(e){return(0,s.coordinatesEqual)(t,e.from.coordinates)})});u&&e.inside((0,a.point)(u))&&(r&&!(0,s.envelopeContains)(i,o)||(r=e))}}),r}}]),t}();e.default=d},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");var n=(0,s.getType)(t);if(n!==(0,s.getType)(e))throw new Error("features must be of the same type");if("Point"===n)throw new Error("Point geometry not supported");if(new c({precision:6}).compare(t,e))return!1;var i=0;switch(n){case"MultiPoint":var r=(0,o.coordAll)(t),a=(0,o.coordAll)(e);r.forEach(function(t){a.forEach(function(e){t[0]===e[0]&&t[1]===e[1]&&i++})});break;case"LineString":case"MultiLineString":(0,o.segmentEach)(t,function(t){(0,o.segmentEach)(e,function(e){(0,u.default)(t,e).features.length&&i++})});break;case"Polygon":case"MultiPolygon":(0,o.segmentEach)(t,function(t){(0,o.segmentEach)(e,function(e){(0,f.default)(t,e).features.length&&i++})})}return i>0}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),s=n(5),a=n(255),u=i(a),l=n(59),f=i(l),c=n(261);e.default=r},function(t,e,n){"use strict";function i(t){return t.coordinates.map(function(e){return{type:t.type.replace("Multi",""),coordinates:e}})}function r(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function o(t,e){return s(t,e,{strict:!0})}var s=n(581),a=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:o};a.prototype.compare=function(t,e){if(t.type!==e.type||!r(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var n=this,o=i(t),s=i(e);return o.every(function(t){return this.some(function(e){return n.compare(t,e)})},s)}}return!1},a.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},a.prototype.compareLine=function(t,e,n,i){if(!r(t,e))return!1;var o=this.pseudoNode?t:this.removePseudo(t),s=this.pseudoNode?e:this.removePseudo(e);if(!i||this.compareCoord(o[0],s[0])||(s=this.fixStartIndex(s,o))){var a=this.compareCoord(o[n],s[n]);return this.direction||a?this.comparePath(o,s):!!this.compareCoord(o[n],s[s.length-(1+n)])&&this.comparePath(o.slice().reverse(),s)}},a.prototype.fixStartIndex=function(t,e){for(var n,i=-1,r=0;r<t.length;r++)if(this.compareCoord(t[r],e[0])){i=r;break}return i>=0&&(n=[].concat(t.slice(i,t.length),t.slice(1,i+1))),n},a.prototype.comparePath=function(t,e){var n=this;return t.every(function(t,e){return n.compareCoord(t,this[e])},e)},a.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),i=e.coordinates.slice(1,e.coordinates.length),r=this;return n.every(function(t){return this.some(function(e){return r.compareLine(t,e,1,!0)})},i)}return!1},a.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},a.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},a.prototype.removePseudo=function(t){return t},t.exports=a},function(t,e,n){"use strict";function i(t,e,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,n)}i.prototype.insert=function(t,e){for(var n=this._queue.length,i=n;i--;){var r=this._priorities[i];"desc"===this._sorting?e>r&&(n=i):e<r&&(n=i)}this._insertAt(t,e,n)},i.prototype.remove=function(t){for(var e=this._queue.length;e--;){if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}}},i.prototype.forEach=function(t){this._queue.forEach(t)},i.prototype.getElements=function(){return this._queue},i.prototype.getElementPriority=function(t){return this._priorities[t]},i.prototype.getPriorities=function(){return this._priorities},i.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},i.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var i=0;i<t.length;i++)this.insert(t[i],e[i])}n&&(this._sorting=n)},i.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},void 0!==t&&t.exports&&(t.exports=i)},function(t,e,n){"use strict";t.exports={eudist:function(t,e,n){for(var i=t.length,r=0,o=0;o<i;o++){var s=(t[o]||0)-(e[o]||0);r+=s*s}return n?Math.sqrt(r):r},mandist:function(t,e,n){for(var i=t.length,r=0,o=0;o<i;o++)r+=Math.abs((t[o]||0)-(e[o]||0));return n?Math.sqrt(r):r},dist:function(t,e,n){var i=Math.abs(t-e);return n?i:i*i}}},function(t,e,n){"use strict";function i(t){return f.cells[t.index]={site:t,halfedges:[]}}function r(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function o(t,e){return e[+(e.left!==t.site)]}function s(t,e){return e[+(e.left===t.site)]}function a(){for(var t,e,n,i,o=0,s=f.cells.length;o<s;++o)if((t=f.cells[o])&&(i=(e=t.halfedges).length)){var a=new Array(i),u=new Array(i);for(n=0;n<i;++n)a[n]=n,u[n]=r(t,f.edges[e[n]]);for(a.sort(function(t,e){return u[e]-u[t]}),n=0;n<i;++n)u[n]=e[a[n]];for(n=0;n<i;++n)e[n]=u[n]}}function u(t,e,n,i){var r,a,u,c,d,h,p,g,_,m,v,y,b=f.cells.length,x=!0;for(r=0;r<b;++r)if(a=f.cells[r]){for(u=a.site,d=a.halfedges,c=d.length;c--;)f.edges[d[c]]||d.splice(c,1);for(c=0,h=d.length;c<h;)m=s(a,f.edges[d[c]]),v=m[0],y=m[1],p=o(a,f.edges[d[++c%h]]),g=p[0],_=p[1],(Math.abs(v-g)>f.epsilon||Math.abs(y-_)>f.epsilon)&&(d.splice(c,0,f.edges.push((0,l.createBorderEdge)(u,m,Math.abs(v-t)<f.epsilon&&i-y>f.epsilon?[t,Math.abs(g-t)<f.epsilon?_:i]:Math.abs(y-i)<f.epsilon&&n-v>f.epsilon?[Math.abs(_-i)<f.epsilon?g:n,i]:Math.abs(v-n)<f.epsilon&&y-e>f.epsilon?[n,Math.abs(g-n)<f.epsilon?_:e]:Math.abs(y-e)<f.epsilon&&v-t>f.epsilon?[Math.abs(_-e)<f.epsilon?g:t,e]:null))-1),++h);h&&(x=!1)}if(x){var E,w,M,L=1/0;for(r=0,x=null;r<b;++r)(a=f.cells[r])&&(u=a.site,E=u[0]-t,w=u[1]-e,(M=E*E+w*w)<L&&(L=M,x=a));if(x){var P=[t,e],C=[t,i],I=[n,i],S=[n,e];x.halfedges.push(f.edges.push((0,l.createBorderEdge)(u=x.site,P,C))-1,f.edges.push((0,l.createBorderEdge)(u,C,I))-1,f.edges.push((0,l.createBorderEdge)(u,I,S))-1,f.edges.push((0,l.createBorderEdge)(u,S,P))-1)}}for(r=0;r<b;++r)(a=f.cells[r])&&(a.halfedges.length||delete f.cells[r])}Object.defineProperty(e,"__esModule",{value:!0}),e.createCell=i,e.cellHalfedgeStart=o,e.cellHalfedgeEnd=s,e.sortCellHalfedges=a,e.clipCells=u;var l=n(158),f=n(91)},function(t,e,n){"use strict";function i(){(0,s.RedBlackNode)(this),this.x=this.y=this.arc=this.site=this.cy=null}function r(t){var n=t.P,r=t.N;if(n&&r){var o=n.site,s=t.site,f=r.site;if(o!==f){var c=s[0],d=s[1],h=o[0]-c,p=o[1]-d,g=f[0]-c,_=f[1]-d,m=2*(h*_-p*g);if(!(m>=-a.epsilon2)){var v=h*h+p*p,y=g*g+_*_,b=(_*v-p*y)/m,x=(h*y-g*v)/m,E=u.pop()||new i;E.arc=t,E.site=s,E.x=b+c,E.y=(E.cy=x+d)+Math.sqrt(b*b+x*x),t.circle=E;for(var w=null,M=a.circles._;M;)if(E.y<M.y||E.y===M.y&&E.x<=M.x){if(!M.L){w=M.P;break}M=M.L}else{if(!M.R){w=M;break}M=M.R}a.circles.insert(w,E),w||(e.firstCircle=l=E)}}}}function o(t){var n=t.circle;n&&(n.P||(e.firstCircle=l=n.N),a.circles.remove(n),u.push(n),(0,s.RedBlackNode)(n),t.circle=null)}Object.defineProperty(e,"__esModule",{value:!0}),e.firstCircle=void 0,e.attachCircle=r,e.detachCircle=o;var s=n(157),a=n(91),u=[],l=e.firstCircle=void 0},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){E.point=s}function o(){a(u,l)}function s(t,e){E.point=a,u=t,l=e,t*=g.radians,e*=g.radians,f=t,c=(0,g.cos)(e=e/2+g.quarterPi),d=(0,g.sin)(e)}function a(t,e){t*=g.radians,e*=g.radians,e=e/2+g.quarterPi;var n=t-f,i=n>=0?1:-1,r=i*n,o=(0,g.cos)(e),s=(0,g.sin)(e),a=d*s,u=c*o+a*(0,g.cos)(r),l=a*i*(0,g.sin)(r);b.add((0,g.atan2)(l,u)),f=t,c=o,d=s}Object.defineProperty(e,"__esModule",{value:!0}),e.areaStream=e.areaRingSum=void 0,e.default=function(t){return x.reset(),(0,y.default)(t,E),2*x};var u,l,f,c,d,h=n(68),p=i(h),g=n(8),_=n(53),m=i(_),v=n(60),y=i(v),b=e.areaRingSum=(0,p.default)(),x=(0,p.default)(),E=e.areaStream={point:m.default,lineStart:m.default,lineEnd:m.default,polygonStart:function(){b.reset(),E.lineStart=r,E.lineEnd=o},polygonEnd:function(){var t=+b;x.add(t<0?g.tau+t:t),this.lineStart=this.lineEnd=this.point=m.default},sphere:function(){x.add(g.tau)}}},function(t,e,n){"use strict";function i(t,e,n,i,s,a){if(n){var l=(0,u.cos)(e),f=(0,u.sin)(e),c=i*n;null==s?(s=e+i*u.tau,a=e-c/2):(s=r(l,s),a=r(l,a),(i>0?s<a:s>a)&&(s+=i*u.tau));for(var d,h=s;i>0?h>a:h<a;h-=c)d=(0,o.spherical)([l,-f*(0,u.cos)(h),-f*(0,u.sin)(h)]),t.point(d[0],d[1])}}function r(t,e){e=(0,o.cartesian)(e),e[0]-=t,(0,o.cartesianNormalizeInPlace)(e);var n=(0,u.acos)(-e[1]);return((-e[2]<0?-n:n)+u.tau-u.epsilon)%u.tau}Object.defineProperty(e,"__esModule",{value:!0}),e.circleStream=i,e.default=function(){function t(t,e){n.push(t=r(t,e)),t[0]*=u.degrees,t[1]*=u.degrees}function e(){var t=o.apply(this,arguments),e=s.apply(this,arguments)*u.radians,a=f.apply(this,arguments)*u.radians;return n=[],r=(0,l.rotateRadians)(-t[0]*u.radians,-t[1]*u.radians,0).invert,i(c,e,a,1),t={type:"Polygon",coordinates:[n]},n=r=null,t}var n,r,o=(0,a.default)([0,0]),s=(0,a.default)(90),f=(0,a.default)(6),c={point:t};return e.center=function(t){return arguments.length?(o="function"==typeof t?t:(0,a.default)([+t[0],+t[1]]),e):o},e.radius=function(t){return arguments.length?(s="function"==typeof t?t:(0,a.default)(+t),e):s},e.precision=function(t){return arguments.length?(f="function"==typeof t?t:(0,a.default)(+t),e):f},e};var o=n(92),s=n(612),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=n(8),l=n(119)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:r.default,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}};var i=n(53),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";function i(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function r(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,o,a){var u,l,f=[],c=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],o=t[e];if((0,s.default)(r,o)){for(a.lineStart(),u=0;u<e;++u)a.point((r=t[u])[0],r[1]);return void a.lineEnd()}f.push(n=new i(r,t,null,!0)),c.push(n.o=new i(r,null,n,!1)),f.push(n=new i(o,t,null,!1)),c.push(n.o=new i(o,null,n,!0))}}),f.length){for(c.sort(e),r(f),r(c),u=0,l=c.length;u<l;++u)c[u].e=n=!n;for(var d,h,p=f[0];;){for(var g=p,_=!0;g.v;)if((g=g.n)===p)return;d=g.z,a.lineStart();do{if(g.v=g.o.v=!0,g.e){if(_)for(u=0,l=d.length;u<l;++u)a.point((h=d[u])[0],h[1]);else o(g.x,g.n.x,1,a);g=g.n}else{if(_)for(d=g.p.z,u=d.length-1;u>=0;--u)a.point((h=d[u])[0],h[1]);else o(g.x,g.p.x,-1,a);g=g.p}g=g.o,d=g.z,_=!_}while(!g.v);a.lineEnd()}}};var o=n(271),s=function(t){return t&&t.__esModule?t:{default:t}}(o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(0,i.abs)(t[0]-e[0])<i.epsilon&&(0,i.abs)(t[1]-e[1])<i.epsilon};var i=n(8)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.bisectLeft=e.bisectRight=void 0;var r=n(69),o=i(r),s=n(273),a=i(s),u=(0,a.default)(o.default),l=e.bisectRight=u.right;e.bisectLeft=u.left;e.default=l},function(t,e,n){"use strict";function i(t){return function(e,n){return(0,o.default)(t(e),n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return 1===t.length&&(t=i(t)),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}};var r=n(69),o=function(t){return t&&t.__esModule?t:{default:t}}(r)},function(t,e,n){"use strict";function i(t,e){return[t,e]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){null==e&&(e=i);for(var n=0,r=t.length-1,o=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(o,o=t[++n]);return s},e.pair=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(0,r.default)(t,e);return n?Math.sqrt(n):n};var i=n(276),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,i,o=t.length,s=0,a=-1,u=0,l=0;if(null==e)for(;++a<o;)isNaN(n=(0,r.default)(t[a]))||(i=n-u,u+=i/++s,l+=i*(n-u));else for(;++a<o;)isNaN(n=(0,r.default)(e(t[a],a,t)))||(i=n-u,u+=i/++s,l+=i*(n-u));if(s>1)return l/(s-1)};var i=n(93),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,i,r,o=t.length,s=-1;if(null==e){for(;++s<o;)if(null!=(n=t[s])&&n>=n)for(i=r=n;++s<o;)null!=(n=t[s])&&(i>n&&(i=n),r<n&&(r=n))}else for(;++s<o;)if(null!=(n=e(t[s],s,t))&&n>=n)for(i=r=n;++s<o;)null!=(n=e(t[s],s,t))&&(i>n&&(i=n),r<n&&(r=n));return[i,r]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Array.prototype;e.slice=i.slice,e.map=i.map},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o}},function(t,e,n){"use strict";function i(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),u=i/Math.pow(10,r);return r>=0?(u>=o?10:u>=s?5:u>=a?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(u>=o?10:u>=s?5:u>=a?2:1)}function r(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),u=i/r;return u>=o?r*=10:u>=s?r*=5:u>=a&&(r*=2),e<t?-r:r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r,o,s,a,u=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(a=i(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),s=new Array(o=Math.ceil(e-t+1));++u<o;)s[u]=(t+u)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),s=new Array(o=Math.ceil(t-e+1));++u<o;)s[u]=(t-u)/a;return r&&s.reverse(),s},e.tickIncrement=i,e.tickStep=r;var o=Math.sqrt(50),s=Math.sqrt(10),a=Math.sqrt(2)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&i>n&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&i>n&&(i=n);return i}},function(t,e,n){"use strict";function i(t){return t.length}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!(s=t.length))return[];for(var e=-1,n=(0,o.default)(t,i),r=new Array(n);++e<n;)for(var s,a=-1,u=r[e]=new Array(s);++a<s;)u[a]=t[a][e];return r};var r=n(282),o=function(t){return t&&t.__esModule?t:{default:t}}(r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=e[0],i=e[1],r=[(0,s.sin)(n),-(0,s.cos)(n),0],u=0,l=0;a.reset();for(var f=0,c=t.length;f<c;++f)if(h=(d=t[f]).length)for(var d,h,p=d[h-1],g=p[0],_=p[1]/2+s.quarterPi,m=(0,s.sin)(_),v=(0,s.cos)(_),y=0;y<h;++y,g=x,m=w,v=M,p=b){var b=d[y],x=b[0],E=b[1]/2+s.quarterPi,w=(0,s.sin)(E),M=(0,s.cos)(E),L=x-g,P=L>=0?1:-1,C=P*L,I=C>s.pi,S=m*w;if(a.add((0,s.atan2)(S*P*(0,s.sin)(C),v*M+S*(0,s.cos)(C))),u+=I?L+P*s.tau:L,I^g>=n^x>=n){var O=(0,o.cartesianCross)((0,o.cartesian)(p),(0,o.cartesian)(b));(0,o.cartesianNormalizeInPlace)(O);var N=(0,o.cartesianCross)(r,O);(0,o.cartesianNormalizeInPlace)(N);var T=(I^L>=0?-1:1)*(0,s.asin)(N[2]);(i>T||i===T&&(O[0]||O[1]))&&(l+=I^L>=0?1:-1)}}return(u<-s.epsilon||u<s.epsilon&&a<-s.epsilon)^1&l};var i=n(68),r=function(t){return t&&t.__esModule?t:{default:t}}(i),o=n(92),s=n(8),a=(0,r.default)()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return o[0]=t,o[1]=e,(0,r.default)(s)};var i=n(286),r=function(t){return t&&t.__esModule?t:{default:t}}(i),o=[null,null],s={type:"LineString",coordinates:o}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){y.point=s,y.lineEnd=o}function o(){y.point=y.lineEnd=g.default}function s(t,e){t*=h.radians,e*=h.radians,u=t,l=(0,h.sin)(e),f=(0,h.cos)(e),y.point=a}function a(t,e){t*=h.radians,e*=h.radians;var n=(0,h.sin)(e),i=(0,h.cos)(e),r=(0,h.abs)(t-u),o=(0,h.cos)(r),s=(0,h.sin)(r),a=i*s,c=f*n-l*i*o,d=l*n+f*i*o;v.add((0,h.atan2)((0,h.sqrt)(a*a+c*c),d)),u=t,l=n,f=i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return v.reset(),(0,m.default)(t,y),+v};var u,l,f,c=n(68),d=i(c),h=n(8),p=n(53),g=i(p),_=n(60),m=i(_),v=(0,d.default)(),y={sphere:g.default,point:g.default,lineStart:r,lineEnd:g.default,polygonStart:g.default,polygonEnd:g.default}},function(t,e,n){"use strict";function i(t,e){t<s&&(s=t),t>u&&(u=t),e<a&&(a=e),e>l&&(l=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(53),o=function(t){return t&&t.__esModule?t:{default:t}}(r),s=1/0,a=s,u=-s,l=u,f={point:i,lineStart:o.default,lineEnd:o.default,polygonStart:o.default,polygonEnd:o.default,result:function(){var t=[[s,a],[u,l]];return u=l=-(a=s=1/0),t}};e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return(0,r.default)().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var i=n(163),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return t.length>1}function o(t,e){return((t=t.x)[0]<0?t[1]-f.halfPi-f.epsilon:f.halfPi-t[1])-((e=e.x)[0]<0?e[1]-f.halfPi-f.epsilon:f.halfPi-e[1])}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i){return function(s,u){function f(e,n){var i=s(e,n);t(e=i[0],n=i[1])&&u.point(e,n)}function c(t,e){var n=s(t,e);E.point(n[0],n[1])}function p(){C.point=c,E.lineStart()}function g(){C.point=f,E.lineEnd()}function _(t,e){x.push([t,e]);var n=s(t,e);L.point(n[0],n[1])}function m(){L.lineStart(),x=[]}function v(){_(x[0][0],x[0][1]),L.lineEnd();var t,e,n,i,o=L.clean(),s=M.result(),a=s.length;if(x.pop(),y.push(x),x=null,a)if(1&o){if(n=s[0],(e=n.length-1)>0){for(P||(u.polygonStart(),P=!0),u.lineStart(),t=0;t<e;++t)u.point((i=n[t])[0],i[1]);u.lineEnd()}}else a>1&&2&o&&s.push(s.pop().concat(s.shift())),b.push(s.filter(r))}var y,b,x,E=e(u),w=s.invert(i[0],i[1]),M=(0,a.default)(),L=e(M),P=!1,C={point:f,lineStart:p,lineEnd:g,polygonStart:function(){C.point=_,C.lineStart=m,C.lineEnd=v,b=[],y=[]},polygonEnd:function(){C.point=f,C.lineStart=p,C.lineEnd=g,b=(0,h.merge)(b);var t=(0,d.default)(y,w);b.length?(P||(u.polygonStart(),P=!0),(0,l.default)(b,o,t,n,u)):t&&(P||(u.polygonStart(),P=!0),u.lineStart(),n(null,null,1,u),u.lineEnd()),P&&(u.polygonEnd(),P=!1),b=y=null},sphere:function(){u.polygonStart(),u.lineStart(),n(null,null,1,u),u.lineEnd(),u.polygonEnd()}};return C}};var s=n(269),a=i(s),u=n(270),l=i(u),f=n(8),c=n(284),d=i(c),h=n(160)},function(t,e,n){"use strict";function i(t,e){return[t,e]}Object.defineProperty(e,"__esModule",{value:!0}),e.equirectangularRaw=i,e.default=function(){return(0,o.default)(i).scale(152.63)};var r=n(41),o=function(t){return t&&t.__esModule?t:{default:t}}(r);i.invert=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){function e(t,e){var n=e.min;return(t-n)/(e.max-n)*100}function n(t){return t<33?" integrated":t<66?" transitioning":" emerging"}function i(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var r=s.toGeoJSON(),o=new c.default.geoJson(t);o.on("click",function(t){b&&(E.removeLayer(t.layer),E.fire(c.default.Draw.Event.DELETESTOP))}),P.addLayer(o),r.features.forEach(function(e){if(function(t,e){if("Polygon"===e.geometry.type)return g.intersect(t,e);if("MultiPolygon"===e.geometry.type)for(var n=e.geometry.coordinates,i=0;i<n.length;i++){var r={geometry:{type:"Polygon",coordinates:n[i]}};if(g.intersect(t,r))return!0}return!1}(t,e)){e.properties._selected=!0;Object.keys(L).forEach(function(t){L[t]=L[t]+parseInt(e.properties[t])||L[t]}),w++,function(t){return!isNaN(parseFloat(t))&&isFinite(t)}(e.properties.SumAllPed)&&(L.pop_ped+=e.properties.TOTPOP1)}}),s.setStyle(function(t){return{color:t.properties._selected?v:y,weight:t.properties._selected?2:0}});var a=document.querySelector("#stat-vmt"),u=document.querySelector("#stat-ghg"),l=document.querySelector("#stat-dwelling-density"),f=document.querySelector("#stat-population-density"),d=document.querySelector("#stat-jobs-density"),h=document.querySelector("#stat-pedcol"),r=document.querySelector("#stat-cbgs"),p=document.querySelector("#stat-housing"),_=document.querySelector("#stat-ped-environment"),m=document.querySelector("#stat-jobs-accessibility"),x=function(t){return Math.floor(t)+"%"},C=L.SumAllPed,I=L.JTW_WALK/L.JTW_TOTAL,S=C/L.pop_ped*1e5,O=S/I,N=O/365,T=e(N,M.pedcol),R=e(L.D1A/w,M.D1A),A=e(L.hh_type1_vmt/w,M.hh_type1_vmt),D=e(L.hh_type1_h/w,M.hh_type1_h),k=(e(L.D1C/w,M.D1C),e(L.D3b/w,M.D3b)),j=e(L.D5br_cleaned/w,M.D5br_cleaned),F=e(L.D1B/w,M.D1B);document.querySelector("#bar-vmt > .bar").style.width=x(A),document.querySelector("#bar-vmt > .bar").className="bar",document.querySelector("#bar-vmt > .bar").className+=n(A),document.querySelector("#bar-ghg > .bar").style.width=x(A),document.querySelector("#bar-ghg > .bar").className="bar",document.querySelector("#bar-ghg > .bar").className+=n(A),document.querySelector("#bar-dwelling-density > .bar").style.width=x(R),document.querySelector("#bar-dwelling-density > .bar").className="bar",document.querySelector("#bar-dwelling-density > .bar").className+=n(R),document.querySelector("#bar-housing > .bar").style.width=x(D),document.querySelector("#bar-housing > .bar").className="bar",document.querySelector("#bar-housing > .bar").className+=n(D),document.querySelector("#bar-pedcol > .bar").style.width=x(T),document.querySelector("#bar-pedcol > .bar").className="bar",document.querySelector("#bar-pedcol > .bar").className+=n(T),document.querySelector("#bar-jobs-density > .bar").style.width=x(D),document.querySelector("#bar-jobs-density > .bar").className="bar",document.querySelector("#bar-jobs-density > .bar").className+=n(D),document.querySelector("#bar-jobs-accessibility > .bar").style.width=x(j),document.querySelector("#bar-jobs-accessibility > .bar").className="bar",document.querySelector("#bar-jobs-accessibility > .bar").className+=n(j),document.querySelector("#bar-ped-environment > .bar").style.width=x(k),document.querySelector("#bar-ped-environment > .bar").className="bar",document.querySelector("#bar-ped-environment > .bar").className+=n(k),document.querySelector("#bar-population-density > .bar").style.width=x(F),document.querySelector("#bar-population-density > .bar").className="bar",document.querySelector("#bar-population-density > .bar").className+=n(F),l.innerHTML=(L.D1A/w).toFixed(2),f.innerHTML=(L.D1B/w).toFixed(2),d.innerHTML=(L.D1C/w).toFixed(2),a.innerHTML=i((L.hh_type1_vmt/w).toFixed(0)),u.innerHTML=i((L.hh_type1_vmt/w*.9).toFixed(0)),p.innerHTML=(L.hh_type1_h/w).toFixed(1),h.innerHTML=isFinite(N)?N.toFixed(2):"N/A",_.innerHTML=(L.D3b/w).toFixed(1),m.innerHTML=i((L.D5br_cleaned/w).toFixed(0)),r.innerHTML=w}var o=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();n(292),n(293);var s,a,u=n(294),l=i(u),f=n(172),c=i(f),d=n(314),h=(i(d),n(315)),p=(i(h),n(317)),g=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(p),_=n(654),m=i(_),v="#444",y="#000",b=!1,x={"btn-sd-county":{files:{polygons:"data/sd_cbgs_latest_attributes_normed3.geojson",stations:"data/sd-rail-stations-buffered.geojson"},center:[32.7157,-117.11],zoom:12},"btn-sm-county":{files:{polygons:"data/san-mateo-with-data_normed3.geojson",stations:"data/stations-san-mateo.geojson"},center:[37.56,-122.313],zoom:12}},E=c.default.map("map").setView([32.7157,-117.11],12);c.default.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw",{maxZoom:18,attribution:"",id:"mapbox.streets"}).addTo(E);var w=0,M={},L={hh_type1_vmt:0,SumAllPed:0,JTW_TOTAL:0,JTW_WALK:0,hh_type1_h:0,D3b:0,D5br_cleaned:0,D1A:0,D1B:0,D1C:0,TOTPOP1:0,pop_ped:0};$(".btn-squared").click(function(){$("#modal-select-city").modal("hide"),$("#modal-directions").modal("show");var t=x[this.id];E.setView(t.center,t.zoom);var e=[t.files.polygons,t.files.stations];l.default.all(e.map(l.default.get)).then(function(t){var e=o(t,2),n=e[0],i=e[1],u=["D1A","D1B","D1C","D3b","pedcol","D5br_cleaned","hh_type1_vmt","hh_type1_h"],l=n.data.features;u.forEach(function(t){M[t]={min:1/0,max:-1/0},l.forEach(function(e){var n;if("pedcol"==t){var i=e.properties.SumAllPed,r=e.properties.JTW_WALK/e.properties.JTW_TOTAL;n=i/e.properties.TOTPOP1*1e5/r/365||void 0}else var n=e.properties[t];M[t].max=!isNaN(n)&&isFinite(n)?Math.max(n,M[t].max):M[t].max,M[t].min=n>0&&isFinite(n)&&!isNaN(n)?Math.min(n,M[t].min):M[t].min})}),s=new m.default(n.data,{property:"hh_type1_vmt",style:function(t){return{color:t.properties._selected?v:y,weight:t.properties._selected?2:0,opacity:1,fillOpacity:.4}}}).addTo(E),a=c.default.geoJSON(i.data,{style:function(t){var e={weight:0,fillOpacity:.5};return"INTEGRATED"===t.properties.FINAL_TYPO?e.fillColor="SeaGreen":"TRANSITIONING"===t.properties.FINAL_TYPO?e.fillColor="Gold":e.fillColor="Crimson",e},onEachFeature:function(t,e){e.on("click",function(){r(t)});t.properties.FULL_NAME,function(t){t.charAt(0).toUpperCase(),t.slice(1).toLowerCase()}(t.properties.FINAL_TYPO)}}).addTo(E),c.default.control.layers([],{Stations:a}).addTo(E)})}),$(".dropdown-menu a").click(function(){console.log(this.text),console.log(this.id),$("#btn-label").text(this.text);var t={vmt:"hh_type1_vmt",housing:"hh_type1_h",pedcol:function(t){var e=t.properties.SumAllPed,n=t.properties.JTW_WALK/t.properties.JTW_TOTAL;return e/t.properties.TOTPOP1*1e5/n/365||void 0},ghg:function(t){return.9*t.properties.hh_type1_vmt},"dwelling-density":"D1A","people-density":"D1B","jobs-density":"D1C","ped-environment":"D3b","jobs-accessibility":"D5br_cleaned"}[this.id];console.log(t),s.setProperty(t,!0)});var P=new c.default.FeatureGroup;E.addLayer(P);var C={edit:{featureGroup:P,edit:!1},draw:{polygon:!0,circle:!1,circlemarker:!1,rectangle:!1}},I=new c.default.Control.Draw(C);E.addControl(I),E.on(c.default.Draw.Event.DELETED,function(t){b=!1,console.log(t)}),E.on("draw:deletestart",function(t){b=!0,console.log(t)}),E.on(c.default.Draw.Event.DELETESTOP,function(t){b=!1,w=0,L={hh_type1_vmt:0,SumAllPed:0,JTW_TOTAL:0,JTW_WALK:0,hh_type1_h:0,D3b:0,D5br_cleaned:0,D1A:0,D1B:0,D1C:0,TOTPOP1:0,pop_ped:0},s.setStyle(function(t){return t.properties._selected=!1,{color:y,weight:0}});var e=document.querySelector("#stat-vmt"),n=document.querySelector("#stat-ghg"),i=document.querySelector("#stat-pedcol"),r=document.querySelector("#stat-cbgs"),o=document.querySelector("#stat-housing"),a=document.querySelector("#stat-ped-environment"),u=document.querySelector("#stat-jobs-accessibility"),l=document.querySelector("#stat-dwelling-density"),f=document.querySelector("#stat-population-density"),c=document.querySelector("#stat-jobs-density");["bar-vmt","bar-ghg","bar-dwelling-density","bar-housing","bar-pedcol","bar-jobs-density","bar-jobs-accessibility","bar-ped-environment","bar-population-density"].forEach(function(t){document.querySelector("#"+t+" > .bar").className="bar na"}),e.innerHTML="N/A",n.innerHTML="N/A",i.innerHTML="N/A",r.innerHTML=0,o.innerHTML="N/A",a.innerHTML="N/A",u.innerHTML="N/A",l.innerHTML="N/A",f.innerHTML="N/A",c.innerHTML="N/A"}),E.on(c.default.Draw.Event.CREATED,function(t){var e,n=t.layer,i={units:"miles"};if("marker"===t.layerType){var o=[n._latlng.lng,n._latlng.lat];e=g.circle(o,.5,i)}else if("circle"===t.layerType){var o=[n._latlng.lng,n._latlng.lat];e=g.circle(o,.5,i)}else if("polyline"===t.layerType){var o=n._latlngs.map(function(t){return[t.lng,t.lat]});e=g.buffer(g.lineString(o),.5,i)}else{var o=n._latlngs.map(function(t){return t.map(function(t){return[t.lng,t.lat]})});o[0].push(o[0][0]),e=g.polygon(o)}r(e)})},function(t,e){},function(t,e){},function(t,e,n){"use strict";t.exports=n(295)},function(t,e,n){"use strict";function i(t){var e=new s(t),n=o(s.prototype.request,e);return r.extend(n,s.prototype,e),r.extend(n,e),n}var r=n(33),o=n(167),s=n(297),a=n(121),u=i(a);u.Axios=s,u.create=function(t){return i(r.merge(a,t))},u.Cancel=n(171),u.CancelToken=n(312),u.isCancel=n(170),u.all=function(t){return Promise.all(t)},u.spread=n(313),t.exports=u,t.exports.default=u},function(t,e,n){"use strict";function i(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&i(t.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(i(t)||r(t)||!!t._isBuffer)}},function(t,e,n){"use strict";function i(t){this.defaults=t,this.interceptors={request:new s,response:new s}}var r=n(121),o=n(33),s=n(307),a=n(308);i.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),t=o.merge(r,this.defaults,{method:"get"},t),t.method=t.method.toLowerCase();var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},o.forEach(["delete","get","head","options"],function(t){i.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){i.prototype[t]=function(e,n,i){return this.request(o.merge(i||{},{method:t,url:e,data:n}))}}),t.exports=i},function(t,e,n){"use strict";function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(c===setTimeout)return setTimeout(t,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function s(t){if(d===clearTimeout)return clearTimeout(t);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){_&&p&&(_=!1,p.length?g=p.concat(g):m=-1,g.length&&u())}function u(){if(!_){var t=o(a);_=!0;for(var e=g.length;e;){for(p=g,g=[];++m<e;)p&&p[m].run();m=-1,e=g.length}p=null,_=!1,s(t)}}function l(t,e){this.fun=t,this.array=e}function f(){}var c,d,h=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(t){c=i}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(t){d=r}}();var p,g=[],_=!1,m=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];g.push(new l(t,e)),1!==g.length||_||o(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=f,h.addListener=f,h.once=f,h.off=f,h.removeListener=f,h.removeAllListeners=f,h.emit=f,h.prependListener=f,h.prependOnceListener=f,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){"use strict";var i=n(33);t.exports=function(t,e){i.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})}},function(t,e,n){"use strict";var i=n(169);t.exports=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t}},function(t,e,n){"use strict";function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var r=n(33);t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var s=[];r.forEach(e,function(t,e){null!==t&&void 0!==t&&(r.isArray(t)&&(e+="[]"),r.isArray(t)||(t=[t]),r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))}))}),o=s.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},function(t,e,n){"use strict";var i=n(33),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,s={};return t?(i.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=i.trim(t.substr(0,o)).toLowerCase(),n=i.trim(t.substr(o+1)),e){if(s[e]&&r.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}}),s):s}},function(t,e,n){"use strict";var i=n(33);t.exports=i.isStandardBrowserEnv()?function(){function t(t){var e=t;return n&&(r.setAttribute("href",e),e=r.href),r.setAttribute("href",e),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}var e,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");return e=t(window.location.href),function(n){var r=i.isString(n)?t(n):n;return r.protocol===e.protocol&&r.host===e.host}}():function(){return function(){return!0}}()},function(t,e,n){"use strict";function i(){this.message="String contains an invalid character"}function r(t){for(var e,n,r=String(t),s="",a=0,u=o;r.charAt(0|a)||(u="=",a%1);s+=u.charAt(63&e>>8-a%1*8)){if((n=r.charCodeAt(a+=.75))>255)throw new i;e=e<<8|n}return s}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",t.exports=r},function(t,e,n){"use strict";var i=n(33);t.exports=i.isStandardBrowserEnv()?function(){return{write:function(t,e,n,r,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(r)&&a.push("path="+r),i.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(t,e,n){"use strict";function i(){this.handlers=[]}var r=n(33);i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},function(t,e,n){"use strict";function i(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var r=n(33),o=n(309),s=n(170),a=n(121),u=n(310),l=n(311);t.exports=function(t){return i(t),t.baseURL&&!u(t.url)&&(t.url=l(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return i(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return s(e)||(i(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var i=n(33);t.exports=function(t,e,n){return i.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}var r=n(171);i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e,n){function r(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}L.drawVersion="0.4.13",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(t,e){this._map=t,this._container=t._container,this._overlayPane=t._panes.overlayPane,this._popupPane=t._panes.popupPane,e&&e.shapeOptions&&(e.shapeOptions=L.Util.extend({},this.options.shapeOptions,e.shapeOptions)),L.setOptions(this,e);var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(L.DomUtil.disableTextSelection(),t.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(t){L.setOptions(this,t)},_fireCreatedEvent:function(t){this._map.fire(L.Draw.Event.CREATED,{layer:t,layerType:this.type})},_cancelDrawing:function(t){27===t.keyCode&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(t,e){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,e&&e.drawError&&(e.drawError=L.Util.extend({},this.options.drawError,e.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var t=this._markers.pop(),e=this._poly,n=e.getLatLngs(),i=n.splice(-1,1)[0];this._poly.setLatLngs(n),this._markerGroup.removeLayer(t),e.getLatLngs().length<2&&this._map.removeLayer(e),this._vertexChanged(i,!1)}},addVertex:function(t){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(t))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(t)),this._poly.addLatLng(t),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),this._vertexChanged(t,!0)},completeShape:function(){this._markers.length<=1||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var t=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),e=this._poly.newLatLngIntersects(t[t.length-1]);if(!this.options.allowIntersection&&e||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent),n=this._map.layerPointToLatLng(e);this._currentLatLng=n,this._updateTooltip(n),this._updateGuide(e),this._mouseMarker.setLatLng(n),L.DomEvent.preventDefault(t.originalEvent)},_vertexChanged:function(t,e){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(t,e),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(t){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(t),this._clickHandled=!0,this._disableNewMarkers();var e=t.originalEvent,n=e.clientX,i=e.clientY;this._startPoint.call(this,n,i)}},_startPoint:function(t,e){this._mouseDownOrigin=L.point(t,e)},_onMouseUp:function(t){var e=t.originalEvent,n=e.clientX,i=e.clientY;this._endPoint.call(this,n,i,t),this._clickHandled=null},_endPoint:function(e,n,i){if(this._mouseDownOrigin){var r=L.point(e,n).distanceTo(this._mouseDownOrigin),o=this._calculateFinishDistance(i.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(i.latlng),this._finishShape()):o<10&&L.Browser.touch?this._finishShape():Math.abs(r)<9*(t.devicePixelRatio||1)&&this.addVertex(i.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(t){var e,n,i=t.originalEvent;!i.touches||!i.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(e=i.touches[0].clientX,n=i.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,e,n),this._endPoint.call(this,e,n,t),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(t){var e;if(this._markers.length>0){var n;if(this.type===L.Draw.Polyline.TYPE)n=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;n=this._markers[0]}var i=this._map.latLngToContainerPoint(n.getLatLng()),r=new L.Marker(t,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),o=this._map.latLngToContainerPoint(r.getLatLng());e=i.distanceTo(o)}else e=1/0;return e},_updateFinishHandler:function(){var t=this._markers.length;t>1&&this._markers[t-1].on("click",this._finishShape,this),t>2&&this._markers[t-2].off("click",this._finishShape,this)},_createMarker:function(t){var e=new L.Marker(t,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(e),e},_updateGuide:function(t){var e=this._markers?this._markers.length:0;e>0&&(t=t||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[e-1].getLatLng()),t))},_updateTooltip:function(t){var e=this._getTooltipText();t&&this._tooltip.updatePosition(t),this._errorShown||this._tooltip.updateContent(e)},_drawGuide:function(t,e){var n,i,r,o=Math.floor(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))),s=this.options.guidelineDistance,a=this.options.maxGuideLineLength,u=o>a?o-a:s;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));u<o;u+=this.options.guidelineDistance)n=u/o,i={x:Math.floor(t.x*(1-n)+n*e.x),y:Math.floor(t.y*(1-n)+n*e.y)},r=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),r.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(r,i)},_updateGuideColor:function(t){if(this._guidesContainer)for(var e=0,n=this._guidesContainer.childNodes.length;e<n;e++)this._guidesContainer.childNodes[e].style.backgroundColor=t},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var t,e,n=this.options.showLength;return L.Browser.touch&&(n=!1),0===this._markers.length?t={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(e=n?this._getMeasurementString():"",t=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:e}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:e}),t},_updateRunningMeasure:function(t,e){var n,i,r=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(n=r-(e?2:1),i=L.GeometryUtil.isVersion07x()?t.distanceTo(this._markers[n].getLatLng())*(this.options.factor||1):this._map.distance(t,this._markers[n].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=i*(e?1:-1))},_getMeasurementString:function(){var t,e=this._currentLatLng,n=this._markers[this._markers.length-1].getLatLng();return t=L.GeometryUtil.isVersion07x()?n&&e&&e.distanceTo?this._measurementRunningTotal+e.distanceTo(n)*(this.options.factor||1):this._measurementRunningTotal||0:n&&e?this._measurementRunningTotal+this._map.distance(e,n)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(t,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var t=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(t,e){L.Draw.Polyline.prototype.initialize.call(this,t,e),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var t=this._markers.length;1===t&&this._markers[0].on("click",this._finishShape,this),t>2&&(this._markers[t-1].on("dblclick",this._finishShape,this),t>3&&this._markers[t-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var t,e;return 0===this._markers.length?t=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(t=L.drawLocal.draw.handlers.polygon.tooltip.cont,e=this._getMeasurementString()):(t=L.drawLocal.draw.handlers.polygon.tooltip.end,e=this._getMeasurementString()),{text:t,subtext:e}},_getMeasurementString:function(){var t=this._area,e="";return t||this.options.showLength?(this.options.showLength&&(e=L.Draw.Polyline.prototype._getMeasurementString.call(this)),t&&(e+="<br>"+L.GeometryUtil.readableArea(t,this.options.metric,this.options.precision)),e):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(t,e){var n;!this.options.allowIntersection&&this.options.showArea&&(n=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(n)),L.Draw.Polyline.prototype._vertexChanged.call(this,t,e)},_cleanUpShape:function(){var t=this._markers.length;t>0&&(this._markers[0].off("click",this._finishShape,this),t>2&&this._markers[t-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(t,e){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),e.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(e,"mouseup",this._onMouseUp,this),L.DomEvent.off(e,"touchend",this._onMouseUp,this),e.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(t){this._isDrawing=!0,this._startLatLng=t.latlng,L.DomEvent.on(e,"mouseup",this._onMouseUp,this).on(e,"touchend",this._onMouseUp,this).preventDefault(t.originalEvent)},_onMouseMove:function(t){var e=t.latlng;this._tooltip.updatePosition(e),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(e))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,showArea:!0,clickable:!0},metric:!0},initialize:function(t,e){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,t,e)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(t){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!r(t.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(t){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,t)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,t),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var t=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,t)},_getTooltipText:function(){var t,e,n,i=L.Draw.SimpleShape.prototype._getTooltipText.call(this),r=this._shape,o=this.options.showArea;return r&&(t=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),e=L.GeometryUtil.geodesicArea(t),n=o?L.GeometryUtil.readableArea(e,this.options.metric):""),{text:i.text,subtext:n}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(t,e){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._marker&&(this._marker.off("click",this._onClick,this),this._map.off("click",this._onClick,this).off("click",this._onTouch,this).removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(t){var e=t.latlng;this._tooltip.updatePosition(e),this._mouseMarker.setLatLng(e),this._marker?(e=this._mouseMarker.getLatLng(),this._marker.setLatLng(e)):(this._marker=this._createMarker(e),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(t){return new L.Marker(t,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(t){this._onMouseMove(t),this._onClick()},_fireCreatedEvent:function(){var t=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(t,e){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,t,e)},_fireCreatedEvent:function(){var t=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)},_createMarker:function(t){return new L.CircleMarker(t,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(t,e){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,t,e)},_drawShape:function(t){if(L.GeometryUtil.isVersion07x())var e=this._startLatLng.distanceTo(t);else var e=this._map.distance(this._startLatLng,t);this._shape?this._shape.setRadius(e):(this._shape=new L.Circle(this._startLatLng,e,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var t=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,t)},_onMouseMove:function(t){var e,n=t.latlng,i=this.options.showRadius,r=this.options.metric;if(this._tooltip.updatePosition(n),this._isDrawing){this._drawShape(n),e=this._shape.getRadius().toFixed(1);var o="";i&&(o=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(e,r,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:o})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(t,e){this._marker=t,L.setOptions(this,e)},addHooks:function(){var t=this._marker;t.dragging.enable(),t.on("dragend",this._onDragEnd,t),this._toggleMarkerHighlight()},removeHooks:function(){var t=this._marker;t.dragging.disable(),t.off("dragend",this._onDragEnd,t),this._toggleMarkerHighlight()},_onDragEnd:function(t){var e=t.target;e.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:e})},_toggleMarkerHighlight:function(){var t=this._marker._icon;t&&(t.style.display="none",L.DomUtil.hasClass(t,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(t,"leaflet-edit-marker-selected"),this._offsetMarker(t,-4)):(L.DomUtil.addClass(t,"leaflet-edit-marker-selected"),this._offsetMarker(t,4)),t.style.display="")},_offsetMarker:function(t,e){var n=parseInt(t.style.marginTop,10)-e,i=parseInt(t.style.marginLeft,10)-e;t.style.marginTop=n+"px",t.style.marginLeft=i+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(t){this.latlngs=[t._latlngs],t._holes&&(this.latlngs=this.latlngs.concat(t._holes)),this._poly=t,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(t){for(var e=0;e<this._verticesHandlers.length;e++)t(this._verticesHandlers[e])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(t){t.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(t){t.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(t){t.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var t=0;t<this.latlngs.length;t++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[t],this._poly.options.poly))},_updateLatLngs:function(t){this.latlngs=[t.layer._latlngs],t.layer._holes&&(this.latlngs=this.latlngs.concat(t.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(t,e,n){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=t,n&&n.drawError&&(n.drawError=L.Util.extend({},this.options.drawError,n.drawError)),this._latlngs=e,L.setOptions(this,n)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var t=this._poly,e=t._path;t instanceof L.Polygon||(t.options.fill=!1,t.options.editing&&(t.options.editing.fill=!1)),e&&t.options.editing.className&&(t.options.original.className&&t.options.original.className.split(" ").forEach(function(t){L.DomUtil.removeClass(e,t)}),t.options.editing.className.split(" ").forEach(function(t){L.DomUtil.addClass(e,t)})),t.setStyle(t.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var t=this._poly,e=t._path;e&&t.options.editing.className&&(t.options.editing.className.split(" ").forEach(function(t){L.DomUtil.removeClass(e,t)}),t.options.original.className&&t.options.original.className.split(" ").forEach(function(t){L.DomUtil.addClass(e,t)})),t.setStyle(t.options.original),t._map&&(t._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var t,e,n,i,r=this._defaultShape();for(t=0,n=r.length;t<n;t++)i=this._createMarker(r[t],t),i.on("click",this._onMarkerClick,this),this._markers.push(i);var o,s;for(t=0,e=n-1;t<n;e=t++)(0!==t||L.Polygon&&this._poly instanceof L.Polygon)&&(o=this._markers[e],s=this._markers[t],this._createMiddleMarker(o,s),this._updatePrevNext(o,s))},_createMarker:function(t,e){var n=new L.Marker.Touch(t,{draggable:!0,icon:this.options.icon});return n._origLatLng=t,n._index=e,n.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(n),n},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var t=this._defaultShape(),e=[].splice.apply(t,arguments);return this._poly._convertLatLngs(t,!0),this._poly.redraw(),e},_removeMarker:function(t){var e=t._index;this._markerGroup.removeLayer(t),this._markers.splice(e,1),this._spliceLatLngs(e,1),this._updateIndexes(e,-1),t.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(t){var e=t.target,n=this._poly;if(L.extend(e._origLatLng,e._latlng),e._middleLeft&&e._middleLeft.setLatLng(this._getMiddleLatLng(e._prev,e)),e._middleRight&&e._middleRight.setLatLng(this._getMiddleLatLng(e,e._next)),n.options.poly){var i=n._map._editTooltip;if(!n.options.poly.allowIntersection&&n.intersects()){var r=n.options.color;n.setStyle({color:this.options.drawError.color}),0!==L.version.indexOf("0.7")&&e.dragging._draggable._onUp(t),this._onMarkerClick(t),i&&i.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){n.setStyle({color:r}),i&&i.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(t){var e=L.Polygon&&this._poly instanceof L.Polygon?4:3,n=t.target;this._defaultShape().length<e||(this._removeMarker(n),this._updatePrevNext(n._prev,n._next),n._middleLeft&&this._markerGroup.removeLayer(n._middleLeft),n._middleRight&&this._markerGroup.removeLayer(n._middleRight),n._prev&&n._next?this._createMiddleMarker(n._prev,n._next):n._prev?n._next||(n._prev._middleRight=null):n._next._middleLeft=null,this._fireEdit())},_onTouchMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent.touches[0]),n=this._map.layerPointToLatLng(e),i=t.target;L.extend(i._origLatLng,n),i._middleLeft&&i._middleLeft.setLatLng(this._getMiddleLatLng(i._prev,i)),i._middleRight&&i._middleRight.setLatLng(this._getMiddleLatLng(i,i._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(t,e){this._markerGroup.eachLayer(function(n){n._index>t&&(n._index+=e)})},_createMiddleMarker:function(t,e){var n,i,r,o=this._getMiddleLatLng(t,e),s=this._createMarker(o);s.setOpacity(.6),t._middleRight=e._middleLeft=s,i=function(){s.off("touchmove",i,this);var r=e._index;s._index=r,s.off("click",n,this).on("click",this._onMarkerClick,this),o.lat=s.getLatLng().lat,o.lng=s.getLatLng().lng,this._spliceLatLngs(r,0,o),this._markers.splice(r,0,s),s.setOpacity(1),this._updateIndexes(r,1),e._index++,this._updatePrevNext(t,s),this._updatePrevNext(s,e),this._poly.fire("editstart")},r=function(){s.off("dragstart",i,this),s.off("dragend",r,this),s.off("touchmove",i,this),this._createMiddleMarker(t,s),this._createMiddleMarker(s,e)},n=function(){i.call(this),r.call(this),this._fireEdit()},s.on("click",n,this).on("dragstart",i,this).on("dragend",r,this).on("touchmove",i,this),this._markerGroup.addLayer(s)},_updatePrevNext:function(t,e){t&&(t._next=e),e&&(e._prev=t)},_getMiddleLatLng:function(t,e){var n=this._poly._map,i=n.project(t.getLatLng()),r=n.project(e.getLatLng());return n.unproject(i._add(r)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(t,e){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=t,L.Util.setOptions(this,e)},addHooks:function(){var t=this._shape;this._shape._map&&(this._map=this._shape._map,t.setStyle(t.options.editing),t._map&&(this._map=t._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var t=this._shape;if(t.setStyle(t.options.original),t._map){this._unbindMarker(this._moveMarker);for(var e=0,n=this._resizeMarkers.length;e<n;e++)this._unbindMarker(this._resizeMarkers[e]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(t,e){var n=new L.Marker.Touch(t,{draggable:!0,icon:e,zIndexOffset:10});return this._bindMarker(n),this._markerGroup.addLayer(n),n},_bindMarker:function(t){t.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(t){t.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(t){t.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(t){var e=t.target,n=e.getLatLng();e===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(t){t.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(t){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,t),"function"==typeof this._getCorners){var e=this._getCorners(),n=t.target,i=n._cornerIndex;n.setOpacity(0),this._oppositeCorner=e[(i+2)%4],this._toggleCornerMarkers(0,i)}this._shape.fire("editstart")},_onTouchMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent.touches[0]),n=this._map.layerPointToLatLng(e);return t.target===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),!1},_onTouchEnd:function(t){t.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var t=this._shape.getBounds(),e=t.getCenter();this._moveMarker=this._createMarker(e,this.options.moveIcon)},_createResizeMarker:function(){var t=this._getCorners();this._resizeMarkers=[];for(var e=0,n=t.length;e<n;e++)this._resizeMarkers.push(this._createMarker(t[e],this.options.resizeIcon)),this._resizeMarkers[e]._cornerIndex=e},_onMarkerDragStart:function(t){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,t);var e=this._getCorners(),n=t.target,i=n._cornerIndex;this._oppositeCorner=e[(i+2)%4],this._toggleCornerMarkers(0,i)},_onMarkerDragEnd:function(t){var e,n,i=t.target;i===this._moveMarker&&(e=this._shape.getBounds(),n=e.getCenter(),i.setLatLng(n)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,t)},_move:function(t){for(var e,n=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),i=this._shape.getBounds(),r=i.getCenter(),o=[],s=0,a=n.length;s<a;s++)e=[n[s].lat-r.lat,n[s].lng-r.lng],o.push([t.lat+e[0],t.lng+e[1]]);this._shape.setLatLngs(o),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(t){var e;this._shape.setBounds(L.latLngBounds(t,this._oppositeCorner)),e=this._shape.getBounds(),this._moveMarker.setLatLng(e.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var t=this._shape.getBounds();return[t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]},_toggleCornerMarkers:function(t){for(var e=0,n=this._resizeMarkers.length;e<n;e++)this._resizeMarkers[e].setOpacity(t)},_repositionCornerMarkers:function(){for(var t=this._getCorners(),e=0,n=this._resizeMarkers.length;e<n;e++)this._resizeMarkers[e].setLatLng(t[e])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var t=this._shape.getLatLng();this._moveMarker=this._createMarker(t,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(t){if(this._resizeMarkers.length){var e=this._getResizeMarkerPoint(t);this._resizeMarkers[0].setLatLng(e)}this._shape.setLatLng(t),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var t=this._shape.getLatLng(),e=this._getResizeMarkerPoint(t);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(e,this.options.resizeIcon))},_getResizeMarkerPoint:function(t){var e=this._shape._radius*Math.cos(Math.PI/4),n=this._map.project(t);return this._map.unproject([n.x+e,n.y-e])},_resize:function(t){var e=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=e.distanceTo(t):radius=this._map.distance(e,t),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart),L.DomEvent.off(this._container,"touchend",this._onTouchEnd),L.DomEvent.off(this._container,"touchmove",this._onTouchMove),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDowm",this._onTouchStart),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave))},_touchEvent:function(t,e){var n={};if(void 0!==t.touches){if(!t.touches.length)return;n=t.touches[0]}else{if("touch"!==t.pointerType)return;if(n=t,!this._filterClick(t))return}var i=this._map.mouseEventToContainerPoint(n),r=this._map.mouseEventToLayerPoint(n),o=this._map.layerPointToLatLng(r);this._map.fire(e,{latlng:o,layerPoint:r,containerPoint:i,pageX:n.pageX,pageY:n.pageY,originalEvent:t})},_filterClick:function(t){var e=t.timeStamp||t.originalEvent.timeStamp,n=L.DomEvent._lastClick&&e-L.DomEvent._lastClick;return n&&n>100&&n<500||t.target._simulatedClick&&!t._simulated?(L.DomEvent.stop(t),!1):(L.DomEvent._lastClick=e,!0)},_onTouchStart:function(t){this._map._loaded&&this._touchEvent(t,"touchstart")},_onTouchEnd:function(t){this._map._loaded&&this._touchEvent(t,"touchend")},_onTouchCancel:function(t){if(this._map._loaded){var e="touchcancel";this._detectIE()&&(e="pointercancel"),this._touchEvent(t,e)}},_onTouchLeave:function(t){this._map._loaded&&this._touchEvent(t,"touchleave")},_onTouchMove:function(t){this._map._loaded&&this._touchEvent(t,"touchmove")},_detectIE:function(){var e=t.navigator.userAgent,n=e.indexOf("MSIE ");if(n>0)return parseInt(e.substring(n+5,e.indexOf(".",n)),10);if(e.indexOf("Trident/")>0){var i=e.indexOf("rv:");return parseInt(e.substring(i+3,e.indexOf(".",i)),10)}var r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?e.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):e.concat(["touchcancel"]),L.DomUtil.addClass(t,"leaflet-clickable"),L.DomEvent.on(t,"click",this._onMouseClick,this),L.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var n=0;n<e.length;n++)L.DomEvent.on(t,e[n],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var e=t.navigator.userAgent,n=e.indexOf("MSIE ");if(n>0)return parseInt(e.substring(n+5,e.indexOf(".",n)),10);if(e.indexOf("Trident/")>0){var i=e.indexOf("rv:");return parseInt(e.substring(i+3,e.indexOf(".",i)),10)}var r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}}),L.LatLngUtil={cloneLatLngs:function(t){for(var e=[],n=0,i=t.length;n<i;n++)Array.isArray(t[n])?e.push(L.LatLngUtil.cloneLatLngs(t[n])):e.push(this.cloneLatLng(t[n]));return e},cloneLatLng:function(t){return L.latLng(t.lat,t.lng)}},function(){var t={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(t){var e,n,i=t.length,r=0,o=Math.PI/180;if(i>2){for(var s=0;s<i;s++)e=t[s],n=t[(s+1)%i],r+=(n.lng-e.lng)*o*(2+Math.sin(e.lat*o)+Math.sin(n.lat*o));r=6378137*r*6378137/2}return Math.abs(r)},formattedNumber:function(t,e){var n=parseFloat(t).toFixed(e),i=L.drawLocal.format&&L.drawLocal.format.numeric,r=i&&i.delimiters,o=r&&r.thousands,s=r&&r.decimal;if(o||s){var a=n.split(".");n=o?a[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+o):a[0],s=s||".",a.length>1&&(n=n+s+a[1])}return n},readableArea:function(e,n,r){var o,s,r=L.Util.extend({},t,r);return n?(s=["ha","m"],type=void 0===n?"undefined":i(n),"string"===type?s=[n]:"boolean"!==type&&(s=n),o=e>=1e6&&-1!==s.indexOf("km")?L.GeometryUtil.formattedNumber(1e-6*e,r.km)+" km²":e>=1e4&&-1!==s.indexOf("ha")?L.GeometryUtil.formattedNumber(1e-4*e,r.ha)+" ha":L.GeometryUtil.formattedNumber(e,r.m)+" m²"):(e/=.836127,o=e>=3097600?L.GeometryUtil.formattedNumber(e/3097600,r.mi)+" mi²":e>=4840?L.GeometryUtil.formattedNumber(e/4840,r.ac)+" acres":L.GeometryUtil.formattedNumber(e,r.yd)+" yd²"),o},readableDistance:function(e,n,i,r,o){var s,o=L.Util.extend({},t,o);switch(n?"string"==typeof n?n:"metric":i?"feet":r?"nauticalMile":"yards"){case"metric":s=e>1e3?L.GeometryUtil.formattedNumber(e/1e3,o.km)+" km":L.GeometryUtil.formattedNumber(e,o.m)+" m";break;case"feet":e*=3.28083,s=L.GeometryUtil.formattedNumber(e,o.ft)+" ft";break;case"nauticalMile":e*=.53996,s=L.GeometryUtil.formattedNumber(e/1e3,o.nm)+" nm";break;case"yards":default:e*=1.09361,s=e>1760?L.GeometryUtil.formattedNumber(e/1760,o.mi)+" miles":L.GeometryUtil.formattedNumber(e,o.yd)+" yd"}return s},isVersion07x:function(){var t=L.version.split(".");return 0===parseInt(t[0],10)&&7===parseInt(t[1],10)}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(t,e,n,i){return this._checkCounterclockwise(t,n,i)!==this._checkCounterclockwise(e,n,i)&&this._checkCounterclockwise(t,e,n)!==this._checkCounterclockwise(t,e,i)},_checkCounterclockwise:function(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}}),L.Polyline.include({intersects:function(){var t,e,n,i=this._getProjectedPoints(),r=i?i.length:0;if(this._tooFewPointsForIntersection())return!1;for(t=r-1;t>=3;t--)if(e=i[t-1],n=i[t],this._lineSegmentsIntersectsRange(e,n,t-2))return!0;return!1},newLatLngIntersects:function(t,e){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(t),e)},newPointIntersects:function(t,e){var n=this._getProjectedPoints(),i=n?n.length:0,r=n?n[i-1]:null,o=i-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(r,t,o,e?1:0)},_tooFewPointsForIntersection:function(t){var e=this._getProjectedPoints(),n=e?e.length:0;return n+=t||0,!e||n<=3},_lineSegmentsIntersectsRange:function(t,e,n,i){var r,o,s=this._getProjectedPoints();i=i||0;for(var a=n;a>i;a--)if(r=s[a-1],o=s[a],L.LineUtil.segmentsIntersect(t,e,r,o))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var t=[],e=this._defaultShape(),n=0;n<e.length;n++)t.push(this._map.latLngToLayerPoint(e[n]));return t}}),L.Polygon.include({intersects:function(){var t,e,n,i,r=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(t=r.length,e=r[0],n=r[t-1],i=t-2,this._lineSegmentsIntersectsRange(n,e,i,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(t){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,t);var e;this._toolbars={},L.DrawToolbar&&this.options.draw&&(e=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=e,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(e=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=e,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(t){var e,n=L.DomUtil.create("div","leaflet-draw"),i=!1;for(var r in this._toolbars)this._toolbars.hasOwnProperty(r)&&(e=this._toolbars[r].addToolbar(t))&&(i||(L.DomUtil.hasClass(e,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(e.childNodes[0],"leaflet-draw-toolbar-top"),i=!0),n.appendChild(e));return n},onRemove:function(){for(var t in this._toolbars)this._toolbars.hasOwnProperty(t)&&this._toolbars[t].removeToolbar()},setDrawingOptions:function(t){for(var e in this._toolbars)this._toolbars[e]instanceof L.DrawToolbar&&this._toolbars[e].setOptions(t)},_toolbarEnabled:function(t){var e=t.target;for(var n in this._toolbars)this._toolbars[n]!==e&&this._toolbars[n].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(t){L.setOptions(this,t),this._modes={},this._actionButtons=[],this._activeMode=null;var e=L.version.split(".");1===parseInt(e[0],10)&&parseInt(e[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(t){var e,n=L.DomUtil.create("div","leaflet-draw-section"),i=0,r=this._toolbarClass||"",o=this.getModeHandlers(t);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=t,e=0;e<o.length;e++)o[e].enabled&&this._initModeHandler(o[e].handler,this._toolbarContainer,i++,r,o[e].title);if(i)return this._lastButtonIndex=--i,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),n.appendChild(this._toolbarContainer),n.appendChild(this._actionsContainer),n},removeToolbar:function(){for(var t in this._modes)this._modes.hasOwnProperty(t)&&(this._disposeButton(this._modes[t].button,this._modes[t].handler.enable,this._modes[t].handler),this._modes[t].handler.disable(),this._modes[t].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var e=0,n=this._actionButtons.length;e<n;e++)this._disposeButton(this._actionButtons[e].button,this._actionButtons[e].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(t,e,n,i,r){var o=t.type;this._modes[o]={},this._modes[o].handler=t,this._modes[o].button=this._createButton({type:o,title:r,className:i+"-"+o,container:e,callback:this._modes[o].handler.enable,context:this._modes[o].handler}),this._modes[o].buttonIndex=n,this._modes[o].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!t.MSStream},_createButton:function(t){var e=L.DomUtil.create("a",t.className||"",t.container),n=L.DomUtil.create("span","sr-only",t.container);e.href="#",e.appendChild(n),t.title&&(e.title=t.title,n.innerHTML=t.title),t.text&&(e.innerHTML=t.text,n.innerHTML=t.text);var i=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(e,"click",L.DomEvent.stopPropagation).on(e,"mousedown",L.DomEvent.stopPropagation).on(e,"dblclick",L.DomEvent.stopPropagation).on(e,"touchstart",L.DomEvent.stopPropagation).on(e,"click",L.DomEvent.preventDefault).on(e,i,t.callback,t.context),e},_disposeButton:function(t,e){var n=this._detectIOS()?"touchstart":"click";L.DomEvent.off(t,"click",L.DomEvent.stopPropagation).off(t,"mousedown",L.DomEvent.stopPropagation).off(t,"dblclick",L.DomEvent.stopPropagation).off(t,"touchstart",L.DomEvent.stopPropagation).off(t,"click",L.DomEvent.preventDefault).off(t,n,e)},_handlerActivated:function(t){this.disable(),this._activeMode=this._modes[t.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(t){var e,n,i,r,o=this._actionsContainer,s=this.getActions(t),a=s.length;for(n=0,i=this._actionButtons.length;n<i;n++)this._disposeButton(this._actionButtons[n].button,this._actionButtons[n].callback);for(this._actionButtons=[];o.firstChild;)o.removeChild(o.firstChild);for(var u=0;u<a;u++)"enabled"in s[u]&&!s[u].enabled||(e=L.DomUtil.create("li","",o),r=this._createButton({title:s[u].title,text:s[u].text,container:e,callback:s[u].callback,context:s[u].context}),this._actionButtons.push({button:r,callback:s[u].callback}))},_showActionsToolbar:function(){var t=this._activeMode.buttonIndex,e=this._lastButtonIndex,n=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=n+"px",0===t&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),t===e&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(t){this._map=t,this._popupPane=t._panes.popupPane,this._visible=!1,this._container=t.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(t){return this._container?(t.subtext=t.subtext||"",0!==t.subtext.length||this._singleLineLabel?t.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(t.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+t.subtext+"</span><br />":"")+"<span>"+t.text+"</span>",t.text||t.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(t){var e=this._map.latLngToLayerPoint(t),n=this._container;return this._container&&(this._visible&&(n.style.visibility="inherit"),L.DomUtil.setPosition(n,e)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(t){for(var e in this.options)this.options.hasOwnProperty(e)&&t[e]&&(t[e]=L.extend({},this.options[e],t[e]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,t)},getModeHandlers:function(t){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(t,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(t,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(t,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(t,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(t,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(t,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(t){return[{enabled:t.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:t.completeShape,context:t},{enabled:t.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:t.deleteLastVertex,context:t},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(t){L.setOptions(this,t);for(var e in this._modes)this._modes.hasOwnProperty(e)&&t.hasOwnProperty(e)&&this._modes[e].handler.setOptions(t[e])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(t){t.edit&&(void 0===t.edit.selectedPathOptions&&(t.edit.selectedPathOptions=this.options.edit.selectedPathOptions),t.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,t.edit.selectedPathOptions)),t.remove&&(t.remove=L.extend({},this.options.remove,t.remove)),t.poly&&(t.poly=L.extend({},this.options.poly,t.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,t),this._selectedFeatureCount=0},getModeHandlers:function(t){var e=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(t,{featureGroup:e,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(t,{featureGroup:e}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(t){var e=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return t.removeAllLayers&&e.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),e},addToolbar:function(t){var e=L.Toolbar.prototype.addToolbar.call(this,t);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),e},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var t,e=this.options.featureGroup,n=0!==e.getLayers().length;this.options.edit&&(t=this._modes[L.EditToolbar.Edit.TYPE].button,n?L.DomUtil.removeClass(t,"leaflet-disabled"):L.DomUtil.addClass(t,"leaflet-disabled"),t.setAttribute("title",n?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(t=this._modes[L.EditToolbar.Delete.TYPE].button,n?L.DomUtil.removeClass(t,"leaflet-disabled"):L.DomUtil.addClass(t,"leaflet-disabled"),t.setAttribute("title",n?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(t,e){if(L.Handler.prototype.initialize.call(this,t),L.setOptions(this,e),this._featureGroup=e.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(t.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),t._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(t){this._revertLayer(t)},this)},save:function(){var t=new L.LayerGroup;this._featureGroup.eachLayer(function(e){e.edited&&(t.addLayer(e),e.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:t})},_backupLayer:function(t){var e=L.Util.stamp(t);this._uneditedLayerProps[e]||(t instanceof L.Polyline||t instanceof L.Polygon||t instanceof L.Rectangle?this._uneditedLayerProps[e]={latlngs:L.LatLngUtil.cloneLatLngs(t.getLatLngs())}:t instanceof L.Circle?this._uneditedLayerProps[e]={latlng:L.LatLngUtil.cloneLatLng(t.getLatLng()),radius:t.getRadius()}:(t instanceof L.Marker||t instanceof L.CircleMarker)&&(this._uneditedLayerProps[e]={latlng:L.LatLngUtil.cloneLatLng(t.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(t){var e=L.Util.stamp(t);t.edited=!1,this._uneditedLayerProps.hasOwnProperty(e)&&(t instanceof L.Polyline||t instanceof L.Polygon||t instanceof L.Rectangle?t.setLatLngs(this._uneditedLayerProps[e].latlngs):t instanceof L.Circle?(t.setLatLng(this._uneditedLayerProps[e].latlng),t.setRadius(this._uneditedLayerProps[e].radius)):(t instanceof L.Marker||t instanceof L.CircleMarker)&&t.setLatLng(this._uneditedLayerProps[e].latlng),t.fire("revert-edited",{layer:t}))},_enableLayerEdit:function(t){var e,n,i=t.layer||t.target||t;this._backupLayer(i),this.options.poly&&(n=L.Util.extend({},this.options.poly),i.options.poly=n),this.options.selectedPathOptions&&(e=L.Util.extend({},this.options.selectedPathOptions),e.maintainColor&&(e.color=i.options.color,e.fillColor=i.options.fillColor),i.options.original=L.extend({},i.options),i.options.editing=e),i instanceof L.Marker?(i.editing&&i.editing.enable(),i.dragging.enable(),i.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):i.editing.enable()},_disableLayerEdit:function(t){var e=t.layer||t.target||t;e.edited=!1,e.editing&&e.editing.disable(),delete e.options.editing,delete e.options.original,this._selectedPathOptions&&(e instanceof L.Marker?this._toggleMarkerHighlight(e):(e.setStyle(e.options.previousOptions),delete e.options.previousOptions)),e instanceof L.Marker?(e.dragging.disable(),e.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):e.editing.disable()},_onMouseMove:function(t){this._tooltip.updatePosition(t.latlng)},_onMarkerDragEnd:function(t){var e=t.target;e.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:e})},_onTouchMove:function(t){var e=t.originalEvent.changedTouches[0],n=this._map.mouseEventToLayerPoint(e),i=this._map.layerPointToLatLng(n);t.target.setLatLng(i)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(t,e){if(L.Handler.prototype.initialize.call(this,t),L.Util.setOptions(this,e),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(t.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(t){this._deletableLayers.addLayer(t),t.fire("revert-deleted",{layer:t})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(t){this._removeLayer({layer:t})},this),this.save()},_enableLayerDelete:function(t){(t.layer||t.target||t).on("click",this._removeLayer,this)},_disableLayerDelete:function(t){var e=t.layer||t.target||t;e.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(e)},_removeLayer:function(t){var e=t.layer||t.target||t;this._deletableLayers.removeLayer(e),this._deletedLayers.addLayer(e),e.fire("deleted")},_onMouseMove:function(t){this._tooltip.updatePosition(t.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})}(window,document)},function(t,e,n){"use strict";t.exports=n(316)},function(t,e,n){"use strict";var i,r,o;/**
 * L.Map.SelectArea - Area selection tool for leaflet
 *
 * @author Alexander Milevski <info@w8r.name>
 * @see https://github.com/w8r/leaflet-area-select
 * @license MIT
 * @preserve
 */
!function(s){r=[n(172)],i=s,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o)}(function(t){t.Util.trueFn=t.Util.trueFn||function(){return!0},t.Map.SelectArea=t.Map.BoxZoom.extend({statics:{AREA_SELECTED:"areaselected",AREA_SELECT_START:"areaselectstart",AREA_SELECTION_TOGGLED:"areaselecttoggled"},options:{shiftKey:!1,ctrlKey:!0,validate:t.Util.trueFn,autoDisable:!1,cursor:"crosshair"},initialize:function(e,n){t.Util.setOptions(this,n||{}),t.Map.BoxZoom.prototype.initialize.call(this,e),this._validate=null,this._moved=!1,this._autoDisable=!this.options.ctrlKey&&this.options.autoDisable,this._lastLayerPoint=null,this._beforeCursor=null,this.setValidate(this.options.validate),this.setAutoDisable(this.options.autoDisable)},setValidate:function(e){var n=this;return"function"!=typeof e&&(e=t.Util.trueFn),this._validate=function(t){return e.call(n,t)},this},setAutoDisable:function(t){this._autoDisable=!!t},setControlKey:function(t){var e=this._enabled;e&&this.disable(),this.options.ctrlKey=!!t,t&&(this.options.shiftKey=!1),e&&this.enable()},setShiftKey:function(t){var e=this._enabled;e&&this.disable(),this.options.shiftKey=!!t,t&&(this.options.ctrlKey=!1),e&&this.enable()},enable:function(e,n){this.options.shiftKey?this._map.boxZoom&&this._map.boxZoom.disable():this.options.ctrlKey||this._map.dragging.disable(),t.Map.BoxZoom.prototype.enable.call(this),this.options.ctrlKey||this._setCursor(),e&&this.setValidate(e),this.setAutoDisable(n),this._map.fire(t.Map.SelectArea.AREA_SELECTION_TOGGLED)},disable:function(){t.Map.BoxZoom.prototype.disable.call(this),this.options.ctrlKey||this._restoreCursor(),this.options.shiftKey?this._map.boxZoom&&this._map.boxZoom.enable():this._map.dragging.enable(),this._map.fire(t.Map.SelectArea.AREA_SELECTION_TOGGLED)},addHooks:function(){t.Map.BoxZoom.prototype.addHooks.call(this),t.DomEvent.on(document,"keyup",this._onKeyUp,this).on(document,"keydown",this._onKeyPress,this).on(document,"contextmenu",this._onMouseDown,this).on(window,"blur",this._onBlur,this),this._map.on("dragstart",this._onMouseDown,this)},removeHooks:function(){t.Map.BoxZoom.prototype.removeHooks.call(this),t.DomEvent.off(document,"keyup",this._onKeyUp,this).off(document,"keydown",this._onKeyPress,this).off(document,"contextmenu",this._onMouseDown,this).off(window,"blur",this._onBlur,this),this._map.off("dragstart",this._onMouseDown,this)},_onMouseDown:function(e){if(this._moved=!1,this._lastLayerPoint=null,this.options.shiftKey&&!e.shiftKey||this.options.ctrlKey&&!e.ctrlKey||1!==e.which&&1!==e.button)return!1;t.DomEvent.stop(e);var n=this._map.mouseEventToLayerPoint(e);if(!this._validate(n))return!1;t.DomUtil.disableTextSelection(),t.DomUtil.disableImageDrag(),this._startLayerPoint=n,t.DomEvent.on(document,"mousemove",this._onMouseMove,this).on(document,"mouseup",this._onMouseUp,this).on(document,"keydown",this._onKeyDown,this)},_onMouseMove:function(e){this._moved||(this._box=t.DomUtil.create("div","leaflet-zoom-box",this._pane),t.DomUtil.setPosition(this._box,this._startLayerPoint),this._map.fire(t.Map.SelectArea.AREA_SELECT_START));var n=this._startLayerPoint,i=this._box,r=this._map.mouseEventToLayerPoint(e),o=r.subtract(n);if(this._validate(r)){this._lastLayerPoint=r;var s=new t.Point(Math.min(r.x,n.x),Math.min(r.y,n.y));t.DomUtil.setPosition(i,s),this._moved=!0,i.style.width=Math.max(0,Math.abs(o.x)-4)+"px",i.style.height=Math.max(0,Math.abs(o.y)-4)+"px"}},_onKeyUp:function(t){27===t.keyCode?this._moved&&this._box&&this._finish():this.options.ctrlKey&&(this._restoreCursor(),this._map.dragging.enable())},_onKeyPress:function(t){this.options.ctrlKey&&(t.ctrlKey||"dragstart"===t.type)&&null===this._beforeCursor&&(this._setCursor(),this._map.dragging._draggable._onUp(t),this._map.dragging.disable())},_onBlur:function(t){this._restoreCursor(),this._map.dragging.enable()},_setCursor:function(){this._beforeCursor=this._container.style.cursor,this._container.style.cursor=this.options.cursor},_restoreCursor:function(){this._container.style.cursor=this._beforeCursor,this._beforeCursor=null},_onMouseUp:function(e){this._finish();var n=this._map,i=this._lastLayerPoint;if(i&&!this._startLayerPoint.equals(i)){t.DomEvent.stop(e);var r=new t.LatLngBounds(n.layerPointToLatLng(this._startLayerPoint),n.layerPointToLatLng(i));this._autoDisable?this.disable():this._restoreCursor(),this._moved=!1,t.Util.requestAnimFrame(function(){n.fire(t.Map.SelectArea.AREA_SELECTED,{bounds:r})})}}}),t.Map.mergeOptions({selectArea:!1}),t.Map.addInitHook("addHandler","selectArea",t.Map.SelectArea)})},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.convertDistance=e.bearingToAngle=e.radiansToDistance=e.distanceToRadians=e.distanceToDegrees=e.degrees2radians=e.radians2degrees=e.lineDistance=e.pointOnLine=e.nearest=e.bezier=e.within=void 0,e.inside=e.lineStringToPolygon=e.polygonToLineString=e.pointOnSurface=e.union=e.buffer=e.dissolve=e.difference=e.meta=e.invariant=e.helpers=e.clusters=e.random=e.projection=e.voronoi=e.shortestPath=e.booleanParallel=e.pointToLineDistance=e.clustersKmeans=e.clustersDbscan=e.interpolate=e.cleanCoords=e.clone=e.booleanWithin=e.booleanEqual=e.booleanPointOnLine=e.booleanOverlap=e.booleanClockwise=e.booleanCrosses=e.booleanContains=e.booleanDisjoint=e.polygonize=e.lineOffset=e.transformTranslate=e.transformScale=e.transformRotate=e.isobands=e.rewind=e.polygonTangents=e.rhumbDestination=e.rhumbDistance=e.rhumbBearing=e.sector=e.lineOverlap=e.bboxClip=e.lineToPolygon=e.polygonToLine=e.lineArc=e.lineSplit=e.lineSegment=e.greatCircle=e.unkinkPolygon=e.lineChunk=e.mask=e.lineIntersect=e.flatten=e.truncate=e.hexGrid=e.triangleGrid=e.squareGrid=e.pointGrid=e.lineSliceAlong=e.lineSlice=e.length=e.along=e.area=e.pointOnFeature=e.kinks=e.destination=e.bearing=e.tin=e.planepoint=e.nearestPointToLine=e.nearestPointOnLine=e.nearestPoint=e.intersect=e.booleanPointInPolygon=e.bboxPolygon=e.tesselate=e.bbox=e.explode=e.distance=e.combine=e.centroid=e.centerOfMass=e.center=e.midpoint=e.circle=e.square=e.envelope=e.sample=e.tag=e.bezierSpline=e.simplify=e.flip=e.collect=e.concave=e.pointsWithinPolygon=e.convex=e.isolines=void 0;var o=n(318);Object.defineProperty(e,"isolines",{enumerable:!0,get:function(){return r(o).default}});var s=n(173);Object.defineProperty(e,"convex",{enumerable:!0,get:function(){return r(s).default}});var a=n(330);Object.defineProperty(e,"pointsWithinPolygon",{enumerable:!0,get:function(){return r(a).default}});var u=n(331);Object.defineProperty(e,"concave",{enumerable:!0,get:function(){return r(u).default}});var l=n(353);Object.defineProperty(e,"collect",{enumerable:!0,get:function(){return r(l).default}});var f=n(354);Object.defineProperty(e,"flip",{enumerable:!0,get:function(){return r(f).default}});var c=n(355);Object.defineProperty(e,"simplify",{enumerable:!0,get:function(){return r(c).default}});var d=n(357);Object.defineProperty(e,"bezierSpline",{enumerable:!0,get:function(){return r(d).default}});var h=n(359);Object.defineProperty(e,"tag",{enumerable:!0,get:function(){return r(h).default}});var p=n(360);Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return r(p).default}});var g=n(183);Object.defineProperty(e,"envelope",{enumerable:!0,get:function(){return r(g).default}});var _=n(184);Object.defineProperty(e,"square",{enumerable:!0,get:function(){return r(_).default}});var m=n(126);Object.defineProperty(e,"circle",{enumerable:!0,get:function(){return r(m).default}});var v=n(361);Object.defineProperty(e,"midpoint",{enumerable:!0,get:function(){return r(v).default}});var y=n(95);Object.defineProperty(e,"center",{enumerable:!0,get:function(){return r(y).default}});var b=n(362);Object.defineProperty(e,"centerOfMass",{enumerable:!0,get:function(){return r(b).default}});var x=n(71);Object.defineProperty(e,"centroid",{enumerable:!0,get:function(){return r(x).default}});var E=n(363);Object.defineProperty(e,"combine",{enumerable:!0,get:function(){return r(E).default}});var w=n(23);Object.defineProperty(e,"distance",{enumerable:!0,get:function(){return r(w).default}});var M=n(127);Object.defineProperty(e,"explode",{enumerable:!0,get:function(){return r(M).default}});var L=n(27);Object.defineProperty(e,"bbox",{enumerable:!0,get:function(){return r(L).default}});var P=n(364);Object.defineProperty(e,"tesselate",{enumerable:!0,get:function(){return r(P).default}});var C=n(125);Object.defineProperty(e,"bboxPolygon",{enumerable:!0,get:function(){return r(C).default}});var I=n(34);Object.defineProperty(e,"booleanPointInPolygon",{enumerable:!0,get:function(){return r(I).default}});var S=n(96);Object.defineProperty(e,"intersect",{enumerable:!0,get:function(){return r(S).default}});var O=n(245);Object.defineProperty(e,"nearestPoint",{enumerable:!0,get:function(){return r(O).default}});var N=n(113);Object.defineProperty(e,"nearestPointOnLine",{enumerable:!0,get:function(){return r(N).default}});var T=n(544);Object.defineProperty(e,"nearestPointToLine",{enumerable:!0,get:function(){return r(T).default}});var R=n(545);Object.defineProperty(e,"planepoint",{enumerable:!0,get:function(){return r(R).default}});var A=n(176);Object.defineProperty(e,"tin",{enumerable:!0,get:function(){return r(A).default}});var D=n(62);Object.defineProperty(e,"bearing",{enumerable:!0,get:function(){return r(D).default}});var k=n(54);Object.defineProperty(e,"destination",{enumerable:!0,get:function(){return r(k).default}});var j=n(546);Object.defineProperty(e,"kinks",{enumerable:!0,get:function(){return r(j).default}});var F=n(547);Object.defineProperty(e,"pointOnFeature",{enumerable:!0,get:function(){return r(F).default}});var z=n(116);Object.defineProperty(e,"area",{enumerable:!0,get:function(){return r(z).default}});var G=n(548);Object.defineProperty(e,"along",{enumerable:!0,get:function(){return r(G).default}});var B=n(247);Object.defineProperty(e,"length",{enumerable:!0,get:function(){return r(B).default}});var q=n(549);Object.defineProperty(e,"lineSlice",{enumerable:!0,get:function(){return r(q).default}});var U=n(248);Object.defineProperty(e,"lineSliceAlong",{enumerable:!0,get:function(){return r(U).default}});var V=n(249);Object.defineProperty(e,"pointGrid",{enumerable:!0,get:function(){return r(V).default}});var Y=n(251);Object.defineProperty(e,"squareGrid",{enumerable:!0,get:function(){return r(Y).default}});var X=n(252);Object.defineProperty(e,"triangleGrid",{enumerable:!0,get:function(){return r(X).default}});var H=n(253);Object.defineProperty(e,"hexGrid",{enumerable:!0,get:function(){return r(H).default}});var Z=n(152);Object.defineProperty(e,"truncate",{enumerable:!0,get:function(){return r(Z).default}});var W=n(550);Object.defineProperty(e,"flatten",{enumerable:!0,get:function(){return r(W).default}});var K=n(59);Object.defineProperty(e,"lineIntersect",{enumerable:!0,get:function(){return r(K).default}});var J=n(551);Object.defineProperty(e,"mask",{enumerable:!0,get:function(){return r(J).default}});var Q=n(552);Object.defineProperty(e,"lineChunk",{enumerable:!0,get:function(){return r(Q).default}});var $=n(553);Object.defineProperty(e,"unkinkPolygon",{enumerable:!0,get:function(){return r($).default}});var tt=n(556);Object.defineProperty(e,"greatCircle",{enumerable:!0,get:function(){return r(tt).default}});var et=n(89);Object.defineProperty(e,"lineSegment",{enumerable:!0,get:function(){return r(et).default}});var nt=n(558);Object.defineProperty(e,"lineSplit",{enumerable:!0,get:function(){return r(nt).default}});var it=n(254);Object.defineProperty(e,"lineArc",{enumerable:!0,get:function(){return r(it).default}});var rt=n(155);Object.defineProperty(e,"polygonToLine",{enumerable:!0,get:function(){return r(rt).default}});var ot=n(559);Object.defineProperty(e,"lineToPolygon",{enumerable:!0,get:function(){return r(ot).default}});var st=n(560);Object.defineProperty(e,"bboxClip",{enumerable:!0,get:function(){return r(st).default}});var at=n(255);Object.defineProperty(e,"lineOverlap",{enumerable:!0,get:function(){return r(at).default}});var ut=n(563);Object.defineProperty(e,"sector",{enumerable:!0,get:function(){return r(ut).default}});var lt=n(90);Object.defineProperty(e,"rhumbBearing",{enumerable:!0,get:function(){return r(lt).default}});var ft=n(115);Object.defineProperty(e,"rhumbDistance",{enumerable:!0,get:function(){return r(ft).default}});var ct=n(118);Object.defineProperty(e,"rhumbDestination",{enumerable:!0,get:function(){return r(ct).default}});var dt=n(564);Object.defineProperty(e,"polygonTangents",{enumerable:!0,get:function(){return r(dt).default}});var ht=n(565);Object.defineProperty(e,"rewind",{enumerable:!0,get:function(){return r(ht).default}});var pt=n(566);Object.defineProperty(e,"isobands",{enumerable:!0,get:function(){return r(pt).default}});var gt=n(569);Object.defineProperty(e,"transformRotate",{enumerable:!0,get:function(){return r(gt).default}});var _t=n(257);Object.defineProperty(e,"transformScale",{enumerable:!0,get:function(){return r(_t).default}});var mt=n(570);Object.defineProperty(e,"transformTranslate",{enumerable:!0,get:function(){return r(mt).default}});var vt=n(571);Object.defineProperty(e,"lineOffset",{enumerable:!0,get:function(){return r(vt).default}});var yt=n(573);Object.defineProperty(e,"polygonize",{enumerable:!0,get:function(){return r(yt).default}});var bt=n(578);Object.defineProperty(e,"booleanDisjoint",{enumerable:!0,get:function(){return r(bt).default}});var xt=n(579);Object.defineProperty(e,"booleanContains",{enumerable:!0,get:function(){return r(xt).default}});var Et=n(580);Object.defineProperty(e,"booleanCrosses",{enumerable:!0,get:function(){return r(Et).default}});var wt=n(256);Object.defineProperty(e,"booleanClockwise",{enumerable:!0,get:function(){return r(wt).default}});var Mt=n(260);Object.defineProperty(e,"booleanOverlap",{enumerable:!0,get:function(){return r(Mt).default}});var Lt=n(117);Object.defineProperty(e,"booleanPointOnLine",{enumerable:!0,get:function(){return r(Lt).default}});var Pt=n(584);Object.defineProperty(e,"booleanEqual",{enumerable:!0,get:function(){return r(Pt).default}});var Ct=n(250);Object.defineProperty(e,"booleanWithin",{enumerable:!0,get:function(){return r(Ct).default}});var It=n(22);Object.defineProperty(e,"clone",{enumerable:!0,get:function(){return r(It).default}});var St=n(61);Object.defineProperty(e,"cleanCoords",{enumerable:!0,get:function(){return r(St).default}});var Ot=n(585);Object.defineProperty(e,"interpolate",{enumerable:!0,get:function(){return r(Ot).default}});var Nt=n(586);Object.defineProperty(e,"clustersDbscan",{enumerable:!0,get:function(){return r(Nt).default}});var Tt=n(591);Object.defineProperty(e,"clustersKmeans",{enumerable:!0,get:function(){return r(Tt).default}});var Rt=n(246);Object.defineProperty(e,"pointToLineDistance",{enumerable:!0,get:function(){return r(Rt).default}});var At=n(594);Object.defineProperty(e,"booleanParallel",{enumerable:!0,get:function(){return r(At).default}});var Dt=n(595);Object.defineProperty(e,"shortestPath",{enumerable:!0,get:function(){return r(Dt).default}});var kt=n(597);Object.defineProperty(e,"voronoi",{enumerable:!0,get:function(){return r(kt).default}});var jt=n(153);Object.keys(jt).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return jt[t]}})});var Ft=n(603);Object.keys(Ft).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return Ft[t]}})});var zt=n(604);Object.keys(zt).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return zt[t]}})});var Gt=n(1);Object.keys(Gt).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return Gt[t]}})});var Bt=n(5);Object.keys(Bt).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return Bt[t]}})});var qt=n(6);Object.keys(qt).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return qt[t]}})});var Ut=n(605);Object.defineProperty(e,"difference",{enumerable:!0,get:function(){return r(Ut).default}});var Vt=n(606);Object.defineProperty(e,"dissolve",{enumerable:!0,get:function(){return r(Vt).default}});var Yt=n(608);Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return r(Yt).default}});var Xt=n(154);Object.defineProperty(e,"union",{enumerable:!0,get:function(){return r(Xt).default}}),Object.defineProperty(e,"pointOnSurface",{enumerable:!0,get:function(){return r(F).default}}),Object.defineProperty(e,"polygonToLineString",{enumerable:!0,get:function(){return r(rt).default}}),Object.defineProperty(e,"lineStringToPolygon",{enumerable:!0,get:function(){return r(ot).default}}),Object.defineProperty(e,"inside",{enumerable:!0,get:function(){return r(I).default}}),Object.defineProperty(e,"within",{enumerable:!0,get:function(){return r(a).default}}),Object.defineProperty(e,"bezier",{enumerable:!0,get:function(){return r(d).default}}),Object.defineProperty(e,"nearest",{enumerable:!0,get:function(){return r(O).default}}),Object.defineProperty(e,"pointOnLine",{enumerable:!0,get:function(){return r(N).default}}),Object.defineProperty(e,"lineDistance",{enumerable:!0,get:function(){return r(B).default}}),Object.defineProperty(e,"radians2degrees",{enumerable:!0,get:function(){return Gt.radiansToDegrees}}),Object.defineProperty(e,"degrees2radians",{enumerable:!0,get:function(){return Gt.degreesToRadians}}),Object.defineProperty(e,"distanceToDegrees",{enumerable:!0,get:function(){return Gt.lengthToDegrees}}),Object.defineProperty(e,"distanceToRadians",{enumerable:!0,get:function(){return Gt.lengthToRadians}}),Object.defineProperty(e,"radiansToDistance",{enumerable:!0,get:function(){return Gt.radiansToLength}}),Object.defineProperty(e,"bearingToAngle",{enumerable:!0,get:function(){return Gt.bearingToAzimuth}}),Object.defineProperty(e,"convertDistance",{enumerable:!0,get:function(){return Gt.convertLength}});var Ht=i(jt),Zt=i(Ft),Wt=i(zt),Kt=i(Gt),Jt=i(Bt),Qt=i(qt);e.projection=Ht,e.random=Zt,e.clusters=Wt,e.helpers=Kt,e.invariant=Jt,e.meta=Qt},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){if(n=n||{},!(0,c.isObject)(n))throw new Error("options is invalid");var i=n.zProperty||"elevation",r=n.commonProperties||{},a=n.breaksProperties||[];if((0,f.collectionOf)(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!(0,c.isObject)(r))throw new Error("commonProperties must be an Object");if(!Array.isArray(a))throw new Error("breaksProperties must be an Array");var u=(0,g.default)(t,{zProperty:i,flip:!0}),l=o(u,e,i,r,a),d=s(l,u,t);return(0,c.featureCollection)(d)}function o(t,e,n,i,r){for(var o=[],s=1;s<e.length;s++){var a=+e[s],u=Object.assign({},i,r[s]);u[n]=a;var l=(0,c.multiLineString)((0,h.default)(t,a),u);o.push(l)}return o}function s(t,e,n){var i=(0,u.default)(n),r=i[2]-i[0],o=i[3]-i[1],s=i[0],a=i[1],f=e[0].length-1,c=e.length-1,d=r/f,h=o/c,p=function(t){t[0]=t[0]*d+s,t[1]=t[1]*h+a};return t.forEach(function(t){(0,l.coordEach)(t,p)}),t}Object.defineProperty(e,"__esModule",{value:!0});var a=n(27),u=i(a),l=n(6),f=n(5),c=n(1),d=n(319),h=i(d),p=n(320),g=i(p);e.default=r},function(t,e,n){"use strict";function i(t,e,n){n=n||{};for(var i=Object.keys(d),r=0;r<i.length;r++){var s=i[r],a=n[s];a=void 0!==a&&null!==a?a:d[s],h[s]=a}h.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var u=f(o(t,e));return"function"==typeof h.successCallback&&h.successCallback(u),u}function r(t,e,n){return(t-e)/(n-e)}function o(t,e){for(var n=t.length-1,i=t[0].length-1,o={rows:n,cols:i,cells:[]},s=0;s<n;++s){o.cells[s]=[];for(var a=0;a<i;++a){var u=0,l=t[s+1][a],f=t[s+1][a+1],c=t[s][a+1],d=t[s][a];if(!(isNaN(l)||isNaN(f)||isNaN(c)||isNaN(d))){u|=l>=e?8:0,u|=f>=e?4:0,u|=c>=e?2:0,u|=d>=e?1:0;var h=!1;if(5===u||10===u){var p=(l+f+c+d)/4;5===u&&p<e?(u=10,h=!0):10===u&&p<e&&(u=5,h=!0)}if(0!==u&&15!==u){var g,_,m,v;g=_=m=v=.5,1===u?(m=1-r(e,l,d),_=1-r(e,c,d)):2===u?(_=r(e,d,c),v=1-r(e,f,c)):3===u?(m=1-r(e,l,d),v=1-r(e,f,c)):4===u?(g=r(e,l,f),v=r(e,c,f)):5===u?(g=r(e,l,f),v=r(e,c,f),_=1-r(e,c,d),m=1-r(e,l,d)):6===u?(_=r(e,d,c),g=r(e,l,f)):7===u?(m=1-r(e,l,d),g=r(e,l,f)):8===u?(m=r(e,d,l),g=1-r(e,f,l)):9===u?(_=1-r(e,c,d),g=1-r(e,f,l)):10===u?(g=1-r(e,f,l),v=1-r(e,f,c),_=r(e,d,c),m=r(e,d,l)):11===u?(g=1-r(e,f,l),v=1-r(e,f,c)):12===u?(m=r(e,d,l),v=r(e,c,f)):13===u?(_=1-r(e,c,d),v=r(e,c,f)):14===u?(m=r(e,d,l),_=r(e,d,c)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+u),o.cells[s][a]={cval:u,flipped:h,top:g,right:v,bottom:_,left:m}}}}}return o}function s(t){return 5===t.cval||10===t.cval}function a(t){return 0===t.cval||15===t.cval}function u(t){a(t)||5===t.cval||10===t.cval||(t.cval=15)}function l(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}function f(t){var e=[],n=0;t.rows,t.cols;return t.cells.forEach(function(i,r){i.forEach(function(i,o){if(void 0!==i&&!s(i)&&!a(i)){var u=c(t.cells,r,o),l=!1;if("mergeable"===u.info)for(var f=u.path[u.path.length-1][0],d=u.path[u.path.length-1][1],h=n-1;h>=0;h--)if(Math.abs(e[h][0][0]-f)<=1e-7&&Math.abs(e[h][0][1]-d)<=1e-7){for(var p=u.path.length-2;p>=0;--p)e[h].unshift(u.path[p]);l=!0;break}l||(e[n++]=u.path)}})}),e}function c(t,e,n){var i,r,o,s=t.length,a=[],f=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],c=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],d=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"],h=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],p=(t[e][n],t[e][n]),g=p.cval,o=d[g],_=l(p,o);a.push([n+_[0],e+_[1]]),o=h[g],_=l(p,o),a.push([n+_[0],e+_[1]]),u(p);for(var m=n+f[g],v=e+c[g],y=g;m>=0&&v>=0&&v<s&&(m!=n||v!=e)&&void 0!==(p=t[v][m]);){if(0===(g=p.cval)||15===g)return{path:a,info:"mergeable"};o=h[g],i=f[g],r=c[g],5!==g&&10!==g||(5===g?p.flipped?-1===c[y]?(o="left",i=-1,r=0):(o="right",i=1,r=0):-1===f[y]&&(o="bottom",i=0,r=-1):10===g&&(p.flipped?-1===f[y]?(o="top",i=0,r=1):(o="bottom",i=0,r=-1):1===c[y]&&(o="left",i=-1,r=0))),_=l(p,o),a.push([m+_[0],v+_[1]]),u(p),m+=i,v+=r,y=g}return{path:a,info:"closed"}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;/**
 * @license GNU Affero General Public License.
 * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
 * v. 1.2.0
 * https://github.com/RaumZeit/MarchingSquares.js
 */
var d={successCallback:null,verbose:!1},h={}},function(t,e,n){"use strict";function i(t,e){if(e=e||{},!(0,a.isObject)(e))throw new Error("options is invalid");var n=e.zProperty||"elevation",i=e.flip,s=e.flags;(0,o.collectionOf)(t,"Point","input must contain Points");for(var u=r(t,i),l=[],f=0;f<u.length;f++){for(var c=u[f],d=[],h=0;h<c.length;h++){var p=c[h];p.properties[n]?d.push(p.properties[n]):d.push(0),!0===s&&(p.properties.matrixPosition=[f,h])}l.push(d)}return l}function r(t,e){var n={};return(0,s.featureEach)(t,function(t){var e=(0,o.getCoords)(t)[1];n[e]||(n[e]=[]),n[e].push(t)}),Object.keys(n).map(function(t){return n[t].sort(function(t,e){return(0,o.getCoords)(t)[0]-(0,o.getCoords)(e)[0]})}).sort(function(t,n){return e?(0,o.getCoords)(t[0])[1]-(0,o.getCoords)(n[0])[1]:(0,o.getCoords)(n[0])[1]-(0,o.getCoords)(t[0])[1]})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=n(5),s=n(6),a=n(1)},function(t,e,n){"use strict";function i(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;for(var i,o=c(t),s=_(16,["[0]","[1]","[0]","[1]"]).load(t),a=[],u=0;u<o.length;u++){var l=o[u];s.remove(l),i=d(l,i),a.push(i)}var p=_(16);for(u=0;u<a.length;u++)p.insert(f(a[u]));for(var g=e*e,m=n*n;a.length;){var v=a.shift(),y=v.p,b=v.next.p,x=h(y,b);if(!(x<m)){var E=x/g;l=r(s,v.prev.p,y,b,v.next.next.p,E,p),l&&Math.min(h(l,y),h(l,b))<=E&&(a.push(v),a.push(d(l,v)),s.remove(l),p.remove(v),p.insert(f(v)),p.insert(f(v.next)))}}v=i;var w=[];do{w.push(v.p),v=v.next}while(v!==i);return w.push(v.p),w}function r(t,e,n,i,r,a,l){for(var f=new v(null,o),c=t.data;c;){for(var d=0;d<c.children.length;d++){var h=c.children[d],g=c.leaf?p(h,n,i):s(n,i,h);g>a||f.push({node:h,dist:g})}for(;f.length&&!f.peek().node.children;){var _=f.pop(),m=_.node,y=p(m,e,n),b=p(m,i,r);if(_.dist<y&&_.dist<b&&u(n,m,l)&&u(i,m,l))return m}c=f.pop(),c&&(c=c.node)}return null}function o(t,e){return t.dist-e.dist}function s(t,e,n){if(a(t,n)||a(e,n))return 0;var i=g(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===i)return 0;var r=g(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===r)return 0;var o=g(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var s=g(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===s?0:Math.min(i,r,o,s)}function a(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function u(t,e,n){for(var i=Math.min(t[0],e[0]),r=Math.min(t[1],e[1]),o=Math.max(t[0],e[0]),s=Math.max(t[1],e[1]),a=n.search({minX:i,minY:r,maxX:o,maxY:s}),u=0;u<a.length;u++)if(l(a[u].p,a[u].next.p,t,e))return!1;return!0}function l(t,e,n,i){return t!==i&&e!==n&&b(t,e,n)>0!=b(t,e,i)>0&&b(n,i,t)>0!=b(n,i,e)>0}function f(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function c(t){for(var e=t[0],n=t[0],i=t[0],r=t[0],o=0;o<t.length;o++){var s=t[o];s[0]<e[0]&&(e=s),s[0]>i[0]&&(i=s),s[1]<n[1]&&(n=s),s[1]>r[1]&&(r=s)}var a=[e,n,i,r],u=a.slice();for(o=0;o<t.length;o++)y(t[o],a)||u.push(t[o]);var l=m(u),f=[];for(o=0;o<l.length;o++)f.push(u[l[o]]);return f}function d(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function h(t,e){var n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function p(t,e,n){var i=e[0],r=e[1],o=n[0]-i,s=n[1]-r;if(0!==o||0!==s){var a=((t[0]-i)*o+(t[1]-r)*s)/(o*o+s*s);a>1?(i=n[0],r=n[1]):a>0&&(i+=o*a,r+=s*a)}return o=t[0]-i,s=t[1]-r,o*o+s*s}function g(t,e,n,i,r,o,s,a){var u,l,f,c,d=n-t,h=i-e,p=s-r,g=a-o,_=t-r,m=e-o,v=d*d+h*h,y=d*p+h*g,b=p*p+g*g,x=d*_+h*m,E=p*_+g*m,w=v*b-y*y,M=w,L=w;0===w?(l=0,M=1,c=E,L=b):(l=y*E-b*x,c=v*E-y*x,l<0?(l=0,c=E,L=b):l>M&&(l=M,c=E+y,L=b)),c<0?(c=0,-x<0?l=0:-x>v?l=M:(l=-x,M=v)):c>L&&(c=L,-x+y<0?l=0:-x+y>v?l=M:(l=-x+y,M=v)),u=0===l?0:l/M,f=0===c?0:c/L;var P=(1-u)*t+u*n,C=(1-u)*e+u*i,I=(1-f)*r+f*s,S=(1-f)*o+f*a,O=I-P,N=S-C;return O*O+N*N}var _=n(70),m=n(323),v=n(328),y=n(329),b=n(174)[3];t.exports=i,t.exports.default=i},function(t,e,n){"use strict";function i(t,e,n,s,a){for(n=n||0,s=s||t.length-1,a=a||o;s>n;){if(s-n>600){var u=s-n+1,l=e-n+1,f=Math.log(u),c=.5*Math.exp(2*f/3),d=.5*Math.sqrt(f*c*(u-c)/u)*(l-u/2<0?-1:1);i(t,e,Math.max(n,Math.floor(e-l*c/u+d)),Math.min(s,Math.floor(e+(u-l)*c/u+d)),a)}var h=t[e],p=n,g=s;for(r(t,n,e),a(t[s],h)>0&&r(t,n,s);p<g;){for(r(t,p,g),p++,g--;a(t[p],h)<0;)p++;for(;a(t[g],h)>0;)g--}0===a(t[n],h)?r(t,n,g):(g++,r(t,g,s)),g<=e&&(n=g+1),e<=g&&(s=g-1)}}function r(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function o(t,e){return t<e?-1:t>e?1:0}t.exports=i},function(t,e,n){"use strict";function i(t){var e=t.length;if(e<3){for(var n=new Array(e),i=0;i<e;++i)n[i]=i;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}for(var o=new Array(e),i=0;i<e;++i)o[i]=i;o.sort(function(e,n){var i=t[e][0]-t[n][0];return i||t[e][1]-t[n][1]});for(var s=[o[0],o[1]],a=[o[0],o[1]],i=2;i<e;++i){for(var u=o[i],l=t[u],f=s.length;f>1&&r(t[s[f-2]],t[s[f-1]],l)<=0;)f-=1,s.pop();for(s.push(u),f=a.length;f>1&&r(t[a[f-2]],t[a[f-1]],l)>=0;)f-=1,a.pop();a.push(u)}for(var n=new Array(a.length+s.length-2),c=0,i=0,d=s.length;i<d;++i)n[c++]=s[i];for(var h=a.length-2;h>0;--h)n[c++]=a[h];return n}t.exports=i;var r=n(174)[3]},function(t,e,n){"use strict";function i(t,e){var n=t+e,i=n-t,r=n-i,o=e-i,s=t-r,a=s+o;return a?[a,n]:[n]}function r(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return i(t[0],e[0]);var o,s,a=n+r,u=new Array(a),l=0,f=0,c=0,d=Math.abs,h=t[f],p=d(h),g=e[c],_=d(g);p<_?(s=h,(f+=1)<n&&(h=t[f],p=d(h))):(s=g,(c+=1)<r&&(g=e[c],_=d(g))),f<n&&p<_||c>=r?(o=h,(f+=1)<n&&(h=t[f],p=d(h))):(o=g,(c+=1)<r&&(g=e[c],_=d(g)));for(var m,v,y,b,x,E=o+s,w=E-o,M=s-w,L=M,P=E;f<n&&c<r;)p<_?(o=h,(f+=1)<n&&(h=t[f],p=d(h))):(o=g,(c+=1)<r&&(g=e[c],_=d(g))),s=L,E=o+s,w=E-o,M=s-w,M&&(u[l++]=M),m=P+E,v=m-P,y=m-v,b=E-v,x=P-y,L=x+b,P=m;for(;f<n;)o=h,s=L,E=o+s,w=E-o,M=s-w,M&&(u[l++]=M),m=P+E,v=m-P,y=m-v,b=E-v,x=P-y,L=x+b,P=m,(f+=1)<n&&(h=t[f]);for(;c<r;)o=g,s=L,E=o+s,w=E-o,M=s-w,M&&(u[l++]=M),m=P+E,v=m-P,y=m-v,b=E-v,x=P-y,L=x+b,P=m,(c+=1)<r&&(g=e[c]);return L&&(u[l++]=L),P&&(u[l++]=P),l||(u[l++]=0),u.length=l,u}t.exports=r},function(t,e,n){"use strict";function i(t,e){var n=t.length;if(1===n){var i=r(t[0],e);return i[0]?i:[i[1]]}var s=new Array(2*n),a=[.1,.1],u=[.1,.1],l=0;r(t[0],e,a),a[0]&&(s[l++]=a[0]);for(var f=1;f<n;++f){r(t[f],e,u);var c=a[1];o(c,u[0],a),a[0]&&(s[l++]=a[0]);var d=u[1],h=a[1],p=d+h,g=p-d,_=h-g;a[1]=p,_&&(s[l++]=_)}return a[1]&&(s[l++]=a[1]),0===l&&(s[l++]=0),s.length=l,s}var r=n(175),o=n(326);t.exports=i},function(t,e,n){"use strict";function i(t,e,n){var i=t+e,r=i-t,o=i-r,s=e-r,a=t-o;return n?(n[0]=a+s,n[1]=i,n):[a+s,i]}t.exports=i},function(t,e,n){"use strict";function i(t,e){var n=t+e,i=n-t,r=n-i,o=e-i,s=t-r,a=s+o;return a?[a,n]:[n]}function r(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return i(t[0],-e[0]);var o,s,a=n+r,u=new Array(a),l=0,f=0,c=0,d=Math.abs,h=t[f],p=d(h),g=-e[c],_=d(g);p<_?(s=h,(f+=1)<n&&(h=t[f],p=d(h))):(s=g,(c+=1)<r&&(g=-e[c],_=d(g))),f<n&&p<_||c>=r?(o=h,(f+=1)<n&&(h=t[f],p=d(h))):(o=g,(c+=1)<r&&(g=-e[c],_=d(g)));for(var m,v,y,b,x,E=o+s,w=E-o,M=s-w,L=M,P=E;f<n&&c<r;)p<_?(o=h,(f+=1)<n&&(h=t[f],p=d(h))):(o=g,(c+=1)<r&&(g=-e[c],_=d(g))),s=L,E=o+s,w=E-o,M=s-w,M&&(u[l++]=M),m=P+E,v=m-P,y=m-v,b=E-v,x=P-y,L=x+b,P=m;for(;f<n;)o=h,s=L,E=o+s,w=E-o,M=s-w,M&&(u[l++]=M),m=P+E,v=m-P,y=m-v,b=E-v,x=P-y,L=x+b,P=m,(f+=1)<n&&(h=t[f]);for(;c<r;)o=g,s=L,E=o+s,w=E-o,M=s-w,M&&(u[l++]=M),m=P+E,v=m-P,y=m-v,b=E-v,x=P-y,L=x+b,P=m,(c+=1)<r&&(g=-e[c]);return L&&(u[l++]=L),P&&(u[l++]=P),l||(u[l++]=0),u.length=l,u}t.exports=r},function(t,e,n){"use strict";function i(t,e){if(!(this instanceof i))return new i(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||r,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function r(t,e){return t<e?-1:t>e?1:0}t.exports=i,t.exports.default=i,i.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,i=e[t];t>0;){var r=t-1>>1,o=e[r];if(n(i,o)>=0)break;e[t]=o,t=r}e[t]=i},_down:function(t){for(var e=this.data,n=this.compare,i=this.length>>1,r=e[t];t<i;){var o=1+(t<<1),s=o+1,a=e[o];if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,r)>=0)break;e[t]=a,t=o}e[t]=r}}},function(t,e,n){"use strict";t.exports=function(t,e){for(var n=t[0],i=t[1],r=!1,o=0,s=e.length-1;o<e.length;s=o++){var a=e[o][0],u=e[o][1],l=e[s][0],f=e[s][1];u>i!=f>i&&n<(l-a)*(i-u)/(f-u)+a&&(r=!r)}return r}},function(t,e,n){"use strict";function i(t,e){for(var n=(0,s.featureCollection)([]),i=0;i<e.features.length;i++)for(var r=0;r<t.features.length;r++){var a=(0,o.default)(t.features[r],e.features[i]);a&&n.features.push(t.features[r])}return n}Object.defineProperty(e,"__esModule",{value:!0});var r=n(34),o=function(t){return t&&t.__esModule?t:{default:t}}(r),s=n(1);e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(e=e||{},!(0,d.isObject)(e))throw new Error("options is invalid");if(!t)throw new Error("points is required");var n=e.maxEdge||1/0;if(!(0,d.isNumber)(n))throw new Error("maxEdge is invalid");var i=o(t),r=(0,a.default)(i);if(r.features=r.features.filter(function(t){var i=t.geometry.coordinates[0][0],r=t.geometry.coordinates[0][1],o=t.geometry.coordinates[0][2],s=(0,c.default)(i,r,e),a=(0,c.default)(r,o,e),u=(0,c.default)(i,o,e);return s<=n&&a<=n&&u<=n}),r.features.length<1)return null;var s=(0,l.default)(r,e);return 1===s.coordinates.length&&(s.coordinates=s.coordinates[0],s.type="Polygon"),(0,d.feature)(s)}function o(t){var e=[],n={};return(0,h.featureEach)(t,function(t){if(t.geometry){var i=t.geometry.coordinates.join("-");n.hasOwnProperty(i)||(e.push(t),n[i]=!0)}}),(0,d.featureCollection)(e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(176),a=i(s),u=n(332),l=i(u),f=n(23),c=i(f),d=n(1),h=n(6);e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(e=e||{},!(0,f.isObject)(e))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==(0,u.getType)(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=(0,a.default)(t));var i=o(t);if(!i)throw new Error("geojson must be homogenous");switch(i){case"LineString":return(0,d.default)(t,e);case"Polygon":return(0,p.default)(t,e);default:throw new Error(i+" is not supported")}}function o(t){var e={};(0,l.flattenEach)(t,function(t){e[t.geometry.type]=!0});var n=Object.keys(e);return 1===n.length?n[0]:null}Object.defineProperty(e,"__esModule",{value:!0});var s=n(22),a=i(s),u=n(5),l=n(6),f=n(1),c=n(333),d=i(c),h=n(334),p=i(h);e.default=r},function(t,e,n){"use strict";function i(t,e){if(e=e||{},!(0,u.isObject)(e))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==(0,a.getType)(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=(0,f.default)(t));var i=[],r=(0,s.lineReduce)(t,function(t,e){var n=o(t,e);return n||(i.push(t),e)});return r&&i.push(r),i.length?1===i.length?i[0]:(0,u.multiLineString)(i.map(function(t){return t.coordinates})):null}function r(t){return t[0].toString()+","+t[1].toString()}function o(t,e){var n,i=t.geometry.coordinates,o=e.geometry.coordinates,s=r(i[0]),a=r(i[i.length-1]),l=r(o[0]),f=r(o[o.length-1]);if(s===f)n=o.concat(i.slice(1));else if(l===a)n=i.concat(o.slice(1));else if(s===l)n=i.slice(1).reverse().concat(o);else{if(a!==f)return null;n=i.concat(o.reverse().slice(1))}return(0,u.lineString)(n)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(6),a=n(5),u=n(1),l=n(22),f=function(t){return t&&t.__esModule?t:{default:t}}(l);e.default=i},function(t,e,n){"use strict";function i(t,e){if(e=e||{},!(0,a.isObject)(e))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==(0,s.getType)(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=(0,f.default)(t));var i=[];(0,u.flattenEach)(t,function(t){i.push(t.geometry)});var l=(0,o.topology)({geoms:(0,a.geometryCollection)(i).geometry});return(0,r.merge)(l,l.objects.geoms.geometries)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(335),o=n(342),s=n(5),a=n(1),u=n(6),l=n(22),f=function(t){return t&&t.__esModule?t:{default:t}}(l);e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(177);Object.defineProperty(e,"bbox",{enumerable:!0,get:function(){return i(r).default}});var o=n(123);Object.defineProperty(e,"feature",{enumerable:!0,get:function(){return i(o).default}});var s=n(337);Object.defineProperty(e,"mesh",{enumerable:!0,get:function(){return i(s).default}}),Object.defineProperty(e,"meshArcs",{enumerable:!0,get:function(){return s.meshArcs}});var a=n(338);Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return i(a).default}}),Object.defineProperty(e,"mergeArcs",{enumerable:!0,get:function(){return a.mergeArcs}});var u=n(339);Object.defineProperty(e,"neighbors",{enumerable:!0,get:function(){return i(u).default}});var l=n(341);Object.defineProperty(e,"quantize",{enumerable:!0,get:function(){return i(l).default}});var f=n(122);Object.defineProperty(e,"transform",{enumerable:!0,get:function(){return i(f).default}});var c=n(180);Object.defineProperty(e,"untransform",{enumerable:!0,get:function(){return i(c).default}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n}},function(t,e,n){"use strict";function i(t,e,n){var i,o,s;if(arguments.length>1)i=r(t,e,n);else for(o=0,i=new Array(s=t.arcs.length);o<s;++o)i[o]=o;return{type:"MultiLineString",arcs:(0,a.default)(t,i)}}function r(t,e,n){function i(t){var e=t<0?~t:t;(f[e]||(f[e]=[])).push({i:t,g:u})}function r(t){t.forEach(i)}function o(t){t.forEach(r)}function s(t){t.forEach(o)}function a(t){switch(u=t,t.type){case"GeometryCollection":t.geometries.forEach(a);break;case"LineString":r(t.arcs);break;case"MultiLineString":case"Polygon":o(t.arcs);break;case"MultiPolygon":s(t.arcs)}}var u,l=[],f=[];return a(e),f.forEach(null==n?function(t){l.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&l.push(t[0].i)}),l}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,o.object)(t,i.apply(this,arguments))},e.meshArcs=i;var o=n(123),s=n(179),a=function(t){return t&&t.__esModule?t:{default:t}}(s)},function(t,e,n){"use strict";function i(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[0]*r[1]-e[1]*r[0];return Math.abs(o)}function r(t,e){function n(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"Polygon":r(t.arcs);break;case"MultiPolygon":t.arcs.forEach(r)}}function r(t){t.forEach(function(e){e.forEach(function(e){(u[e=e<0?~e:e]||(u[e]=[])).push(t)})}),l.push(t)}function s(e){return i((0,o.object)(t,{type:"Polygon",arcs:[e]}).coordinates[0])}var u={},l=[],f=[];return e.forEach(n),l.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,f.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){u[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),l.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:f.map(function(e){var n,i=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){u[t<0?~t:t].length<2&&i.push(t)})})}),i=(0,a.default)(t,i),(n=i.length)>1)for(var r,o,l=1,f=s(i[0]);l<n;++l)(r=s(i[l]))>f&&(o=i[0],i[0]=i[l],i[l]=o,f=r);return i})}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,o.object)(t,r.apply(this,arguments))},e.mergeArcs=r;var o=n(123),s=n(179),a=function(t){return t&&t.__esModule?t:{default:t}}(s)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(t,e){t.forEach(function(t){t<0&&(t=~t);var n=o[t];n?n.push(e):o[t]=[e]})}function n(t,n){t.forEach(function(t){e(t,n)})}function i(t,e){"GeometryCollection"===t.type?t.geometries.forEach(function(t){i(t,e)}):t.type in a&&a[t.type](t.arcs,e)}var o={},s=t.map(function(){return[]}),a={LineString:e,MultiLineString:n,Polygon:n,MultiPolygon:function(t,e){t.forEach(function(t){n(t,e)})}};t.forEach(i);for(var u in o)for(var l=o[u],f=l.length,c=0;c<f;++c)for(var d=c+1;d<f;++d){var h,p=l[c],g=l[d];(h=s[p])[u=(0,r.default)(h,g)]!==g&&h.splice(u,0,g),(h=s[g])[u=(0,r.default)(h,p)]!==p&&h.splice(u,0,p)}return s};var i=n(340),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var n=0,i=t.length;n<i;){var r=n+i>>>1;t[r]<e?n=r+1:i=r}return n}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){function n(t){return p(t)}function i(t){var e;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(i)};break;case"Point":e={type:"Point",coordinates:n(t.coordinates)};break;case"MultiPoint":e={type:"MultiPoint",coordinates:t.coordinates.map(n)};break;default:return t}return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}function r(t){var e,n=0,i=1,r=t.length,o=new Array(r);for(o[0]=p(t[0],0);++n<r;)((e=p(t[n],n))[0]||e[1])&&(o[i++]=e);return 1===i&&(o[i++]=[0,0]),o.length=i,o}if(t.transform)throw new Error("already quantized");if(e&&e.scale)d=t.bbox;else{if(!((s=Math.floor(e))>=2))throw new Error("n must be ≥2");d=t.bbox||(0,o.default)(t);var s,u=d[0],l=d[1],f=d[2],c=d[3];e={scale:[f-u?(f-u)/(s-1):1,c-l?(c-l)/(s-1):1],translate:[u,l]}}var d,h,p=(0,a.default)(e),g=t.objects,_={};for(h in g)_[h]=i(g[h]);return{type:"Topology",bbox:d,transform:e,objects:_,arcs:t.arcs.map(r)}};var r=n(177),o=i(r),s=n(180),a=i(s)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(343);Object.defineProperty(e,"topology",{enumerable:!0,get:function(){return i(r).default}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){var e,n=t[0],i=t[1];return i<n&&(e=n,n=i,i=e),n+31*i}function o(t,e){var n,i=t[0],r=t[1],o=e[0],s=e[1];return r<i&&(n=i,i=r,r=n),s<o&&(n=o,o=s,s=n),i===o&&r===s}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){function n(t){t&&v.hasOwnProperty(t.type)&&v[t.type](t)}function i(t){var e=[];do{var n=_.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function s(t){return t.map(i)}var u=(0,a.default)(t=(0,m.default)(t)),f=e>0&&u&&(0,x.default)(t,u,e),d=(0,c.default)((0,l.default)((0,g.default)(t))),p=d.coordinates,_=(0,y.default)(1.4*d.arcs.length,r,o);t=d.objects,d.bbox=u,d.arcs=d.arcs.map(function(t,e){return _.set(t,e),p.slice(t[0],t[1]+1)}),delete d.coordinates,p=null;var v={GeometryCollection:function(t){t.geometries.forEach(n)},LineString:function(t){t.arcs=i(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(i)},Polygon:function(t){t.arcs=t.arcs.map(i)},MultiPolygon:function(t){t.arcs=t.arcs.map(s)}};for(var b in t)n(t[b]);return f&&(d.transform=f,d.arcs=(0,h.default)(d.arcs)),d};var s=n(344),a=i(s),u=n(345),l=i(u),f=n(348),c=i(f),d=n(349),h=i(d),p=n(350),g=i(p),_=n(351),m=i(_),v=n(124),y=i(v),b=n(352),x=i(b)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(t){null!=t&&l.hasOwnProperty(t.type)&&l[t.type](t)}function n(t){var e=t[0],n=t[1];e<o&&(o=e),e>a&&(a=e),n<s&&(s=n),n>u&&(u=n)}function i(t){t.forEach(n)}function r(t){t.forEach(i)}var o=1/0,s=1/0,a=-1/0,u=-1/0,l={GeometryCollection:function(t){t.geometries.forEach(e)},Point:function(t){n(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(n)},LineString:function(t){i(t.arcs)},MultiLineString:function(t){t.arcs.forEach(i)},Polygon:function(t){t.arcs.forEach(i)},MultiPolygon:function(t){t.arcs.forEach(r)}};for(var f in t)e(t[f]);return a>=o&&u>=s?[o,s,a,u]:void 0}},function(t,e,n){"use strict";function i(t,e,n,i){r(t,e,n),r(t,e,e+i),r(t,e+i,n)}function r(t,e,n){for(var i,r=e+(n---e>>1);e<r;++e,--n)i=t[e],t[e]=t[n],t[n]=i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,n,r,o=(0,s.default)(t),a=t.coordinates,u=t.lines,l=t.rings;for(n=0,r=u.length;n<r;++n)for(var f=u[n],c=f[0],d=f[1];++c<d;)o.has(a[c])&&(e={0:c,1:f[1]},f[1]=c,f=f.next=e);for(n=0,r=l.length;n<r;++n)for(var h=l[n],p=h[0],g=p,_=h[1],m=o.has(a[p]);++g<_;)o.has(a[g])&&(m?(e={0:g,1:h[1]},h[1]=g,h=h.next=e):(i(a,p,_,_-g),a[_]=a[p],m=!0,g=p));return t};var o=n(346),s=function(t){return t&&t.__esModule?t:{default:t}}(o)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(t,e,n,i){if(m[n]!==t){m[n]=t;var r=v[n];if(r>=0){var o=y[n];r===e&&o===i||r===i&&o===e||(++x,b[n]=1)}else v[n]=e,y[n]=i}}function n(t){return(0,c.default)(h[t])}function i(t,e){return(0,l.default)(h[t],h[e])}var r,s,u,f,d,h=t.coordinates,p=t.lines,g=t.rings,_=function(){for(var t=(0,a.default)(1.4*h.length,n,i,Int32Array,-1,Int32Array),e=new Int32Array(h.length),r=0,o=h.length;r<o;++r)e[r]=t.maybeSet(r,r);return e}(),m=new Int32Array(h.length),v=new Int32Array(h.length),y=new Int32Array(h.length),b=new Int8Array(h.length),x=0;for(r=0,s=h.length;r<s;++r)m[r]=v[r]=y[r]=-1;for(r=0,s=p.length;r<s;++r){var E=p[r],w=E[0],M=E[1];for(f=_[w],d=_[++w],++x,b[f]=1;++w<=M;)e(r,u=f,f=d,d=_[w]);++x,b[d]=1}for(r=0,s=h.length;r<s;++r)m[r]=-1;for(r=0,s=g.length;r<s;++r){var L=g[r],P=L[0]+1,C=L[1];for(u=_[C-1],f=_[P-1],d=_[P],e(r,u,f,d);++P<=C;)e(r,u=f,f=d,d=_[P])}m=v=y=null;var I,S=(0,o.default)(1.4*x,c.default,l.default);for(r=0,s=h.length;r<s;++r)b[I=_[r]]&&S.add(h[I]);return S};var r=n(347),o=i(r),s=n(124),a=i(s),u=n(181),l=i(u),f=n(182),c=i(f)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i,r){function o(i){for(var o=e(i)&l,s=u[o],a=0;s!=r;){if(n(s,i))return!0;if(++a>=t)throw new Error("full hashset");s=u[o=o+1&l]}return u[o]=i,!0}function s(i){for(var o=e(i)&l,s=u[o],a=0;s!=r;){if(n(s,i))return!0;if(++a>=t)break;s=u[o=o+1&l]}return!1}function a(){for(var t=[],e=0,n=u.length;e<n;++e){var i=u[e];i!=r&&t.push(i)}return t}3===arguments.length&&(i=Array,r=null);for(var u=new i(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),l=t-1,f=0;f<t;++f)u[f]=r;return{add:o,has:s,values:a}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(t){var e,r,o,s,a,u,l,f;if(o=v.get(e=p[t[0]]))for(l=0,f=o.length;l<f;++l)if(s=o[l],n(s,t))return t[0]=s[0],void(t[1]=s[1]);if(a=v.get(r=p[t[1]]))for(l=0,f=a.length;l<f;++l)if(u=a[l],i(u,t))return t[1]=u[0],void(t[0]=u[1]);o?o.push(t):v.set(e,[t]),a?a.push(t):v.set(r,[t]),y.push(t)}function n(t,e){var n=t[0],i=e[0],r=t[1];if(n-r!=i-e[1])return!1;for(;n<=r;++n,++i)if(!(0,a.default)(p[n],p[i]))return!1;return!0}function i(t,e){var n=t[0],i=e[0],r=t[1],o=e[1];if(n-r!=i-o)return!1;for(;n<=r;++n,--o)if(!(0,a.default)(p[n],p[o]))return!1;return!0}function r(t,e){var n=t[0],i=e[0],r=t[1],o=e[1],s=r-n;if(s!==o-i)return!1;for(var l=u(t),f=u(e),c=0;c<s;++c)if(!(0,a.default)(p[n+(c+l)%s],p[i+(c+f)%s]))return!1;return!0}function s(t,e){var n=t[0],i=e[0],r=t[1],o=e[1],s=r-n;if(s!==o-i)return!1;for(var l=u(t),f=s-u(e),c=0;c<s;++c)if(!(0,a.default)(p[n+(c+l)%s],p[o-(c+f)%s]))return!1;return!0}function u(t){for(var e=t[0],n=t[1],i=e,r=i,o=p[i];++i<n;){var s=p[i];(s[0]<o[0]||s[0]===o[0]&&s[1]<o[1])&&(r=i,o=s)}return r-e}var f,c,d,h,p=t.coordinates,g=t.lines,_=t.rings,m=g.length+_.length;for(delete t.lines,delete t.rings,d=0,h=g.length;d<h;++d)for(f=g[d];f=f.next;)++m;for(d=0,h=_.length;d<h;++d)for(c=_[d];c=c.next;)++m;var v=(0,o.default)(2*m*1.4,l.default,a.default),y=t.arcs=[];for(d=0,h=g.length;d<h;++d){f=g[d];do{e(f)}while(f=f.next)}for(d=0,h=_.length;d<h;++d)if(c=_[d],c.next)do{e(c)}while(c=c.next);else!function(t){var e,n,i,o,a;if(n=v.get(e=p[t[0]]))for(o=0,a=n.length;o<a;++o){if(i=n[o],r(i,t))return t[0]=i[0],void(t[1]=i[1]);if(s(i,t))return t[0]=i[1],void(t[1]=i[0])}if(n=v.get(e=p[t[0]+u(t)]))for(o=0,a=n.length;o<a;++o){if(i=n[o],r(i,t))return t[0]=i[0],void(t[1]=i[1]);if(s(i,t))return t[0]=i[1],void(t[1]=i[0])}n?n.push(t):v.set(e,[t]),y.push(t)}(c);return t};var r=n(124),o=i(r),s=n(181),a=i(s),u=n(182),l=i(u)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=-1,n=t.length;++e<n;){for(var i,r,o=t[e],s=0,a=1,u=o.length,l=o[0],f=l[0],c=l[1];++s<u;)l=o[s],i=l[0],r=l[1],i===f&&r===c||(o[a++]=[i-f,r-c],f=i,c=r);1===a&&(o[a++]=[0,0]),o.length=a}return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(t){t&&l.hasOwnProperty(t.type)&&l[t.type](t)}function n(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var i={0:o-n+1,1:o};return s.push(i),i}function i(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var i={0:o-n+1,1:o};return a.push(i),i}function r(t){return t.map(i)}var o=-1,s=[],a=[],u=[],l={GeometryCollection:function(t){t.geometries.forEach(e)},LineString:function(t){t.arcs=n(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(n)},Polygon:function(t){t.arcs=t.arcs.map(i)},MultiPolygon:function(t){t.arcs=t.arcs.map(r)}};for(var f in t)e(t[f]);return{type:"Topology",coordinates:u,lines:s,rings:a,objects:t}}},function(t,e,n){"use strict";function i(t){return null==t?{type:null}:("FeatureCollection"===t.type?r:"Feature"===t.type?o:s)(t)}function r(t){var e={type:"GeometryCollection",geometries:t.features.map(o)};return null!=t.bbox&&(e.bbox=t.bbox),e}function o(t){var e,n=s(t.geometry);null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox);for(e in t.properties){n.properties=t.properties;break}return n}function s(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(s)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,n={};for(e in t)n[e]=i(t[e]);return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){function i(t){return[Math.round((t[0]-l)*h),Math.round((t[1]-f)*p)]}function r(t,e){for(var n,i,r,o,s,a=-1,u=0,c=t.length,d=new Array(c);++a<c;)n=t[a],o=Math.round((n[0]-l)*h),s=Math.round((n[1]-f)*p),o===i&&s===r||(d[u++]=[i=o,r=s]);for(d.length=u;u<e;)u=d.push([d[0][0],d[0][1]]);return d}function o(t){return r(t,2)}function s(t){return r(t,4)}function a(t){return t.map(s)}function u(t){null!=t&&g.hasOwnProperty(t.type)&&g[t.type](t)}var l=e[0],f=e[1],c=e[2],d=e[3],h=c-l?(n-1)/(c-l):1,p=d-f?(n-1)/(d-f):1,g={GeometryCollection:function(t){t.geometries.forEach(u)},Point:function(t){t.coordinates=i(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(i)},LineString:function(t){t.arcs=o(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(o)},Polygon:function(t){t.arcs=a(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(a)}};for(var _ in t)u(t[_]);return{scale:[1/h,1/p],translate:[l,f]}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i){var r=l(6),o=e.features.map(function(t){return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:t.properties[n]}});return r.load(o),t.features.forEach(function(t){t.properties||(t.properties={});var e=(0,s.default)(t),n=r.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}),o=[];n.forEach(function(e){(0,u.default)([e.minX,e.minY],t)&&o.push(e.property)}),t.properties[i]=o}),t}Object.defineProperty(e,"__esModule",{value:!0});var o=n(27),s=i(o),a=n(34),u=i(a),l=n(70);e.default=r},function(t,e,n){"use strict";function i(t,e){if(e=e||{},!(0,o.isObject)(e))throw new Error("options is invalid");var n=e.mutate;if(!t)throw new Error("geojson is required");return!1!==n&&void 0!==n||(t=(0,a.default)(t)),(0,r.coordEach)(t,function(t){var e=t[0],n=t[1];t[0]=n,t[1]=e}),t}Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),o=n(1),s=n(22),a=function(t){return t&&t.__esModule?t:{default:t}}(s);e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(e=e||{},!(0,p.isObject)(e))throw new Error("options is invalid");var n=e.tolerance,i=e.highQuality,r=e.mutate;if(!t)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==r&&(t=(0,d.default)(t)),(0,h.geomEach)(t,function(t){o(t,n,i)}),t}function o(t,e,n){var i=t.type;if("Point"===i||"MultiPoint"===i)return t;(0,f.default)(t,!0);var r=t.coordinates;switch(i){case"LineString":t.coordinates=s(r,e,n);break;case"MultiLineString":t.coordinates=r.map(function(t){return s(t,e,n)});break;case"Polygon":t.coordinates=a(r,e,n);break;case"MultiPolygon":t.coordinates=r.map(function(t){return a(t,e,n)})}return t}function s(t,e,n){return g(t.map(function(t){return{x:t[0],y:t[1],z:t[2]}}),e,n).map(function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]})}function a(t,e,n){return t.map(function(t){var i=t.map(function(t){return{x:t[0],y:t[1]}});if(i.length<4)throw new Error("invalid polygon");for(var r=g(i,e,n).map(function(t){return[t.x,t.y]});!u(r);)e-=.01*e,r=g(i,e,n).map(function(t){return[t.x,t.y]});return r[r.length-1][0]===r[0][0]&&r[r.length-1][1]===r[0][1]||r.push(r[0]),r})}function u(t){return!(t.length<3)&&!(3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}Object.defineProperty(e,"__esModule",{value:!0});var l=n(61),f=i(l),c=n(22),d=i(c),h=n(6),p=n(1),g=n(356);e.default=r},function(t,e,n){"use strict";var i;!function(){function r(t,e){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}function o(t,e,n){var i=e.x,r=e.y,o=n.x-i,s=n.y-r;if(0!==o||0!==s){var a=((t.x-i)*o+(t.y-r)*s)/(o*o+s*s);a>1?(i=n.x,r=n.y):a>0&&(i+=o*a,r+=s*a)}return o=t.x-i,s=t.y-r,o*o+s*s}function s(t,e){for(var n,i=t[0],o=[i],s=1,a=t.length;s<a;s++)n=t[s],r(n,i)>e&&(o.push(n),i=n);return i!==n&&o.push(n),o}function a(t,e){var n,i,r,s,a=t.length,u="undefined"!=typeof Uint8Array?Uint8Array:Array,l=new u(a),f=0,c=a-1,d=[],h=[];for(l[f]=l[c]=1;c;){for(i=0,n=f+1;n<c;n++)(r=o(t[n],t[f],t[c]))>i&&(s=n,i=r);i>e&&(l[s]=1,d.push(f,s,s,c)),c=d.pop(),f=d.pop()}for(n=0;n<a;n++)l[n]&&h.push(t[n]);return h}function u(t,e,n){var i=void 0!==e?e*e:1;return t=n?t:s(t,i),t=a(t,i)}void 0!==(i=function(){return u}.call(e,n,e,t))&&(t.exports=i)}()},function(t,e,n){"use strict";function i(t,e){if(e=e||{},!(0,r.isObject)(e))throw new Error("options is invalid");var n=e.resolution||1e4,i=e.sharpness||.85;if(!t)throw new Error("line is required");if(!(0,r.isNumber)(n))throw new Error("resolution must be an number");if(!(0,r.isNumber)(i))throw new Error("sharpness must be an number");for(var s=[],u=new a.default({points:(0,o.getGeom)(t).coordinates.map(function(t){return{x:t[0],y:t[1]}}),duration:n,sharpness:i}),l=0;l<u.duration;l+=10){var f=u.pos(l);Math.floor(l/100)%2==0&&s.push([f.x,f.y])}return(0,r.lineString)(s,t.properties)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(5),s=n(358),a=function(t){return t&&t.__esModule?t:{default:t}}(s);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(var e=0;e<this.length-1;e++){var n=this.points[e],i=this.points[e+1];this.centers.push({x:(n.x+i.x)/2,y:(n.y+i.y)/2,z:(n.z+i.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(var e=0;e<this.centers.length-1;e++){var n=this.centers[e],i=this.centers[e+1],r=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,s=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};i.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var i=0;i<this.duration;i+=10){var r=this.pos(i);Math.sqrt((r.x-n.x)*(r.x-n.x)+(r.y-n.y)*(r.y-n.y)+(r.z-n.z)*(r.z-n.z))>t&&(e.push(i),n=r)}return e},i.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},i.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var i=Math.floor((this.points.length-1)*n),r=(this.length-1)*n-i;return function(t,e,n,i,r){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:r.x*o[0]+i.x*o[1]+n.x*o[2]+e.x*o[3],y:r.y*o[0]+i.y*o[1]+n.y*o[2]+e.y*o[3],z:r.z*o[0]+i.z*o[1]+n.z*o[2]+e.z*o[3]}}(r,this.points[i],this.controls[i][1],this.controls[i+1][0],this.points[i+1])},e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i){return t=(0,u.default)(t),e=(0,u.default)(e),(0,l.featureEach)(t,function(t){t.properties||(t.properties={}),(0,l.featureEach)(e,function(e){void 0===t.properties[i]&&(0,s.default)(t,e)&&(t.properties[i]=e.properties[n])})}),t}Object.defineProperty(e,"__esModule",{value:!0});var o=n(34),s=i(o),a=n(22),u=i(a),l=n(6);e.default=r},function(t,e,n){"use strict";function i(t,e){if(!t)throw new Error("featurecollection is required");if(null===e||void 0===e)throw new Error("num is required");if("number"!=typeof e)throw new Error("num must be a number");return(0,o.featureCollection)(r(t.features,e))}function r(t,e){for(var n,i,r=t.slice(0),o=t.length,s=o-e;o-- >s;)i=Math.floor((o+1)*Math.random()),n=r[i],r[i]=r[o],r[o]=n;return r.slice(s)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1);e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=(0,f.default)(t,e),i=(0,s.default)(t,e);return(0,u.default)(t,n/2,i)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(62),s=i(o),a=n(54),u=i(a),l=n(23),f=i(l);e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){switch((0,f.getType)(t)){case"Point":return t;case"Polygon":var n=[];(0,c.coordEach)(t,function(t){n.push(t)});var i,o,a,d,h,p,g,_,m=(0,u.default)(t,e),v=m.geometry.coordinates,y=0,b=0,x=0,E=n.map(function(t){return[t[0]-v[0],t[1]-v[1]]});for(i=0;i<n.length-1;i++)o=E[i],d=o[0],p=o[1],a=E[i+1],h=a[0],g=a[1],_=d*g-h*p,x+=_,y+=(d+h)*_,b+=(p+g)*_;if(0===x)return m;var w=.5*x,M=1/(6*w);return(0,l.point)([v[0]+M*y,v[1]+M*b],e);default:var L=(0,s.default)(t);return L?r(L,e):(0,u.default)(t,e)}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(173),s=i(o),a=n(71),u=i(a),l=n(1),f=n(5),c=n(6);e.default=r},function(t,e,n){"use strict";function i(t){function e(t,e,i){i?n[e].coordinates=n[e].coordinates.concat(t.geometry.coordinates):n[e].coordinates.push(t.geometry.coordinates),n[e].properties.push(t.properties)}var n={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},i=Object.keys(n).reduce(function(t,e){return t[e.replace("Multi","")]=e,t},{});return(0,o.featureEach)(t,function(t){t.geometry&&(n[t.geometry.type]?e(t,t.geometry.type,!0):i[t.geometry.type]&&e(t,i[t.geometry.type],!1))}),(0,r.featureCollection)(Object.keys(n).filter(function(t){return n[t].coordinates.length}).sort().map(function(t){var e={type:t,coordinates:n[t].coordinates},i={collectedProperties:n[t].properties};return(0,r.feature)(e,i)}))}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(6);e.default=i},function(t,e,n){"use strict";function i(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=r(t.geometry.coordinates):t.geometry.coordinates.forEach(function(t){e.features=e.features.concat(r(t))}),e}function r(t){var e=o(t),n=a(e.vertices,e.holes,2),i=[],r=[];n.forEach(function(t,i){var o=n[i];r.push([e.vertices[2*o],e.vertices[2*o+1]])});for(var u=0;u<r.length;u+=3){var l=r.slice(u,u+3);l.push(r[u]),i.push((0,s.polygon)([l]))}return i}function o(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[r][o][s]);r>0&&(i+=t[r-1].length,n.holes.push(i))}return n}Object.defineProperty(e,"__esModule",{value:!0});var s=n(1),a=n(365);e.default=i},function(t,e,n){"use strict";function i(t,e,n){n=n||2;var i=e&&e.length,o=i?e[0]*n:t.length,a=r(t,0,o,n,!0),u=[];if(!a)return u;var l,f,d,h,p,g,_;if(i&&(a=c(t,e,a,n)),t.length>80*n){l=d=t[0],f=h=t[1];for(var m=n;m<o;m+=n)p=t[m],g=t[m+1],p<l&&(l=p),g<f&&(f=g),p>d&&(d=p),g>h&&(h=g);_=Math.max(d-l,h-f),_=0!==_?1/_:0}return s(a,u,n,l,f,_),u}function r(t,e,n,i,r){var o,s;if(r===N(t,e,n,i)>0)for(o=e;o<n;o+=i)s=I(o,t[o],t[o+1],s);else for(o=n-i;o>=e;o-=i)s=I(o,t[o],t[o+1],s);return s&&E(s,s.next)&&(S(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!E(i,i.next)&&0!==x(i.prev,i,i.next))i=i.next;else{if(S(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function s(t,e,n,i,r,c,d){if(t){!d&&c&&g(t,i,r,c);for(var h,p,_=t;t.prev!==t.next;)if(h=t.prev,p=t.next,c?u(t,i,r,c):a(t))e.push(h.i/n),e.push(t.i/n),e.push(p.i/n),S(t),t=p.next,_=p.next;else if((t=p)===_){d?1===d?(t=l(t,e,n),s(t,e,n,i,r,c,2)):2===d&&f(t,e,n,i,r,c):s(o(t),e,n,i,r,c,1);break}}}function a(t){var e=t.prev,n=t,i=t.next;if(x(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(y(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&x(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function u(t,e,n,i){var r=t.prev,o=t,s=t.next;if(x(r,o,s)>=0)return!1;for(var a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,u=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,l=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,f=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,c=m(a,u,e,n,i),d=m(l,f,e,n,i),h=t.nextZ;h&&h.z<=d;){if(h!==t.prev&&h!==t.next&&y(r.x,r.y,o.x,o.y,s.x,s.y,h.x,h.y)&&x(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(h=t.prevZ;h&&h.z>=c;){if(h!==t.prev&&h!==t.next&&y(r.x,r.y,o.x,o.y,s.x,s.y,h.x,h.y)&&x(h.prev,h,h.next)>=0)return!1;h=h.prevZ}return!0}function l(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;!E(r,o)&&w(r,i,i.next,o)&&L(r,o)&&L(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),S(i),S(i.next),i=t=o),i=i.next}while(i!==t);return i}function f(t,e,n,i,r,a){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&b(u,l)){var f=C(u,l);return u=o(u,u.next),f=o(f,f.next),s(u,e,n,i,r,a),void s(f,e,n,i,r,a)}l=l.next}u=u.next}while(u!==t)}function c(t,e,n,i){var s,a,u,l,f,c=[];for(s=0,a=e.length;s<a;s++)u=e[s]*i,l=s<a-1?e[s+1]*i:t.length,f=r(t,u,l,i,!1),f===f.next&&(f.steiner=!0),c.push(v(f));for(c.sort(d),s=0;s<c.length;s++)h(c[s],n),n=o(n,n.next);return n}function d(t,e){return t.x-e.x}function h(t,e){if(e=p(t,e)){var n=C(e,t);o(n,n.next)}}function p(t,e){var n,i=e,r=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=r&&a>s){if(s=a,a===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===s)return n.prev;var u,l=n,f=n.x,c=n.y,d=1/0;for(i=n.next;i!==l;)r>=i.x&&i.x>=f&&r!==i.x&&y(o<c?r:s,o,f,c,o<c?s:r,o,i.x,i.y)&&((u=Math.abs(o-i.y)/(r-i.x))<d||u===d&&i.x>n.x)&&L(i,t)&&(n=i,d=u),i=i.next;return n}function g(t,e,n,i){var r=t;do{null===r.z&&(r.z=m(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,_(r)}function _(t){var e,n,i,r,o,s,a,u,l=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,i=n,a=0,e=0;e<l&&(a++,i=i.nextZ);e++);for(u=l;a>0||u>0&&i;)0!==a&&(0===u||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,u--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,l*=2}while(s>1);return t}function m(t,e,n,i,r){return t=32767*(t-n)*r,e=32767*(e-i)*r,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function v(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function y(t,e,n,i,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(r-s)*(i-a)>=0}function b(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!M(t,e)&&L(t,e)&&L(e,t)&&P(t,e)}function x(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function E(t,e){return t.x===e.x&&t.y===e.y}function w(t,e,n,i){return!!(E(t,e)&&E(n,i)||E(t,i)&&E(n,e))||x(t,e,n)>0!=x(t,e,i)>0&&x(n,i,t)>0!=x(n,i,e)>0}function M(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&w(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function L(t,e){return x(t.prev,t,t.next)<0?x(t,e,t.next)>=0&&x(t,t.prev,e)>=0:x(t,e,t.prev)<0||x(t,t.next,e)<0}function P(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}function C(t,e){var n=new O(t.i,t.x,t.y),i=new O(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function I(t,e,n,i){var r=new O(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function S(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function O(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function N(t,e,n,i){for(var r=0,o=e,s=n-i;o<n;o+=i)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}t.exports=i,t.exports.default=i,i.deviation=function(t,e,n,i){var r=e&&e.length,o=r?e[0]*n:t.length,s=Math.abs(N(t,0,o,n));if(r)for(var a=0,u=e.length;a<u;a++){var l=e[a]*n,f=a<u-1?e[a+1]*n:t.length;s-=Math.abs(N(t,l,f,n))}var c=0;for(a=0;a<i.length;a+=3){var d=i[a]*n,h=i[a+1]*n,p=i[a+2]*n;c+=Math.abs((t[d]-t[p])*(t[h+1]-t[d+1])-(t[d]-t[h])*(t[p+1]-t[d+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},i.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[r][o][s]);r>0&&(i+=t[r-1].length,n.holes.push(i))}return n}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PrecisionModel=e.IntersectionMatrix=e.Dimension=e.MultiPolygon=e.MultiLineString=e.MultiPoint=e.GeometryCollection=e.Polygon=e.LinearRing=e.LineString=e.Point=e.Geometry=e.GeometryFactory=e.LineSegment=e.Envelope=e.CoordinateList=e.Coordinate=void 0;var r=n(3),o=i(r),s=n(24),a=i(s),u=n(11),l=i(u),f=n(18),c=i(f),d=n(19),h=i(d),p=n(16),g=i(p),_=n(32),m=i(_),v=n(13),y=i(v),b=n(38),x=i(b),E=n(20),w=i(E),M=n(17),L=i(M),P=n(50),C=i(P),I=n(37),S=i(I),O=n(39),N=i(O),T=n(47),R=i(T),A=n(195),D=i(A),k=n(66),j=i(k);e.Coordinate=o.default,e.CoordinateList=a.default,e.Envelope=l.default,e.LineSegment=c.default,e.GeometryFactory=h.default,e.Geometry=g.default,e.Point=m.default,e.LineString=y.default,e.LinearRing=x.default,e.Polygon=w.default,e.GeometryCollection=L.default,e.MultiPoint=C.default,e.MultiLineString=S.default,e.MultiPolygon=N.default,e.Dimension=R.default,e.IntersectionMatrix=D.default,e.PrecisionModel=j.default},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{interfaces_:function(){return[]},getClass:function(){return i}}),i.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(0===arguments.length)u.default.call(this);else if(1===arguments.length){var t=arguments[0];u.default.call(this,t)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(55),u=i(a);(0,i(n(4)).default)(r,u.default),(0,s.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){this.message=t||""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype=new Error,i.prototype.name="IndexOutOfBoundsException"},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new f.default,this._intPt[1]=new f.default,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(43),s=i(o),a=n(36),u=i(a),l=n(3),f=i(l),c=n(0),d=i(c),h=n(7),p=i(h);(0,d.default)(r.prototype,{getIndexAlongSegment:function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},getTopologySummary:function(){var t=new s.default;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},computeIntersection:function(t,e,n,i){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=i,this._result=this.computeIntersect(t,e,n,i)},getIntersectionNum:function(){return this._result},computeIntLineIndex:function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0],e=this.getEdgeDistance(t,0),n=this.getEdgeDistance(t,1);e>n?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},isProper:function(){return this.hasIntersection()&&this._isProper},setPrecisionModel:function(t){this._precisionModel=t},isInteriorIntersection:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},getIntersection:function(t){return this._intPt[t]},isEndPoint:function(){return this.hasIntersection()&&!this._isProper},hasIntersection:function(){return this._result!==r.NO_INTERSECTION},getEdgeDistance:function(t,e){return r.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},isCollinear:function(){return this._result===r.COLLINEAR_INTERSECTION},toString:function(){return u.default.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+u.default.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},getEndpoint:function(t,e){return this._inputLines[t][e]},isIntersection:function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},getIntersectionAlongSegment:function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},interfaces_:function(){return[]},getClass:function(){return r}}),r.computeEdgeDistance=function(t,e,n){var i=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=i>r?i:r;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);o=i>r?s:a,0!==o||t.equals(e)||(o=Math.max(s,a))}return p.default.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},r.nonRobustComputeEdgeDistance=function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=Math.sqrt(i*i+r*r);return p.default.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},r.DONT_INTERSECT=0,r.DO_INTERSECT=1,r.COLLINEAR=2,r.NO_INTERSECTION=0,r.POINT_INTERSECTION=1,r.COLLINEAR_INTERSECTION=2},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(190),o=function(t){return t&&t.__esModule?t:{default:t}}(r);i.prototype=new o.default},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(191),o=function(t){return t&&t.__esModule?t:{default:t}}(r);i.prototype=new o.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(374),s=i(o),a=n(375),u=i(a),l=n(376),f=i(l),c=n(0),d=i(c),h=n(30),p=i(h),g=n(2),_=i(g),m=n(377),v=i(m),y=n(7),b=i(y),x=n(378),E=i(x),w=n(379),M=i(w);(0,d.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.chars=function(t,e){for(var n=new Array(e).fill(null),i=0;i<e;i++)n[i]=t;return new String(n)},r.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new v.default,n=new s.default(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var i=arguments[0],o=arguments[1],a="",l=new u.default(r.getStackTrace(i)),f=new M.default(l),c=0;c<o;c++)try{a+=f.readLine()+r.NEWLINE}catch(t){if(!(t instanceof E.default))throw t;b.default.shouldNeverReachHere()}return a}},r.split=function(t,e){for(var n=e.length,i=new _.default,r=""+t,o=r.indexOf(e);o>=0;){var s=r.substring(0,o);i.add(s),r=r.substring(o+n),o=r.indexOf(e)}r.length>0&&i.add(r);for(var a=new Array(i.size()).fill(null),u=0;u<a.length;u++)a[u]=i.get(u);return a},r.toString=function(){if(1===arguments.length){var t=arguments[0];return r.SIMPLE_ORDINATE_FORMAT.format(t)}},r.spaces=function(t){return r.chars(" ",t)},r.NEWLINE=p.default.getProperty("line.separator"),r.SIMPLE_ORDINATE_FORMAT=new f.default("0.#")},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(189),s=i(o),a=n(9),u=i(a),l=n(79),f=i(l),c=n(0),d=i(c),h=n(46),p=i(h),g=n(28),_=i(g);(0,d.default)(r.prototype,{readResolve:function(){return r.instance()},create:function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new f.default(t)}if((0,u.default)(arguments[0],p.default)){var e=arguments[0];return new f.default(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return i>3&&(i=3),i<2?new f.default(n):new f.default(n,i)}},interfaces_:function(){return[s.default,_.default]},getClass:function(){return r}}),r.instance=function(){return r.instanceObject},r.serialVersionUID=-0x38e49fa6cf6f2e00,r.instanceObject=new r},function(t,e,n){"use strict";function i(t,e){return t===e||t!==t&&e!==e}function r(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}function o(t){return this.has(t)&&(this._keys.splice(m,1),this._values.splice(m,1),this._itp.forEach(function(t){m<t[0]&&t[0]--})),m>-1}function s(t){return this.has(t)?this._values[m]:void 0}function a(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!==e||0===e)for(m=t.length;m--&&!i(t[m],e););else m=t.indexOf(e);return m>-1}function u(t){return a.call(this,this._keys,t)}function l(t,e){return this.has(t)?this._values[m]=e:this._values[this._keys.push(t)-1]=e,this}function f(){(this._keys||0).length=this._values.length=0}function c(){return p(this._itp,this._keys)}function d(){return p(this._itp,this._values)}function h(){return p(this._itp,this._keys,this._values)}function p(t,e,n){var i=[0],r=!1;return t.push(i),{next:function(){var o,s=i[0];return!r&&s<e.length?(o=n?[e[s],n[s]]:e[s],i[0]++):(r=!0,t.splice(t.indexOf(i),1)),{done:r,value:o}}}}function g(){return this._values.length}function _(t,e){for(var n=this.entries();;){var i=n.next();if(i.done)break;t.call(e,i.value[1],i.value[0],this)}}Object.defineProperty(e,"__esModule",{value:!0});var m,v=Object.defineProperty;e.default=function(t,e){function n(t){if(!this||this.constructor!==n)return new n(t);this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,t&&r.call(this,t)}return e||v(t,"size",{get:g}),t.constructor=n,n.prototype=t,n}({delete:o,has:u,get:s,set:l,keys:c,values:d,entries:h,forEach:_,clear:f})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.MinimumDiameter=e.MinimumBoundingCircle=e.MCPointInRing=e.RobustLineIntersector=e.InteriorPointPoint=e.InteriorPointLine=e.InteriorPointArea=e.ConvexHull=e.CGAlgorithms=e.Centroid=void 0;var r=n(383),o=i(r),s=n(12),a=i(s),u=n(135),l=i(u),f=n(386),c=i(f),d=n(427),h=i(d),p=n(428),g=i(p),_=n(29),m=i(_),v=n(214),y=i(v),b=n(434),x=i(b),E=n(435),w=i(E);e.Centroid=o.default,e.CGAlgorithms=a.default,e.ConvexHull=l.default,e.InteriorPointArea=c.default,e.InteriorPointLine=h.default,e.InteriorPointPoint=g.default,e.RobustLineIntersector=m.default,e.MCPointInRing=y.default,e.MinimumBoundingCircle=x.default,e.MinimumDiameter=w.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._areaBasePt=null,this._triangleCent3=new d.default,this._areasum2=0,this._cg3=new d.default,this._lineCentSum=new d.default,this._totalLength=0,this._ptCount=0,this._ptCentSum=new d.default;var t=arguments[0];this._areaBasePt=null,this.add(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(13),s=i(o),a=n(12),u=i(a),l=n(16),f=i(l),c=n(3),d=i(c),h=n(32),p=i(h),g=n(20),_=i(g),m=n(0),v=i(m),y=n(17),b=i(y);(0,v.default)(r.prototype,{addPoint:function(t){this._ptCount+=1,this._ptCentSum.x+=t.x,this._ptCentSum.y+=t.y},setBasePoint:function(t){null===this._areaBasePt&&(this._areaBasePt=t)},addLineSegments:function(t){for(var e=0,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);if(0!==i){e+=i;var r=(t[n].x+t[n+1].x)/2;this._lineCentSum.x+=i*r;var o=(t[n].y+t[n+1].y)/2;this._lineCentSum.y+=i*o}}this._totalLength+=e,0===e&&t.length>0&&this.addPoint(t[0])},addHole:function(t){for(var e=u.default.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this._areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},getCentroid:function(){var t=new d.default;if(Math.abs(this._areasum2)>0)t.x=this._cg3.x/3/this._areasum2,t.y=this._cg3.y/3/this._areasum2;else if(this._totalLength>0)t.x=this._lineCentSum.x/this._totalLength,t.y=this._lineCentSum.y/this._totalLength;else{if(!(this._ptCount>0))return null;t.x=this._ptCentSum.x/this._ptCount,t.y=this._ptCentSum.y/this._ptCount}return t},addShell:function(t){t.length>0&&this.setBasePoint(t[0]);for(var e=!u.default.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this._areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},addTriangle:function(t,e,n,i){var o=i?1:-1;r.centroid3(t,e,n,this._triangleCent3);var s=r.area2(t,e,n);this._cg3.x+=o*s*this._triangleCent3.x,this._cg3.y+=o*s*this._triangleCent3.y,this._areasum2+=o*s},add:function(){if(arguments[0]instanceof _.default){var t=arguments[0];this.addShell(t.getExteriorRing().getCoordinates());for(var e=0;e<t.getNumInteriorRing();e++)this.addHole(t.getInteriorRingN(e).getCoordinates())}else if(arguments[0]instanceof f.default){var n=arguments[0];if(n.isEmpty())return null;if(n instanceof p.default)this.addPoint(n.getCoordinate());else if(n instanceof s.default)this.addLineSegments(n.getCoordinates());else if(n instanceof _.default){var i=n;this.add(i)}else if(n instanceof b.default)for(var r=n,e=0;e<r.getNumGeometries();e++)this.add(r.getGeometryN(e))}},interfaces_:function(){return[]},getClass:function(){return r}}),r.area2=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y)},r.centroid3=function(t,e,n,i){return i.x=t.x+e.x+n.x,i.y=t.y+e.y+n.y,null},r.getCentroid=function(t){return new r(t).getCentroid()}},function(t,e,n){"use strict";function i(t){this.message=t||""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype=new Error,i.prototype.name="EmptyStackException"},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.treeSet=new s.default,this.list=new d.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(57),s=i(o),a=n(65),u=i(a),l=n(0),f=i(l),c=n(2),d=i(c);(0,f.default)(r.prototype,{filter:function(t){this.treeSet.contains(t)||(this.list.add(t),this.treeSet.add(t))},getCoordinates:function(){var t=new Array(this.list.size()).fill(null);return this.list.toArray(t)},interfaces_:function(){return[u.default]},getClass:function(){return r}}),r.filterCoordinates=function(t){for(var e=new r,n=0;n<t.length;n++)e.filter(t[n]);return e.getCoordinates()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._factory=null,this._interiorPoint=null,this._maxWidth=0;var t=arguments[0];this._factory=t.getFactory(),this.add(t)}function o(){this._poly=null,this._centreY=null,this._hiY=g.default.MAX_VALUE,this._loY=-g.default.MAX_VALUE;var t=arguments[0];this._poly=t,this._hiY=t.getEnvelopeInternal().getMaxY(),this._loY=t.getEnvelopeInternal().getMinY(),this._centreY=r.avg(this._loY,this._hiY)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(16),a=i(s),u=n(3),l=i(u),f=n(20),c=i(f),d=n(100),h=i(d),p=n(15),g=i(p),_=n(0),m=i(_),v=n(17),y=i(v),b=n(51),x=i(b);(0,m.default)(r.prototype,{addPolygon:function(t){if(t.isEmpty())return null;var e=null,n=0,i=this.horizontalBisector(t);if(0===i.getLength())n=0,e=i.getCoordinate();else{var o=h.default.overlayOp(i,t,x.default.INTERSECTION),s=this.widestGeometry(o);n=s.getEnvelopeInternal().getWidth(),e=r.centre(s.getEnvelopeInternal())}(null===this._interiorPoint||n>this._maxWidth)&&(this._interiorPoint=e,this._maxWidth=n)},getInteriorPoint:function(){return this._interiorPoint},widestGeometry:function(){if(arguments[0]instanceof y.default){var t=arguments[0];if(t.isEmpty())return t;for(var e=t.getGeometryN(0),n=1;n<t.getNumGeometries();n++)t.getGeometryN(n).getEnvelopeInternal().getWidth()>e.getEnvelopeInternal().getWidth()&&(e=t.getGeometryN(n));return e}if(arguments[0]instanceof a.default){var i=arguments[0];return i instanceof y.default?this.widestGeometry(i):i}},horizontalBisector:function(t){var e=t.getEnvelopeInternal(),n=o.getBisectorY(t);return this._factory.createLineString([new l.default(e.getMinX(),n),new l.default(e.getMaxX(),n)])},add:function(t){if(t instanceof c.default)this.addPolygon(t);else if(t instanceof y.default)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))},interfaces_:function(){return[]},getClass:function(){return r}}),r.centre=function(t){return new l.default(r.avg(t.getMinX(),t.getMaxX()),r.avg(t.getMinY(),t.getMaxY()))},r.avg=function(t,e){return(t+e)/2},(0,m.default)(o.prototype,{updateInterval:function(t){t<=this._centreY?t>this._loY&&(this._loY=t):t>this._centreY&&t<this._hiY&&(this._hiY=t)},getBisectorY:function(){this.process(this._poly.getExteriorRing());for(var t=0;t<this._poly.getNumInteriorRing();t++)this.process(this._poly.getInteriorRingN(t));return r.avg(this._hiY,this._loY)},process:function(t){for(var e=t.getCoordinateSequence(),n=0;n<e.size();n++){var i=e.getY(n);this.updateInterval(i)}},interfaces_:function(){return[]},getClass:function(){return o}}),o.getBisectorY=function(t){return new o(t).getBisectorY()},r.SafeBisectorFinder=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null;var t=arguments[0],e=arguments[1];this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(388),s=i(o),a=n(0),u=i(a),l=n(30),f=i(l),c=n(390),d=i(c),h=n(51),p=i(h);(0,u.default)(r.prototype,{selfSnap:function(t){return new s.default(t).snapTo(t,this._snapTolerance)},removeCommonBits:function(t){this._cbr=new d.default,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},prepareResult:function(t){return this._cbr.addCommonBits(t),t},getResultGeometry:function(t){var e=this.snap(this._geom),n=p.default.overlayOp(e[0],e[1],t);return this.prepareResult(n)},checkValid:function(t){t.isValid()||f.default.out.println("Snapped geometry is invalid")},computeSnapTolerance:function(){this._snapTolerance=s.default.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},snap:function(t){var e=this.removeCommonBits(t);return s.default.snap(e[0],e[1],this._snapTolerance)},interfaces_:function(){return[]},getClass:function(){return r}}),r.overlayOp=function(t,e,n){return new r(t,e).getResultGeometry(n)},r.union=function(t,e){return r.overlayOp(t,e,p.default.UNION)},r.intersection=function(t,e){return r.overlayOp(t,e,p.default.INTERSECTION)},r.symDifference=function(t,e){return r.overlayOp(t,e,p.default.SYMDIFFERENCE)},r.difference=function(t,e){return r.overlayOp(t,e,p.default.DIFFERENCE)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._srcGeom=null;var t=arguments[0];this._srcGeom=t}function o(){if(l.default.apply(this),this._snapTolerance=null,this._snapPts=null,this._isSelfSnap=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._snapTolerance=t,this._snapPts=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._snapTolerance=n,this._snapPts=i,this._isSelfSnap=r}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(57),a=i(s),u=n(101),l=i(u),f=n(9),c=i(f),d=n(15),h=i(d),p=n(0),g=i(p),_=n(389),m=i(_),v=n(66),y=i(v),b=n(49),x=i(b),E=n(4),w=i(E);(0,g.default)(r.prototype,{snapTo:function(t,e){return new o(e,this.extractTargetCoordinates(t)).transform(this._srcGeom)},snapToSelf:function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),i=new o(t,n,!0),r=i.transform(this._srcGeom),s=r;return e&&(0,c.default)(s,x.default)&&(s=r.buffer(0)),s},computeSnapTolerance:function(t){return this.computeMinimumSegmentLength(t)/10},extractTargetCoordinates:function(t){for(var e=new a.default,n=t.getCoordinates(),i=0;i<n.length;i++)e.add(n[i]);return e.toArray(new Array(0).fill(null))},computeMinimumSegmentLength:function(t){for(var e=h.default.MAX_VALUE,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);i<e&&(e=i)}return e},interfaces_:function(){return[]},getClass:function(){return r}}),r.snap=function(t,e,n){var i=new Array(2).fill(null),o=new r(t);i[0]=o.snapTo(e,n);var s=new r(e);return i[1]=s.snapTo(i[0],n),i},r.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=r.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===y.default.FIXED){var i=1/n.getScale()*2/1.415;i>e&&(e=i)}return e}if(2===arguments.length){var o=arguments[0],s=arguments[1];return Math.min(r.computeOverlaySnapTolerance(o),r.computeOverlaySnapTolerance(s))}},r.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*r.SNAP_PRECISION_FACTOR},r.snapToSelf=function(t,e,n){return new r(t).snapToSelf(e,n)},r.SNAP_PRECISION_FACTOR=1e-9,(0,w.default)(o,l.default),(0,g.default)(o.prototype,{snapLine:function(t,e){var n=new m.default(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),i=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(i)},interfaces_:function(){return[]},getClass:function(){return o}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new _.default,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof s.default&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];r.call(this,t.getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this._srcPts=n,this._isClosed=r.isClosed(n),this._snapTolerance=i}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(13),s=i(o),a=n(24),u=i(a),l=n(3),f=i(l),c=n(15),d=i(c),h=n(0),p=i(h),g=n(18),_=i(g);(0,p.default)(r.prototype,{snapVertices:function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),i=0;i<n;i++){var r=t.get(i),o=this.findSnapForVertex(r,e);null!==o&&(t.set(i,new f.default(o)),0===i&&this._isClosed&&t.set(t.size()-1,new f.default(o)))}},findSnapForVertex:function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},snapTo:function(t){var e=new u.default(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},snapSegments:function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var i=0;i<n;i++){var r=e[i],o=this.findSegmentIndexToSnap(r,t);o>=0&&t.add(o+1,new f.default(r),!1)}},findSegmentIndexToSnap:function(t,e){for(var n=d.default.MAX_VALUE,i=-1,r=0;r<e.size()-1;r++){if(this._seg.p0=e.get(r),this._seg.p1=e.get(r+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,i=r)}return i},setAllowSnappingToSourceVertices:function(t){this._allowSnappingToSourceVertices=t},interfaces_:function(){return[]},getClass:function(){return r}}),r.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._commonCoord=null,this._ccFilter=new o}function o(){this._commonBitsX=new u.default,this._commonBitsY=new u.default}function s(){this.trans=null;var t=arguments[0];this.trans=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=n(391),u=i(a),l=n(65),f=i(l),c=n(3),d=i(c),h=n(0),p=i(h),g=n(78),_=i(g);(0,p.default)(r.prototype,{addCommonBits:function(t){var e=new s(this._commonCoord);t.apply(e),t.geometryChanged()},removeCommonBits:function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new d.default(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new s(e);return t.apply(n),t.geometryChanged(),t},getCommonCoordinate:function(){return this._commonCoord},add:function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},interfaces_:function(){return[]},getClass:function(){return r}}),(0,p.default)(o.prototype,{filter:function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},getCommonCoordinate:function(){return new d.default(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},interfaces_:function(){return[f.default]},getClass:function(){return o}}),(0,p.default)(s.prototype,{filter:function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,i=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,i)},isDone:function(){return!1},isGeometryChanged:function(){return!0},interfaces_:function(){return[_.default]},getClass:function(){return s}}),r.CommonCoordinateFilter=o,r.Translater=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(15),s=i(o);(0,i(n(0)).default)(r.prototype,{getCommon:function(){return s.default.longBitsToDouble(this._commonBits)},add:function(t){var e=s.default.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=r.signExpBits(this._commonBits),this._isFirst=!1,null):r.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=r.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=r.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},toString:function(){if(1===arguments.length){var t=arguments[0],e=s.default.longBitsToDouble(t),n=Long.toBinaryString(t),i="0000000000000000000000000000000000000000000000000000000000000000"+n,r=i.substring(i.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+e+" ]"}},interfaces_:function(){return[]},getClass:function(){return r}}),r.getBit=function(t,e){return 0!=(t&1<<e)?1:0},r.signExpBits=function(t){return t>>52},r.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},r.numCommonMostSigMantissaBits=function(t,e){for(var n=0,i=52;i>=0;i--){if(r.getBit(t,i)!==r.getBit(e,i))return n;n++}return 52}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._nv=null;var t=arguments[0];this._nv=new f.default(r.toSegmentStrings(t))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(393),s=i(o),a=n(0),u=i(a),l=n(394),f=i(l),c=n(2),d=i(c);(0,u.default)(r.prototype,{checkValid:function(){this._nv.checkValid()},interfaces_:function(){return[]},getClass:function(){return r}}),r.toSegmentStrings=function(t){for(var e=new d.default,n=t.iterator();n.hasNext();){var i=n.next();e.add(new s.default(i.getCoordinates(),i))}return e},r.checkValid=function(t){new r(t).checkValid()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(36),s=i(o),a=n(79),u=i(a),l=n(197),f=i(l),c=n(0),d=i(c),h=n(136),p=i(h);(0,d.default)(r.prototype,{getCoordinates:function(){return this._pts},size:function(){return this._pts.length},getCoordinate:function(t){return this._pts[t]},isClosed:function(){return this._pts[0].equals(this._pts[this._pts.length-1])},getSegmentOctant:function(t){return t===this._pts.length-1?-1:f.default.octant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this._data=t},getData:function(){return this._data},toString:function(){return s.default.toLineString(new u.default(this._pts))},interfaces_:function(){return[p.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._li=new p.default,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(36),s=i(o),a=n(102),u=i(a),l=n(52),f=i(l),c=n(0),d=i(c),h=n(29),p=i(h),g=n(406),_=i(g);(0,d.default)(r.prototype,{execute:function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},getIntersections:function(){return this._segInt.getIntersections()},isValid:function(){return this.execute(),this._isValid},setFindAllIntersections:function(t){this._findAllIntersections=t},checkInteriorIntersections:function(){this._isValid=!0,this._segInt=new _.default(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new u.default;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},checkValid:function(){if(this.execute(),!this._isValid)throw new f.default(this.getErrorMessage(),this._segInt.getInteriorIntersection())},getErrorMessage:function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+s.default.toLineString(t[0],t[1])+" and "+s.default.toLineString(t[2],t[3])},interfaces_:function(){return[]},getClass:function(){return r}}),r.computeIntersections=function(t){var e=new r(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._size=null,this._items=null,this._size=0,this._items=new u.default,this._items.add(null)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(2),u=i(a);(0,s.default)(r.prototype,{poll:function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},size:function(){return this._size},reorder:function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&(e=2*t,e!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},clear:function(){this._size=0,this._items.clear()},isEmpty:function(){return 0===this._size},add:function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(10),s=i(o),a=n(137),u=i(a),l=n(0),f=i(l),c=n(26),d=i(c);(0,f.default)(r.prototype,{expandToQueue:function(t,e){var n=r.isComposite(this._boundable1),i=r.isComposite(this._boundable2);if(n&&i)return r.area(this._boundable1)>r.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(i)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new s.default("neither boundable is composite")},isLeaves:function(){return!(r.isComposite(this._boundable1)||r.isComposite(this._boundable2))},compareTo:function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},expand:function(t,e,n,i){for(var o=t.getChildBoundables(),s=o.iterator();s.hasNext();){var a=s.next(),u=new r(a,e,this._itemDistance);u.getDistance()<i&&n.add(u)}},getBoundable:function(t){return 0===t?this._boundable1:this._boundable2},getDistance:function(){return this._distance},distance:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},interfaces_:function(){return[d.default]},getClass:function(){return r}}),r.area=function(t){return t.getBounds().getArea()},r.isComposite=function(t){return t instanceof u.default}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._root=null,this._built=!1,this._itemBoundables=new y.default,this._nodeCapacity=null,0===arguments.length)r.call(this,r.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];w.default.isTrue(t>1,"Node capacity must be greater than 1"),this._nodeCapacity=t}}function o(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(198),a=i(s),u=n(9),l=i(u),f=n(67),c=i(f),d=n(137),h=i(d),p=n(0),g=i(p),_=n(45),m=i(_),v=n(2),y=i(v),b=n(28),x=i(b),E=n(7),w=i(E),M=n(42),L=i(M);(0,g.default)(r.prototype,{getNodeCapacity:function(){return this._nodeCapacity},lastNode:function(t){return t.get(t.size()-1)},size:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=arguments[0],e=0,n=t.getChildBoundables().iterator();n.hasNext();){var i=n.next();i instanceof h.default?e+=this.size(i):i instanceof a.default&&(e+=1)}return e}},removeItem:function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof a.default&&r.getItem()===e&&(n=r)}return null!==n&&(t.getChildBoundables().remove(n),!0)},itemsTree:function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new y.default:t}if(1===arguments.length){for(var e=arguments[0],n=new y.default,i=e.getChildBoundables().iterator();i.hasNext();){var r=i.next();if(r instanceof h.default){var o=this.itemsTree(r);null!==o&&n.add(o)}else r instanceof a.default?n.add(r.getItem()):w.default.shouldNeverReachHere()}return n.size()<=0?null:n}},insert:function(t,e){w.default.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new a.default(t,e))},boundablesAtLevel:function(){if(1===arguments.length){var t=arguments[0],e=new y.default;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(w.default.isTrue(n>-2),i.getLevel()===n)return r.add(i),null;for(var o=i.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof h.default?this.boundablesAtLevel(n,s,r):(w.default.isTrue(s instanceof a.default),-1===n&&r.add(s))}return null}},query:function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new y.default;return this.isEmpty()?e:(this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e)}if(2===arguments.length){var n=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,i)}else if(3===arguments.length)if((0,l.default)(arguments[2],c.default)&&arguments[0]instanceof Object&&arguments[1]instanceof h.default)for(var r=arguments[0],o=arguments[1],s=arguments[2],u=o.getChildBoundables(),f=0;f<u.size();f++){var d=u.get(f);this.getIntersectsOp().intersects(d.getBounds(),r)&&(d instanceof h.default?this.query(r,d,s):d instanceof a.default?s.visitItem(d.getItem()):w.default.shouldNeverReachHere())}else if((0,l.default)(arguments[2],L.default)&&arguments[0]instanceof Object&&arguments[1]instanceof h.default)for(var p=arguments[0],g=arguments[1],_=arguments[2],u=g.getChildBoundables(),f=0;f<u.size();f++){var d=u.get(f);this.getIntersectsOp().intersects(d.getBounds(),p)&&(d instanceof h.default?this.query(p,d,_):d instanceof a.default?_.add(d.getItem()):w.default.shouldNeverReachHere())}},build:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},getRoot:function(){return this.build(),this._root},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=this.removeItem(i,r);if(o)return!0;for(var s=null,a=i.getChildBoundables().iterator();a.hasNext();){var u=a.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&(u instanceof h.default&&(o=this.remove(n,u,r)))){s=u;break}}return null!==s&&s.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(s),o}},createHigherLevels:function(t,e){w.default.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},depth:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=arguments[0],e=0,n=t.getChildBoundables().iterator();n.hasNext();){var i=n.next();if(i instanceof h.default){var r=this.depth(i);r>e&&(e=r)}}return e+1}},createParentBoundables:function(t,e){w.default.isTrue(!t.isEmpty());var n=new y.default;n.add(this.createNode(e));var i=new y.default(t);m.default.sort(i,this.getComparator());for(var r=i.iterator();r.hasNext();){var o=r.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},isEmpty:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},interfaces_:function(){return[x.default]},getClass:function(){return r}}),r.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},r.IntersectsOp=o,r.serialVersionUID=-0x35ef64c82d4c5400,r.DEFAULT_NODE_CAPACITY=10},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{distance:function(t,e){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._nodeMap=new C.default,this._edge=null;var t=arguments[0];this._edge=t}function o(){this._nodeList=null,this._edge=null,this._nodeIt=null,this._currNode=null,this._nextNode=null,this._currSegIndex=0;var t=arguments[0];this._nodeList=t,this._edge=t.getEdge(),this._nodeIt=t.iterator(),this.readNextNode()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(24),a=i(s),u=n(400),l=i(u),f=n(64),c=i(f),d=n(3),h=i(d),p=n(82),g=i(p),_=n(0),m=i(_),v=n(74),y=i(v),b=n(2),x=i(b),E=n(55),w=i(E),M=n(7),L=i(M),P=n(44),C=i(P);(0,m.default)(r.prototype,{getSplitCoordinates:function(){var t=new a.default;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next();this.addEdgeCoordinates(n,i,t),n=i}return t.toCoordinateArray()},addCollapsedNodes:function(){var t=new x.default;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();){e.next().print(t)}},findCollapsesFromExistingVertices:function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),i=(this._edge.getCoordinate(e+1),this._edge.getCoordinate(e+2));n.equals2D(i)&&t.add(new y.default(e+1))}},addEdgeCoordinates:function(t,e,n){var i=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),o=e.isInterior()||!e.coord.equals2D(r);o||i--;n.add(new h.default(t.coord),!1);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)n.add(this._edge.getCoordinate(s));o&&n.add(new h.default(e.coord))},iterator:function(){return this._nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},findCollapseIndex:function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var i=e.segmentIndex-t.segmentIndex;return e.isInterior()||i--,1===i&&(n[0]=t.segmentIndex+1,!0)},findCollapsesFromInsertedNodes:function(t){for(var e=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next();this.findCollapseIndex(i,r,e)&&t.add(new y.default(e[0])),i=r}},getEdge:function(){return this._edge},addEndpoints:function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new h.default(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return r&&(o[s]=new h.default(e.coord)),new g.default(o,this._edge.getData())},add:function(t,e){var n=new l.default(this._edge,t,e,this._edge.getSegmentOctant(e)),i=this._nodeMap.get(n);return null!==i?(L.default.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this._nodeMap.put(n,n),n)},checkSplitEdgesCorrectness:function(t){var e=this._edge.getCoordinates(),n=t.get(0),i=n.getCoordinate(0);if(!i.equals2D(e[0]))throw new w.default("bad split edge start point at "+i);var r=t.get(t.size()-1),o=r.getCoordinates(),s=o[o.length-1];if(!s.equals2D(e[e.length-1]))throw new w.default("bad split edge end point at "+s)},interfaces_:function(){return[]},getClass:function(){return r}}),(0,m.default)(o.prototype,{next:function(){return null===this._currNode?(this._currNode=this._nextNode,this._currSegIndex=this._currNode.segmentIndex,this.readNextNode(),this._currNode):null===this._nextNode?null:this._nextNode.segmentIndex===this._currNode.segmentIndex?(this._currNode=this._nextNode,this._currSegIndex=this._currNode.segmentIndex,this.readNextNode(),this._currNode):(this._nextNode.segmentIndex,this._currNode.segmentIndex,null)},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){return null!==this._nextNode},readNextNode:function(){this._nodeIt.hasNext()?this._nextNode=this._nodeIt.next():this._nextNode=null},interfaces_:function(){return[c.default]},getClass:function(){return o}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._segString=t,this.coord=new s.default(e),this.segmentIndex=n,this._segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(3),s=i(o),a=n(0),u=i(a),l=n(401),f=i(l),c=n(26),d=i(c);(0,u.default)(r.prototype,{getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},compareTo:function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:f.default.compare(this._segmentOctant,this.coord,e.coord)},isEndPoint:function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},isInterior:function(){return this._isInterior},interfaces_:function(){return[d.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(7),u=i(a);(0,s.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.relativeSign=function(t,e){return t<e?-1:t>e?1:0},r.compare=function(t,e,n){if(e.equals2D(n))return 0;var i=r.relativeSign(e.x,n.x),o=r.relativeSign(e.y,n.y);switch(t){case 0:return r.compareValue(i,o);case 1:return r.compareValue(o,i);case 2:return r.compareValue(o,-i);case 3:return r.compareValue(-i,o);case 4:return r.compareValue(-i,-o);case 5:return r.compareValue(-o,-i);case 6:return r.compareValue(-o,i);case 7:return r.compareValue(i,-o)}return u.default.shouldNeverReachHere("invalid octant value"),0},r.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(136),u=i(a);(0,s.default)(r.prototype,{addIntersection:function(t,e){},interfaces_:function(){return[u.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.tempEnv1=new f.default,this.tempEnv2=new f.default,this._overlapSeg1=new u.default,this._overlapSeg2=new u.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(18),u=i(a),l=n(11),f=i(l);(0,s.default)(r.prototype,{overlap:function(){if(2===arguments.length){arguments[0],arguments[1]}else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];t.getLineSegment(e,this._overlapSeg1),n.getLineSegment(i,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(11),u=i(a);(0,s.default)(r.prototype,{getLineSegment:function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},computeSelect:function(t,e,n,i){var r=this._pts[e],o=this._pts[n];if(i.tempEnv1.init(r,o),n-e==1)return i.select(this,e),null;if(!t.intersects(i.tempEnv1))return null;var s=Math.trunc((e+n)/2);e<s&&this.computeSelect(t,e,s,i),s<n&&this.computeSelect(t,s,n,i)},getCoordinates:function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},computeOverlaps:function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},setId:function(t){this._id=t},select:function(t,e){this.computeSelect(t,this._start,this._end,e)},getEnvelope:function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new u.default(t,e)}return this._env},getEndIndex:function(){return this._end},getStartIndex:function(){return this._start},getContext:function(){return this._context},getId:function(){return this._id},computeOverlapsInternal:function(t,e,n,i,r,o){var s=this._pts[t],a=this._pts[e],u=n._pts[i],l=n._pts[r];if(e-t==1&&r-i==1)return o.overlap(this,t,n,i),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var f=Math.trunc((t+e)/2),c=Math.trunc((i+r)/2);t<f&&(i<c&&this.computeOverlapsInternal(t,f,n,i,c,o),c<r&&this.computeOverlapsInternal(t,f,n,c,r,o)),f<e&&(i<c&&this.computeOverlapsInternal(f,e,n,i,c,o),c<r&&this.computeOverlapsInternal(f,e,n,c,r,o))},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(138),s=i(o);(0,i(n(0)).default)(r.prototype,{setSegmentIntersector:function(t){this._segInt=t},interfaces_:function(){return[s.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new f.default,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(139),u=i(a),l=n(2),f=i(l);(0,s.default)(r.prototype,{getInteriorIntersection:function(){return this._interiorIntersection},setCheckEndSegmentsOnly:function(t){this._isCheckEndSegmentsOnly=t},getIntersectionSegments:function(){return this._intSegments},count:function(){return this._intersectionCount},getIntersections:function(){return this._intersections},setFindAllIntersections:function(t){this._findAllIntersections=t},setKeepIntersections:function(t){this._keepIntersections=t},processIntersections:function(t,e,n,i){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===i)return null;if(this._isCheckEndSegmentsOnly){if(!(this.isEndSegment(t,e)||this.isEndSegment(n,i)))return null}var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=r,this._intSegments[1]=o,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},isEndSegment:function(t,e){return 0===e||e>=t.size()-2},hasIntersection:function(){return null!==this._interiorIntersection},isDone:function(){return!this._findAllIntersections&&null!==this._interiorIntersection},interfaces_:function(){return[u.default]},getClass:function(){return r}}),r.createAllIntersectionsFinder=function(t){var e=new r(t);return e.setFindAllIntersections(!0),e},r.createAnyIntersectionFinder=function(t){return new r(t)},r.createIntersectionCounter=function(t){var e=new r(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._mapOp=null;var t=arguments[0];this._mapOp=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(19),s=i(o),a=n(0),u=i(a),l=n(2),f=i(l);(0,u.default)(r.prototype,{map:function(t){for(var e=new f.default,n=0;n<t.getNumGeometries();n++){var i=this._mapOp.map(t.getGeometryN(n));i.isEmpty()||e.add(i)}return t.getFactory().createGeometryCollection(s.default.toGeometryArray(e))},interfaces_:function(){return[]},getClass:function(){return r}}),r.map=function(t,e){return new r(e).map(t)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){var t=arguments[0],e=arguments[1];u.default.call(this,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(204),u=i(a);(0,i(n(4)).default)(r,u.default),(0,s.default)(r.prototype,{setEdgeRing:function(t,e){t.setMinEdgeRing(e)},getNext:function(t){return t.getNextMin()},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.init(1),this.location[f.default.ON]=e}else if(arguments[0]instanceof r){var n=arguments[0];if(this.init(n.location.length),null!==n)for(var i=0;i<this.location.length;i++)this.location[i]=n.location[i]}}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.init(3),this.location[f.default.ON]=o,this.location[f.default.LEFT]=s,this.location[f.default.RIGHT]=a}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(43),s=i(o),a=n(14),u=i(a),l=n(21),f=i(l);(0,i(n(0)).default)(r.prototype,{setAllLocations:function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},isNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==u.default.NONE)return!1;return!0},setAllLocationsIfNull:function(t){for(var e=0;e<this.location.length;e++)this.location[e]===u.default.NONE&&(this.location[e]=t)},isLine:function(){return 1===this.location.length},merge:function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[f.default.ON]=this.location[f.default.ON],e[f.default.LEFT]=u.default.NONE,e[f.default.RIGHT]=u.default.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===u.default.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},getLocations:function(){return this.location},flip:function(){if(this.location.length<=1)return null;var t=this.location[f.default.LEFT];this.location[f.default.LEFT]=this.location[f.default.RIGHT],this.location[f.default.RIGHT]=t},toString:function(){var t=new s.default;return this.location.length>1&&t.append(u.default.toLocationSymbol(this.location[f.default.LEFT])),t.append(u.default.toLocationSymbol(this.location[f.default.ON])),this.location.length>1&&t.append(u.default.toLocationSymbol(this.location[f.default.RIGHT])),t.toString()},setLocations:function(t,e,n){this.location[f.default.ON]=t,this.location[f.default.LEFT]=e,this.location[f.default.RIGHT]=n},get:function(t){return t<this.location.length?this.location[t]:u.default.NONE},isArea:function(){return this.location.length>1},isAnyNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===u.default.NONE)return!0;return!1},setLocation:function(){if(1===arguments.length){var t=arguments[0];this.setLocation(f.default.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},init:function(t){this.location=new Array(t).fill(null),this.setAllLocations(u.default.NONE)},isEqualOnSide:function(t,e){return this.location[e]===t.location[e]},allPositionsEqual:function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new u.default,this._resultLineList=new u.default;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(2),u=i(a),l=n(7),f=i(l),c=n(51),d=i(c);(0,s.default)(r.prototype,{collectLines:function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},labelIsolatedLine:function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},build:function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},collectLineEdge:function(t,e,n){var i=t.getLabel(),r=t.getEdge();t.isLineEdge()&&(t.isVisited()||!d.default.isResultOfOp(i,e)||r.isCovered()||(n.add(r),t.setVisitedEdge(!0)))},findCoveredLineEdges:function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();){t.next().getEdges().findCoveredLineEdges()}for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getEdge();if(n.isLineEdge()&&!i.isCoveredSet()){var r=this._op.isCoveredByA(n.getCoordinate());i.setCovered(r)}}},labelIsolatedLines:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(i.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},buildLines:function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),i=(n.getLabel(),this._geometryFactory.createLineString(n.getCoordinates()));this._resultLineList.add(i),n.setInResult(!0)}},collectBoundaryTouchEdge:function(t,e,n){var i=t.getLabel();return t.isLineEdge()?null:t.isVisited()?null:t.isInteriorAreaEdge()?null:t.getEdge().isInResult()?null:(f.default.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(d.default.isResultOfOp(i,e)&&e===d.default.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._op=null,this._geometryFactory=null,this._resultPointList=new u.default;var t=arguments[0],e=arguments[1];arguments[2];this._op=t,this._geometryFactory=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(2),u=i(a),l=n(51),f=i(l);(0,s.default)(r.prototype,{filterCoveredNodeToPoint:function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},extractNonCoveredResultNodes:function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!n.isInResult()&&(!n.isIncidentEdgeInResult()&&(0===n.getEdges().getDegree()||t===f.default.INTERSECTION))){var i=n.getLabel();f.default.isResultOfOp(i,t)&&this.filterCoveredNodeToPoint(n)}}},build:function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){p.default.apply(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(14),s=i(o),a=n(21),u=i(a),l=n(52),f=i(l),c=n(0),d=i(c),h=n(207),p=i(h),g=n(30),_=i(g),m=n(35),v=i(m),y=n(2),b=i(y),x=n(58),E=i(x),w=n(7),M=i(w);(0,i(n(4)).default)(r,p.default),(0,d.default)(r.prototype,{linkResultDirectedEdges:function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,i=0;i<this._resultAreaEdgeList.size();i++){var r=this._resultAreaEdgeList.get(i),o=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new f.default("no outgoing dirEdge found",this.getCoordinate());M.default.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},insert:function(t){var e=t;this.insertEdgeEnd(e,e)},getRightmostEdge:function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var i=t.get(e-1),r=n.getQuadrant(),o=i.getQuadrant();return E.default.isNorthern(r)&&E.default.isNorthern(o)?n:E.default.isNorthern(r)||E.default.isNorthern(o)?0!==n.getDy()?n:0!==i.getDy()?i:(M.default.shouldNeverReachHere("found two horizontal edges incident on node"),null):i},print:function(t){_.default.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},getResultAreaEdges:function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new b.default;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},updateLabelling:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();i.setAllLocationsIfNull(0,t.getLocation(0)),i.setAllLocationsIfNull(1,t.getLocation(1))}},linkAllDirectedEdges:function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var i=this._edgeList.get(n),r=i.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=i}e.setNext(t)},computeDepths:function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=(t.getLabel(),t.getDepth(u.default.LEFT)),i=t.getDepth(u.default.RIGHT),r=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,r)!==i)throw new f.default("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[0],s=arguments[1],a=arguments[2],l=a,c=o;c<s;c++){var d=this._edgeList.get(c);d.getLabel(),d.setEdgeDepths(u.default.RIGHT,l),l=d.getDepth(u.default.LEFT)}return l}},mergeSymLabels:function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},linkMinimalDirectedEdges:function(t){for(var e=null,n=null,i=this._SCANNING_FOR_INCOMING,r=this._resultAreaEdgeList.size()-1;r>=0;r--){var o=this._resultAreaEdgeList.get(r),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),i){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,i=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),i=this._SCANNING_FOR_INCOMING}}i===this._LINKING_TO_OUTGOING&&(M.default.isTrue(null!==e,"found null for first outgoing dirEdge"),M.default.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},getOutgoingDegree:function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();){var n=e.next();n.isInResult()&&t++}return t}if(1===arguments.length){for(var i=arguments[0],t=0,e=this.iterator();e.hasNext();){var n=e.next();n.getEdgeRing()===i&&t++}return t}},getLabel:function(){return this._label},findCoveredLineEdges:function(){for(var t=s.default.NONE,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=s.default.INTERIOR;break}if(i.isInResult()){t=s.default.EXTERIOR;break}}}if(t===s.default.NONE)return null;for(var r=t,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();n.isLineEdge()?n.getEdge().setCovered(r===s.default.INTERIOR):(n.isInResult()&&(r=s.default.EXTERIOR),i.isInResult()&&(r=s.default.INTERIOR))}},computeLabelling:function(t){p.default.prototype.computeLabelling.call(this,t),this._label=new v.default(s.default.NONE);for(var e=this.iterator();e.hasNext();)for(var n=e.next(),i=n.getEdge(),r=i.getLabel(),o=0;o<2;o++){var a=r.getLocation(o);a!==s.default.INTERIOR&&a!==s.default.BOUNDARY||this._label.setLocation(o,s.default.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){d.default.apply(this),this.events=new b.default,this.nOverlaps=null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(9),s=i(o),a=n(414),u=i(a),l=n(415),f=i(l),c=n(416),d=i(c),h=n(0),p=i(h),g=n(45),_=i(g),m=n(210),v=i(m),y=n(2),b=i(y),x=n(4),E=i(x),w=n(42),M=i(w);(0,E.default)(r,d.default),(0,p.default)(r.prototype,{prepareEvents:function(){_.default.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},computeIntersections:function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof v.default&&(0,s.default)(arguments[0],M.default)&&(0,s.default)(arguments[1],M.default)){var i=arguments[0],r=arguments[1],o=arguments[2];this.addEdges(i,i),this.addEdges(r,r),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&(0,s.default)(arguments[0],M.default)&&arguments[1]instanceof v.default){var a=arguments[0],u=arguments[1],l=arguments[2];l?this.addEdges(a,null):this.addEdges(a),this.computeIntersections(u)}},addEdge:function(t,e){for(var n=t.getMonotoneChainEdge(),i=n.getStartIndexes(),r=0;r<i.length-1;r++){var o=new u.default(n,r),s=new f.default(e,n.getMinX(r),o);this.events.add(s),this.events.add(new f.default(n.getMaxX(r),s))}},processOverlaps:function(t,e,n,i){for(var r=n.getObject(),o=t;o<e;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(r.computeIntersections(a,i),this.nOverlaps++)}}},addEdges:function(){if(1===arguments.length)for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.addEdge(n,n)}else if(2===arguments.length)for(var i=arguments[0],r=arguments[1],e=i.iterator();e.hasNext();){var n=e.next();this.addEdge(n,r)}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{computeIntersections:function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var t=arguments[0],e=arguments[1];this._eventType=r.DELETE,this._xValue=t,this._insertEvent=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];this._eventType=r.INSERT,this._label=n,this._xValue=i,this._obj=o}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(26),u=i(a);(0,s.default)(r.prototype,{isDelete:function(){return this._eventType===r.DELETE},setDeleteEventIndex:function(t){this._deleteEventIndex=t},getObject:function(){return this._obj},compareTo:function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},getInsertEvent:function(){return this._insertEvent},isInsert:function(){return this._eventType===r.INSERT},isSameLabel:function(t){return null!==this._label&&this._label===t._label},getDeleteEventIndex:function(){return this._deleteEventIndex},interfaces_:function(){return[u.default]},getClass:function(){return r}}),r.INSERT=1,r.DELETE=2},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._index=null;var t=arguments[0];if(!(0,u.default)(t,E.default))throw new f.default("Argument must be Polygonal");this._index=new s(t)}function o(){this._counter=null;var t=arguments[0];this._counter=t}function s(){this._index=new v.default;var t=arguments[0];this.init(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=n(9),u=i(a),l=n(10),f=i(l),c=n(67),d=i(c),h=n(209),p=i(h),g=n(0),_=i(g),m=n(418),v=i(m),y=n(18),b=i(y),x=n(49),E=i(x),w=n(86),M=i(w),L=n(212),P=i(L),C=n(193),I=i(C);(0,_.default)(r.prototype,{locate:function(t){var e=new I.default(t),n=new o(e);return this._index.query(t.y,t.y,n),e.getLocation()},interfaces_:function(){return[p.default]},getClass:function(){return r}}),(0,_.default)(o.prototype,{visitItem:function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},interfaces_:function(){return[d.default]},getClass:function(){return o}}),(0,_.default)(s.prototype,{init:function(t){for(var e=M.default.getLines(t),n=e.iterator();n.hasNext();){var i=n.next(),r=i.getCoordinates();this.addLine(r)}},addLine:function(t){for(var e=1;e<t.length;e++){var n=new b.default(t[e-1],t[e]),i=Math.min(n.p0.y,n.p1.y),r=Math.max(n.p0.y,n.p1.y);this._index.insert(i,r,n)}},query:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new P.default;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._index.query(i,r,o)}},interfaces_:function(){return[]},getClass:function(){return s}}),r.SegmentVisitor=o,r.IntervalIndexedGeometry=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._leaves=new v.default,this._root=null,this._level=0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(36),s=i(o),a=n(3),u=i(a),l=n(419),f=i(l),c=n(0),d=i(c),h=n(45),p=i(h),g=n(30),_=i(g),m=n(2),v=i(m),y=n(420),b=i(y);(0,d.default)(r.prototype,{buildTree:function(){p.default.sort(this._leaves,new IntervalRTreeNode.NodeComparator);for(var t=this._leaves,e=null,n=new v.default;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},insert:function(t,e,n){if(null!==this._root)throw new IllegalStateException("Index cannot be added to once it has been queried");this._leaves.add(new f.default(t,e,n))},query:function(t,e,n){this.init(),this._root.query(t,e,n)},buildRoot:function(){if(null!==this._root)return null;this._root=this.buildTree()},printNode:function(t){_.default.out.println(s.default.toLineString(new u.default(t._min,this._level),new u.default(t._max,this._level)))},init:function(){if(null!==this._root)return null;this.buildRoot()},buildLevel:function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var i=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(i);else{var r=new b.default(t.get(n),t.get(n+1));e.add(r)}}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){s.default.apply(this),this._item=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._min=t,this._max=e,this._item=n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(211),s=i(o),a=n(0),u=i(a);(0,i(n(4)).default)(r,s.default),(0,u.default)(r.prototype,{query:function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){s.default.apply(this),this._node1=null,this._node2=null;var t=arguments[0],e=arguments[1];this._node1=t,this._node2=e,this.buildExtent(this._node1,this._node2)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(211),s=i(o),a=n(0),u=i(a);(0,i(n(4)).default)(r,s.default),(0,u.default)(r.prototype,{buildExtent:function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},query:function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._nodeMap=new _.default,this.edge=null;var t=arguments[0];this.edge=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(422),s=i(o),a=n(3),u=i(a),l=n(0),f=i(l),c=n(35),d=i(c),h=n(104),p=i(h),g=n(44),_=i(g);(0,f.default)(r.prototype,{print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();){e.next().print(t)}},iterator:function(){return this._nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},addEndpoints:function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.pts[e.segmentIndex],r=e.dist>0||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new u.default(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return r&&(o[s]=e.coord),new p.default(o,new d.default(this.edge._label))},add:function(t,e,n){var i=new s.default(t,e,n),r=this._nodeMap.get(i);return null!==r?r:(this._nodeMap.put(i,i),i)},isIntersection:function(t){for(var e=this.iterator();e.hasNext();){if(e.next().coord.equals(t))return!0}return!1},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new s.default(t),this.segmentIndex=e,this.dist=n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(3),s=i(o),a=n(0),u=i(a),l=n(26),f=i(l);(0,u.default)(r.prototype,{getSegmentIndex:function(){return this.segmentIndex},getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},compareTo:function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},isEndPoint:function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},toString:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},getDistance:function(){return this.dist},compare:function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},interfaces_:function(){return[f.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new f.default,this.env2=new f.default;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new u.default;this.startIndex=e.getChainStartIndices(this.pts)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(424),u=i(a),l=n(11),f=i(l);(0,s.default)(r.prototype,{getCoordinates:function(){return this.pts},getMaxX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},getMinX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},computeIntersectsForChain:function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],i)}else if(6===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4],l=arguments[5],f=this.pts[r],c=this.pts[o],d=s.pts[a],h=s.pts[u];if(o-r==1&&u-a==1)return l.addIntersections(this.e,r,s.e,a),null;if(this.env1.init(f,c),this.env2.init(d,h),!this.env1.intersects(this.env2))return null;var p=Math.trunc((r+o)/2),g=Math.trunc((a+u)/2);r<p&&(a<g&&this.computeIntersectsForChain(r,p,s,a,g,l),g<u&&this.computeIntersectsForChain(r,p,s,g,u,l)),p<o&&(a<g&&this.computeIntersectsForChain(p,o,s,a,g,l),g<u&&this.computeIntersectsForChain(p,o,s,g,u,l))}},getStartIndexes:function(){return this.startIndex},computeIntersects:function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(n,t,i,e)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(74),u=i(a),l=n(2),f=i(l),c=n(58),d=i(c);(0,s.default)(r.prototype,{getChainStartIndices:function(t){var e=0,n=new f.default;n.add(new u.default(e));do{var i=this.findChainEnd(t,e);n.add(new u.default(i)),e=i}while(e<t.length-1);return r.toIntArray(n)},findChainEnd:function(t,e){for(var n=d.default.quadrant(t[e],t[e+1]),i=e+1;i<t.length;){if(d.default.quadrant(t[i-1],t[i])!==n)break;i++}return i-1},interfaces_:function(){return[]},getClass:function(){return r}}),r.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var t=0;t<2;t++)for(var e=0;e<3;e++)this._depth[t][e]=r.NULL_VALUE}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(14),s=i(o),a=n(21),u=i(a);(0,i(n(0)).default)(r.prototype,{getDepth:function(t,e){return this._depth[t][e]},setDepth:function(t,e,n){this._depth[t][e]=n},isNull:function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==r.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===r.NULL_VALUE}if(2===arguments.length){var i=arguments[0],o=arguments[1];return this._depth[i][o]===r.NULL_VALUE}},normalize:function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var i=0;this._depth[t][n]>e&&(i=1),this._depth[t][n]=i}}},getDelta:function(t){return this._depth[t][u.default.RIGHT]-this._depth[t][u.default.LEFT]},getLocation:function(t,e){return this._depth[t][e]<=0?s.default.EXTERIOR:s.default.INTERIOR},toString:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},add:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var i=t.getLocation(e,n);i!==s.default.EXTERIOR&&i!==s.default.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=r.depthAtLocation(i):this._depth[e][n]+=r.depthAtLocation(i))}else if(3===arguments.length){var o=arguments[0],a=arguments[1],u=arguments[2];u===s.default.INTERIOR&&this._depth[o][a]++}},interfaces_:function(){return[]},getClass:function(){return r}}),r.depthAtLocation=function(t){return t===s.default.EXTERIOR?0:t===s.default.INTERIOR?1:r.NULL_VALUE},r.NULL_VALUE=-1},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=r.orientation(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(26),u=i(a),l=n(25),f=i(l);(0,s.default)(r.prototype,{compareTo:function(t){var e=t;return r.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},interfaces_:function(){return[u.default]},getClass:function(){return r}}),r.orientation=function(t){return 1===f.default.increasingDirection(t)},r.compareOriented=function(t,e,n,i){for(var r=e?1:-1,o=i?1:-1,s=e?t.length:-1,a=i?n.length:-1,u=e?0:t.length-1,l=i?0:n.length-1;;){var f=t[u].compareTo(n[l]);if(0!==f)return f;u+=r,l+=o;var c=u===s,d=l===a;if(c&&!d)return-1;if(!c&&d)return 1;if(c&&d)return 0}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._centroid=null,this._minDistance=d.default.MAX_VALUE,this._interiorPoint=null;var t=arguments[0];this._centroid=t.getCentroid().getCoordinate(),this.addInterior(t),null===this._interiorPoint&&this.addEndpoints(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(13),s=i(o),a=n(16),u=i(a),l=n(3),f=i(l),c=n(15),d=i(c),h=n(0),p=i(h),g=n(17),_=i(g);(0,p.default)(r.prototype,{addEndpoints:function(){if(arguments[0]instanceof u.default){var t=arguments[0];if(t instanceof s.default)this.addEndpoints(t.getCoordinates());else if(t instanceof _.default)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addEndpoints(e.getGeometryN(n))}else if(arguments[0]instanceof Array){var i=arguments[0];this.add(i[0]),this.add(i[i.length-1])}},getInteriorPoint:function(){return this._interiorPoint},addInterior:function(){if(arguments[0]instanceof u.default){var t=arguments[0];if(t instanceof s.default)this.addInterior(t.getCoordinates());else if(t instanceof _.default)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addInterior(e.getGeometryN(n))}else if(arguments[0]instanceof Array)for(var i=arguments[0],n=1;n<i.length-1;n++)this.add(i[n])},add:function(t){var e=t.distance(this._centroid);e<this._minDistance&&(this._interiorPoint=new f.default(t),this._minDistance=e)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._centroid=null,this._minDistance=d.default.MAX_VALUE,this._interiorPoint=null;var t=arguments[0];this._centroid=t.getCentroid().getCoordinate(),this.add(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(16),s=i(o),a=n(3),u=i(a),l=n(32),f=i(l),c=n(15),d=i(c),h=n(0),p=i(h),g=n(17),_=i(g);(0,p.default)(r.prototype,{getInteriorPoint:function(){return this._interiorPoint},add:function(){if(arguments[0]instanceof s.default){var t=arguments[0];if(t instanceof f.default)this.add(t.getCoordinate());else if(t instanceof _.default)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))}else if(arguments[0]instanceof u.default){var i=arguments[0],r=i.distance(this._centroid);r<this._minDistance&&(this._interiorPoint=new u.default(i),this._minDistance=r)}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._root=null,this._minExtent=1,this._root=new s.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(430),s=i(o),a=n(105),u=i(a),l=n(0),f=i(l),c=n(2),d=i(c);(0,f.default)(r.prototype,{size:function(){return null!==this._root?this._root.size():0},insert:function(t,e){this.collectStats(t);var n=r.ensureExtent(t,this._minExtent);this._root.insert(n,e)},query:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];return this.query(new u.default(t,t))}if(arguments[0]instanceof u.default){var e=arguments[0],n=new d.default;return this.query(e,n),n}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this._root.addAllItemsFromOverlapping(i,r)}},iterator:function(){var t=new d.default;return this._root.addAllItems(t),t.iterator()},remove:function(t,e){var n=r.ensureExtent(t,this._minExtent);return this._root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this._minExtent&&e>0&&(this._minExtent=e)},depth:function(){return null!==this._root?this._root.depth():0},nodeSize:function(){return null!==this._root?this._root.nodeSize():0},interfaces_:function(){return[]},getClass:function(){return r}}),r.ensureExtent=function(t,e){var n=t.getMin(),i=t.getMax();return n!==i?t:(n===i&&(n-=e/2,i=n+e/2),new u.default(n,i))}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){s.default.apply(this)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(216),s=i(o),a=n(431),u=i(a),l=n(0),f=i(l),c=n(217),d=i(c),h=n(7),p=i(h);(0,i(n(4)).default)(r,s.default),(0,f.default)(r.prototype,{insert:function(t,e){var n=s.default.getSubnodeIndex(t,r.origin);if(-1===n)return this.add(e),null;var i=this._subnode[n];if(null===i||!i.getInterval().contains(t)){var o=u.default.createExpanded(i,t);this._subnode[n]=o}this.insertContained(this._subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){p.default.isTrue(t.getInterval().contains(e));var i=d.default.isZeroWidth(e.getMin(),e.getMax()),r=null;r=i?t.find(e):t.getNode(e),r.add(n)},interfaces_:function(){return[]},getClass:function(){return r}}),r.origin=0},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){s.default.apply(this),this._interval=null,this._centre=null,this._level=null;var t=arguments[0],e=arguments[1];this._interval=t,this._level=e,this._centre=(t.getMin()+t.getMax())/2}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(216),s=i(o),a=n(105),u=i(a),l=n(0),f=i(l),c=n(7),d=i(c),h=n(4),p=i(h),g=n(432),_=i(g);(0,p.default)(r,s.default),(0,f.default)(r.prototype,{getInterval:function(){return this._interval},find:function(t){var e=s.default.getSubnodeIndex(t,this._centre);if(-1===e)return this;if(null!==this._subnode[e]){return this._subnode[e].find(t)}return this},insert:function(t){d.default.isTrue(null===this._interval||this._interval.contains(t._interval));var e=s.default.getSubnodeIndex(t._interval,this._centre);if(t._level===this._level-1)this._subnode[e]=t;else{var n=this.createSubnode(e);n.insert(t),this._subnode[e]=n}},isSearchMatch:function(t){return t.overlaps(this._interval)},getSubnode:function(t){return null===this._subnode[t]&&(this._subnode[t]=this.createSubnode(t)),this._subnode[t]},getNode:function(t){var e=s.default.getSubnodeIndex(t,this._centre);if(-1!==e){return this.getSubnode(e).getNode(t)}return this},createSubnode:function(t){var e=0,n=0;switch(t){case 0:e=this._interval.getMin(),n=this._centre;break;case 1:e=this._centre,n=this._interval.getMax()}return new r(new u.default(e,n),this._level-1)},interfaces_:function(){return[]},getClass:function(){return r}}),r.createNode=function(t){var e=new _.default(t);return new r(e.getInterval(),e.getLevel())},r.createExpanded=function(t,e){var n=new u.default(e);null!==t&&n.expandToInclude(t._interval);var i=r.createNode(n);return null!==t&&i.insert(t),i}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._pt=0,this._level=0,this._interval=null;var t=arguments[0];this.computeKey(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(105),s=i(o),a=n(0),u=i(a),l=n(145),f=i(l);(0,u.default)(r.prototype,{getInterval:function(){return this._interval},getLevel:function(){return this._level},computeKey:function(t){for(this._level=r.computeLevel(t),this._interval=new s.default,this.computeInterval(this._level,t);!this._interval.contains(t);)this._level+=1,this.computeInterval(this._level,t)},computeInterval:function(t,e){var n=f.default.powerOf2(t);this._pt=Math.floor(e.getMin()/n)*n,this._interval.init(this._pt,this._pt+n)},getPoint:function(){return this._pt},interfaces_:function(){return[]},getClass:function(){return r}}),r.computeLevel=function(t){var e=t.getWidth();return f.default.exponent(e)+1}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{isInside:function(t){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._input=null,this._extremalPts=null,this._centre=null,this._radius=0;var t=arguments[0];this._input=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(3),s=i(o),a=n(15),u=i(a),l=n(0),f=i(l),c=n(25),d=i(c),h=n(146),p=i(h),g=n(7),_=i(g),m=n(106),v=i(m);(0,f.default)(r.prototype,{getRadius:function(){return this.compute(),this._radius},getDiameter:function(){switch(this.compute(),this._extremalPts.length){case 0:return this._input.getFactory().createLineString();case 1:return this._input.getFactory().createPoint(this._centre)}var t=this._extremalPts[0],e=this._extremalPts[1];return this._input.getFactory().createLineString([t,e])},getExtremalPoints:function(){return this.compute(),this._extremalPts},computeCirclePoints:function(){if(this._input.isEmpty())return this._extremalPts=new Array(0).fill(null),null;if(1===this._input.getNumPoints()){var t=this._input.getCoordinates();return this._extremalPts=[new s.default(t[0])],null}var e=this._input.convexHull(),n=e.getCoordinates(),t=n;if(n[0].equals2D(n[n.length-1])&&(t=new Array(n.length-1).fill(null),d.default.copyDeep(n,0,t,0,n.length-1)),t.length<=2)return this._extremalPts=d.default.copyDeep(t),null;for(var i=r.lowestPoint(t),o=r.pointWitMinAngleWithX(t,i),a=0;a<t.length;a++){var u=r.pointWithMinAngleWithSegment(t,i,o);if(p.default.isObtuse(i,u,o))return this._extremalPts=[new s.default(i),new s.default(o)],null;if(p.default.isObtuse(u,i,o))i=u;else{if(!p.default.isObtuse(u,o,i))return this._extremalPts=[new s.default(i),new s.default(o),new s.default(u)],null;o=u}}_.default.shouldNeverReachHere("Logic failure in Minimum Bounding Circle algorithm!")},compute:function(){if(null!==this._extremalPts)return null;this.computeCirclePoints(),this.computeCentre(),null!==this._centre&&(this._radius=this._centre.distance(this._extremalPts[0]))},getFarthestPoints:function(){switch(this.compute(),this._extremalPts.length){case 0:return this._input.getFactory().createLineString();case 1:return this._input.getFactory().createPoint(this._centre)}var t=this._extremalPts[0],e=this._extremalPts[this._extremalPts.length-1];return this._input.getFactory().createLineString([t,e])},getCircle:function(){if(this.compute(),null===this._centre)return this._input.getFactory().createPolygon();var t=this._input.getFactory().createPoint(this._centre);return 0===this._radius?t:t.buffer(this._radius)},getCentre:function(){return this.compute(),this._centre},computeCentre:function(){switch(this._extremalPts.length){case 0:this._centre=null;break;case 1:this._centre=this._extremalPts[0];break;case 2:this._centre=new s.default((this._extremalPts[0].x+this._extremalPts[1].x)/2,(this._extremalPts[0].y+this._extremalPts[1].y)/2);break;case 3:this._centre=v.default.circumcentre(this._extremalPts[0],this._extremalPts[1],this._extremalPts[2])}},interfaces_:function(){return[]},getClass:function(){return r}}),r.pointWitMinAngleWithX=function(t,e){for(var n=u.default.MAX_VALUE,i=null,r=0;r<t.length;r++){var o=t[r];if(o!==e){var s=o.x-e.x,a=o.y-e.y;a<0&&(a=-a);var l=Math.sqrt(s*s+a*a),f=a/l;f<n&&(n=f,i=o)}}return i},r.lowestPoint=function(t){for(var e=t[0],n=1;n<t.length;n++)t[n].y<e.y&&(e=t[n]);return e},r.pointWithMinAngleWithSegment=function(t,e,n){for(var i=u.default.MAX_VALUE,r=null,o=0;o<t.length;o++){var s=t[o];if(s!==e&&s!==n){var a=p.default.angleBetween(e,s,n);a<i&&(i=a,r=s)}}return r}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._inputGeom=null,this._isConvex=null,this._convexHullPts=null,this._minBaseSeg=new p.default,this._minWidthPt=null,this._minPtIndex=null,this._minWidth=0,1===arguments.length){var t=arguments[0];r.call(this,t,!1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._inputGeom=e,this._isConvex=n}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(3),s=i(o),a=n(20),u=i(a),l=n(15),f=i(l),c=n(0),d=i(c),h=n(18),p=i(h),g=n(135),_=i(g);(0,d.default)(r.prototype,{getWidthCoordinate:function(){return this.computeMinimumDiameter(),this._minWidthPt},getSupportingSegment:function(){return this.computeMinimumDiameter(),this._inputGeom.getFactory().createLineString([this._minBaseSeg.p0,this._minBaseSeg.p1])},getDiameter:function(){if(this.computeMinimumDiameter(),null===this._minWidthPt)return this._inputGeom.getFactory().createLineString(null);var t=this._minBaseSeg.project(this._minWidthPt);return this._inputGeom.getFactory().createLineString([t,this._minWidthPt])},computeWidthConvex:function(t){t instanceof u.default?this._convexHullPts=t.getExteriorRing().getCoordinates():this._convexHullPts=t.getCoordinates(),0===this._convexHullPts.length?(this._minWidth=0,this._minWidthPt=null,this._minBaseSeg=null):1===this._convexHullPts.length?(this._minWidth=0,this._minWidthPt=this._convexHullPts[0],this._minBaseSeg.p0=this._convexHullPts[0],this._minBaseSeg.p1=this._convexHullPts[0]):2===this._convexHullPts.length||3===this._convexHullPts.length?(this._minWidth=0,this._minWidthPt=this._convexHullPts[0],this._minBaseSeg.p0=this._convexHullPts[0],this._minBaseSeg.p1=this._convexHullPts[1]):this.computeConvexRingMinDiameter(this._convexHullPts)},computeConvexRingMinDiameter:function(t){this._minWidth=f.default.MAX_VALUE;for(var e=1,n=new p.default,i=0;i<t.length-1;i++)n.p0=t[i],n.p1=t[i+1],e=this.findMaxPerpDistance(t,n,e)},computeMinimumDiameter:function(){if(null!==this._minWidthPt)return null;if(this._isConvex)this.computeWidthConvex(this._inputGeom);else{var t=new _.default(this._inputGeom).getConvexHull();this.computeWidthConvex(t)}},getLength:function(){return this.computeMinimumDiameter(),this._minWidth},findMaxPerpDistance:function(t,e,n){for(var i=e.distancePerpendicular(t[n]),o=i,s=n,a=s;o>=i;)i=o,s=a,a=r.nextIndex(t,s),o=e.distancePerpendicular(t[a]);return i<this._minWidth&&(this._minPtIndex=s,this._minWidth=i,this._minWidthPt=t[this._minPtIndex],this._minBaseSeg=new p.default(e)),s},getMinimumRectangle:function(){if(this.computeMinimumDiameter(),0===this._minWidth)return this._minBaseSeg.p0.equals2D(this._minBaseSeg.p1)?this._inputGeom.getFactory().createPoint(this._minBaseSeg.p0):this._minBaseSeg.toGeometry(this._inputGeom.getFactory());for(var t=this._minBaseSeg.p1.x-this._minBaseSeg.p0.x,e=this._minBaseSeg.p1.y-this._minBaseSeg.p0.y,n=f.default.MAX_VALUE,i=-f.default.MAX_VALUE,o=f.default.MAX_VALUE,s=-f.default.MAX_VALUE,a=0;a<this._convexHullPts.length;a++){var u=r.computeC(t,e,this._convexHullPts[a]);u>i&&(i=u),u<n&&(n=u);var l=r.computeC(-e,t,this._convexHullPts[a]);l>s&&(s=l),l<o&&(o=l)}var c=r.computeSegmentForLine(-t,-e,s),d=r.computeSegmentForLine(-t,-e,o),h=r.computeSegmentForLine(-e,t,i),p=r.computeSegmentForLine(-e,t,n),g=h.lineIntersection(c),_=p.lineIntersection(c),m=p.lineIntersection(d),v=h.lineIntersection(d),y=this._inputGeom.getFactory().createLinearRing([g,_,m,v,g]);return this._inputGeom.getFactory().createPolygon(y,null)},interfaces_:function(){return[]},getClass:function(){return r}}),r.nextIndex=function(t,e){return e++,e>=t.length&&(e=0),e},r.computeC=function(t,e,n){return t*n.y-e*n.x},r.getMinimumDiameter=function(t){return new r(t).getDiameter()},r.getMinimumRectangle=function(t){return new r(t).getMinimumRectangle()},r.computeSegmentForLine=function(t,e,n){var i=null,r=null;return Math.abs(e)>Math.abs(t)?(i=new s.default(0,n/e),r=new s.default(1,n/e-t/e)):(i=new s.default(n/t,0),r=new s.default(n/t-e/t,1)),new p.default(i,r)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Densifier=void 0;var i=n(437),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.Densifier=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._inputGeom=null,this._distanceTolerance=null;var t=arguments[0];this._inputGeom=t}function o(){c.default.apply(this),this.distanceTolerance=null;var t=arguments[0];this.distanceTolerance=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(13),a=i(s),u=n(24),l=i(u),f=n(101),c=i(f),d=n(10),h=i(d),p=n(0),g=i(p),_=n(39),m=i(_),v=n(18),y=i(v),b=n(4),x=i(b);(0,g.default)(r.prototype,{getResultGeometry:function(){return new o(this._distanceTolerance).transform(this._inputGeom)},setDistanceTolerance:function(t){if(t<=0)throw new h.default("Tolerance must be positive");this._distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return r}}),r.densifyPoints=function(t,e,n){for(var i=new y.default,r=new l.default,o=0;o<t.length-1;o++){i.p0=t[o],i.p1=t[o+1],r.add(i.p0,!1);var s=i.getLength(),a=Math.trunc(s/e)+1;if(a>1)for(var u=s/a,f=1;f<a;f++){var c=f*u/s,d=i.pointAlong(c);n.makePrecise(d),r.add(d,!1)}}return r.add(t[t.length-1],!1),r.toCoordinateArray()},r.densify=function(t,e){var n=new r(t);return n.setDistanceTolerance(e),n.getResultGeometry()},(0,x.default)(o,c.default),(0,g.default)(o.prototype,{transformMultiPolygon:function(t,e){var n=c.default.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformPolygon:function(t,e){var n=c.default.prototype.transformPolygon.call(this,t,e);return e instanceof m.default?n:this.createValidArea(n)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),i=r.densifyPoints(n,this.distanceTolerance,e.getPrecisionModel());return e instanceof a.default&&1===i.length&&(i=new Array(0).fill(null)),this._factory.getCoordinateSequenceFactory().create(i)},createValidArea:function(t){return t.buffer(0)},interfaces_:function(){return[]},getClass:function(){return o}}),r.DensifyTransformer=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDissolver=void 0;var i=n(439),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.LineDissolver=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._result=null,this._factory=null,this._graph=null,this._lines=new P.default,this._nodeEdgeStack=new _.default,this._ringStartEdge=null,this._graph=new E.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(13),s=i(o),a=n(24),u=i(a),l=n(16),f=i(l),c=n(9),d=i(c),h=n(31),p=i(h),g=n(80),_=i(g),m=n(0),v=i(m),y=n(218),b=i(y),x=n(440),E=i(x),w=n(40),M=i(w),L=n(2),P=i(L);(0,v.default)(r.prototype,{addLine:function(t){this._lines.add(this._factory.createLineString(t.toCoordinateArray()))},updateRingStartEdge:function(t){return t.isStart()||(t=t.sym(),t.isStart())?null===this._ringStartEdge?(this._ringStartEdge=t,null):void(t.orig().compareTo(this._ringStartEdge.orig())<0&&(this._ringStartEdge=t)):null},getResult:function(){return null===this._result&&this.computeResult(),this._result},process:function(t){var e=t.prevNode();null===e&&(e=t),this.stackEdges(e),this.buildLines()},buildRing:function(t){var e=new u.default,n=t;for(e.add(n.orig().copy(),!1);2===n.sym().degree();){var i=n.next();if(i===t)break;e.add(i.orig().copy(),!1),n=i}e.add(n.dest().copy(),!1),this.addLine(e)},buildLine:function(t){var e=new u.default,n=t;for(this._ringStartEdge=null,b.default.markBoth(n),e.add(n.orig().copy(),!1);2===n.sym().degree();){this.updateRingStartEdge(n);var i=n.next();if(i===t)return this.buildRing(this._ringStartEdge),null;e.add(i.orig().copy(),!1),n=i,b.default.markBoth(n)}e.add(n.dest().copy(),!1),this.stackEdges(n.sym()),this.addLine(e)},stackEdges:function(t){var e=t;do{b.default.isMarked(e)||this._nodeEdgeStack.add(e),e=e.oNext()}while(e!==t)},computeResult:function(){for(var t=this._graph.getVertexEdges(),e=t.iterator();e.hasNext();){var n=e.next();b.default.isMarked(n)||this.process(n)}this._result=this._factory.buildGeometry(this._lines)},buildLines:function(){for(;!this._nodeEdgeStack.empty();){var t=this._nodeEdgeStack.pop();b.default.isMarked(t)||this.buildLine(t)}},add:function(){if(arguments[0]instanceof f.default){arguments[0].apply({interfaces_:function(){return[M.default]},filter:function(t){t instanceof s.default&&this.add(t)}})}else if((0,d.default)(arguments[0],p.default))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.add(n)}else if(arguments[0]instanceof s.default){var i=arguments[0];null===this._factory&&(this._factory=i.getFactory());for(var r=i.getCoordinateSequence(),o=!1,e=1;e<r.size();e++){var a=this._graph.addEdge(r.getCoordinate(e-1),r.getCoordinate(e));null!==a&&(o||(a.setStart(),o=!0))}}},interfaces_:function(){return[]},getClass:function(){return r}}),r.dissolve=function(t){var e=new r;return e.add(t),e.getResult()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){s.default.apply(this)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(441),s=i(o),a=n(0),u=i(a),l=n(442),f=i(l);(0,i(n(4)).default)(r,s.default),(0,u.default)(r.prototype,{createEdge:function(t){return new f.default(t)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._vertexMap=new s.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(99),s=i(o),a=n(0),u=i(a),l=n(219),f=i(l);(0,u.default)(r.prototype,{insert:function(t,e,n){var i=this.create(t,e);null!==n?n.insert(i):this._vertexMap.put(t,i);var r=this._vertexMap.get(e);return null!==r?r.insert(i.sym()):this._vertexMap.put(e,i.sym()),i},create:function(t,e){var n=this.createEdge(t),i=this.createEdge(e);return f.default.init(n,i),n},createEdge:function(t){return new f.default(t)},addEdge:function(t,e){if(!r.isValidEdge(t,e))return null;var n=this._vertexMap.get(t),i=null;return null!==n&&(i=n.find(e)),null!==i?i:this.insert(t,e,n)},getVertexEdges:function(){return this._vertexMap.values()},findEdge:function(t,e){var n=this._vertexMap.get(t);return null===n?null:n.find(e)},interfaces_:function(){return[]},getClass:function(){return r}}),r.isValidEdge=function(t,e){return 0!==e.compareTo(t)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._isStart=!1;var t=arguments[0];u.default.call(this,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(218),u=i(a);(0,i(n(4)).default)(r,u.default),(0,s.default)(r.prototype,{setStart:function(){this._isStart=!0},isStart:function(){return this._isStart},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeometryGraph=void 0;var i=n(85),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.GeometryGraph=r.default},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.strtree=e.quadtree=void 0;var r=n(445),o=i(r),s=n(449),a=i(s);e.quadtree=o,e.strtree=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Quadtree=void 0;var i=n(220),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.Quadtree=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){u.default.apply(this)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(3),s=i(o),a=n(221),u=i(a),l=n(447),f=i(l),c=n(0),d=i(c),h=n(217),p=i(h),g=n(7),_=i(g);(0,i(n(4)).default)(r,u.default),(0,d.default)(r.prototype,{insert:function(t,e){var n=u.default.getSubnodeIndex(t,r.origin.x,r.origin.y);if(-1===n)return this.add(e),null;var i=this._subnode[n];if(null===i||!i.getEnvelope().contains(t)){var o=f.default.createExpanded(i,t);this._subnode[n]=o}this.insertContained(this._subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){_.default.isTrue(t.getEnvelope().contains(e));var i=p.default.isZeroWidth(e.getMinX(),e.getMaxX()),r=p.default.isZeroWidth(e.getMinY(),e.getMaxY()),o=null;o=i||r?t.find(e):t.getNode(e),o.add(n)},interfaces_:function(){return[]},getClass:function(){return r}}),r.origin=new s.default(0,0)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){s.default.apply(this),this._env=null,this._centrex=null,this._centrey=null,this._level=null;var t=arguments[0],e=arguments[1];this._env=t,this._level=e,this._centrex=(t.getMinX()+t.getMaxX())/2,this._centrey=(t.getMinY()+t.getMaxY())/2}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(221),s=i(o),a=n(0),u=i(a),l=n(11),f=i(l),c=n(7),d=i(c),h=n(4),p=i(h),g=n(448),_=i(g);(0,p.default)(r,s.default),(0,u.default)(r.prototype,{find:function(t){var e=s.default.getSubnodeIndex(t,this._centrex,this._centrey);if(-1===e)return this;if(null!==this._subnode[e]){return this._subnode[e].find(t)}return this},isSearchMatch:function(t){return this._env.intersects(t)},getSubnode:function(t){return null===this._subnode[t]&&(this._subnode[t]=this.createSubnode(t)),this._subnode[t]},getEnvelope:function(){return this._env},getNode:function(t){var e=s.default.getSubnodeIndex(t,this._centrex,this._centrey);if(-1!==e){return this.getSubnode(e).getNode(t)}return this},createSubnode:function(t){var e=0,n=0,i=0,o=0;switch(t){case 0:e=this._env.getMinX(),n=this._centrex,i=this._env.getMinY(),o=this._centrey;break;case 1:e=this._centrex,n=this._env.getMaxX(),i=this._env.getMinY(),o=this._centrey;break;case 2:e=this._env.getMinX(),n=this._centrex,i=this._centrey,o=this._env.getMaxY();break;case 3:e=this._centrex,n=this._env.getMaxX(),i=this._centrey,o=this._env.getMaxY()}return new r(new f.default(e,n,i,o),this._level-1)},insertNode:function(t){d.default.isTrue(null===this._env||this._env.contains(t._env));var e=s.default.getSubnodeIndex(t._env,this._centrex,this._centrey);if(t._level===this._level-1)this._subnode[e]=t;else{var n=this.createSubnode(e);n.insertNode(t),this._subnode[e]=n}},interfaces_:function(){return[]},getClass:function(){return r}}),r.createNode=function(t){var e=new _.default(t);return new r(e.getEnvelope(),e.getLevel())},r.createExpanded=function(t,e){var n=new f.default(e);null!==t&&n.expandToInclude(t._env);var i=r.createNode(n);return null!==t&&i.insertNode(t),i}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._pt=new s.default,this._level=0,this._env=null;var t=arguments[0];this.computeKey(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(3),s=i(o),a=n(0),u=i(a),l=n(145),f=i(l),c=n(11),d=i(c);(0,u.default)(r.prototype,{getLevel:function(){return this._level},computeKey:function(){if(1===arguments.length){var t=arguments[0];for(this._level=r.computeQuadLevel(t),this._env=new d.default,this.computeKey(this._level,t);!this._env.contains(t);)this._level+=1,this.computeKey(this._level,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=f.default.powerOf2(e);this._pt.x=Math.floor(n.getMinX()/i)*i,this._pt.y=Math.floor(n.getMinY()/i)*i,this._env.init(this._pt.x,this._pt.x+i,this._pt.y,this._pt.y+i)}},getEnvelope:function(){return this._env},getCentre:function(){return new s.default((this._env.getMinX()+this._env.getMaxX())/2,(this._env.getMinY()+this._env.getMaxY())/2)},getPoint:function(){return this._pt},interfaces_:function(){return[]},getClass:function(){return r}}),r.computeQuadLevel=function(t){var e=t.getWidth(),n=t.getHeight(),i=e>n?e:n;return f.default.exponent(i)+1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STRtree=void 0;var i=n(103),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.STRtree=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.WKTWriter=e.WKTReader=e.OL3Parser=e.GeoJSONWriter=e.GeoJSONReader=void 0;var r=n(451),o=i(r),s=n(452),a=i(s),u=n(453),l=i(u),f=n(36),c=i(f),d=n(454),h=i(d);e.GeoJSONReader=o.default,e.GeoJSONWriter=a.default,e.OL3Parser=h.default,e.WKTReader=l.default,e.WKTWriter=c.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){this.geometryFactory=t||new s.default,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new f.default(this.geometryFactory)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(19),s=i(o),a=n(66),u=i(a),l=n(222),f=i(l);(0,i(n(0)).default)(r.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===u.default.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.parser=new s.default(this.geometryFactory)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(222),s=i(o);(0,i(n(0)).default)(r.prototype,{write:function(t){return this.parser.write(t)}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){this.geometryFactory=t||new s.default,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new f.default(this.geometryFactory)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(19),s=i(o),a=n(66),u=i(a),l=n(188),f=i(l);(0,i(n(0)).default)(r.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===u.default.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t._points)for(var e=0,n=t._points._coordinates.length;e<n;e++)this.precisionModel.makePrecise(t._points._coordinates[e]);else if(t._geometries)for(var i=0,r=t._geometries.length;i<r;i++)this.reducePrecision(t._geometries[i])}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return[t.x,t.y]}function o(t,e){this.geometryFactory=t||new l.default,this.ol=e||"undefined"!=typeof ol&&ol}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var s=n(3),a=i(s),u=n(19),l=i(u);(0,i(n(0)).default)(o.prototype,{read:function(t){var e=this.ol;return t instanceof e.geom.Point?this.convertFromPoint(t):t instanceof e.geom.LineString?this.convertFromLineString(t):t instanceof e.geom.LinearRing?this.convertFromLinearRing(t):t instanceof e.geom.Polygon?this.convertFromPolygon(t):t instanceof e.geom.MultiPoint?this.convertFromMultiPoint(t):t instanceof e.geom.MultiLineString?this.convertFromMultiLineString(t):t instanceof e.geom.MultiPolygon?this.convertFromMultiPolygon(t):t instanceof e.geom.GeometryCollection?this.convertFromCollection(t):void 0},convertFromPoint:function(t){var e=t.getCoordinates();return this.geometryFactory.createPoint(new a.default(e[0],e[1]))},convertFromLineString:function(t){return this.geometryFactory.createLineString(t.getCoordinates().map(function(t){return new a.default(t[0],t[1])}))},convertFromLinearRing:function(t){return this.geometryFactory.createLinearRing(t.getCoordinates().map(function(t){return new a.default(t[0],t[1])}))},convertFromPolygon:function(t){for(var e=t.getLinearRings(),n=null,i=[],r=0;r<e.length;r++){var o=this.convertFromLinearRing(e[r]);0===r?n=o:i.push(o)}return this.geometryFactory.createPolygon(n,i)},convertFromMultiPoint:function(t){var e=t.getPoints().map(function(t){return this.convertFromPoint(t)},this);return this.geometryFactory.createMultiPoint(e)},convertFromMultiLineString:function(t){var e=t.getLineStrings().map(function(t){return this.convertFromLineString(t)},this);return this.geometryFactory.createMultiLineString(e)},convertFromMultiPolygon:function(t){var e=t.getPolygons().map(function(t){return this.convertFromPolygon(t)},this);return this.geometryFactory.createMultiPolygon(e)},convertFromCollection:function(t){var e=t.getGeometries().map(function(t){return this.read(t)},this);return this.geometryFactory.createGeometryCollection(e)},write:function(t){return"Point"===t.getGeometryType()?this.convertToPoint(t.getCoordinate()):"LineString"===t.getGeometryType()?this.convertToLineString(t):"LinearRing"===t.getGeometryType()?this.convertToLinearRing(t):"Polygon"===t.getGeometryType()?this.convertToPolygon(t):"MultiPoint"===t.getGeometryType()?this.convertToMultiPoint(t):"MultiLineString"===t.getGeometryType()?this.convertToMultiLineString(t):"MultiPolygon"===t.getGeometryType()?this.convertToMultiPolygon(t):"GeometryCollection"===t.getGeometryType()?this.convertToCollection(t):void 0},convertToPoint:function(t){return new this.ol.geom.Point([t.x,t.y])},convertToLineString:function(t){var e=t.points.coordinates.map(r);return new this.ol.geom.LineString(e)},convertToLinearRing:function(t){var e=t.points.coordinates.map(r);return new this.ol.geom.LinearRing(e)},convertToPolygon:function(t){for(var e=[t.shell.points.coordinates.map(r)],n=0;n<t.holes.length;n++)e.push(t.holes[n].points.coordinates.map(r));return new this.ol.geom.Polygon(e)},convertToMultiPoint:function(t){return new this.ol.geom.MultiPoint(t.getCoordinates().map(r))},convertToMultiLineString:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.convertToLineString(t.geometries[n]).getCoordinates());return new this.ol.geom.MultiLineString(e)},convertToMultiPolygon:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.convertToPolygon(t.geometries[n]).getCoordinates());return new this.ol.geom.MultiPolygon(e)},convertToCollection:function(t){for(var e=[],n=0;n<t.geometries.length;n++){var i=t.geometries[n];e.push(this.write(i))}return new this.ol.geom.GeometryCollection(e)}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(102);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var r=n(223);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(136);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(131);Object.defineProperty(e,"BoundaryOp",{enumerable:!0,get:function(){return i(r).default}});var o=n(457);Object.defineProperty(e,"IsSimpleOp",{enumerable:!0,get:function(){return i(o).default}});var s=n(458);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var a=n(476);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var u=n(144);Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})});var l=n(480);Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})});var f=n(488);Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}})});var c=n(489);Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})});var d=n(501);Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}})});var h=n(508);Object.keys(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}})});var p=n(513);Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._inputGeom=null,this._isClosedEndpointsInInterior=!0,this._nonSimpleLocation=null,1===arguments.length){var t=arguments[0];this._inputGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._inputGeom=e,this._isClosedEndpointsInInterior=!n.isInBoundary(2)}}function o(){this.pt=null,this.isClosed=null,this.degree=null;var t=arguments[0];this.pt=t,this.isClosed=!1,this.degree=0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(57),a=i(s),u=n(13),l=i(u),f=n(9),c=i(f),d=n(50),h=i(d),p=n(0),g=i(p),_=n(85),m=i(_),v=n(17),y=i(v),b=n(49),x=i(b),E=n(29),w=i(E),M=n(86),L=i(M),P=n(44),C=i(P),I=n(37),S=i(I);(0,g.default)(r.prototype,{isSimpleMultiPoint:function(t){if(t.isEmpty())return!0;for(var e=new a.default,n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n),r=i.getCoordinate();if(e.contains(r))return this._nonSimpleLocation=r,!1;e.add(r)}return!0},isSimplePolygonal:function(t){for(var e=L.default.getLines(t),n=e.iterator();n.hasNext();){var i=n.next();if(!this.isSimpleLinearGeometry(i))return!1}return!0},hasClosedEndpointIntersection:function(t){for(var e=new C.default,n=t.getEdgeIterator();n.hasNext();){var i=n.next(),r=(i.getMaximumSegmentIndex(),i.isClosed()),o=i.getCoordinate(0);this.addEndpoint(e,o,r);var s=i.getCoordinate(i.getNumPoints()-1);this.addEndpoint(e,s,r)}for(var n=e.values().iterator();n.hasNext();){var a=n.next();if(a.isClosed&&2!==a.degree)return this._nonSimpleLocation=a.getCoordinate(),!0}return!1},getNonSimpleLocation:function(){return this._nonSimpleLocation},isSimpleLinearGeometry:function(t){if(t.isEmpty())return!0;var e=new m.default(0,t),n=new w.default,i=e.computeSelfNodes(n,!0);return!i.hasIntersection()||(i.hasProperIntersection()?(this._nonSimpleLocation=i.getProperIntersectionPoint(),!1):!this.hasNonEndpointIntersection(e)&&(!this._isClosedEndpointsInInterior||!this.hasClosedEndpointIntersection(e)))},hasNonEndpointIntersection:function(t){for(var e=t.getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getMaximumSegmentIndex(),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next();if(!o.isEndPoint(i))return this._nonSimpleLocation=o.getCoordinate(),!0}return!1},addEndpoint:function(t,e,n){var i=t.get(e);null===i&&(i=new o(e),t.put(e,i)),i.addEndpoint(n)},computeSimple:function(t){return this._nonSimpleLocation=null,!!t.isEmpty()||(t instanceof l.default?this.isSimpleLinearGeometry(t):t instanceof S.default?this.isSimpleLinearGeometry(t):t instanceof h.default?this.isSimpleMultiPoint(t):(0,c.default)(t,x.default)?this.isSimplePolygonal(t):!(t instanceof y.default)||this.isSimpleGeometryCollection(t))},isSimple:function(){return this._nonSimpleLocation=null,this.computeSimple(this._inputGeom)},isSimpleGeometryCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.computeSimple(n))return!1}return!0},interfaces_:function(){return[]},getClass:function(){return r}}),(0,g.default)(o.prototype,{addEndpoint:function(t){this.degree++,this.isClosed|=t},getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return o}}),r.EndpointInfo=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.BufferParameters=e.BufferOp=void 0;var r=n(459),o=i(r),s=n(107),a=i(s);e.BufferOp=o.default,e.BufferParameters=a.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._argGeom=null,this._distance=null,this._bufParams=new s.default,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(107),s=i(o),a=n(16),u=i(a),l=n(460),f=i(l),c=n(223),d=i(c),h=n(52),p=i(h),g=n(0),_=i(g),m=n(130),v=i(m),y=n(66),b=i(y),x=n(55),E=i(x),w=n(471),M=i(w);(0,_.default)(r.prototype,{bufferFixedPrecision:function(t){var e=new d.default(new M.default(new b.default(1)),t.getScale()),n=new f.default(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},bufferReducedPrecision:function(){if(0===arguments.length){for(var t=r.MAX_PRECISION_DIGITS;t>=0;t--){try{this.bufferReducedPrecision(t)}catch(t){if(!(t instanceof p.default))throw t;this._saveException=t}if(null!==this._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var e=arguments[0],n=r.precisionScaleFactor(this._argGeom,this._distance,e),i=new b.default(n);this.bufferFixedPrecision(i)}},computeGeometry:function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===b.default.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},setQuadrantSegments:function(t){this._bufParams.setQuadrantSegments(t)},bufferOriginalPrecision:function(){try{var t=new f.default(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof E.default))throw t;this._saveException=t}},getResultGeometry:function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},setEndCapStyle:function(t){this._bufParams.setEndCapStyle(t)},interfaces_:function(){return[]},getClass:function(){return r}}),r.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new r(t),i=n.getResultGeometry(e);return i}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof u.default&&"number"==typeof arguments[1]){var o=arguments[0],a=arguments[1],l=arguments[2],f=new r(o);f.setQuadrantSegments(l);var i=f.getResultGeometry(a);return i}if(arguments[2]instanceof s.default&&arguments[0]instanceof u.default&&"number"==typeof arguments[1]){var c=arguments[0],d=arguments[1],h=arguments[2],f=new r(c,h),i=f.getResultGeometry(d);return i}}else if(4===arguments.length){var p=arguments[0],g=arguments[1],_=arguments[2],m=arguments[3],f=new r(p);f.setQuadrantSegments(_),f.setEndCapStyle(m);var i=f.getResultGeometry(g);return i}},r.precisionScaleFactor=function(t,e,n){var i=t.getEnvelopeInternal(),r=v.default.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY())),o=e>0?e:0,s=r+2*o,a=Math.trunc(Math.log(s)/Math.log(10)+1),u=n-a;return Math.pow(10,u)},r.CAP_ROUND=s.default.CAP_ROUND,r.CAP_BUTT=s.default.CAP_FLAT,r.CAP_FLAT=s.default.CAP_FLAT,r.CAP_SQUARE=s.default.CAP_SQUARE,r.MAX_PRECISION_DIGITS=12},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new T.default;var t=arguments[0];this._bufParams=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(14),s=i(o),a=n(461),u=i(a),l=n(202),f=i(l),c=n(19),d=i(c),h=n(21),p=i(h),g=n(102),_=i(g),m=n(464),v=i(m),y=n(0),b=i(y),x=n(45),E=i(x),w=n(468),M=i(w),L=n(469),P=i(L),C=n(35),I=i(C),S=n(143),O=i(S),N=n(213),T=i(N),R=n(2),A=i(R),D=n(29),k=i(D),j=n(470),F=i(j),z=n(104),G=i(z),B=n(83),q=i(B);(0,b.default)(r.prototype,{setWorkingPrecisionModel:function(t){this._workingPrecisionModel=t},insertUniqueEdge:function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new I.default(t.getLabel()),i.flip()),n.merge(i);var o=r.depthDelta(i),s=e.getDepthDelta(),a=s+o;e.setDepthDelta(a)}else this._edgeList.add(t),t.setDepthDelta(r.depthDelta(t.getLabel()))},buildSubgraphs:function(t,e){for(var n=new A.default,i=t.iterator();i.hasNext();){var r=i.next(),o=r.getRightmostCoordinate(),s=new M.default(n),a=s.getDepth(o);r.computeDepth(a),r.findResultEdges(),n.add(r),e.add(r.getDirectedEdges(),r.getNodes())}},createSubgraphs:function(t){for(var e=new A.default,n=t.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var r=new u.default;r.create(i),e.add(r)}}return E.default.sort(e,E.default.reverseOrder()),e},createEmptyResultGeometry:function(){return this._geomFact.createPolygon()},getNoder:function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new _.default,n=new k.default;return n.setPrecisionModel(t),e.setSegmentIntersector(new F.default(n)),e},buffer:function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var i=new v.default(n,this._bufParams),r=new P.default(t,e,i),o=r.getCurves();if(o.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(o,n),this._graph=new q.default(new O.default),this._graph.addEdges(this._edgeList.getEdges());var s=this.createSubgraphs(this._graph),a=new f.default(this._geomFact);this.buildSubgraphs(s,a);var u=a.getPolygons();return u.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(u)},computeNodedEdges:function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var i=n.getNodedSubstrings(),r=i.iterator();r.hasNext();){var o=r.next(),s=o.getCoordinates();if(2!==s.length||!s[0].equals2D(s[1])){var a=o.getData(),u=new G.default(o.getCoordinates(),new I.default(a));this.insertUniqueEdge(u)}}},setNoder:function(t){this._workingNoder=t},interfaces_:function(){return[]},getClass:function(){return r}}),r.depthDelta=function(t){var e=t.getLocation(0,p.default.LEFT),n=t.getLocation(0,p.default.RIGHT);return e===s.default.INTERIOR&&n===s.default.EXTERIOR?1:e===s.default.EXTERIOR&&n===s.default.INTERIOR?-1:0},r.convertSegStrings=function(t){for(var e=new d.default,n=new A.default;t.hasNext();){var i=t.next(),r=e.createLineString(i.getCoordinates());n.add(r)}return e.buildGeometry(n)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._finder=null,this._dirEdgeList=new E.default,this._nodes=new E.default,this._rightMostCoord=null,this._env=null,this._finder=new d.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(56),s=i(o),a=n(21),u=i(a),l=n(80),f=i(l),c=n(462),d=i(c),h=n(52),p=i(h),g=n(0),_=i(g),m=n(463),v=i(m),y=n(26),b=i(y),x=n(2),E=i(x),w=n(11),M=i(w);(0,_.default)(r.prototype,{clearVisitedEdges:function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){t.next().setVisited(!1)}},getRightmostCoordinate:function(){return this._rightMostCoord},computeNodeDepth:function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var i=n.next();if(i.isVisited()||i.getSym().isVisited()){e=i;break}}if(null===e)throw new p.default("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();i.setVisited(!0),this.copySymDepths(i)}},computeDepth:function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.getNode(),e.getLabel();e.setEdgeDepths(u.default.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},create:function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},findResultEdges:function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(u.default.RIGHT)>=1&&e.getDepth(u.default.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},computeDepths:function(t){var e=new s.default,n=new v.default,i=t.getNode();for(n.addLast(i),e.add(i),t.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();e.add(r),this.computeNodeDepth(r);for(var o=r.getEdges().iterator();o.hasNext();){var a=o.next(),u=a.getSym();if(!u.isVisited()){var l=u.getNode();e.contains(l)||(n.addLast(l),e.add(l))}}}},compareTo:function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},getEnvelope:function(){if(null===this._env){for(var t=new M.default,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next(),i=n.getEdge().getCoordinates(),r=0;r<i.length-1;r++)t.expandToInclude(i[r]);this._env=t}return this._env},addReachable:function(t){var e=new f.default;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},copySymDepths:function(t){var e=t.getSym();e.setDepth(u.default.LEFT,t.getDepth(u.default.RIGHT)),e.setDepth(u.default.RIGHT,t.getDepth(u.default.LEFT))},add:function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();this._dirEdgeList.add(i);var r=i.getSym(),o=r.getNode();o.isVisited()||e.push(o)}},getNodes:function(){return this._nodes},getDirectedEdges:function(){return this._dirEdgeList},interfaces_:function(){return[b.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(12),s=i(o),a=n(21),u=i(a),l=n(0),f=i(l),c=n(7),d=i(c);(0,f.default)(r.prototype,{getCoordinate:function(){return this._minCoord},getRightmostSide:function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},findRightmostEdgeAtVertex:function(){var t=this._minDe.getEdge().getCoordinates();d.default.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],i=s.default.computeOrientation(this._minCoord,n,e),r=!1;e.y<this._minCoord.y&&n.y<this._minCoord.y&&i===s.default.COUNTERCLOCKWISE?r=!0:e.y>this._minCoord.y&&n.y>this._minCoord.y&&i===s.default.CLOCKWISE&&(r=!0),r&&(this._minIndex=this._minIndex-1)},getRightmostSideOfSegment:function(t,e){var n=t.getEdge(),i=n.getCoordinates();if(e<0||e+1>=i.length)return-1;if(i[e].y===i[e+1].y)return-1;var r=u.default.LEFT;return i[e].y<i[e+1].y&&(r=u.default.RIGHT),r},getEdge:function(){return this._orientedDe},checkForRightmostCoordinate:function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},findRightmostEdgeAtNode:function(){var t=this._minDe.getNode(),e=t.getEdges();this._minDe=e.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},findEdge:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}d.default.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===u.default.LEFT&&(this._orientedDe=this._minDe.getSym())},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(){this.array_=[]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype.addLast=function(t){this.array_.push(t)},i.prototype.removeFirst=function(){return this.array_.shift()},i.prototype.isEmpty=function(){return 0===this.array_.length}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(107),s=i(o),a=n(21),u=i(a),l=n(3),f=i(l),c=n(0),d=i(c),h=n(465),p=i(h),g=n(25),_=i(g),m=n(466),v=i(m);(0,d.default)(r.prototype,{getOffsetCurve:function(t,e){if(this._distance=e,0===e)return null;var n=e<0,i=Math.abs(e),r=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,n,r);var o=r.getCoordinates();return n&&_.default.reverse(o),o},computeSingleSidedBufferCurve:function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var r=p.default.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],u.default.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{n.addSegments(t,!1);var a=p.default.simplify(t,i),l=a.length-1;n.initSideSegments(a[0],a[1],u.default.LEFT),n.addFirstSegment();for(var s=2;s<=l;s++)n.addNextSegment(a[s],!0)}n.addLastSegment(),n.closeRing()},computeRingBufferCurve:function(t,e,n){var i=this.simplifyTolerance(this._distance);e===u.default.RIGHT&&(i=-i);var r=p.default.simplify(t,i),o=r.length-1;n.initSideSegments(r[o-1],r[0],e);for(var s=1;s<=o;s++){var a=1!==s;n.addNextSegment(r[s],a)}n.closeRing()},computeLineBufferCurve:function(t,e){var n=this.simplifyTolerance(this._distance),i=p.default.simplify(t,n),r=i.length-1;e.initSideSegments(i[0],i[1],u.default.LEFT);for(var o=2;o<=r;o++)e.addNextSegment(i[o],!0);e.addLastSegment(),e.addLineEndCap(i[r-1],i[r]);var s=p.default.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],u.default.LEFT);for(var o=a-2;o>=0;o--)e.addNextSegment(s[o],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},computePointCurve:function(t,e){switch(this._bufParams.getEndCapStyle()){case s.default.CAP_ROUND:e.createCircle(t);break;case s.default.CAP_SQUARE:e.createSquare(t)}},getLineCurve:function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),i=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],i);else if(this._bufParams.isSingleSided()){var r=e<0;this.computeSingleSidedBufferCurve(t,r,i)}else this.computeLineBufferCurve(t,i);return i.getCoordinates()},getBufferParameters:function(){return this._bufParams},simplifyTolerance:function(t){return t*this._bufParams.getSimplifyFactor()},getRingCurve:function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return r.copyCoordinates(t);var i=this.getSegGen(n);return this.computeRingBufferCurve(t,e,i),i.getCoordinates()},computeOffsetCurve:function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){var r=p.default.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],u.default.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{var a=p.default.simplify(t,i),l=a.length-1;n.initSideSegments(a[0],a[1],u.default.LEFT),n.addFirstSegment();for(var s=2;s<=l;s++)n.addNextSegment(a[s],!0)}n.addLastSegment()},getSegGen:function(t){return new v.default(this._precisionModel,this._bufParams,t)},interfaces_:function(){return[]},getClass:function(){return r}}),r.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new f.default(t[n]);return e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=s.default.COUNTERCLOCKWISE;var t=arguments[0];this._inputLine=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(12),s=i(o),a=n(24),u=i(a);(0,i(n(0)).default)(r.prototype,{isDeletable:function(t,e,n,i){var r=this._inputLine[t],o=this._inputLine[e],s=this._inputLine[n];return!!this.isConcave(r,o,s)&&!!this.isShallow(r,o,s,i)&&this.isShallowSampled(r,o,t,n,i)},deleteShallowConcavities:function(){for(var t=1,e=(this._inputLine.length,this.findNextNonDeletedIndex(t)),n=this.findNextNonDeletedIndex(e),i=!1;n<this._inputLine.length;){var o=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=r.DELETE,o=!0,i=!0),t=o?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return i},isShallowConcavity:function(t,e,n,i){return s.default.computeOrientation(t,e,n)===this._angleOrientation&&s.default.distancePointLine(e,t,n)<i},isShallowSampled:function(t,e,n,i,o){var s=Math.trunc((i-n)/r.NUM_PTS_TO_CHECK);s<=0&&(s=1);for(var a=n;a<i;a+=s)if(!this.isShallow(t,e,this._inputLine[a],o))return!1;return!0},isConcave:function(t,e,n){return s.default.computeOrientation(t,e,n)===this._angleOrientation},simplify:function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=s.default.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},findNextNonDeletedIndex:function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===r.DELETE;)e++;return e},isShallow:function(t,e,n,i){return s.default.distancePointLine(e,t,n)<i},collapseLine:function(){for(var t=new u.default,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==r.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return r}}),r.simplify=function(t,e){return new r(t).simplify(e)},r.INIT=0,r.DELETE=1,r.KEEP=1,r.NUM_PTS_TO_CHECK=10},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new b.default,this._seg1=new b.default,this._offset0=new b.default,this._offset1=new b.default,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._precisionModel=t,this._bufParams=e,this._li=new M.default,this._filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),e.getQuadrantSegments()>=8&&e.getJoinStyle()===s.default.JOIN_ROUND&&(this._closingSegLengthFactor=r.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(107),s=i(o),a=n(73),u=i(a),l=n(12),f=i(l),c=n(21),d=i(c),h=n(3),p=i(h),g=n(0),_=i(g),m=n(467),v=i(m),y=n(18),b=i(y),x=n(146),E=i(x),w=n(29),M=i(w),L=n(75),P=i(L);(0,_.default)(r.prototype,{addNextSegment:function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=f.default.computeOrientation(this._s0,this._s1,this._s2),i=n===f.default.CLOCKWISE&&this._side===d.default.LEFT||n===f.default.COUNTERCLOCKWISE&&this._side===d.default.RIGHT;0===n?this.addCollinear(e):i?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},addLineEndCap:function(t,e){var n=new b.default(t,e),i=new b.default;this.computeOffsetSegment(n,d.default.LEFT,this._distance,i);var r=new b.default;this.computeOffsetSegment(n,d.default.RIGHT,this._distance,r);var o=e.x-t.x,a=e.y-t.y,u=Math.atan2(a,o);switch(this._bufParams.getEndCapStyle()){case s.default.CAP_ROUND:this._segList.addPt(i.p1),this.addFilletArc(e,u+Math.PI/2,u-Math.PI/2,f.default.CLOCKWISE,this._distance),this._segList.addPt(r.p1);break;case s.default.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(r.p1);break;case s.default.CAP_SQUARE:var l=new p.default;l.x=Math.abs(this._distance)*Math.cos(u),l.y=Math.abs(this._distance)*Math.sin(u);var c=new p.default(i.p1.x+l.x,i.p1.y+l.y),h=new p.default(r.p1.x+l.x,r.p1.y+l.y);this._segList.addPt(c),this._segList.addPt(h)}},getCoordinates:function(){return this._segList.getCoordinates()},addMitreJoin:function(t,e,n,i){var r=!0,o=null;try{o=P.default.intersection(e.p0,e.p1,n.p0,n.p1);(i<=0?1:o.distance(t)/Math.abs(i))>this._bufParams.getMitreLimit()&&(r=!1)}catch(t){if(!(t instanceof u.default))throw t;o=new p.default(0,0),r=!1}r?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,i,this._bufParams.getMitreLimit())},addFilletCorner:function(t,e,n,i,r){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),u=n.x-t.x,l=n.y-t.y,c=Math.atan2(l,u);i===f.default.CLOCKWISE?a<=c&&(a+=2*Math.PI):a>=c&&(a-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,a,c,i,r),this._segList.addPt(n)},addOutsideTurn:function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*r.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===s.default.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===s.default.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},createSquare:function(t){this._segList.addPt(new p.default(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new p.default(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new p.default(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new p.default(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},addSegments:function(t,e){this._segList.addPts(t,e)},addFirstSegment:function(){this._segList.addPt(this._offset1.p0)},addLastSegment:function(){this._segList.addPt(this._offset1.p1)},initSideSegments:function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},addLimitedMitreJoin:function(t,e,n,i){var r=this._seg0.p1,o=E.default.angle(r,this._seg0.p0),s=(E.default.angle(r,this._seg1.p1),E.default.angleBetweenOriented(this._seg0.p0,r,this._seg1.p1)),a=s/2,u=E.default.normalize(o+a),l=E.default.normalize(u+Math.PI),f=i*n,c=f*Math.abs(Math.sin(a)),h=n-c,g=r.x+f*Math.cos(l),_=r.y+f*Math.sin(l),m=new p.default(g,_),v=new b.default(r,m),y=v.pointAlongOffset(1,h),x=v.pointAlongOffset(1,-h);this._side===d.default.LEFT?(this._segList.addPt(y),this._segList.addPt(x)):(this._segList.addPt(x),this._segList.addPt(y))},computeOffsetSegment:function(t,e,n,i){var r=e===d.default.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),u=r*n*o/a,l=r*n*s/a;i.p0.x=t.p0.x-l,i.p0.y=t.p0.y+u,i.p1.x=t.p1.x-l,i.p1.y=t.p1.y+u},addFilletArc:function(t,e,n,i,r){var o=i===f.default.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;var u=null,l=null;u=0,l=s/a;for(var c=u,d=new p.default;c<s;){var h=e+o*c;d.x=t.x+r*Math.cos(h),d.y=t.y+r*Math.sin(h),this._segList.addPt(d),c+=l}},addInsideTurn:function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*r.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new p.default((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var i=new p.default((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},createCircle:function(t){var e=new p.default(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},addBevelJoin:function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},init:function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new v.default,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*r.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},addCollinear:function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===s.default.JOIN_BEVEL||this._bufParams.getJoinStyle()===s.default.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,f.default.CLOCKWISE,this._distance))},closeRing:function(){this._segList.closeRing()},hasNarrowConcaveAngle:function(){return this._hasNarrowConcaveAngle},interfaces_:function(){return[]},getClass:function(){return r}}),r.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,r.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,r.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,r.MAX_CLOSING_SEG_LEN_FACTOR=80},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new d.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(19),s=i(o),a=n(3),u=i(a),l=n(0),f=i(l),c=n(2),d=i(c);(0,f.default)(r.prototype,{getCoordinates:function(){return this._ptList.toArray(r.COORDINATE_ARRAY_TYPE)},setPrecisionModel:function(t){this._precisionModel=t},addPt:function(t){var e=new u.default(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},reverse:function(){},addPts:function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var n=t.length-1;n>=0;n--)this.addPt(t[n])},isRedundant:function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},toString:function(){return(new s.default).createLineString(this.getCoordinates()).toString()},closeRing:function(){if(this._ptList.size()<1)return null;var t=new u.default(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(this._ptList.size()>=2&&this._ptList.get(this._ptList.size()-2),t.equals(e))return null;this._ptList.add(t)},setMinimumVertexDistance:function(t){this._minimimVertexDistance=t},interfaces_:function(){return[]},getClass:function(){return r}}),r.COORDINATE_ARRAY_TYPE=new Array(0).fill(null)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._subgraphs=null,this._seg=new x.default,this._cga=new a.default;var t=arguments[0];this._subgraphs=t}function o(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new x.default(t),this._leftDepth=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(12),a=i(s),u=n(9),l=i(u),f=n(21),c=i(f),d=n(3),h=i(d),p=n(0),g=i(p),_=n(45),m=i(_),v=n(206),y=i(v),b=n(18),x=i(b),E=n(26),w=i(E),M=n(2),L=i(M),P=n(42),C=i(P);(0,g.default)(r.prototype,{findStabbedSegments:function(){if(1===arguments.length){for(var t=arguments[0],e=new L.default,n=this._subgraphs.iterator();n.hasNext();){var i=n.next(),r=i.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,i.getDirectedEdges(),e)}return e}if(3===arguments.length)if((0,l.default)(arguments[2],C.default)&&arguments[0]instanceof h.default&&arguments[1]instanceof y.default)for(var s=arguments[0],u=arguments[1],f=arguments[2],d=u.getEdge().getCoordinates(),n=0;n<d.length-1;n++){this._seg.p0=d[n],this._seg.p1=d[n+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse();var p=Math.max(this._seg.p0.x,this._seg.p1.x);if(!(p<s.x)&&!(this._seg.isHorizontal()||s.y<this._seg.p0.y||s.y>this._seg.p1.y||a.default.computeOrientation(this._seg.p0,this._seg.p1,s)===a.default.RIGHT)){var g=u.getDepth(c.default.LEFT);this._seg.p0.equals(d[n])||(g=u.getDepth(c.default.RIGHT));var _=new o(this._seg,g);f.add(_)}}else if((0,l.default)(arguments[2],C.default)&&arguments[0]instanceof h.default&&(0,l.default)(arguments[1],C.default))for(var m=arguments[0],v=arguments[1],b=arguments[2],n=v.iterator();n.hasNext();){var x=n.next();x.isForward()&&this.findStabbedSegments(m,x,b)}},getDepth:function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:m.default.min(e)._leftDepth},interfaces_:function(){return[]},getClass:function(){return r}}),(0,g.default)(o.prototype,{compareTo:function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n?n:(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg),0!==n?n:this._upwardSeg.compareTo(e._upwardSeg))},compareX:function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},toString:function(){return this._upwardSeg.toString()},interfaces_:function(){return[w.default]},getClass:function(){return o}}),r.DepthSegment=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new A.default;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(14),s=i(o),a=n(13),u=i(a),l=n(12),f=i(l),c=n(21),d=i(c),h=n(32),p=i(h),g=n(82),_=i(g),m=n(20),v=i(m),y=n(50),b=i(y),x=n(38),E=i(x),w=n(0),M=i(w),L=n(39),P=i(L),C=n(35),I=i(C),S=n(17),O=i(S),N=n(25),T=i(N),R=n(2),A=i(R),D=n(37),k=i(D),j=n(106),F=i(j);(0,M.default)(r.prototype,{addPoint:function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,s.default.EXTERIOR,s.default.INTERIOR)},addPolygon:function(t){var e=this._distance,n=d.default.LEFT;this._distance<0&&(e=-this._distance,n=d.default.RIGHT);var i=t.getExteriorRing(),r=T.default.removeRepeatedPoints(i.getCoordinates());if(this._distance<0&&this.isErodedCompletely(i,this._distance))return null;if(this._distance<=0&&r.length<3)return null;this.addPolygonRing(r,e,n,s.default.EXTERIOR,s.default.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var a=t.getInteriorRingN(o),u=T.default.removeRepeatedPoints(a.getCoordinates());this._distance>0&&this.isErodedCompletely(a,-this._distance)||this.addPolygonRing(u,e,d.default.opposite(n),s.default.INTERIOR,s.default.EXTERIOR)}},isTriangleErodedCompletely:function(t,e){var n=new F.default(t[0],t[1],t[2]),i=n.inCentre();return f.default.distancePointLine(i,n.p0,n.p1)<Math.abs(e)},addLineString:function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=T.default.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,s.default.EXTERIOR,s.default.INTERIOR)},addCurve:function(t,e,n){if(null===t||t.length<2)return null;var i=new _.default(t,new I.default(0,s.default.BOUNDARY,e,n));this._curveList.add(i)},getCurves:function(){return this.add(this._inputGeom),this._curveList},addPolygonRing:function(t,e,n,i,r){if(0===e&&t.length<E.default.MINIMUM_VALID_SIZE)return null;var o=i,s=r;t.length>=E.default.MINIMUM_VALID_SIZE&&f.default.isCCW(t)&&(o=r,s=i,n=d.default.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},add:function(t){if(t.isEmpty())return null;if(t instanceof v.default)this.addPolygon(t);else if(t instanceof u.default)this.addLineString(t);else if(t instanceof p.default)this.addPoint(t);else if(t instanceof b.default)this.addCollection(t);else if(t instanceof k.default)this.addCollection(t);else if(t instanceof P.default)this.addCollection(t);else{if(!(t instanceof O.default))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},isErodedCompletely:function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var i=t.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return e<0&&2*Math.abs(e)>r},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(139),u=i(a);(0,s.default)(r.prototype,{isTrivialIntersection:function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(r.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var o=t.size()-1;if(0===e&&i===o||0===i&&e===o)return!0}}return!1},getProperIntersectionPoint:function(){return this._properIntersectionPoint},hasProperInteriorIntersection:function(){return this._hasProperInterior},getLineIntersector:function(){return this._li},hasProperIntersection:function(){return this._hasProper},processIntersections:function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},hasIntersection:function(){return this._hasIntersection},isDone:function(){return!1},hasInteriorIntersection:function(){return this._hasInterior},interfaces_:function(){return[u.default]},getClass:function(){return r}}),r.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new P.default,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(472),s=i(o),a=n(9),u=i(a),l=n(31),f=i(l),c=n(138),d=i(c),h=n(102),p=i(h),g=n(82),_=i(g),m=n(473),v=i(m),y=n(0),b=i(y),x=n(129),E=i(x),w=n(474),M=i(w),L=n(29),P=i(L),C=n(475),I=i(C);(0,b.default)(r.prototype,{checkCorrectness:function(t){var e=_.default.getNodedSubstrings(t),n=new s.default(e);try{n.checkValid()}catch(t){if(!(t instanceof E.default))throw t;t.printStackTrace()}},getNodedSubstrings:function(){return _.default.getNodedSubstrings(this._nodedSegStrings)},snapRound:function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},findInteriorIntersections:function(t,e){var n=new I.default(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},computeVertexSnaps:function(){if((0,u.default)(arguments[0],f.default))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.computeVertexSnaps(n)}else if(arguments[0]instanceof _.default)for(var i=arguments[0],r=i.getCoordinates(),o=0;o<r.length;o++){var s=new v.default(r[o],this._scaleFactor,this._li),a=this._pointSnapper.snap(s,i,o);a&&i.addIntersection(r[o],o)}},computeNodes:function(t){this._nodedSegStrings=t,this._noder=new p.default,this._pointSnapper=new M.default(this._noder.getIndex()),this.snapRound(t,this._li)},computeIntersectionSnaps:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=new v.default(n,this._scaleFactor,this._li);this._pointSnapper.snap(i)}},interfaces_:function(){return[d.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._li=new f.default,this._segStrings=null;var t=arguments[0];this._segStrings=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(19),s=i(o),a=n(0),u=i(a),l=n(29),f=i(l),c=n(55),d=i(c);(0,u.default)(r.prototype,{checkEndPtVertexIntersections:function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next(),n=e.getCoordinates();this.checkEndPtVertexIntersections(n[0],this._segStrings),this.checkEndPtVertexIntersections(n[n.length-1],this._segStrings)}else if(2===arguments.length)for(var i=arguments[0],r=arguments[1],t=r.iterator();t.hasNext();)for(var e=t.next(),n=e.getCoordinates(),o=1;o<n.length-1;o++)if(n[o].equals(i))throw new d.default("found endpt/interior pt intersection at index "+o+" :pt "+i)},checkInteriorIntersections:function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var i=n.next();this.checkInteriorIntersections(e,i)}else if(2===arguments.length)for(var r=arguments[0],o=arguments[1],s=r.getCoordinates(),a=o.getCoordinates(),u=0;u<s.length-1;u++)for(var l=0;l<a.length-1;l++)this.checkInteriorIntersections(r,u,o,l);else if(4===arguments.length){var f=arguments[0],c=arguments[1],h=arguments[2],p=arguments[3];if(f===h&&c===p)return null;var g=f.getCoordinates()[c],_=f.getCoordinates()[c+1],m=h.getCoordinates()[p],v=h.getCoordinates()[p+1];if(this._li.computeIntersection(g,_,m,v),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,g,_)||this.hasInteriorIntersection(this._li,m,v)))throw new d.default("found non-noded intersection at "+g+"-"+_+" and "+m+"-"+v)}},checkValid:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},checkCollapses:function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0],i=n.getCoordinates(),t=0;t<i.length-2;t++)this.checkCollapse(i[t],i[t+1],i[t+2])},hasInteriorIntersection:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var r=t.getIntersection(i);if(!r.equals(e)&&!r.equals(n))return!0}return!1},checkCollapse:function(t,e,n){if(t.equals(n))throw new d.default("found non-noded collapse at "+r.fact.createLineString([t,e,n]))},interfaces_:function(){return[]},getClass:function(){return r}}),r.fact=new s.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new u.default("Scale factor must be non-zero");1!==e&&(this._pt=new s.default(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new s.default,this._p1Scaled=new s.default),this.initCorners(this._pt)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(3),s=i(o),a=n(10),u=i(a),l=n(0),f=i(l),c=n(11),d=i(c),h=n(7),p=i(h);(0,f.default)(r.prototype,{intersectsScaled:function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this._maxx<n||this._minx>i||this._maxy<r||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return p.default.isTrue(!(s&&a),"Found bad envelope test"),a},initCorners:function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new s.default(this._maxx,this._maxy),this._corner[1]=new s.default(this._minx,this._maxy),this._corner[2]=new s.default(this._minx,this._miny),this._corner[3]=new s.default(this._maxx,this._miny)},intersects:function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},scale:function(t){return Math.round(t*this._scaleFactor)},getCoordinate:function(){return this._originalPt},copyScaled:function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},getSafeEnvelope:function(){if(null===this._safeEnv){var t=r.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new d.default(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},intersectsPixelClosure:function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},intersectsToleranceSquare:function(t,e){var n=!1,i=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.isProper()||(!(!n||!i)||(!!t.equals(this._pt)||!!e.equals(this._pt))))))},addSnappedNode:function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return!!this.intersects(n,i)&&(t.addIntersection(this.getCoordinate(),e),!0)},interfaces_:function(){return[]},getClass:function(){return r}}),r.SAFE_ENV_EXPANSION_FACTOR=.75},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._index=null;var t=arguments[0];this._index=t}function o(){a.default.apply(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._hotPixel=t,this._parentEdge=e,this._hotPixelVertexIndex=n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(215),a=i(s),u=n(67),l=i(u),f=n(0),c=i(f),d=n(4),h=i(d);(0,c.default)(r.prototype,{snap:function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=e.getSafeEnvelope(),s=new o(e,n,i);return this._index.query(r,{interfaces_:function(){return[l.default]},visitItem:function(t){t.select(r,s)}}),s.isNodeAdded()}},interfaces_:function(){return[]},getClass:function(){return r}}),(0,h.default)(o,a.default),(0,c.default)(o.prototype,{isNodeAdded:function(){return this._isNodeAdded},select:function(){if(2!==arguments.length)return a.default.prototype.select.apply(this,arguments);var t=arguments[0],e=arguments[1],n=t.getContext();if(null!==this._parentEdge&&n===this._parentEdge&&e===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(n,e)},interfaces_:function(){return[]},getClass:function(){return o}}),r.HotPixelSnapAction=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new f.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(139),u=i(a),l=n(2),f=i(l);(0,s.default)(r.prototype,{processIntersections:function(t,e,n,i){if(t===n&&e===i)return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];if(this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)}},isDone:function(){return!1},getInteriorIntersections:function(){return this._interiorIntersections},interfaces_:function(){return[u.default]},getClass:function(){return r}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DistanceOp=void 0;var i=n(477),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.DistanceOp=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new s.default,this._minDistanceLocation=null,this._minDistance=P.default.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];r.call(this,t,e,0)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=i,this._terminateDistance=o}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(81),s=i(o),a=n(224),u=i(a),l=n(14),f=i(l),c=n(13),d=i(c),h=n(12),p=i(h),g=n(9),_=i(g),m=n(10),v=i(m),y=n(32),b=i(y),x=n(20),E=i(x),w=n(225),M=i(w),L=n(15),P=i(L),C=n(478),I=i(C),S=n(0),O=i(S),N=n(479),T=i(N),R=n(18),A=i(R),D=n(86),k=i(D),j=n(42),F=i(j);(0,O.default)(r.prototype,{computeContainmentDistance:function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=1-e,r=u.default.getPolygons(this._geom[e]);if(r.size()>0){var o=T.default.getLocations(this._geom[i]);if(this.computeContainmentDistance(o,r,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[i]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&(0,_.default)(arguments[0],F.default)&&(0,_.default)(arguments[1],F.default)){for(var s=arguments[0],a=arguments[1],l=arguments[2],c=0;c<s.size();c++)for(var d=s.get(c),h=0;h<a.size();h++)if(this.computeContainmentDistance(d,a.get(h),l),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof M.default&&arguments[1]instanceof E.default){var p=arguments[0],g=arguments[1],m=arguments[2],v=p.getCoordinate();if(f.default.EXTERIOR!==this._ptLocator.locate(v,g))return this._minDistance=0,m[0]=p,m[1]=new M.default(g,v),null}},computeMinDistanceLinesPoints:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this._minDistance<=this._terminateDistance)return null}},computeFacetDistance:function(){var t=new Array(2).fill(null),e=k.default.getLines(this._geom[0]),n=k.default.getLines(this._geom[1]),i=I.default.getPoints(this._geom[0]),r=I.default.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,r,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,i,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(i,r,t),void this.updateMinDistance(t,!1))))},nearestLocations:function(){return this.computeMinDistance(),this._minDistanceLocation},updateMinDistance:function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},nearestPoints:function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},computeMinDistance:function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof d.default&&arguments[1]instanceof b.default){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var i=t.getCoordinates(),r=e.getCoordinate(),o=0;o<i.length-1;o++){var s=p.default.distancePointLine(r,i[o],i[o+1]);if(s<this._minDistance){this._minDistance=s;var a=new A.default(i[o],i[o+1]),u=a.closestPoint(r);n[0]=new M.default(t,o,u),n[1]=new M.default(e,0,r)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof d.default&&arguments[1]instanceof d.default){var l=arguments[0],f=arguments[1],c=arguments[2];if(l.getEnvelopeInternal().distance(f.getEnvelopeInternal())>this._minDistance)return null;for(var i=l.getCoordinates(),h=f.getCoordinates(),o=0;o<i.length-1;o++)for(var g=0;g<h.length-1;g++){var s=p.default.distanceLineLine(i[o],i[o+1],h[g],h[g+1]);if(s<this._minDistance){this._minDistance=s;var _=new A.default(i[o],i[o+1]),m=new A.default(h[g],h[g+1]),v=_.closestPoints(m);c[0]=new M.default(l,o,v[0]),c[1]=new M.default(f,g,v[1])}if(this._minDistance<=this._terminateDistance)return null}}},computeMinDistancePoints:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o),a=r.getCoordinate().distance(s.getCoordinate());if(a<this._minDistance&&(this._minDistance=a,n[0]=new M.default(r,0,r.getCoordinate()),n[1]=new M.default(s,0,s.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},distance:function(){if(null===this._geom[0]||null===this._geom[1])throw new v.default("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},computeMinDistanceLines:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this._minDistance<=this._terminateDistance)return null}},interfaces_:function(){return[]},getClass:function(){return r}}),r.distance=function(t,e){return new r(t,e).distance()},r.isWithinDistance=function(t,e,n){return new r(t,e,n).distance()<=n},r.nearestPoints=function(t,e){return new r(t,e).nearestPoints()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._pts=null;var t=arguments[0];this._pts=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(32),s=i(o),a=n(0),u=i(a),l=n(45),f=i(l),c=n(17),d=i(c),h=n(2),p=i(h),g=n(48),_=i(g);(0,u.default)(r.prototype,{filter:function(t){t instanceof s.default&&this._pts.add(t)},interfaces_:function(){return[_.default]},getClass:function(){return r}}),r.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof s.default?f.default.singletonList(t):r.getPoints(t,new p.default)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof s.default?n.add(e):e instanceof d.default&&e.apply(new r(n)),n}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._locations=null;var t=arguments[0];this._locations=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(13),s=i(o),a=n(32),u=i(a),l=n(20),f=i(l),c=n(225),d=i(c),h=n(0),p=i(h),g=n(2),_=i(g),m=n(48),v=i(m);(0,p.default)(r.prototype,{filter:function(t){(t instanceof u.default||t instanceof s.default||t instanceof f.default)&&this._locations.add(new d.default(t,0,t.getCoordinate()))},interfaces_:function(){return[v.default]},getClass:function(){return r}}),r.getLocations=function(t){var e=new _.default;return t.apply(new r(e)),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineMerger=void 0;var i=n(481),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.LineMerger=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._graph=new v.default,this._mergedLineStrings=null,this._factory=null,this._edgeStrings=null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(13),s=i(o),a=n(16),u=i(a),l=n(9),f=i(l),c=n(31),d=i(c),h=n(482),p=i(h),g=n(0),_=i(g),m=n(483),v=i(m),y=n(40),b=i(y),x=n(2),E=i(x),w=n(7),M=i(w),L=n(108),P=i(L);(0,_.default)(r.prototype,{buildEdgeStringsForUnprocessedNodes:function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next();e.isMarked()||(M.default.isTrue(2===e.getDegree()),this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForNonDegree2Nodes:function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next();2!==e.getDegree()&&(this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForObviousStartNodes:function(){this.buildEdgeStringsForNonDegree2Nodes()},getMergedLineStrings:function(){return this.merge(),this._mergedLineStrings},buildEdgeStringsStartingAt:function(t){for(var e=t.getOutEdges().iterator();e.hasNext();){var n=e.next();n.getEdge().isMarked()||this._edgeStrings.add(this.buildEdgeStringStartingWith(n))}},merge:function(){if(null!==this._mergedLineStrings)return null;P.default.setMarked(this._graph.nodeIterator(),!1),P.default.setMarked(this._graph.edgeIterator(),!1),this._edgeStrings=new E.default,this.buildEdgeStringsForObviousStartNodes(),this.buildEdgeStringsForIsolatedLoops(),this._mergedLineStrings=new E.default;for(var t=this._edgeStrings.iterator();t.hasNext();){var e=t.next();this._mergedLineStrings.add(e.toLineString())}},buildEdgeStringStartingWith:function(t){var e=new p.default(this._factory),n=t;do{e.add(n),n.getEdge().setMarked(!0),n=n.getNext()}while(null!==n&&n!==t);return e},add:function(){if(arguments[0]instanceof u.default){arguments[0].apply({interfaces_:function(){return[b.default]},filter:function(t){t instanceof s.default&&this.add(t)}})}else if((0,f.default)(arguments[0],d.default)){var t=arguments[0];this._mergedLineStrings=null;for(var e=t.iterator();e.hasNext();){var n=e.next();this.add(n)}}else if(arguments[0]instanceof s.default){var i=arguments[0];null===this._factory&&(this._factory=i.getFactory()),this._graph.addEdge(i)}},buildEdgeStringsForIsolatedLoops:function(){this.buildEdgeStringsForUnprocessedNodes()},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._factory=null,this._directedEdges=new d.default,this._coordinates=null;var t=arguments[0];this._factory=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(24),s=i(o),a=n(0),u=i(a),l=n(25),f=i(l),c=n(2),d=i(c);(0,u.default)(r.prototype,{getCoordinates:function(){if(null===this._coordinates){for(var t=0,e=0,n=new s.default,i=this._directedEdges.iterator();i.hasNext();){var r=i.next();r.getEdgeDirection()?t++:e++,n.add(r.getEdge().getLine().getCoordinates(),!1,r.getEdgeDirection())}this._coordinates=n.toCoordinateArray(),e>t&&f.default.reverse(this._coordinates)}return this._coordinates},toLineString:function(){return this._factory.createLineString(this.getCoordinates())},add:function(t){this._directedEdges.add(t)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){v.default.apply(this)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(484),s=i(o),a=n(109),u=i(a),l=n(0),f=i(l),c=n(25),d=i(c),h=n(486),p=i(h),g=n(4),_=i(g),m=n(226),v=i(m);(0,_.default)(r,v.default),(0,f.default)(r.prototype,{addEdge:function(t){if(t.isEmpty())return null;var e=d.default.removeRepeatedPoints(t.getCoordinates());if(e.length<=1)return null;var n=e[0],i=e[e.length-1],r=this.getNode(n),o=this.getNode(i),a=new s.default(r,o,e[1],!0),u=new s.default(o,r,e[e.length-2],!1),l=new p.default(t);l.setDirectedEdges(a,u),this.add(l)},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new u.default(t),this.add(e)),e},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];u.default.call(this,t,e,n,i)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(87),u=i(a),l=n(7),f=i(l);(0,i(n(4)).default)(r,u.default),(0,s.default)(r.prototype,{getNext:function(){return 2!==this.getToNode().getDegree()?null:this.getToNode().getOutEdges().getEdges().get(0)===this.getSym()?this.getToNode().getOutEdges().getEdges().get(1):(f.default.isTrue(this.getToNode().getOutEdges().getEdges().get(1)===this.getSym()),this.getToNode().getOutEdges().getEdges().get(0))},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._outEdges=new d.default,this._sorted=!1}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(45),u=i(a),l=n(87),f=i(l),c=n(2),d=i(c),h=n(110),p=i(h);(0,s.default)(r.prototype,{getNextEdge:function(t){var e=this.getIndex(t);return this._outEdges.get(this.getIndex(e+1))},getCoordinate:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},iterator:function(){return this.sortEdges(),this._outEdges.iterator()},sortEdges:function(){this._sorted||(u.default.sort(this._outEdges),this._sorted=!0)},remove:function(t){this._outEdges.remove(t)},getEdges:function(){return this.sortEdges(),this._outEdges},getNextCWEdge:function(t){var e=this.getIndex(t);return this._outEdges.get(this.getIndex(e-1))},getIndex:function(){if(arguments[0]instanceof p.default){var t=arguments[0];this.sortEdges();for(var e=0;e<this._outEdges.size();e++){var n=this._outEdges.get(e);if(n.getEdge()===t)return e}return-1}if(arguments[0]instanceof f.default){var i=arguments[0];this.sortEdges();for(var e=0;e<this._outEdges.size();e++){var n=this._outEdges.get(e);if(n===i)return e}return-1}if(Number.isInteger(arguments[0])){var r=arguments[0],o=r%this._outEdges.size();return o<0&&(o+=this._outEdges.size()),o}},add:function(t){this._outEdges.add(t),this._sorted=!1},getDegree:function(){return this._outEdges.size()},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){u.default.apply(this),this._line=null;var t=arguments[0];this._line=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(110),u=i(a);(0,i(n(4)).default)(r,u.default),(0,s.default)(r.prototype,{getLine:function(){return this._line},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._nodeMap=new u.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(44),u=i(a);(0,s.default)(r.prototype,{find:function(t){return this._nodeMap.get(t)},iterator:function(){return this._nodeMap.values().iterator()},remove:function(t){return this._nodeMap.remove(t)},values:function(){return this._nodeMap.values()},add:function(t){return this._nodeMap.put(t.getCoordinate(),t),t},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverlayOp=void 0;var i=n(51),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.OverlayOp=r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Polygonizer=void 0;var i=n(490),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.Polygonizer=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._lineStringAdder=new o(this),this._graph=null,this._dangles=new C.default,this._cutEdges=new C.default,this._invalidRingLines=new C.default,this._holeList=null,this._shellList=null,this._polyList=null,this._isCheckingRingsValid=!0,this._extractOnlyPolygonal=null,this._geomFactory=null,0===arguments.length)r.call(this,!1);else if(1===arguments.length){var t=arguments[0];this._extractOnlyPolygonal=t}}function o(){this.p=null;var t=arguments[0];this.p=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(13),a=i(s),u=n(16),l=i(u),f=n(491),c=i(f),d=n(9),h=i(d),p=n(19),g=i(p),_=n(31),m=i(_),v=n(0),y=i(v),b=n(45),x=i(b),E=n(227),w=i(E),M=n(40),L=i(M),P=n(2),C=i(P);(0,y.default)(r.prototype,{getGeometry:function(){return null===this._geomFactory&&(this._geomFactory=new g.default),this.polygonize(),this._extractOnlyPolygonal?this._geomFactory.buildGeometry(this._polyList):this._geomFactory.createGeometryCollection(g.default.toGeometryArray(this._polyList))},getInvalidRingLines:function(){return this.polygonize(),this._invalidRingLines},findValidRings:function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isValid()?e.add(r):n.add(r.getLineString())}},polygonize:function(){if(null!==this._polyList)return null;if(this._polyList=new C.default,null===this._graph)return null;this._dangles=this._graph.deleteDangles(),this._cutEdges=this._graph.deleteCutEdges();var t=this._graph.getEdgeRings(),e=new C.default;this._invalidRingLines=new C.default,this._isCheckingRingsValid?this.findValidRings(t,e,this._invalidRingLines):e=t,this.findShellsAndHoles(e),r.assignHolesToShells(this._holeList,this._shellList),x.default.sort(this._shellList,new w.default.EnvelopeComparator);var n=!0;this._extractOnlyPolygonal&&(r.findDisjointShells(this._shellList),n=!1),this._polyList=r.extractPolygons(this._shellList,n)},getDangles:function(){return this.polygonize(),this._dangles},getCutEdges:function(){return this.polygonize(),this._cutEdges},getPolygons:function(){return this.polygonize(),this._polyList},add:function(){if((0,h.default)(arguments[0],m.default))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.add(n)}else if(arguments[0]instanceof a.default){var i=arguments[0];this._geomFactory=i.getFactory(),null===this._graph&&(this._graph=new c.default(this._geomFactory)),this._graph.addEdge(i)}else if(arguments[0]instanceof l.default){var r=arguments[0];r.apply(this._lineStringAdder)}},setCheckRingsValid:function(t){this._isCheckingRingsValid=t},findShellsAndHoles:function(t){this._holeList=new C.default,this._shellList=new C.default;for(var e=t.iterator();e.hasNext();){var n=e.next();n.computeHole(),n.isHole()?this._holeList.add(n):this._shellList.add(n)}},interfaces_:function(){return[]},getClass:function(){return r}}),r.findOuterShells=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getOuterHole();null===i||i.isProcessed()||(n.setIncluded(!0),i.setProcessed(!0))}},r.extractPolygons=function(t,e){for(var n=new C.default,i=t.iterator();i.hasNext();){var r=i.next();(e||r.isIncluded())&&n.add(r.getPolygon())}return n},r.assignHolesToShells=function(t,e){for(var n=t.iterator();n.hasNext();){var i=n.next();r.assignHoleToShell(i,e)}},r.assignHoleToShell=function(t,e){var n=w.default.findEdgeRingContaining(t,e);null!==n&&n.addHole(t)},r.findDisjointShells=function(t){r.findOuterShells(t);var e=null;do{e=!1;for(var n=t.iterator();n.hasNext();){var i=n.next();i.isIncludedSet()||(i.updateIncluded(),i.isIncludedSet()||(e=!0))}}while(e)},(0,y.default)(o.prototype,{filter:function(t){t instanceof a.default&&this.p.add(t)},interfaces_:function(){return[L.default]},getClass:function(){return o}}),r.LineStringAdder=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){I.default.apply(this),this._factory=null;var t=arguments[0];this._factory=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(492),s=i(o),a=n(56),u=i(a),l=n(80),f=i(l),c=n(109),d=i(c),h=n(493),p=i(h),g=n(0),_=i(g),m=n(227),v=i(m),y=n(25),b=i(y),x=n(2),E=i(x),w=n(7),M=i(w),L=n(4),P=i(L),C=n(226),I=i(C);(0,P.default)(r,I.default),(0,_.default)(r.prototype,{findEdgeRing:function(t){var e=new v.default(this._factory);return e.build(t),e},computeDepthParity:function(){if(0===arguments.length)for(;;){return null}else if(1===arguments.length){arguments[0]}},computeNextCWEdges:function(){for(var t=this.nodeIterator();t.hasNext();){var e=t.next();r.computeNextCWEdges(e)}},addEdge:function(t){if(t.isEmpty())return null;var e=b.default.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return null;var n=e[0],i=e[e.length-1],r=this.getNode(n),o=this.getNode(i),a=new s.default(r,o,e[1],!0),u=new s.default(o,r,e[e.length-2],!1),l=new p.default(t);l.setDirectedEdges(a,u),this.add(l)},deleteCutEdges:function(){this.computeNextCWEdges(),r.findLabeledEdgeRings(this._dirEdges);for(var t=new E.default,e=this._dirEdges.iterator();e.hasNext();){var n=e.next();if(!n.isMarked()){var i=n.getSym();if(n.getLabel()===i.getLabel()){n.setMarked(!0),i.setMarked(!0);var o=n.getEdge();t.add(o.getLine())}}}return t},getEdgeRings:function(){this.computeNextCWEdges(),r.label(this._dirEdges,-1);var t=r.findLabeledEdgeRings(this._dirEdges);this.convertMaximalToMinimalEdgeRings(t);for(var e=new E.default,n=this._dirEdges.iterator();n.hasNext();){var i=n.next();if(!i.isMarked()&&!i.isInRing()){var o=this.findEdgeRing(i);e.add(o)}}return e},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new d.default(t),this.add(e)),e},convertMaximalToMinimalEdgeRings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel(),o=r.findIntersectionNodes(n,i);if(null!==o)for(var s=o.iterator();s.hasNext();){var a=s.next();r.computeNextCCWEdges(a,i)}}},deleteDangles:function(){for(var t=this.findNodesOfDegree(1),e=new u.default,n=new f.default,i=t.iterator();i.hasNext();)n.push(i.next());for(;!n.isEmpty();){var o=n.pop();r.deleteAllEdges(o);for(var s=o.getOutEdges().getEdges(),i=s.iterator();i.hasNext();){var a=i.next();a.setMarked(!0);var l=a.getSym();null!==l&&l.setMarked(!0);var c=a.getEdge();e.add(c.getLine());var d=a.getToNode();1===r.getDegreeNonDeleted(d)&&n.push(d)}}return e},interfaces_:function(){return[]},getClass:function(){return r}}),r.findLabeledEdgeRings=function(t){for(var e=new E.default,n=1,i=t.iterator();i.hasNext();){var o=i.next();if(!o.isMarked()&&!(o.getLabel()>=0)){e.add(o);var s=v.default.findDirEdgesInRing(o);r.label(s,n),n++}}return e},r.getDegreeNonDeleted=function(t){for(var e=t.getOutEdges().getEdges(),n=0,i=e.iterator();i.hasNext();){i.next().isMarked()||n++}return n},r.deleteAllEdges=function(t){for(var e=t.getOutEdges().getEdges(),n=e.iterator();n.hasNext();){var i=n.next();i.setMarked(!0);var r=i.getSym();null!==r&&r.setMarked(!0)}},r.label=function(t,e){for(var n=t.iterator();n.hasNext();){n.next().setLabel(e)}},r.computeNextCWEdges=function(t){for(var e=t.getOutEdges(),n=null,i=null,r=e.getEdges().iterator();r.hasNext();){var o=r.next();if(!o.isMarked()){if(null===n&&(n=o),null!==i){var s=i.getSym();s.setNext(o)}i=o}}if(null!==i){var s=i.getSym();s.setNext(n)}},r.computeNextCCWEdges=function(t,e){for(var n=t.getOutEdges(),i=null,r=null,o=n.getEdges(),s=o.size()-1;s>=0;s--){var a=o.get(s),u=a.getSym(),l=null;a.getLabel()===e&&(l=a);var f=null;u.getLabel()===e&&(f=u),null===l&&null===f||(null!==f&&(r=f),null!==l&&(null!==r&&(r.setNext(l),r=null),null===i&&(i=l)))}null!==r&&(M.default.isTrue(null!==i),r.setNext(i))},r.getDegree=function(t,e){for(var n=t.getOutEdges().getEdges(),i=0,r=n.iterator();r.hasNext();){r.next().getLabel()===e&&i++}return i},r.findIntersectionNodes=function(t,e){var n=t,i=null;do{var o=n.getFromNode();r.getDegree(o,e)>1&&(null===i&&(i=new E.default),i.add(o)),n=n.getNext(),M.default.isTrue(null!==n,"found null DE in ring"),M.default.isTrue(n===t||!n.isInRing(),"found DE already in ring")}while(n!==t);return i}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._edgeRing=null,this._next=null,this._label=-1;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];u.default.call(this,t,e,n,i)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(87),u=i(a);(0,i(n(4)).default)(r,u.default),(0,s.default)(r.prototype,{getNext:function(){return this._next},isInRing:function(){return null!==this._edgeRing},setRing:function(t){this._edgeRing=t},setLabel:function(t){this._label=t},getLabel:function(){return this._label},setNext:function(t){this._next=t},getRing:function(){return this._edgeRing},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){u.default.apply(this),this._line=null;var t=arguments[0];this._line=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(110),u=i(a);(0,i(n(4)).default)(r,u.default),(0,s.default)(r.prototype,{getLine:function(){return this._line},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._geometryFactory=new u.default,this._geomGraph=null,this._disconnectedRingcoord=null;var t=arguments[0];this._geomGraph=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(14),s=i(o),a=n(19),u=i(a),l=n(21),f=i(l),c=n(20),d=i(c),h=n(0),p=i(h),g=n(39),_=i(g),m=n(203),v=i(m),y=n(143),b=i(y),x=n(2),E=i(x),w=n(7),M=i(w),L=n(83),P=i(L);(0,p.default)(r.prototype,{visitInteriorRing:function(t,e){var n=t.getCoordinates(),i=n[0],o=r.findDifferentPoint(n,i),a=e.findEdgeInSameDirection(i,o),u=e.findEdgeEnd(a),l=null;u.getLabel().getLocation(0,f.default.RIGHT)===s.default.INTERIOR?l=u:u.getSym().getLabel().getLocation(0,f.default.RIGHT)===s.default.INTERIOR&&(l=u.getSym()),M.default.isTrue(null!==l,"unable to find dirEdge with Interior on RHS"),this.visitLinkedDirectedEdges(l)},visitShellInteriors:function(t,e){if(t instanceof d.default){var n=t;this.visitInteriorRing(n.getExteriorRing(),e)}if(t instanceof _.default)for(var i=t,r=0;r<i.getNumGeometries();r++){var n=i.getGeometryN(r);this.visitInteriorRing(n.getExteriorRing(),e)}},getCoordinate:function(){return this._disconnectedRingcoord},setInteriorEdgesInResult:function(t){for(var e=t.getEdgeEnds().iterator();e.hasNext();){var n=e.next();n.getLabel().getLocation(0,f.default.RIGHT)===s.default.INTERIOR&&n.setInResult(!0)}},visitLinkedDirectedEdges:function(t){var e=t,n=t;do{M.default.isTrue(null!==n,"found null Directed Edge"),n.setVisited(!0),n=n.getNext()}while(n!==e)},buildEdgeRings:function(t){for(var e=new E.default,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&null===i.getEdgeRing()){var r=new v.default(i,this._geometryFactory);r.linkDirectedEdgesForMinimalEdgeRings();var o=r.buildMinimalRings();e.addAll(o)}}return e},hasUnvisitedShellEdge:function(t){for(var e=0;e<t.size();e++){var n=t.get(e);if(!n.isHole()){var i=n.getEdges(),r=i.get(0);if(r.getLabel().getLocation(0,f.default.RIGHT)===s.default.INTERIOR)for(var o=0;o<i.size();o++)if(r=i.get(o),!r.isVisited())return this._disconnectedRingcoord=r.getCoordinate(),!0}}return!1},isInteriorsConnected:function(){var t=new E.default;this._geomGraph.computeSplitEdges(t);var e=new P.default(new b.default);e.addEdges(t),this.setInteriorEdgesInResult(e),e.linkResultDirectedEdges();var n=this.buildEdgeRings(e.getEdgeEnds());return this.visitShellInteriors(this._geomGraph.getGeometry(),e),!this.hasUnvisitedShellEdge(n)},interfaces_:function(){return[]},getClass:function(){return r}}),r.findDifferentPoint=function(t,e){for(var n=0;n<t.length;n++)if(!t[n].equals(e))return t[n];return null}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._nodes=new d.default(new p.default)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(14),s=i(o),a=n(229),u=i(a),l=n(0),f=i(l),c=n(140),d=i(c),h=n(230),p=i(h);(0,f.default)(r.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._nodes.add(n)}},getNodeIterator:function(){return this._nodes.iterator()},copyNodesAndLabels:function(t,e){for(var n=t.getNodeIterator();n.hasNext();){var i=n.next();this._nodes.addNode(i.getCoordinate()).setLabel(e,i.getLabel().getLocation(e))}},build:function(t){this.computeIntersectionNodes(t,0),this.copyNodesAndLabels(t,0);var e=new u.default,n=e.computeEdgeEnds(t.getEdgeIterator());this.insertEdgeEnds(n)},computeIntersectionNodes:function(t,e){for(var n=t.getEdgeIterator();n.hasNext();)for(var i=n.next(),r=i.getLabel().getLocation(e),o=i.getEdgeIntersectionList().iterator();o.hasNext();){var a=o.next(),u=this._nodes.addNode(a.coord);r===s.default.BOUNDARY?u.setLabelBoundary(e):u.getLabel().isNull(e)&&u.setLabel(e,s.default.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){u.default.apply(this)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(207),u=i(a),l=n(4),f=i(l),c=n(497),d=i(c);(0,f.default)(r,u.default),(0,s.default)(r.prototype,{updateIM:function(t){for(var e=this.iterator();e.hasNext();){e.next().updateIM(t)}},insert:function(t){var e=this._edgeMap.get(t);null===e?(e=new d.default(t),this.insertEdgeEnd(t,e)):e.insert(t)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._edgeEnds=new v.default,1===arguments.length){var t=arguments[0];r.call(this,null,t)}else if(2===arguments.length){var e=(arguments[0],arguments[1]);u.default.call(this,e.getEdge(),e.getCoordinate(),e.getDirectedCoordinate(),new _.default(e.getLabel())),this.insert(e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(14),s=i(o),a=n(141),u=i(a),l=n(21),f=i(l),c=n(0),d=i(c),h=n(85),p=i(h),g=n(35),_=i(g),m=n(2),v=i(m),y=n(104),b=i(y);(0,i(n(4)).default)(r,u.default),(0,d.default)(r.prototype,{insert:function(t){this._edgeEnds.add(t)},print:function(t){t.println("EdgeEndBundle--\x3e Label: "+this._label);for(var e=this.iterator();e.hasNext();)e.next().print(t),t.println()},iterator:function(){return this._edgeEnds.iterator()},getEdgeEnds:function(){return this._edgeEnds},computeLabelOn:function(t,e){for(var n=0,i=!1,r=this.iterator();r.hasNext();){var o=r.next(),a=o.getLabel().getLocation(t);a===s.default.BOUNDARY&&n++,a===s.default.INTERIOR&&(i=!0)}var a=s.default.NONE;i&&(a=s.default.INTERIOR),n>0&&(a=p.default.determineBoundary(e,n)),this._label.setLocation(t,a)},computeLabelSide:function(t,e){for(var n=this.iterator();n.hasNext();){var i=n.next();if(i.getLabel().isArea()){var r=i.getLabel().getLocation(t,e);if(r===s.default.INTERIOR)return this._label.setLocation(t,e,s.default.INTERIOR),null;r===s.default.EXTERIOR&&this._label.setLocation(t,e,s.default.EXTERIOR)}}},getLabel:function(){return this._label},computeLabelSides:function(t){this.computeLabelSide(t,f.default.LEFT),this.computeLabelSide(t,f.default.RIGHT)},updateIM:function(t){b.default.updateIM(this._label,t)},computeLabel:function(t){for(var e=!1,n=this.iterator();n.hasNext();)n.next().getLabel().isArea()&&(e=!0);this._label=e?new _.default(s.default.NONE,s.default.NONE,s.default.NONE):new _.default(s.default.NONE);for(var i=0;i<2;i++)this.computeLabelOn(i,t),e&&this.computeLabelSides(i)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){var t=arguments[0],e=arguments[1];s.default.call(this,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(84),s=i(o),a=n(0),u=i(a);(0,i(n(4)).default)(r,s.default),(0,u.default)(r.prototype,{updateIMFromEdges:function(t){this._edges.updateIM(t)},computeIM:function(t){t.setAtLeastIfValid(this._label.getLocation(0),this._label.getLocation(1),0)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._graph=null,this._rings=new p.default,this._totalEnv=new _.default,this._index=null,this._nestedPt=null;var t=arguments[0];this._graph=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(12),s=i(o),a=n(103),u=i(a),l=n(147),f=i(l),c=n(0),d=i(c),h=n(2),p=i(h),g=n(11),_=i(g);(0,d.default)(r.prototype,{buildIndex:function(){this._index=new u.default;for(var t=0;t<this._rings.size();t++){var e=this._rings.get(t),n=e.getEnvelopeInternal();this._index.insert(n,e)}},getNestedPoint:function(){return this._nestedPt},isNonNested:function(){this.buildIndex();for(var t=0;t<this._rings.size();t++)for(var e=this._rings.get(t),n=e.getCoordinates(),i=this._index.query(e.getEnvelopeInternal()),r=0;r<i.size();r++){var o=i.get(r),a=o.getCoordinates();if(e!==o&&e.getEnvelopeInternal().intersects(o.getEnvelopeInternal())){var u=f.default.findPtNotNode(n,o,this._graph);if(null!==u){var l=s.default.isPointInRing(u,a);if(l)return this._nestedPt=u,!1}}}return!0},add:function(t){this._rings.add(t),this._totalEnv.expandToInclude(t.getEnvelopeInternal())},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(){if(this._errorType=null,this._pt=null,1===arguments.length){var t=arguments[0];i.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._errorType=e,null!==n&&(this._pt=n.copy())}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{getErrorType:function(){return this._errorType},getMessage:function(){return i.errMsg[this._errorType]},getCoordinate:function(){return this._pt},toString:function(){var t="";return null!==this._pt&&(t=" at or near point "+this._pt),this.getMessage()+t},interfaces_:function(){return[]},getClass:function(){return i}}),i.ERROR=0,i.REPEATED_POINT=1,i.HOLE_OUTSIDE_SHELL=2,i.NESTED_HOLES=3,i.DISCONNECTED_INTERIOR=4,i.SELF_INTERSECTION=5,i.RING_SELF_INTERSECTION=6,i.NESTED_SHELLS=7,i.DUPLICATE_RINGS=8,i.TOO_FEW_POINTS=9,i.INVALID_COORDINATE=10,i.RING_NOT_CLOSED=11,i.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RelateOp=void 0;var i=n(502),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.RelateOp=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._relate=null,2===arguments.length){var t=arguments[0],e=arguments[1];_.default.call(this,t,e),this._relate=new f.default(this._arg)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];_.default.call(this,n,i,r),this._relate=new f.default(this._arg)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(16),s=i(o),a=n(9),u=i(a),l=n(503),f=i(l),c=n(76),d=i(c),h=n(0),p=i(h),g=n(144),_=i(g),m=n(504),v=i(m),y=n(4),b=i(y),x=n(505),E=i(x);(0,b.default)(r,_.default),(0,p.default)(r.prototype,{getIntersectionMatrix:function(){return this._relate.computeIM()},interfaces_:function(){return[]},getClass:function(){return r}}),r.covers=function(t,e){return!!t.getEnvelopeInternal().covers(e.getEnvelopeInternal())&&(!!t.isRectangle()||r.relate(t,e).isCovers())},r.intersects=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&(t.isRectangle()?E.default.intersects(t,e):e.isRectangle()?E.default.intersects(e,t):r.relate(t,e).isIntersects())},r.touches=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&r.relate(t,e).isTouches(t.getDimension(),e.getDimension())},r.within=function(t,e){return e.contains(t)},r.coveredBy=function(t,e){return r.covers(e,t)},r.relate=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new r(t,e),i=n.getIntersectionMatrix();return i}if(3===arguments.length){if("string"==typeof arguments[2]&&arguments[0]instanceof s.default&&arguments[1]instanceof s.default){var o=arguments[0],a=arguments[1],l=arguments[2];return r.relateWithCheck(o,a).matches(l)}if((0,u.default)(arguments[2],d.default)&&arguments[0]instanceof s.default&&arguments[1]instanceof s.default){var f=arguments[0],c=arguments[1],h=arguments[2],n=new r(f,c,h),i=n.getIntersectionMatrix();return i}}},r.overlaps=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&r.relate(t,e).isOverlaps(t.getDimension(),e.getDimension())},r.disjoint=function(t,e){return!t.intersects(e)},r.relateWithCheck=function(t,e){return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),r.relate(t,e)},r.crosses=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&r.relate(t,e).isCrosses(t.getDimension(),e.getDimension())},r.contains=function(t,e){return!!t.getEnvelopeInternal().contains(e.getEnvelopeInternal())&&(t.isRectangle()?v.default.contains(t,e):r.relate(t,e).isContains())}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._li=new E.default,this._ptLocator=new s.default,this._arg=null,this._nodes=new _.default(new v.default),this._im=null,this._isolatedEdges=new b.default,this._invalidPoint=null;var t=arguments[0];this._arg=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(81),s=i(o),a=n(14),u=i(a),l=n(195),f=i(l),c=n(229),d=i(c),h=n(0),p=i(h),g=n(140),_=i(g),m=n(230),v=i(m),y=n(2),b=i(y),x=n(29),E=i(x),w=n(7),M=i(w);(0,p.default)(r.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._nodes.add(n)}},computeProperIntersectionIM:function(t,e){var n=this._arg[0].getGeometry().getDimension(),i=this._arg[1].getGeometry().getDimension(),r=t.hasProperIntersection(),o=t.hasProperInteriorIntersection();2===n&&2===i?r&&e.setAtLeast("212101212"):2===n&&1===i?(r&&e.setAtLeast("FFF0FFFF2"),o&&e.setAtLeast("1FFFFF1FF")):1===n&&2===i?(r&&e.setAtLeast("F0FFFFFF2"),o&&e.setAtLeast("1F1FFFFFF")):1===n&&1===i&&o&&e.setAtLeast("0FFFFFFFF")},labelIsolatedEdges:function(t,e){for(var n=this._arg[t].getEdgeIterator();n.hasNext();){var i=n.next();i.isIsolated()&&(this.labelIsolatedEdge(i,e,this._arg[e].getGeometry()),this._isolatedEdges.add(i))}},labelIsolatedEdge:function(t,e,n){if(n.getDimension()>0){var i=this._ptLocator.locate(t.getCoordinate(),n);t.getLabel().setAllLocations(e,i)}else t.getLabel().setAllLocations(e,u.default.EXTERIOR)},computeIM:function(){var t=new f.default;if(t.set(u.default.EXTERIOR,u.default.EXTERIOR,2),!this._arg[0].getGeometry().getEnvelopeInternal().intersects(this._arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(t),t;this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1);var e=this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!1);this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(e,t);var n=new d.default,i=n.computeEdgeEnds(this._arg[0].getEdgeIterator());this.insertEdgeEnds(i);var r=n.computeEdgeEnds(this._arg[1].getEdgeIterator());return this.insertEdgeEnds(r),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(t),t},labelNodeEdges:function(){for(var t=this._nodes.iterator();t.hasNext();){t.next().getEdges().computeLabelling(this._arg)}},copyNodesAndLabels:function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._nodes.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},labelIntersectionNodes:function(t){for(var e=this._arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next(),s=this._nodes.find(o.coord);s.getLabel().isNull(t)&&(i===u.default.BOUNDARY?s.setLabelBoundary(t):s.setLabel(t,u.default.INTERIOR))}},labelIsolatedNode:function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setAllLocations(e,n)},computeIntersectionNodes:function(t){for(var e=this._arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next(),s=this._nodes.addNode(o.coord);i===u.default.BOUNDARY?s.setLabelBoundary(t):s.getLabel().isNull(t)&&s.setLabel(t,u.default.INTERIOR)}},labelIsolatedNodes:function(){for(var t=this._nodes.iterator();t.hasNext();){var e=t.next(),n=e.getLabel();M.default.isTrue(n.getGeometryCount()>0,"node with empty label found"),e.isIsolated()&&(n.isNull(0)?this.labelIsolatedNode(e,0):this.labelIsolatedNode(e,1))}},updateIM:function(t){for(var e=this._isolatedEdges.iterator();e.hasNext();){e.next().updateIM(t)}for(var n=this._nodes.iterator();n.hasNext();){var i=n.next();i.updateIM(t),i.updateIMFromEdges(t)}},computeDisjointIM:function(t){var e=this._arg[0].getGeometry();e.isEmpty()||(t.set(u.default.INTERIOR,u.default.EXTERIOR,e.getDimension()),t.set(u.default.BOUNDARY,u.default.EXTERIOR,e.getBoundaryDimension()));var n=this._arg[1].getGeometry();n.isEmpty()||(t.set(u.default.EXTERIOR,u.default.INTERIOR,n.getDimension()),t.set(u.default.EXTERIOR,u.default.BOUNDARY,n.getBoundaryDimension()))},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._rectEnv=null;var t=arguments[0];this._rectEnv=t.getEnvelopeInternal()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(13),s=i(o),a=n(3),u=i(a),l=n(32),f=i(l),c=n(20),d=i(c);(0,i(n(0)).default)(r.prototype,{isContainedInBoundary:function(t){if(t instanceof d.default)return!1;if(t instanceof f.default)return this.isPointContainedInBoundary(t);if(t instanceof s.default)return this.isLineStringContainedInBoundary(t);for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.isContainedInBoundary(n))return!1}return!0},isLineSegmentContainedInBoundary:function(t,e){if(t.equals(e))return this.isPointContainedInBoundary(t);if(t.x===e.x){if(t.x===this._rectEnv.getMinX()||t.x===this._rectEnv.getMaxX())return!0}else if(t.y===e.y&&(t.y===this._rectEnv.getMinY()||t.y===this._rectEnv.getMaxY()))return!0;return!1},isLineStringContainedInBoundary:function(t){for(var e=t.getCoordinateSequence(),n=new u.default,i=new u.default,r=0;r<e.size()-1;r++)if(e.getCoordinate(r,n),e.getCoordinate(r+1,i),!this.isLineSegmentContainedInBoundary(n,i))return!1;return!0},isPointContainedInBoundary:function(){if(arguments[0]instanceof f.default){var t=arguments[0];return this.isPointContainedInBoundary(t.getCoordinate())}if(arguments[0]instanceof u.default){var e=arguments[0];return e.x===this._rectEnv.getMinX()||e.x===this._rectEnv.getMaxX()||e.y===this._rectEnv.getMinY()||e.y===this._rectEnv.getMaxY()}},contains:function(t){return!!this._rectEnv.contains(t.getEnvelopeInternal())&&!this.isContainedInBoundary(t)},interfaces_:function(){return[]},getClass:function(){return r}}),r.contains=function(t,e){return new r(t).contains(e)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._rectangle=null,this._rectEnv=null;var t=arguments[0];this._rectangle=t,this._rectEnv=t.getEnvelopeInternal()}function o(){m.default.apply(this),this._rectEnv=null,this._intersects=!1;var t=arguments[0];this._rectEnv=t}function s(){m.default.apply(this),this._rectSeq=null,this._rectEnv=null,this._containsPoint=!1;var t=arguments[0];this._rectSeq=t.getExteriorRing().getCoordinateSequence(),this._rectEnv=t.getEnvelopeInternal()}function a(){m.default.apply(this),this._rectEnv=null,this._rectIntersector=null,this._hasIntersection=!1,this._p0=new l.default,this._p1=new l.default;var t=arguments[0];this._rectEnv=t.getEnvelopeInternal(),this._rectIntersector=new h.default(this._rectEnv)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var u=n(3),l=i(u),f=n(20),c=i(f),d=n(506),h=i(d),p=n(0),g=i(p),_=n(507),m=i(_),v=n(208),y=i(v),b=n(86),x=i(b),E=n(4),w=i(E);(0,g.default)(r.prototype,{intersects:function(t){if(!this._rectEnv.intersects(t.getEnvelopeInternal()))return!1;var e=new o(this._rectEnv);if(e.applyTo(t),e.intersects())return!0;var n=new s(this._rectangle);if(n.applyTo(t),n.containsPoint())return!0;var i=new a(this._rectangle);return i.applyTo(t),!!i.intersects()},interfaces_:function(){return[]},getClass:function(){return r}}),r.intersects=function(t,e){return new r(t).intersects(e)},(0,w.default)(o,m.default),(0,g.default)(o.prototype,{isDone:function(){return!0===this._intersects},visit:function(t){var e=t.getEnvelopeInternal();return this._rectEnv.intersects(e)?this._rectEnv.contains(e)?(this._intersects=!0,null):e.getMinX()>=this._rectEnv.getMinX()&&e.getMaxX()<=this._rectEnv.getMaxX()?(this._intersects=!0,null):e.getMinY()>=this._rectEnv.getMinY()&&e.getMaxY()<=this._rectEnv.getMaxY()?(this._intersects=!0,null):void 0:null},intersects:function(){return this._intersects},interfaces_:function(){return[]},getClass:function(){return o}}),(0,w.default)(s,m.default),(0,g.default)(s.prototype,{isDone:function(){return!0===this._containsPoint},visit:function(t){if(!(t instanceof c.default))return null;var e=t.getEnvelopeInternal();if(!this._rectEnv.intersects(e))return null;for(var n=new l.default,i=0;i<4;i++)if(this._rectSeq.getCoordinate(i,n),e.contains(n)&&y.default.containsPointInPolygon(n,t))return this._containsPoint=!0,null},containsPoint:function(){return this._containsPoint},interfaces_:function(){return[]},getClass:function(){return s}}),(0,w.default)(a,m.default),(0,g.default)(a.prototype,{intersects:function(){return this._hasIntersection},isDone:function(){return!0===this._hasIntersection},visit:function(t){var e=t.getEnvelopeInternal();if(!this._rectEnv.intersects(e))return null;var n=x.default.getLines(t);this.checkIntersectionWithLineStrings(n)},checkIntersectionWithLineStrings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();if(this.checkIntersectionWithSegments(n),this._hasIntersection)return null}},checkIntersectionWithSegments:function(t){for(var e=t.getCoordinateSequence(),n=1;n<e.size();n++)if(e.getCoordinate(n-1,this._p0),e.getCoordinate(n,this._p1),this._rectIntersector.intersects(this._p0,this._p1))return this._hasIntersection=!0,null},interfaces_:function(){return[]},getClass:function(){return a}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._li=new f.default,this._rectEnv=null,this._diagUp0=null,this._diagUp1=null,this._diagDown0=null,this._diagDown1=null;var t=arguments[0];this._rectEnv=t,this._diagUp0=new s.default(t.getMinX(),t.getMinY()),this._diagUp1=new s.default(t.getMaxX(),t.getMaxY()),this._diagDown0=new s.default(t.getMinX(),t.getMaxY()),this._diagDown1=new s.default(t.getMaxX(),t.getMinY())}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(3),s=i(o),a=n(0),u=i(a),l=n(29),f=i(l),c=n(11),d=i(c);(0,u.default)(r.prototype,{intersects:function(t,e){var n=new d.default(t,e);if(!this._rectEnv.intersects(n))return!1;if(this._rectEnv.intersects(t))return!0;if(this._rectEnv.intersects(e))return!0;if(t.compareTo(e)>0){var i=t;t=e,e=i}var r=!1;return e.y>t.y&&(r=!0),r?this._li.computeIntersection(t,e,this._diagDown0,this._diagDown1):this._li.computeIntersection(t,e,this._diagUp0,this._diagUp1),!!this._li.hasIntersection()},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._isDone=!1}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(17),u=i(a);(0,s.default)(r.prototype,{applyTo:function(t){for(var e=0;e<t.getNumGeometries()&&!this._isDone;e++){var n=t.getGeometryN(e);if(n instanceof u.default)this.applyTo(n);else if(this.visit(n),this.isDone())return this._isDone=!0,null}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(231);Object.defineProperty(e,"CascadedPolygonUnion",{enumerable:!0,get:function(){return i(r).default}});var o=n(232);Object.defineProperty(e,"PointGeometryUnion",{enumerable:!0,get:function(){return i(o).default}});var s=n(509);Object.defineProperty(e,"UnaryUnionOp",{enumerable:!0,get:function(){return i(s).default}});var a=n(511);Object.defineProperty(e,"UnionInteracting",{enumerable:!0,get:function(){return i(a).default}});var u=n(512);Object.defineProperty(e,"UnionOp",{enumerable:!0,get:function(){return i(u).default}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._polygons=new v.default,this._lines=new v.default,this._points=new v.default,this._geomFact=null,1===arguments.length){if((0,f.default)(arguments[0],d.default)){var t=arguments[0];this.extract(t)}else if(arguments[0]instanceof s.default){var e=arguments[0];this.extract(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this._geomFact=i,this.extract(n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(16),s=i(o),a=n(232),u=i(a),l=n(9),f=i(l),c=n(31),d=i(c),h=n(100),p=i(h),g=n(0),_=i(g),m=n(2),v=i(m),y=n(510),b=i(y),x=n(51),E=i(x),w=n(231),M=i(w);(0,_.default)(r.prototype,{unionNoOpt:function(t){var e=this._geomFact.createPoint();return p.default.overlayOp(t,e,E.default.UNION)},unionWithNull:function(t,e){return null===t&&null===e?null:null===e?t:null===t?e:t.union(e)},extract:function(){if((0,f.default)(arguments[0],d.default))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.extract(n)}else if(arguments[0]instanceof s.default){var i=arguments[0];null===this._geomFact&&(this._geomFact=i.getFactory()),b.default.extract(i,s.default.SORTINDEX_POLYGON,this._polygons),b.default.extract(i,s.default.SORTINDEX_LINESTRING,this._lines),b.default.extract(i,s.default.SORTINDEX_POINT,this._points)}},union:function(){if(null===this._geomFact)return null;var t=null;if(this._points.size()>0){var e=this._geomFact.buildGeometry(this._points);t=this.unionNoOpt(e)}var n=null;if(this._lines.size()>0){var i=this._geomFact.buildGeometry(this._lines);n=this.unionNoOpt(i)}var r=null;this._polygons.size()>0&&(r=M.default.union(this._polygons));var o=this.unionWithNull(n,r),s=null;return s=null===t?o:null===o?t:u.default.union(t,o),null===s?this._geomFact.createGeometryCollection():s},interfaces_:function(){return[]},getClass:function(){return r}}),r.union=function(){if(1===arguments.length){if((0,f.default)(arguments[0],d.default)){var t=arguments[0],e=new r(t);return e.union()}if(arguments[0]instanceof s.default){var n=arguments[0],e=new r(n);return e.union()}}else if(2===arguments.length){var i=arguments[0],o=arguments[1],e=new r(i,o);return e.union()}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._sortIndex=-1,this._comps=null;var t=arguments[0],e=arguments[1];this._sortIndex=t,this._comps=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(17),u=i(a),l=n(2),f=i(l),c=n(48),d=i(c);(0,s.default)(r.prototype,{filter:function(t){-1!==this._sortIndex&&t.getSortIndex()!==this._sortIndex||this._comps.add(t)},interfaces_:function(){return[d.default]},getClass:function(){return r}}),r.extract=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return r.extract(t,e,new f.default)}if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];return n.getSortIndex()===i?o.add(n):n instanceof u.default&&n.apply(new r(i,o)),o}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._geomFactory=null,this._g0=null,this._g1=null,this._interacts0=null,this._interacts1=null;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e,this._geomFactory=t.getFactory(),this._interacts0=new Array(t.getNumGeometries()).fill(null),this._interacts1=new Array(e.getNumGeometries()).fill(null)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(148),u=i(a),l=n(30),f=i(l),c=n(2),d=i(c);(0,s.default)(r.prototype,{extractElements:function(t,e,n){for(var i=new d.default,r=0;r<t.getNumGeometries();r++){var o=t.getGeometryN(r);e[r]===n&&i.add(o)}return this._geomFactory.buildGeometry(i)},computeInteracting:function(){if(0===arguments.length)for(var t=0;t<this._g0.getNumGeometries();t++){var e=this._g0.getGeometryN(t);this._interacts0[t]=this.computeInteracting(e)}else if(1===arguments.length){for(var n=arguments[0],i=!1,t=0;t<this._g1.getNumGeometries();t++){var r=this._g1.getGeometryN(t),o=r.getEnvelopeInternal().intersects(n.getEnvelopeInternal());o&&(this._interacts1[t]=!0),o&&(i=!0)}return i}},union:function(){this.computeInteracting();var t=this.extractElements(this._g0,this._interacts0,!0),e=this.extractElements(this._g1,this._interacts1,!0);(t.isEmpty()||e.isEmpty())&&f.default.out.println("found empty!");var n=t.union(e),i=this.extractElements(this._g0,this._interacts0,!1),r=this.extractElements(this._g1,this._interacts1,!1);return u.default.combine(n,i,r)},bufferUnion:function(t,e){return t.getFactory().createGeometryCollection([t,e]).buffer(0)},interfaces_:function(){return[]},getClass:function(){return r}}),r.union=function(t,e){return new r(t,e).union()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(100),s=i(o),a=n(0),u=i(a),l=n(51),f=i(l);(0,u.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return f.default.createEmptyResult(f.default.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),s.default.overlayOp(t,e,f.default.UNION)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ConsistentAreaTester=e.IsValidOp=void 0;var r=n(147),o=i(r),s=n(228),a=i(s);e.IsValidOp=o.default,e.ConsistentAreaTester=a.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeometryPrecisionReducer=void 0;var i=n(515),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.GeometryPrecisionReducer=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._targetPM=null,this._removeCollapsed=!0,this._changePrecisionModel=!1,this._isPointwise=!1;var t=arguments[0];this._targetPM=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(9),s=i(o),a=n(19),u=i(a),l=n(134),f=i(l),c=n(0),d=i(c),h=n(49),p=i(h),g=n(516),_=i(g);(0,d.default)(r.prototype,{fixPolygonalTopology:function(t){var e=t;this._changePrecisionModel||(e=this.changePM(t,this._targetPM));var n=e.buffer(0),i=n;return this._changePrecisionModel||(i=this.changePM(n,t.getPrecisionModel())),i},reducePointwise:function(t){var e=null;if(this._changePrecisionModel){var n=this.createFactory(t.getFactory(),this._targetPM);e=new f.default(n)}else e=new f.default;var i=this._removeCollapsed;return t.getDimension()>=2&&(i=!0),e.edit(t,new _.default(this._targetPM,i))},changePM:function(t,e){return this.createEditor(t.getFactory(),e).edit(t,new f.default.NoOpGeometryOperation)},setRemoveCollapsedComponents:function(t){this._removeCollapsed=t},createFactory:function(t,e){return new u.default(e,t.getSRID(),t.getCoordinateSequenceFactory())},setChangePrecisionModel:function(t){this._changePrecisionModel=t},reduce:function(t){var e=this.reducePointwise(t);return this._isPointwise?e:(0,s.default)(e,p.default)?e.isValid()?e:this.fixPolygonalTopology(e):e},setPointwise:function(t){this._isPointwise=t},createEditor:function(t,e){if(t.getPrecisionModel()===e)return new f.default;var n=this.createFactory(t,e);return new f.default(n)},interfaces_:function(){return[]},getClass:function(){return r}}),r.reduce=function(t,e){return new r(e).reduce(t)},r.reducePointwise=function(t,e){var n=new r(e);return n.setPointwise(!0),n.reduce(t)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){d.default.CoordinateOperation.apply(this),this._targetPM=null,this._removeCollapsed=!0;var t=arguments[0],e=arguments[1];this._targetPM=t,this._removeCollapsed=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(13),s=i(o),a=n(24),u=i(a),l=n(3),f=i(l),c=n(134),d=i(c),h=n(38),p=i(h),g=n(0),_=i(g);(0,i(n(4)).default)(r,d.default.CoordinateOperation),(0,_.default)(r.prototype,{editCoordinates:function(t,e){if(0===t.length)return null;for(var n=new Array(t.length).fill(null),i=0;i<t.length;i++){var r=new f.default(t[i]);this._targetPM.makePrecise(r),n[i]=r}var o=new u.default(n,!1),a=o.toCoordinateArray(),l=0;e instanceof s.default&&(l=2),e instanceof p.default&&(l=4);var c=n;return this._removeCollapsed&&(c=null),a.length<l?c:a},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.TopologyPreservingSimplifier=e.DouglasPeuckerSimplifier=void 0;var r=n(518),o=i(r),s=n(520),a=i(s);e.DouglasPeuckerSimplifier=o.default,e.TopologyPreservingSimplifier=a.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._inputGeom=null,this._distanceTolerance=null,this._isEnsureValidTopology=!0;var t=arguments[0];this._inputGeom=t}function o(){l.default.apply(this),this._isEnsureValidTopology=!0,this._distanceTolerance=null;var t=arguments[0],e=arguments[1];this._isEnsureValidTopology=t,this._distanceTolerance=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(519),a=i(s),u=n(101),l=i(u),f=n(10),c=i(f),d=n(20),h=i(d),p=n(38),g=i(p),_=n(0),m=i(_),v=n(39),y=i(v),b=n(4),x=i(b);(0,m.default)(r.prototype,{setEnsureValid:function(t){this._isEnsureValidTopology=t},getResultGeometry:function(){return this._inputGeom.isEmpty()?this._inputGeom.copy():new o(this._isEnsureValidTopology,this._distanceTolerance).transform(this._inputGeom)},setDistanceTolerance:function(t){if(t<0)throw new c.default("Tolerance must be non-negative");this._distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return r}}),r.simplify=function(t,e){var n=new r(t);return n.setDistanceTolerance(e),n.getResultGeometry()},(0,x.default)(o,l.default),(0,m.default)(o.prototype,{transformPolygon:function(t,e){if(t.isEmpty())return null;var n=l.default.prototype.transformPolygon.call(this,t,e);return e instanceof y.default?n:this.createValidArea(n)},createValidArea:function(t){return this._isEnsureValidTopology?t.buffer(0):t},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),i=null;return i=0===n.length?new Array(0).fill(null):a.default.simplify(n,this._distanceTolerance),this._factory.getCoordinateSequenceFactory().create(i)},transformMultiPolygon:function(t,e){var n=l.default.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformLinearRing:function(t,e){var n=e instanceof h.default,i=l.default.prototype.transformLinearRing.call(this,t,e);return!n||i instanceof g.default?i:null},interfaces_:function(){return[]},getClass:function(){return o}}),r.DPTransformer=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._pts=null,this._usePt=null,this._distanceTolerance=null,this._seg=new d.default;var t=arguments[0];this._pts=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(24),s=i(o),a=n(3),u=i(a),l=n(0),f=i(l),c=n(18),d=i(c);(0,f.default)(r.prototype,{simplifySection:function(t,e){if(t+1===e)return null;this._seg.p0=this._pts[t],this._seg.p1=this._pts[e];for(var n=-1,i=t,r=t+1;r<e;r++){var o=this._seg.distance(this._pts[r]);o>n&&(n=o,i=r)}if(n<=this._distanceTolerance)for(var r=t+1;r<e;r++)this._usePt[r]=!1;else this.simplifySection(t,i),this.simplifySection(i,e)},setDistanceTolerance:function(t){this._distanceTolerance=t},simplify:function(){this._usePt=new Array(this._pts.length).fill(null);for(var t=0;t<this._pts.length;t++)this._usePt[t]=!0;this.simplifySection(0,this._pts.length-1);for(var e=new s.default,t=0;t<this._pts.length;t++)this._usePt[t]&&e.add(new u.default(this._pts[t]));return e.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return r}}),r.simplify=function(t,e){var n=new r(t);return n.setDistanceTolerance(e),n.simplify()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._inputGeom=null,this._lineSimplifier=new p.default,this._linestringMap=null;var t=arguments[0];this._inputGeom=t}function o(){d.default.apply(this),this._linestringMap=null;var t=arguments[0];this._linestringMap=t}function s(){this.tps=null;var t=arguments[0];this.tps=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=n(13),u=i(a),l=n(99),f=i(l),c=n(101),d=i(c),h=n(521),p=i(h),g=n(10),_=i(g),m=n(0),v=i(m),y=n(40),b=i(y),x=n(4),E=i(x),w=n(234),M=i(w);(0,v.default)(r.prototype,{getResultGeometry:function(){return this._inputGeom.isEmpty()?this._inputGeom.copy():(this._linestringMap=new f.default,this._inputGeom.apply(new s(this)),this._lineSimplifier.simplify(this._linestringMap.values()),new o(this._linestringMap).transform(this._inputGeom))},setDistanceTolerance:function(t){if(t<0)throw new _.default("Tolerance must be non-negative");this._lineSimplifier.setDistanceTolerance(t)},interfaces_:function(){return[]},getClass:function(){return r}}),r.simplify=function(t,e){var n=new r(t);return n.setDistanceTolerance(e),n.getResultGeometry()},(0,E.default)(o,d.default),(0,v.default)(o.prototype,{transformCoordinates:function(t,e){if(0===t.size())return null;if(e instanceof u.default){var n=this._linestringMap.get(e);return this.createCoordinateSequence(n.getResultCoordinates())}return d.default.prototype.transformCoordinates.call(this,t,e)},interfaces_:function(){return[]},getClass:function(){return o}}),(0,v.default)(s.prototype,{filter:function(t){if(t instanceof u.default){var e=t;if(e.isEmpty())return null;var n=e.isClosed()?4:2,i=new M.default(e,n);this.tps._linestringMap.put(e,i)}},interfaces_:function(){return[b.default]},getClass:function(){return s}}),r.LineStringTransformer=o,r.LineStringMapBuilderFilter=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._inputIndex=new f.default,this._outputIndex=new f.default,this._distanceTolerance=0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(522),u=i(a),l=n(233),f=i(l);(0,s.default)(r.prototype,{setDistanceTolerance:function(t){this._distanceTolerance=t},simplify:function(t){for(var e=t.iterator();e.hasNext();)this._inputIndex.add(e.next());for(var e=t.iterator();e.hasNext();){var n=new u.default(this._inputIndex,this._outputIndex);n.setDistanceTolerance(this._distanceTolerance),n.simplify(e.next())}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._li=new d.default,this._inputIndex=new f.default,this._outputIndex=new f.default,this._line=null,this._linePts=null,this._distanceTolerance=0;var t=arguments[0],e=arguments[1];this._inputIndex=t,this._outputIndex=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(18),u=i(a),l=n(233),f=i(l),c=n(29),d=i(c);(0,s.default)(r.prototype,{flatten:function(t,e){var n=this._linePts[t],i=this._linePts[e],r=new u.default(n,i);return this.remove(this._line,t,e),this._outputIndex.add(r),r},hasBadIntersection:function(t,e,n){return!!this.hasBadOutputIntersection(n)||!!this.hasBadInputIntersection(t,e,n)},setDistanceTolerance:function(t){this._distanceTolerance=t},simplifySection:function(t,e,n){n+=1;var i=new Array(2).fill(null);if(t+1===e){var r=this._line.getSegment(t);return this._line.addToResult(r),null}var o=!0;if(this._line.getResultSize()<this._line.getMinimumSize()){n+1<this._line.getMinimumSize()&&(o=!1)}var s=new Array(1).fill(null),a=this.findFurthestPoint(this._linePts,t,e,s);s[0]>this._distanceTolerance&&(o=!1);var l=new u.default;if(l.p0=this._linePts[t],l.p1=this._linePts[e],i[0]=t,i[1]=e,this.hasBadIntersection(this._line,i,l)&&(o=!1),o){var r=this.flatten(t,e);return this._line.addToResult(r),null}this.simplifySection(t,a,n),this.simplifySection(a,e,n)},hasBadOutputIntersection:function(t){for(var e=this._outputIndex.query(t),n=e.iterator();n.hasNext();){var i=n.next();if(this.hasInteriorIntersection(i,t))return!0}return!1},findFurthestPoint:function(t,e,n,i){var r=new u.default;r.p0=t[e],r.p1=t[n];for(var o=-1,s=e,a=e+1;a<n;a++){var l=t[a],f=r.distance(l);f>o&&(o=f,s=a)}return i[0]=o,s},simplify:function(t){this._line=t,this._linePts=t.getParentCoordinates(),this.simplifySection(0,this._linePts.length-1,0)},remove:function(t,e,n){for(var i=e;i<n;i++){var r=t.getSegment(i);this._inputIndex.remove(r)}},hasInteriorIntersection:function(t,e){return this._li.computeIntersection(t.p0,t.p1,e.p0,e.p1),this._li.isInteriorIntersection()},hasBadInputIntersection:function(t,e,n){for(var i=this._inputIndex.query(n),o=i.iterator();o.hasNext();){var s=o.next();if(this.hasInteriorIntersection(s,n)){if(r.isInLineSection(t,e,s))continue;return!0}}return!1},interfaces_:function(){return[]},getClass:function(){return r}}),r.isInLineSection=function(t,e,n){if(n.getParent()!==t.getParent())return!1;var i=n.getIndex();return i>=e[0]&&i<e[1]}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._parent=null,this._index=null,2===arguments.length){var t=arguments[0],e=arguments[1];r.call(this,t,e,null,-1)}else if(4===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3];u.default.call(this,n,i),this._parent=o,this._index=s}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(18),u=i(a);(0,i(n(4)).default)(r,u.default),(0,s.default)(r.prototype,{getIndex:function(){return this._index},getParent:function(){return this._parent},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.quadedge=e.VoronoiDiagramBuilder=e.DelaunayTriangulationBuilder=e.ConformingDelaunayTriangulationBuilder=void 0;var r=n(525),o=i(r),s=n(151),a=i(s),u=n(537),l=i(u),f=n(538),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(f);e.ConformingDelaunayTriangulationBuilder=o.default,e.DelaunayTriangulationBuilder=a.default,e.VoronoiDiagramBuilder=l.default,e.quadedge=c},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._siteCoords=null,this._constraintLines=null,this._tolerance=0,this._subdiv=null,this._constraintVertexMap=new b.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(526),s=i(o),a=n(235),u=i(a),l=n(0),f=i(l),c=n(151),d=i(c),h=n(238),p=i(h),g=n(2),_=i(g),m=n(86),v=i(m),y=n(44),b=i(y);(0,f.default)(r.prototype,{createSiteVertices:function(t){for(var e=new _.default,n=t.iterator();n.hasNext();){var i=n.next();this._constraintVertexMap.containsKey(i)||e.add(new u.default(i))}return e},create:function(){if(null!==this._subdiv)return null;var t=d.default.envelope(this._siteCoords),e=new _.default;null!==this._constraintLines&&(t.expandToInclude(this._constraintLines.getEnvelopeInternal()),this.createVertices(this._constraintLines),e=r.createConstraintSegments(this._constraintLines));var n=this.createSiteVertices(this._siteCoords),i=new s.default(n,this._tolerance);i.setConstraints(e,new _.default(this._constraintVertexMap.values())),i.formInitialDelaunay(),i.enforceConstraints(),this._subdiv=i.getSubdivision()},setTolerance:function(t){this._tolerance=t},setConstraints:function(t){this._constraintLines=t},setSites:function(t){this._siteCoords=d.default.extractUniqueCoordinates(t)},getEdges:function(t){return this.create(),this._subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this._subdiv},getTriangles:function(t){return this.create(),this._subdiv.getTriangles(t)},createVertices:function(t){for(var e=t.getCoordinates(),n=0;n<e.length;n++){var i=new u.default(e[n]);this._constraintVertexMap.put(e[n],i)}},interfaces_:function(){return[]},getClass:function(){return r}}),r.createConstraintSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=v.default.getLines(t),n=new _.default,i=e.iterator();i.hasNext();){var o=i.next();r.createConstraintSegments(o,n)}return n}if(2===arguments.length)for(var s=arguments[0],a=arguments[1],u=s.getCoordinates(),i=1;i<u.length;i++)a.add(new p.default(u[i-1],u[i]))}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._initialVertices=null,this._segVertices=null,this._segments=new O.default,this._subdiv=null,this._incDel=null,this._convexHull=null,this._splitFinder=new u.default,this._kdt=null,this._vertexFactory=null,this._computeAreaEnv=null,this._splitPt=null,this._tolerance=null;var t=arguments[0],e=arguments[1];this._initialVertices=new O.default(t),this._tolerance=e,this._kdt=new I.default(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(19),s=i(o),a=n(527),u=i(a),l=n(235),f=i(l),c=n(3),d=i(c),h=n(149),p=i(h),g=n(150),_=i(g),m=n(15),v=i(m),y=n(0),b=i(y),x=n(237),E=i(x),w=n(238),M=i(w),L=n(135),P=i(L),C=n(534),I=i(C),S=n(2),O=i(S),N=n(11),T=i(N);(0,b.default)(r.prototype,{getInitialVertices:function(){return this._initialVertices},getKDT:function(){return this._kdt},enforceConstraints:function(){this.addConstraintVertices();var t=0,e=0;do{e=this.enforceGabriel(this._segments),t++}while(e>0&&t<r.MAX_SPLIT_ITER)},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},getVertexFactory:function(){return this._vertexFactory},getPointArray:function(){for(var t=new Array(this._initialVertices.size()+this._segVertices.size()).fill(null),e=0,n=this._initialVertices.iterator();n.hasNext();){var i=n.next();t[e++]=i.getCoordinate()}for(var r=this._segVertices.iterator();r.hasNext();){var i=r.next();t[e++]=i.getCoordinate()}return t},setConstraints:function(t,e){this._segments=t,this._segVertices=e},computeConvexHull:function(){var t=new s.default,e=this.getPointArray(),n=new P.default(e,t);this._convexHull=n.getConvexHull()},addConstraintVertices:function(){this.computeConvexHull(),this.insertSites(this._segVertices)},findNonGabrielPoint:function(t){var e=t.getStart(),n=t.getEnd(),i=new d.default((e.x+n.x)/2,(e.y+n.y)/2),r=e.distance(i),o=new T.default(i);o.expandBy(r);for(var s=this._kdt.query(o),a=null,u=v.default.MAX_VALUE,l=s.iterator();l.hasNext();){var f=l.next(),c=f.getCoordinate();if(!c.equals2D(e)&&!c.equals2D(n)){var h=i.distance(c);if(h<r){var p=h;(null===a||p<u)&&(a=c,u=p)}}}return a},getConstraintSegments:function(){return this._segments},setSplitPointFinder:function(t){this._splitFinder=t},getConvexHull:function(){return this._convexHull},getTolerance:function(){return this._tolerance},enforceGabriel:function(t){for(var e=new O.default,n=0,i=new O.default,r=t.iterator();r.hasNext();){var o=r.next(),s=this.findNonGabrielPoint(o);if(null!==s){this._splitPt=this._splitFinder.findSplitPoint(o,s);var a=this.createVertex(this._splitPt,o),u=(this.insertSite(a),new M.default(o.getStartX(),o.getStartY(),o.getStartZ(),a.getX(),a.getY(),a.getZ(),o.getData())),l=new M.default(a.getX(),a.getY(),a.getZ(),o.getEndX(),o.getEndY(),o.getEndZ(),o.getData());e.add(u),e.add(l),i.add(o),n+=1}}return t.removeAll(i),t.addAll(e),n},createVertex:function(){if(1===arguments.length){var t=arguments[0],e=null;return e=null!==this._vertexFactory?this._vertexFactory.createVertex(t,null):new f.default(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=null;return e=null!==this._vertexFactory?this._vertexFactory.createVertex(n,i):new f.default(n),e.setOnConstraint(!0),e}},getSubdivision:function(){return this._subdiv},computeBoundingBox:function(){var t=r.computeVertexEnvelope(this._initialVertices),e=r.computeVertexEnvelope(this._segVertices),n=new T.default(t);n.expandToInclude(e);var i=.2*n.getWidth(),o=.2*n.getHeight(),s=Math.max(i,o);this._computeAreaEnv=new T.default(n),this._computeAreaEnv.expandBy(s)},setVertexFactory:function(t){this._vertexFactory=t},formInitialDelaunay:function(){this.computeBoundingBox(),this._subdiv=new _.default(this._computeAreaEnv,this._tolerance),this._subdiv.setLocator(new E.default(this._subdiv)),this._incDel=new p.default(this._subdiv),this.insertSites(this._initialVertices)},insertSite:function(){if(arguments[0]instanceof f.default){var t=arguments[0],e=this._kdt.insert(t.getCoordinate(),t);if(e.isRepeated()){var n=e.getData();return n.merge(t),n}return this._incDel.insertSite(t),t}if(arguments[0]instanceof d.default){var i=arguments[0];this.insertSite(this.createVertex(i))}},interfaces_:function(){return[]},getClass:function(){return r}}),r.computeVertexEnvelope=function(t){for(var e=new T.default,n=t.iterator();n.hasNext();){var i=n.next();e.expandToInclude(i.getCoordinate())}return e},r.MAX_SPLIT_ITER=99},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(528),u=i(a),l=n(529),f=i(l);(0,s.default)(r.prototype,{findSplitPoint:function(t,e){var n=t.getLineSegment(),i=n.getLength(),o=i/2,s=new u.default(n),a=r.projectedSplitPoint(t,e),l=2*a.distance(e)*.8,f=l;return f>o&&(f=o),s.setMinimumLength(f),s.splitAt(a),s.getSplitPoint()},interfaces_:function(){return[f.default]},getClass:function(){return r}}),r.projectedSplitPoint=function(t,e){return t.getLineSegment().project(e)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._seg=null,this._segLen=null,this._splitPt=null,this._minimumLen=0;var t=arguments[0];this._seg=t,this._segLen=t.getLength()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(3),s=i(o);(0,i(n(0)).default)(r.prototype,{splitAt:function(){if(1===arguments.length){var t=arguments[0],e=this._minimumLen/this._segLen;if(t.distance(this._seg.p0)<this._minimumLen)return this._splitPt=this._seg.pointAlong(e),null;if(t.distance(this._seg.p1)<this._minimumLen)return this._splitPt=r.pointAlongReverse(this._seg,e),null;this._splitPt=t}else if(2===arguments.length){var n=arguments[0],i=arguments[1],o=this.getConstrainedLength(n),s=o/this._segLen;i.equals2D(this._seg.p0)?this._splitPt=this._seg.pointAlong(s):this._splitPt=r.pointAlongReverse(this._seg,s)}},setMinimumLength:function(t){this._minimumLen=t},getConstrainedLength:function(t){return t<this._minimumLen?this._minimumLen:t},getSplitPoint:function(){return this._splitPt},interfaces_:function(){return[]},getClass:function(){return r}}),r.pointAlongReverse=function(t,e){var n=new s.default;return n.x=t.p1.x-e*(t.p1.x-t.p0.x),n.y=t.p1.y-e*(t.p1.y-t.p0.y),n}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{findSplitPoint:function(t,e){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(36),s=i(o),a=n(79),u=i(a),l=n(0),f=i(l),c=n(186),d=i(c),h=n(30),p=i(h),g=n(106),_=i(g);(0,f.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.triArea=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)},r.isInCircleDDNormalized=function(t,e,n,i){var r=d.default.valueOf(t.x).selfSubtract(i.x),o=d.default.valueOf(t.y).selfSubtract(i.y),s=d.default.valueOf(e.x).selfSubtract(i.x),a=d.default.valueOf(e.y).selfSubtract(i.y),u=d.default.valueOf(n.x).selfSubtract(i.x),l=d.default.valueOf(n.y).selfSubtract(i.y),f=r.multiply(a).selfSubtract(s.multiply(o)),c=s.multiply(l).selfSubtract(u.multiply(a)),h=u.multiply(o).selfSubtract(r.multiply(l)),p=r.multiply(r).selfAdd(o.multiply(o)),g=s.multiply(s).selfAdd(a.multiply(a)),_=u.multiply(u).selfAdd(l.multiply(l));return p.selfMultiply(c).selfAdd(g.selfMultiply(h)).selfAdd(_.selfMultiply(f)).doubleValue()>0},r.checkRobustInCircle=function(t,e,n,i){var o=r.isInCircleNonRobust(t,e,n,i),a=r.isInCircleDDSlow(t,e,n,i),l=r.isInCircleCC(t,e,n,i),f=_.default.circumcentre(t,e,n);p.default.out.println("p radius diff a = "+Math.abs(i.distance(f)-t.distance(f))/t.distance(f)),o===a&&o===l||(p.default.out.println("inCircle robustness failure (double result = "+o+", DD result = "+a+", CC result = "+l+")"),p.default.out.println(s.default.toLineString(new u.default([t,e,n,i]))),p.default.out.println("Circumcentre = "+s.default.toPoint(f)+" radius = "+t.distance(f)),p.default.out.println("p radius diff a = "+Math.abs(i.distance(f)/t.distance(f)-1)),p.default.out.println("p radius diff b = "+Math.abs(i.distance(f)/e.distance(f)-1)),p.default.out.println("p radius diff c = "+Math.abs(i.distance(f)/n.distance(f)-1)),p.default.out.println())},r.isInCircleDDFast=function(t,e,n,i){var o=d.default.sqr(t.x).selfAdd(d.default.sqr(t.y)).selfMultiply(r.triAreaDDFast(e,n,i)),s=d.default.sqr(e.x).selfAdd(d.default.sqr(e.y)).selfMultiply(r.triAreaDDFast(t,n,i)),a=d.default.sqr(n.x).selfAdd(d.default.sqr(n.y)).selfMultiply(r.triAreaDDFast(t,e,i)),u=d.default.sqr(i.x).selfAdd(d.default.sqr(i.y)).selfMultiply(r.triAreaDDFast(t,e,n));return o.selfSubtract(s).selfAdd(a).selfSubtract(u).doubleValue()>0},r.isInCircleCC=function(t,e,n,i){var r=_.default.circumcentre(t,e,n),o=t.distance(r);return i.distance(r)-o<=0},r.isInCircleNormalized=function(t,e,n,i){var r=t.x-i.x,o=t.y-i.y,s=e.x-i.x,a=e.y-i.y,u=n.x-i.x,l=n.y-i.y;return(r*r+o*o)*(s*l-u*a)+(s*s+a*a)*(u*o-r*l)+(u*u+l*l)*(r*a-s*o)>0},r.isInCircleDDSlow=function(t,e,n,i){var o=d.default.valueOf(i.x),s=d.default.valueOf(i.y),a=d.default.valueOf(t.x),u=d.default.valueOf(t.y),l=d.default.valueOf(e.x),f=d.default.valueOf(e.y),c=d.default.valueOf(n.x),h=d.default.valueOf(n.y),p=a.multiply(a).add(u.multiply(u)).multiply(r.triAreaDDSlow(l,f,c,h,o,s)),g=l.multiply(l).add(f.multiply(f)).multiply(r.triAreaDDSlow(a,u,c,h,o,s)),_=c.multiply(c).add(h.multiply(h)).multiply(r.triAreaDDSlow(a,u,l,f,o,s)),m=o.multiply(o).add(s.multiply(s)).multiply(r.triAreaDDSlow(a,u,l,f,c,h));return p.subtract(g).add(_).subtract(m).doubleValue()>0},r.isInCircleNonRobust=function(t,e,n,i){return(t.x*t.x+t.y*t.y)*r.triArea(e,n,i)-(e.x*e.x+e.y*e.y)*r.triArea(t,n,i)+(n.x*n.x+n.y*n.y)*r.triArea(t,e,i)-(i.x*i.x+i.y*i.y)*r.triArea(t,e,n)>0},r.isInCircleRobust=function(t,e,n,i){return r.isInCircleNormalized(t,e,n,i)},r.triAreaDDSlow=function(t,e,n,i,r,o){return n.subtract(t).multiply(o.subtract(e)).subtract(i.subtract(e).multiply(r.subtract(t)))},r.triAreaDDFast=function(t,e,n){var i=d.default.valueOf(e.x).selfSubtract(t.x).selfMultiply(d.default.valueOf(n.y).selfSubtract(t.y)),r=d.default.valueOf(e.y).selfSubtract(t.y).selfMultiply(d.default.valueOf(n.x).selfSubtract(t.x));return i.selfSubtract(r)}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._seg=null,1===arguments.length){if("string"==typeof arguments[0]){var t=arguments[0];f.default.call(this,t)}else if(arguments[0]instanceof u.default){var e=arguments[0];f.default.call(this,"Locate failed to converge (at edge: "+e+").  Possible causes include invalid Subdivision topology or very close sites"),this._seg=new u.default(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];f.default.call(this,r.msgWithSpatial(n,i)),this._seg=new u.default(i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(18),u=i(a),l=n(55),f=i(l);(0,i(n(4)).default)(r,f.default),(0,s.default)(r.prototype,{getSegment:function(){return this._seg},interfaces_:function(){return[]},getClass:function(){return r}}),r.msgWithSpatial=function(t,e){return null!==e?t+" [ "+e+" ]":t}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._root=null,this._numberOfNodes=null,this._tolerance=null,0===arguments.length)r.call(this,0);else if(1===arguments.length){var t=arguments[0];this._tolerance=t}}function o(){this._tolerance=null,this._matchNode=null,this._matchDist=0,this._p=null;var t=arguments[0],e=arguments[1];this._p=t,this._tolerance=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(24),a=i(s),u=n(9),l=i(u),f=n(0),c=i(f),d=n(2),h=i(d),p=n(535),g=i(p),_=n(11),m=i(_),v=n(42),y=i(v),b=n(536),x=i(b);(0,c.default)(r.prototype,{insert:function(){if(1===arguments.length){var t=arguments[0];return this.insert(t,null)}if(2===arguments.length){var e=arguments[0],n=arguments[1];if(null===this._root)return this._root=new x.default(e,n),this._root;if(this._tolerance>0){var i=this.findBestMatchNode(e);if(null!==i)return i.increment(),i}return this.insertExact(e,n)}},query:function(){if(1===arguments.length){var t=arguments[0],e=new h.default;return this.query(t,e),e}if(2===arguments.length)if(arguments[0]instanceof m.default&&(0,l.default)(arguments[1],y.default)){var n=arguments[0],i=arguments[1];this.queryNode(this._root,n,!0,{interfaces_:function(){return[g.default]},visit:function(t){i.add(t)}})}else if(arguments[0]instanceof m.default&&(0,l.default)(arguments[1],g.default)){var r=arguments[0],o=arguments[1];this.queryNode(this._root,r,!0,o)}},queryNode:function(t,e,n,i){if(null===t)return null;var r=null,o=null,s=null;n?(r=e.getMinX(),o=e.getMaxX(),s=t.getX()):(r=e.getMinY(),o=e.getMaxY(),s=t.getY());var a=r<s,u=s<=o;a&&this.queryNode(t.getLeft(),e,!n,i),e.contains(t.getCoordinate())&&i.visit(t),u&&this.queryNode(t.getRight(),e,!n,i)},findBestMatchNode:function(t){var e=new o(t,this._tolerance);return this.query(e.queryEnvelope(),e),e.getNode()},isEmpty:function(){return null===this._root},insertExact:function(t,e){for(var n=this._root,i=this._root,r=!0,o=!0;null!==n;){if(null!==n){if(t.distance(n.getCoordinate())<=this._tolerance)return n.increment(),n}o=r?t.x<n.getX():t.y<n.getY(),i=n,n=o?n.getLeft():n.getRight(),r=!r}this._numberOfNodes=this._numberOfNodes+1;var s=new x.default(t,e);return o?i.setLeft(s):i.setRight(s),s},interfaces_:function(){return[]},getClass:function(){return r}}),r.toCoordinates=function(){if(1===arguments.length){var t=arguments[0];return r.toCoordinates(t,!1)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=new a.default,o=e.iterator();o.hasNext();)for(var s=o.next(),u=n?s.getCount():1,l=0;l<u;l++)i.add(s.getCoordinate(),!0);return i.toCoordinateArray()}},(0,c.default)(o.prototype,{visit:function(t){var e=this._p.distance(t.getCoordinate());if(!(e<=this._tolerance))return null;var n=!1;(null===this._matchNode||e<this._matchDist||null!==this._matchNode&&e===this._matchDist&&t.getCoordinate().compareTo(this._matchNode.getCoordinate())<1)&&(n=!0),n&&(this._matchNode=t,this._matchDist=e)},queryEnvelope:function(){var t=new m.default(this._p);return t.expandBy(this._tolerance),t},getNode:function(){return this._matchNode},interfaces_:function(){return[g.default]},getClass:function(){return o}}),r.BestMatchVisitor=o},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._p=null,this._data=null,this._left=null,this._right=null,this._count=null,2===arguments.length){var t=arguments[0],e=arguments[1];this._p=new s.default(t),this._left=null,this._right=null,this._count=1,this._data=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._p=new s.default(n,i),this._left=null,this._right=null,this._count=1,this._data=r}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(3),s=i(o);(0,i(n(0)).default)(r.prototype,{isRepeated:function(){return this._count>1},getRight:function(){return this._right},getCoordinate:function(){return this._p},setLeft:function(t){this._left=t},getX:function(){return this._p.x},getData:function(){return this._data},getCount:function(){return this._count},getLeft:function(){return this._left},getY:function(){return this._p.y},increment:function(){this._count=this._count+1},setRight:function(t){this._right=t},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._siteCoords=null,this._tolerance=0,this._subdiv=null,this._clipEnv=null,this._diagramEnv=null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(16),s=i(o),a=n(9),u=i(a),l=n(19),f=i(l),c=n(31),d=i(c),h=n(149),p=i(h),g=n(150),_=i(g),m=n(0),v=i(m),y=n(151),b=i(y),x=n(25),E=i(x),w=n(2),M=i(w);(0,v.default)(r.prototype,{create:function(){if(null!==this._subdiv)return null;var t=b.default.envelope(this._siteCoords);this._diagramEnv=t;var e=Math.max(this._diagramEnv.getWidth(),this._diagramEnv.getHeight());this._diagramEnv.expandBy(e),null!==this._clipEnv&&this._diagramEnv.expandToInclude(this._clipEnv);var n=b.default.toVertices(this._siteCoords);this._subdiv=new _.default(t,this._tolerance),new p.default(this._subdiv).insertSites(n)},getDiagram:function(t){this.create();var e=this._subdiv.getVoronoiDiagram(t);return r.clipGeometryCollection(e,this._diagramEnv)},setTolerance:function(t){this._tolerance=t},setSites:function(){if(arguments[0]instanceof s.default){var t=arguments[0];this._siteCoords=b.default.extractUniqueCoordinates(t)}else if((0,u.default)(arguments[0],d.default)){var e=arguments[0];this._siteCoords=b.default.unique(E.default.toCoordinateArray(e))}},setClipEnvelope:function(t){this._clipEnv=t},getSubdivision:function(){return this.create(),this._subdiv},interfaces_:function(){return[]},getClass:function(){return r}}),r.clipGeometryCollection=function(t,e){for(var n=t.getFactory().toGeometry(e),i=new M.default,r=0;r<t.getNumGeometries();r++){var o=t.getGeometryN(r),s=null;e.contains(o.getEnvelopeInternal())?s=o:e.intersects(o.getEnvelopeInternal())&&(s=n.intersection(o),s.setUserData(o.getUserData())),null===s||s.isEmpty()||i.add(s)}return t.getFactory().createGeometryCollection(f.default.toGeometryArray(i))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Vertex=void 0;var i=n(111),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.Vertex=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.LocationIndexedLine=e.LinearLocation=e.LinearIterator=e.LinearGeometryBuilder=e.LengthLocationMap=e.LengthIndexedLine=void 0;var r=n(540),o=i(r),s=n(244),a=i(s),u=n(243),l=i(u),f=n(88),c=i(f),d=n(112),h=i(d),p=n(239),g=i(p);e.LengthIndexedLine=o.default,e.LengthLocationMap=a.default,e.LinearGeometryBuilder=l.default,e.LinearIterator=c.default,e.LinearLocation=h.default,e.LocationIndexedLine=g.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(239),s=i(o),a=n(0),u=i(a),l=n(541),f=i(l),c=n(241),d=i(c),h=n(244),p=i(h),g=n(242),_=i(g);(0,u.default)(r.prototype,{clampIndex:function(t){var e=this.positiveIndex(t),n=this.getStartIndex();if(e<n)return n;var i=this.getEndIndex();return e>i?i:e},locationOf:function(){if(1===arguments.length){var t=arguments[0];return p.default.getLocation(this._linearGeom,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return p.default.getLocation(this._linearGeom,e,n)}},project:function(t){return f.default.indexOf(this._linearGeom,t)},positiveIndex:function(t){return t>=0?t:this._linearGeom.getLength()+t},extractPoint:function(){if(1===arguments.length){var t=arguments[0],e=p.default.getLocation(this._linearGeom,t);return e.getCoordinate(this._linearGeom)}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=p.default.getLocation(this._linearGeom,n),r=e.toLowest(this._linearGeom);return r.getSegment(this._linearGeom).pointAlongOffset(r.getSegmentFraction(),i)}},isValidIndex:function(t){return t>=this.getStartIndex()&&t<=this.getEndIndex()},getEndIndex:function(){return this._linearGeom.getLength()},getStartIndex:function(){return 0},indexOfAfter:function(t,e){return f.default.indexOfAfter(this._linearGeom,t,e)},extractLine:function(t,e){var n=(new s.default(this._linearGeom),this.clampIndex(t)),i=this.clampIndex(e),r=n===i,o=this.locationOf(n,r),a=this.locationOf(i);return _.default.extract(this._linearGeom,o,a)},indexOf:function(t){return f.default.indexOf(this._linearGeom,t)},indicesOf:function(t){var e=d.default.indicesOf(this._linearGeom,t);return[p.default.getLength(this._linearGeom,e[0]),p.default.getLength(this._linearGeom,e[1])]},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(88),s=i(o),a=n(15),u=i(a),l=n(0),f=i(l),c=n(18),d=i(c),h=n(7),p=i(h);(0,f.default)(r.prototype,{indexOf:function(t){return this.indexOfFromStart(t,-1)},indexOfFromStart:function(t,e){for(var n=u.default.MAX_VALUE,i=e,r=0,o=new d.default,a=new s.default(this._linearGeom);a.hasNext();){if(!a.isEndOfLine()){o.p0=a.getSegmentStart(),o.p1=a.getSegmentEnd();var l=o.distance(t),f=this.segmentNearestMeasure(o,t,r);l<n&&f>e&&(i=f,n=l),r+=o.getLength()}a.next()}return i},indexOfAfter:function(t,e){if(e<0)return this.indexOf(t);var n=this._linearGeom.getLength();if(n<e)return n;var i=this.indexOfFromStart(t,e);return p.default.isTrue(i>=e,"computed index is before specified minimum index"),i},segmentNearestMeasure:function(t,e,n){var i=t.projectionFactor(e);return i<=0?n:i<=1?n+i*t.getLength():n+t.getLength()},interfaces_:function(){return[]},getClass:function(){return r}}),r.indexOf=function(t,e){return new r(t).indexOf(e)},r.indexOfAfter=function(t,e,n){return new r(t).indexOfAfter(e,n)}},function(t,e,n){"use strict";function i(t,e){if(!(this instanceof i))return new i(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function r(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function o(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,i,r){r||(r=_(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],a(r,t.leaf?i(o):o);return r}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function c(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function h(t,e){var n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function g(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function _(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(t,e,n,i,r){for(var o,s=[e,n];s.length;)n=s.pop(),e=s.pop(),n-e<=i||(o=e+Math.ceil((n-e)/i/2)*i,(0,y.default)(t,o,e,n,r),s.push(e,o,o,n))}Object.defineProperty(e,"__esModule",{value:!0});var v=n(543),y=function(t){return t&&t.__esModule?t:{default:t}}(v);i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!g(t,e))return n;for(var r,o,s,a,u=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],a=e.leaf?i(s):s,g(t,a)&&(e.leaf?n.push(s):p(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!g(t,e))return!1;for(var i,r,o,s,a=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],s=e.leaf?n(o):o,g(t,s)){if(e.leaf||p(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=_([]),this},remove:function(t,e){if(!t)return this;for(var n,i,o,s,a=this.data,u=this.toBBox(t),l=[],f=[];a||l.length;){if(a||(a=l.pop(),i=l[l.length-1],n=f.pop(),s=!0),a.leaf&&-1!==(o=r(t,a.children,e)))return a.children.splice(o,1),l.push(a),this._condense(l),this;s||a.leaf||!p(a,u)?i?(n++,a=i.children[n],s=!1):a=null:(l.push(a),f.push(n),n=0,i=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:u,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,s=n-e+1,a=this._maxEntries;if(s<=a)return r=_(t.slice(e,n+1)),o(r,this.toBBox),r;i||(i=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,i-1))),r=_([]),r.leaf=!1,r.height=i;var u,l,f,c,d=Math.ceil(s/a),h=d*Math.ceil(Math.sqrt(a));for(m(t,e,n,h,this.compareMinX),u=e;u<=n;u+=h)for(f=Math.min(u+h-1,n),m(t,u,f,d,this.compareMinY),l=u;l<=f;l+=d)c=Math.min(l+d-1,f),r.children.push(this._build(t,l,c,i-1));return o(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,s,a,u,l,c,h;;){if(i.push(e),e.leaf||i.length-1===n)break;for(c=h=1/0,r=0,o=e.children.length;r<o;r++)s=e.children[r],u=f(s),l=d(t,s)-u,l<h?(h=l,c=u<c?u:c,a=s):l===h&&u<c&&(c=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t:i(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),a(s,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var s=this._chooseSplitIndex(n,r,i),a=_(n.children.splice(s,n.children.length-s));a.height=n.height,a.leaf=n.leaf,o(n,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=_([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,a,u,l,c,d;for(l=c=1/0,i=e;i<=n-e;i++)r=s(t,0,i,this.toBBox),o=s(t,i,n,this.toBBox),a=h(r,o),u=f(r)+f(o),a<l?(l=a,d=i,c=u<c?u:c):a===l&&u<c&&(c=u,d=i);return d},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:u,r=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,u=this.toBBox,l=s(t,0,e,u),f=s(t,n-e,n,u),d=c(l)+c(f);for(r=e;r<n-e;r++)o=t.children[r],a(l,t.leaf?u(o):o),d+=c(l);for(r=n-e-1;r>=e;r--)o=t.children[r],a(f,t.leaf?u(o):o),d+=c(f);return d},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)a(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children,e.splice(e.indexOf(t[n]),1)):this.clear():o(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}},e.default=i},function(t,e,n){"use strict";function i(t,e,n,i,o){r(t,e,n||0,i||t.length-1,o||s)}function r(t,e,n,i,s){for(;i>n;){if(i-n>600){var a=i-n+1,u=e-n+1,l=Math.log(a),f=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*f*(a-f)/a)*(u-a/2<0?-1:1);r(t,e,Math.max(n,Math.floor(e-u*f/a+c)),Math.min(i,Math.floor(e+(a-u)*f/a+c)),s)}var d=t[e],h=n,p=i;for(o(t,n,e),s(t[i],d)>0&&o(t,n,i);h<p;){for(o(t,h,p),h++,p--;s(t[h],d)<0;)h++;for(;s(t[p],d)>0;)p--}0===s(t[n],d)?o(t,n,p):(p++,o(t,p,i)),p<=e&&(n=p+1),e<=p&&(i=p-1)}}function o(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function s(t,e){return t<e?-1:t>e?1:0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t,e,n){var i="object"===(void 0===n?"undefined":o(n))?n.units:n;if(!t)throw new Error("points is required");if(t=r(t),!t.features.length)throw new Error("points must contain features");if(!e)throw new Error("line is required");if("LineString"!==(e.geometry?e.geometry.type:e.type))throw new Error("line must be a LineString");var s=1/0,l=null;return(0,u.featureEach)(t,function(t){var n=(0,a.default)(t,e,{units:i});n<s&&(s=n,l=t)}),l.properties.dist=s,l}function r(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return(0,u.geomEach)(t,function(t){"Point"===t.type&&e.push({type:"Feature",properties:{},geometry:t})}),{type:"FeatureCollection",features:e};case"FeatureCollection":return t.features=t.features.filter(function(t){return"Point"===t.geometry.type}),t;default:throw new Error("points must be a Point Collection")}}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=n(246),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=n(6);e.default=i},function(t,e,n){"use strict";function i(t,e){var n=(0,r.getCoord)(t),i=(0,r.getGeom)(e),o=i.coordinates,s=o[0];if(s.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var a=e.properties||{},u=a.a,l=a.b,f=a.c,c=n[0],d=n[1],h=s[0][0],p=s[0][1],g=void 0!==u?u:s[0][2],_=s[1][0],m=s[1][1],v=void 0!==l?l:s[1][2],y=s[2][0],b=s[2][1],x=void 0!==f?f:s[2][2];return(x*(c-h)*(d-m)+g*(c-_)*(d-b)+v*(c-y)*(d-p)-v*(c-h)*(d-b)-x*(c-_)*(d-p)-g*(c-y)*(d-m))/((c-h)*(d-m)+(c-_)*(d-b)+(c-y)*(d-p)-(c-h)*(d-b)-(c-_)*(d-p)-(c-y)*(d-m))}Object.defineProperty(e,"__esModule",{value:!0});var r=n(5);e.default=i},function(t,e,n){"use strict";function i(t){var e,n,i={type:"FeatureCollection",features:[]};if(n="Feature"===t.type?t.geometry:t,"LineString"===n.type)e=[n.coordinates];else if("MultiLineString"===n.type)e=n.coordinates;else if("MultiPolygon"===n.type)e=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=n.coordinates}return e.forEach(function(t){e.forEach(function(e){for(var n=0;n<t.length-1;n++)for(var s=n;s<e.length-1;s++){if(t===e){if(1===Math.abs(n-s))continue;if(0===n&&s===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var a=r(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[s][0],e[s][1],e[s+1][0],e[s+1][1]);a&&i.features.push((0,o.point)([a[0],a[1]]))}})}),i}function r(t,e,n,i,r,o,s,a){var u,l,f,c,d,h={x:null,y:null,onLine1:!1,onLine2:!1};return 0===(u=(a-o)*(n-t)-(s-r)*(i-e))?null!==h.x&&null!==h.y&&h:(l=e-o,f=t-r,c=(s-r)*l-(a-o)*f,d=(n-t)*l-(i-e)*f,l=c/u,f=d/u,h.x=t+l*(n-t),h.y=e+l*(i-e),l>=0&&l<=1&&(h.onLine1=!0),f>=0&&f<=1&&(h.onLine2=!0),!(!h.onLine1||!h.onLine2)&&[h.x,h.y])}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1);e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){for(var e=o(t),n=(0,f.default)(e),i=!1,r=0;!i&&r<e.features.length;){var a,l,c,h,_,m,v,y=e.features[r].geometry,b=!1;if("Point"===y.type)n.geometry.coordinates[0]===y.coordinates[0]&&n.geometry.coordinates[1]===y.coordinates[1]&&(i=!0);else if("MultiPoint"===y.type){var x=!1;for(v=0;!x&&v<y.coordinates.length;)n.geometry.coordinates[0]===y.coordinates[v][0]&&n.geometry.coordinates[1]===y.coordinates[v][1]&&(i=!0,x=!0),v++}else if("LineString"===y.type)for(v=0;!b&&v<y.coordinates.length-1;)a=n.geometry.coordinates[0],l=n.geometry.coordinates[1],c=y.coordinates[v][0],h=y.coordinates[v][1],_=y.coordinates[v+1][0],m=y.coordinates[v+1][1],s(a,l,c,h,_,m)&&(b=!0,i=!0),v++;else if("MultiLineString"===y.type)for(var E=0;E<y.coordinates.length;){b=!1,v=0;for(var w=y.coordinates[E];!b&&v<w.length-1;)a=n.geometry.coordinates[0],l=n.geometry.coordinates[1],c=w[v][0],h=w[v][1],_=w[v+1][0],m=w[v+1][1],s(a,l,c,h,_,m)&&(b=!0,i=!0),v++;E++}else"Polygon"!==y.type&&"MultiPolygon"!==y.type||(0,p.default)(n,y)&&(i=!0);r++}if(i)return n;var M=(0,g.featureCollection)([]);for(r=0;r<e.features.length;r++)M.features=M.features.concat((0,u.default)(e.features[r]).features);return(0,g.point)((0,d.default)(n,M).geometry.coordinates)}function o(t){return"FeatureCollection"!==t.type?"Feature"!==t.type?(0,g.featureCollection)([(0,g.feature)(t)]):(0,g.featureCollection)([t]):t}function s(t,e,n,i,r,o){return Math.sqrt((r-n)*(r-n)+(o-i)*(o-i))===Math.sqrt((t-n)*(t-n)+(e-i)*(e-i))+Math.sqrt((r-t)*(r-t)+(o-e)*(o-e))}Object.defineProperty(e,"__esModule",{value:!0});var a=n(127),u=i(a),l=n(95),f=i(l),c=n(245),d=i(c),h=n(34),p=i(h),g=n(1);e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){if(n=n||{},!(0,c.isObject)(n))throw new Error("options is invalid");var i;if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}if(!(0,c.isNumber)(e))throw new Error("distance must be a number");for(var r=0,o=0;o<i.length&&!(e>=r&&o===i.length-1);o++){if(r>=e){var a=e-r;if(a){var l=(0,s.default)(i[o],i[o-1])-180;return(0,u.default)(i[o],a,l,n)}return(0,c.point)(i[o])}r+=(0,f.default)(i[o],i[o+1],n)}return(0,c.point)(i[i.length-1])}Object.defineProperty(e,"__esModule",{value:!0});var o=n(62),s=i(o),a=n(54),u=i(a),l=n(23),f=i(l),c=n(1);e.default=r},function(t,e,n){"use strict";function i(t,e,n){var i;if("Feature"===n.type)i=n.geometry.coordinates;else{if("LineString"!==n.type)throw new Error("input must be a LineString Feature or Geometry");i=n.coordinates}var o,a=(0,s.default)(n,t),u=(0,s.default)(n,e);o=a.properties.index<=u.properties.index?[a,u]:[u,a];for(var l=[o[0].geometry.coordinates],f=o[0].properties.index+1;f<o[1].properties.index+1;f++)l.push(i[f]);return l.push(o[1].geometry.coordinates),(0,r.lineString)(l,n.properties)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(113),s=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=i},function(t,e,n){"use strict";function i(t){if(!t)throw new Error("geojson is required");var e=[];return(0,r.flattenEach)(t,function(t){e.push(t)}),(0,o.featureCollection)(e)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),o=n(1);e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=a(e),i=s(t),r=i[0],l=i[1];return r=u(r),l=u(l),o(n,r,l)}function o(t,e,n){var i=[];return i.push(t.geometry.coordinates[0]),(0,_.flattenEach)(e,function(t){i.push(t.geometry.coordinates[0])}),(0,_.flattenEach)(n,function(t){i.push(t.geometry.coordinates[0])}),(0,h.polygon)(i)}function s(t){var e=[],n=[];return(0,_.flattenEach)(t,function(t){var i=t.geometry.coordinates,r=i[0],o=i.slice(1);e.push((0,h.polygon)([r])),o.forEach(function(t){n.push((0,h.polygon)([t]))})}),[(0,h.featureCollection)(e),(0,h.featureCollection)(n)]}function a(t){var e=[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]],n=t&&t.geometry.coordinates||e;return(0,h.polygon)(n)}function u(t){if(t.features.length<=1)return t;var e=f(t),n=[],i={};return(0,_.flattenEach)(t,function(t,r){if(i[r])return!0;for(e.remove({index:r},l),i[r]=!0;;){var o=(0,g.default)(t),s=e.search({minX:o[0],minY:o[1],maxX:o[2],maxY:o[3]});if(s.length>0){var a=s.map(function(t){return i[t.index]=!0,e.remove({index:t.index},l),t.geojson});a.push(t),t=d.default.apply(this,a)}if(0===s.length)break}n.push(t)}),(0,h.featureCollection)(n)}function l(t,e){return t.index===e.index}function f(t){var e=m(),n=[];return(0,_.flattenEach)(t,function(t,e){var i=(0,g.default)(t);n.push({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],geojson:t,index:e})}),e.load(n),e}Object.defineProperty(e,"__esModule",{value:!0});var c=n(154),d=i(c),h=n(1),p=n(27),g=i(p),_=n(6),m=n(70);e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){if(n=n||{},!(0,c.isObject)(n))throw new Error("options is invalid");var i=n.units,r=n.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var s=[];return(0,f.flattenEach)(t,function(t){r&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),o(t,e,i,function(t){s.push(t)})}),(0,c.featureCollection)(s)}function o(t,e,n,i){var r=(0,a.default)(t,{units:n});if(r<=e)return i(t);var o=r/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var s=0;s<o;s++){i((0,l.default)(t,e*s,e*(s+1),{units:n}),s)}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(247),a=i(s),u=n(248),l=i(u),f=n(6),c=n(1);e.default=r},function(t,e,n){"use strict";function i(t){var e=[];return(0,r.flattenEach)(t,function(t){"Polygon"===t.geometry.type&&(0,r.featureEach)((0,a.default)(t),function(n){e.push((0,o.polygon)(n.geometry.coordinates,t.properties))})}),(0,o.featureCollection)(e)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),o=n(1),s=n(554),a=function(t){return t&&t.__esModule?t:{default:t}}(s);e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function o(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(r([t[(e-1).modulo(t.length-1)],t[e],t[(e+1).modulo(t.length-1)]],!0))var i=1;else var i=-1;return i}function s(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!s(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function a(t){for(var e={},n=1,i=0,r=t.length;i<r;++i){if(e.hasOwnProperty(t[i])){n=0;break}e[t[i]]=1}return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(){for(var t=[],e=0;e<w.features.length;e++)-1==w.features[e].properties.parent&&t.push(e);if(t.length>1)for(var e=0;e<t.length;e++){for(var n=-1,i=0;i<w.features.length;i++)t[e]!=i&&(0,p.default)(w.features[t[e]].geometry.coordinates[0][0],w.features[i],{ignoreBoundary:!0})&&(0,c.default)(w.features[i])<1/0&&(n=i);w.features[t[e]].properties.parent=n}}function n(){for(var t=0;t<w.features.length;t++)if(-1==w.features[t].properties.parent){var e=w.features[t].properties.winding;w.features[t].properties.netWinding=e,i(t,e)}}function i(t,e){for(var n=0;n<w.features.length;n++)if(w.features[n].properties.parent==t){var r=e+w.features[n].properties.winding;w.features[n].properties.netWinding=r,i(n,r)}}if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var u=t.geometry.coordinates.length,f=[],h=0;h<u;h++){var v=t.geometry.coordinates[h];s(v[0],v[v.length-1])||v.push(v[0]),f.push.apply(f,v.slice(0,v.length-1))}if(!a(f))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var y=f.length,b=(0,l.default)(t,function(t,e,n,i,r,o,s,a,u,l,f,c){return[t,e,n,i,r,o,s,a,u,l,f,c]}),x=b.length;if(0==x){for(var E=[],h=0;h<u;h++)E.push((0,d.polygon)([t.geometry.coordinates[h]],{parent:-1,winding:o(t.geometry.coordinates[h])}));var w=(0,d.featureCollection)(E);return e(),n(),w}for(var M=[],L=[],h=0;h<u;h++){M.push([]);for(var P=0;P<t.geometry.coordinates[h].length-1;P++)M[h].push([new _(t.geometry.coordinates[h][(P+1).modulo(t.geometry.coordinates[h].length-1)],1,[h,P],[h,(P+1).modulo(t.geometry.coordinates[h].length-1)],void 0)]),L.push(new m(t.geometry.coordinates[h][P],[h,(P-1).modulo(t.geometry.coordinates[h].length-1)],[h,P],void 0,void 0,!1,!0))}for(var h=0;h<x;h++)M[b[h][1]][b[h][2]].push(new _(b[h][0],b[h][5],[b[h][1],b[h][2]],[b[h][6],b[h][7]],void 0)),b[h][11]&&L.push(new m(b[h][0],[b[h][1],b[h][2]],[b[h][6],b[h][7]],void 0,void 0,!0,!0));for(var C=L.length,h=0;h<M.length;h++)for(var P=0;P<M[h].length;P++)M[h][P].sort(function(t,e){return t.param<e.param?-1:1});for(var I=[],h=0;h<C;h++)I.push({minX:L[h].coord[0],minY:L[h].coord[1],maxX:L[h].coord[0],maxY:L[h].coord[1],index:h});var S=g();S.load(I);for(var h=0;h<M.length;h++)for(var P=0;P<M[h].length;P++)for(var O=0;O<M[h][P].length;O++){var N;N=O==M[h][P].length-1?M[h][(P+1).modulo(t.geometry.coordinates[h].length-1)][0].coord:M[h][P][O+1].coord;var T=S.search({minX:N[0],minY:N[1],maxX:N[0],maxY:N[1]})[0];M[h][P][O].nxtIsectAlongEdgeIn=T.index}for(var h=0;h<M.length;h++)for(var P=0;P<M[h].length;P++)for(var O=0;O<M[h][P].length;O++){var N=M[h][P][O].coord,T=S.search({minX:N[0],minY:N[1],maxX:N[0],maxY:N[1]})[0],R=T.index;R<y?L[R].nxtIsectAlongRingAndEdge2=M[h][P][O].nxtIsectAlongEdgeIn:s(L[R].ringAndEdge1,M[h][P][O].ringAndEdgeIn)?L[R].nxtIsectAlongRingAndEdge1=M[h][P][O].nxtIsectAlongEdgeIn:L[R].nxtIsectAlongRingAndEdge2=M[h][P][O].nxtIsectAlongEdgeIn}for(var A=[],h=0,P=0;P<u;P++){for(var D=h,O=0;O<t.geometry.coordinates[P].length-1;O++)L[h].coord[0]<L[D].coord[0]&&(D=h),h++;for(var k=L[D].nxtIsectAlongRingAndEdge2,O=0;O<L.length;O++)if(L[O].nxtIsectAlongRingAndEdge1==D||L[O].nxtIsectAlongRingAndEdge2==D){var j=O;break}var F=r([L[j].coord,L[D].coord,L[k].coord],!0)?1:-1;A.push({isect:D,parent:-1,winding:F})}A.sort(function(t,e){return L[t.isect].coord>L[e.isect].coord?-1:1});for(var E=[];A.length>0;){var z=A.pop(),G=z.isect,B=z.parent,q=z.winding,U=E.length,V=[L[G].coord],Y=G;if(L[G].ringAndEdge1Walkable)var X=L[G].ringAndEdge1,H=L[G].nxtIsectAlongRingAndEdge1;else var X=L[G].ringAndEdge2,H=L[G].nxtIsectAlongRingAndEdge2;for(;!s(L[G].coord,L[H].coord);){V.push(L[H].coord);for(var Z=void 0,h=0;h<A.length;h++)if(A[h].isect==H){Z=h;break}if(void 0!=Z&&A.splice(Z,1),s(X,L[H].ringAndEdge1)){if(X=L[H].ringAndEdge2,L[H].ringAndEdge2Walkable=!1,L[H].ringAndEdge1Walkable){var W={isect:H};r([L[Y].coord,L[H].coord,L[L[H].nxtIsectAlongRingAndEdge2].coord],1==q)?(W.parent=B,W.winding=-q):(W.parent=U,W.winding=q),A.push(W)}Y=H,H=L[H].nxtIsectAlongRingAndEdge2}else{if(X=L[H].ringAndEdge1,L[H].ringAndEdge1Walkable=!1,L[H].ringAndEdge2Walkable){var W={isect:H};r([L[Y].coord,L[H].coord,L[L[H].nxtIsectAlongRingAndEdge1].coord],1==q)?(W.parent=B,W.winding=-q):(W.parent=U,W.winding=q),A.push(W)}Y=H,H=L[H].nxtIsectAlongRingAndEdge1}}V.push(L[H].coord),E.push((0,d.polygon)([V],{index:U,parent:B,winding:q,netWinding:void 0}))}var w=(0,d.featureCollection)(E);return e(),n(),w};var u=n(555),l=i(u),f=n(116),c=i(f),d=n(1),h=n(34),p=i(h),g=n(70),_=function(t,e,n,i,r){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=i,this.nxtIsectAlongEdgeIn=r},m=function(t,e,n,i,r,o,s){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=i,this.nxtIsectAlongRingAndEdge2=r,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=s};Number.prototype.modulo=function(t){return(this%t+t)%t}},function(t,e,n){"use strict";function i(t,e,n,i){if(r(t,n)||r(t,i)||r(e,n)||r(i,n))return null;var o=t[0],s=t[1],a=e[0],u=e[1],l=n[0],f=n[1],c=i[0],d=i[1],h=(o-a)*(f-d)-(s-u)*(l-c);return 0===h?null:[((o*u-s*a)*(l-c)-(o-a)*(l*d-f*c))/h,((o*u-s*a)*(f-d)-(s-u)*(l*d-f*c))/h]}function r(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!r(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){function r(t,n,r,o){var s=a[t][n],f=a[t][n+1],c=a[r][o],d=a[r][o+1],h=i(s,f,c,d);if(null!==h){var p,g;if(p=f[0]!==s[0]?(h[0]-s[0])/(f[0]-s[0]):(h[1]-s[1])/(f[1]-s[1]),g=d[0]!==c[0]?(h[0]-c[0])/(d[0]-c[0]):(h[1]-c[1])/(d[1]-c[1]),!(p>=1||p<=0||g>=1||g<=0)){var _=h,m=!l[_];m&&(l[_]=!0),e?u.push(e(h,t,n,s,f,p,r,o,c,d,g,m)):u.push(h)}}}function s(t,e){var n,i,r,o,s=a[t][e],u=a[t][e+1];return s[0]<u[0]?(n=s[0],i=u[0]):(n=u[0],i=s[0]),s[1]<u[1]?(r=s[1],o=u[1]):(r=u[1],o=s[1]),{minX:n,minY:r,maxX:i,maxY:o,ring:t,edge:e}}if("Polygon"!==t.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var a=t.geometry.coordinates,u=[],l={};if(n){for(var f=[],c=0;c<a.length;c++)for(var d=0;d<a[c].length-1;d++)f.push(s(c,d));var h=o();h.load(f)}for(var p=0;p<a.length;p++)for(var g=0;g<a[p].length-1;g++)if(n){var _=h.search(s(p,g));_.forEach(function(t){var e=t.ring,n=t.edge;r(p,g,e,n)})}else for(var m=0;m<a.length;m++)for(var v=0;v<a[m].length-1;v++)r(p,g,m,v);return e||(u={type:"Feature",geometry:{type:"MultiPoint",coordinates:u}}),u};var o=n(70)},function(t,e,n){"use strict";function i(t,e,n){if(n=n||{},"object"!==(void 0===n?"undefined":r(n)))throw new Error("options is invalid");var i=n.properties,a=n.npoints,u=n.offset;return t=(0,o.getCoord)(t),e=(0,o.getCoord)(e),i=i||{},a=a||100,u=u||10,new s.GreatCircle({x:t[0],y:t[1]},{x:e[0],y:e[1]},i).Arc(a,{offset:u}).json()}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(5),s=n(557);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Math.PI/180,r=180/Math.PI,o=function(t,e){this.lon=t,this.lat=e,this.x=i*t,this.y=i*e};o.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},o.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new o(e,t)};var s=function(){this.coords=[],this.length=0};s.prototype.move_to=function(t){this.length++,this.coords.push(t)};var a=function(t){this.properties=t||{},this.geometries=[]};a.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},a.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(t){e+=t[0]+" "+t[1]+","},i=0;i<this.geometries.length;i++){if(0===this.geometries[i].coords.length)return"LINESTRING(empty)";this.geometries[i].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var u=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new o(t.x,t.y),this.end=new o(e.x,e.y),this.properties=n||{};var i=this.start.x-this.end.x,r=this.start.y-this.end.y,s=Math.pow(Math.sin(r/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(i/2),2);if(this.g=2*Math.asin(Math.sqrt(s)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};u.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),i=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),o=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),s=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),a=r*Math.atan2(s,Math.sqrt(Math.pow(i,2)+Math.pow(o,2)));return[r*Math.atan2(o,i),a]},u.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var i=1/(t-1),r=0;r<t;++r){var o=i*r,u=this.interpolate(o);n.push(u)}for(var l=!1,f=0,c=e&&e.offset?e.offset:10,d=180-c,h=-180+c,p=360-c,g=1;g<n.length;++g){var _=n[g-1][0],m=n[g][0],v=Math.abs(m-_);v>p&&(m>d&&_<h||_>d&&m<h)?l=!0:v>f&&(f=v)}var y=[];if(l&&f<c){var b=[];y.push(b);for(var x=0;x<n.length;++x){var E=parseFloat(n[x][0]);if(x>0&&Math.abs(E-n[x-1][0])>p){var w=parseFloat(n[x-1][0]),M=parseFloat(n[x-1][1]),L=parseFloat(n[x][0]),P=parseFloat(n[x][1]);if(w>-180&&w<h&&180===L&&x+1<n.length&&n[x-1][0]>-180&&n[x-1][0]<h){b.push([-180,n[x][1]]),x++,b.push([n[x][0],n[x][1]]);continue}if(w>d&&w<180&&-180===L&&x+1<n.length&&n[x-1][0]>d&&n[x-1][0]<180){b.push([180,n[x][1]]),x++,b.push([n[x][0],n[x][1]]);continue}if(w<h&&L>d){var C=w;w=L,L=C;var I=M;M=P,P=I}if(w>d&&L<h&&(L+=360),w<=180&&L>=180&&w<L){var S=(180-w)/(L-w),O=S*P+(1-S)*M;b.push([n[x-1][0]>d?180:-180,O]),b=[],b.push([n[x-1][0]>d?-180:180,O]),y.push(b)}else b=[],y.push(b);b.push([E,n[x][1]])}else b.push([n[x][0],n[x][1]])}}else{var N=[];y.push(N);for(var T=0;T<n.length;++T)N.push([n[T][0],n[T][1]])}for(var R=new a(this.properties),A=0;A<y.length;++A){var D=new s;R.geometries.push(D);for(var k=y[A],j=0;j<k.length;++j)D.move_to(k[j])}return R},e.Coord=o,e.Arc=a,e.GreatCircle=u,e.default={Coord:o,Arc:a,GreatCircle:u}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");var n=(0,w.getType)(t),i=(0,w.getType)(e);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===i)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===i)throw new Error("splitter cannot be a GeometryCollection");var r=(0,_.default)(e,{precision:7});switch(i){case"Point":return s(t,r);case"MultiPoint":return o(t,r);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return o(t,(0,b.default)(t,r))}}function o(t,e){var n=[],i=(0,f.default)();return(0,M.flattenEach)(e,function(e){if(n.forEach(function(t,e){t.id=e}),n.length){var r=i.search(e);if(r.features.length){var o=a(e,r);n=n.filter(function(t){return t.id!==o.id}),i.remove(o),(0,M.featureEach)(s(o,e),function(t){n.push(t),i.insert(t)})}}else n=s(t,e).features,n.forEach(function(t){t.bbox||(t.bbox=(0,d.default)((0,p.default)(t)))}),i.load((0,L.featureCollection)(n))}),(0,L.featureCollection)(n)}function s(t,e){var n=[],i=(0,w.getCoords)(t)[0],r=(0,w.getCoords)(t)[t.geometry.coordinates.length-1];if(u(i,(0,w.getCoords)(e))||u(r,(0,w.getCoords)(e)))return(0,L.featureCollection)([t]);var o=(0,f.default)(),s=(0,v.default)(t);o.load(s);var l=o.search(e);if(!l.features.length)return(0,L.featureCollection)([t]);var c=a(e,l),d=[i],h=(0,M.featureReduce)(s,function(t,i,r){var o=(0,w.getCoords)(i)[1],s=(0,w.getCoords)(e);return r===c.id?(t.push(s),n.push((0,L.lineString)(t)),u(s,o)?[s]:[s,o]):(t.push(o),t)},d);return h.length>1&&n.push((0,L.lineString)(h)),(0,L.featureCollection)(n)}function a(t,e){if(!e.features.length)throw new Error("lines must contain features");if(1===e.features.length)return e.features[0];var n,i=1/0;return(0,M.featureEach)(e,function(e){var r=(0,E.default)(e,t),o=r.properties.dist;o<i&&(n=e,i=o)}),n}function u(t,e){return t[0]===e[0]&&t[1]===e[1]}Object.defineProperty(e,"__esModule",{value:!0});var l=n(114),f=i(l),c=n(184),d=i(c),h=n(27),p=i(h),g=n(152),_=i(g),m=n(89),v=i(m),y=n(59),b=i(y),x=n(113),E=i(x),w=n(5),M=n(6),L=n(1);e.default=r},function(t,e,n){"use strict";function i(t,e){if(e=e||{},!(0,f.isObject)(e))throw new Error("options is invalid");var n=e.properties,i=e.autoComplete,o=e.orderCoords;if(!t)throw new Error("lines is required");switch(i=void 0===i||i,o=void 0===o||o,(0,l.getType)(t)){case"FeatureCollection":case"GeometryCollection":var s=[];return(t.features?t.features:t.geometries).forEach(function(t){s.push((0,l.getCoords)(r(t,{},i,o)))}),(0,f.multiPolygon)(s,n)}return r(t,n,i,o)}function r(t,e,n,i){e=e||t.properties||{};var r=(0,l.getCoords)(t),a=(0,l.getType)(t);if(!r.length)throw new Error("line must contain coordinates");switch(a){case"LineString":return n&&(r=o(r)),(0,f.polygon)([r],e);case"MultiLineString":var c=[],d=0;return r.forEach(function(t){if(n&&(t=o(t)),i){var e=s((0,u.default)((0,f.lineString)(t)));e>d?(c.unshift(t),d=e):c.push(t)}else c.push(t)}),(0,f.polygon)(c,e);default:throw new Error("geometry type "+a+" is not supported")}}function o(t){var e=t[0],n=e[0],i=e[1],r=t[t.length-1],o=r[0],s=r[1];return n===o&&i===s||t.push(e),t}function s(t){var e=t[0],n=t[1],i=t[2],r=t[3];return Math.abs(e-i)*Math.abs(n-r)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(27),u=function(t){return t&&t.__esModule?t:{default:t}}(a),l=n(5),f=n(1);e.default=i},function(t,e,n){"use strict";function i(t,e){var n=o(t),i=(0,s.getCoords)(t),l=t.properties;switch(n){case"LineString":case"MultiLineString":var f=[];return"LineString"===n&&(i=[i]),i.forEach(function(t){u(t,e,f)}),1===f.length?(0,a.lineString)(f[0],l):(0,a.multiLineString)(f,l);case"Polygon":return(0,a.polygon)(r(i,e),l);case"MultiPolygon":return(0,a.multiPolygon)(i.map(function(t){return r(t,e)}),l);default:throw new Error("geometry "+n+" not supported")}}function r(t,e){for(var n=[],i=0;i<t.length;i++){var r=u.polygon(t[i],e);r.length>0&&(r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]||r.push(r[0]),r.length>=4&&n.push(r))}return n}function o(t){return t.geometry?t.geometry.type:t.type}Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),a=n(1),u=n(561);e.default=i},function(t,e,n){"use strict";function i(t,e,n){var i,r,a,u,l,f=t.length,c=s(t[0],e),d=[];for(n||(n=[]),i=1;i<f;i++){for(r=t[i-1],a=t[i],u=l=s(a,e);;){if(!(c|u)){d.push(r),u!==l?(d.push(a),i<f-1&&(n.push(d),d=[])):i===f-1&&d.push(a);break}if(c&u)break;c?(r=o(r,a,c,e),c=s(r,e)):(a=o(r,a,u,e),u=s(a,e))}c=l}return d.length&&n.push(d),n}function r(t,e){var n,i,r,a,u,l,f;for(i=1;i<=8;i*=2){for(n=[],r=t[t.length-1],a=!(s(r,e)&i),u=0;u<t.length;u++)l=t[u],f=!(s(l,e)&i),f!==a&&n.push(o(r,l,i,e)),f&&n.push(l),r=l,a=f;if(t=n,!t.length)break}return n}function o(t,e,n,i){return 8&n?[t[0]+(e[0]-t[0])*(i[3]-t[1])/(e[1]-t[1]),i[3]]:4&n?[t[0]+(e[0]-t[0])*(i[1]-t[1])/(e[1]-t[1]),i[1]]:2&n?[i[2],t[1]+(e[1]-t[1])*(i[2]-t[0])/(e[0]-t[0])]:1&n?[i[0],t[1]+(e[1]-t[1])*(i[0]-t[0])/(e[0]-t[0])]:null}function s(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}t.exports=i,i.polyline=i,i.polygon=r},function(t,e,n){"use strict";function i(t){return"[object Arguments]"===Object.prototype.toString.call(t)}function r(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=(void 0===t?"undefined":u(t))&&"object"!=(void 0===e?"undefined":u(e))?(n.strict,t===e):a(t,e,n))}function o(t){return null===t||void 0===t}function s(t){return!(!t||"object"!==(void 0===t?"undefined":u(t))||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}function a(t,e,n){var a,f;if(o(t)||o(e))return!1;if(t.prototype!==e.prototype)return!1;if(i(t))return!!i(e)&&(t=l.call(t),e=l.call(e),r(t,e,n));if(s(t)){if(!s(e))return!1;if(t.length!==e.length)return!1;for(a=0;a<t.length;a++)if(t[a]!==e[a])return!1;return!0}try{var c=Object.keys(t),d=Object.keys(e)}catch(t){return!1}if(c.length!==d.length)return!1;for(c.sort(),d.sort(),a=c.length-1;a>=0;a--)if(c[a]!==d[a])return!1;for(a=c.length-1;a>=0;a--)if(f=c[a],!r(t[f],e[f],n))return!1;return(void 0===t?"undefined":u(t))===(void 0===e?"undefined":u(e))}Object.defineProperty(e,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=r;var l=Array.prototype.slice},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i,r){if(r=r||{},!(0,d.isObject)(r))throw new Error("options is invalid");if(!t)throw new Error("center is required");if(void 0===n||null===n)throw new Error("bearing1 is required");if(void 0===i||null===i)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!==(void 0===r?"undefined":s(r)))throw new Error("options must be an object");if(o(n)===o(i))return(0,u.default)(t,e,r);var a=(0,h.getCoords)(t),l=(0,f.default)(t,e,n,i,r),p=[[a]];return(0,c.coordEach)(l,function(t){p[0].push(t)}),p[0].push(a),(0,d.polygon)(p)}function o(t){var e=t%360;return e<0&&(e+=360),e}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(126),u=i(a),l=n(254),f=i(l),c=n(6),d=n(1),h=n(5);e.default=r},function(t,e,n){"use strict";function i(t,e){var n,i,o,s=(0,u.getCoords)(t),f=(0,u.getCoords)(e);switch((0,u.getType)(e)){case"Polygon":n=f[0][0],i=f[0][0],o=a(f[0][0],f[0][f[0].length-1],s);var c=r(f[0],s,o,void 0,n,i);n=c[0],i=c[1];break;case"MultiPolygon":n=f[0][0][0],i=f[0][0][0],o=a(f[0][0][0],f[0][0][f[0][0].length-1],s),f.forEach(function(t){var e=r(t[0],s,o,void 0,n,i);n=e[0],i=e[1]})}return(0,l.featureCollection)([(0,l.point)(n),(0,l.point)(i)])}function r(t,e,n,i,r,u){for(var l=0;l<t.length;l++){var f=t[l],c=t[l+1];l===t.length-1&&(c=t[0]),i=a(f,c,e),n<=0&&i>0?s(e,f,r)||(r=f):n>0&&i<=0&&(o(e,f,u)||(u=f)),n=i}return[r,u]}function o(t,e,n){return a(t,e,n)>0}function s(t,e,n){return a(t,e,n)<0}function a(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}Object.defineProperty(e,"__esModule",{value:!0});var u=n(5),l=n(1);e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(e=e||{},!(0,p.isObject)(e))throw new Error("options is invalid");var n=e.reverse||!1,i=e.mutate||!1;if(!t)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof i)throw new Error("<mutate> must be a boolean");!1===i&&(t=(0,l.default)(t));var r=[];switch(t.type){case"GeometryCollection":return(0,d.geomEach)(t,function(t){o(t,n)}),t;case"FeatureCollection":return(0,d.featureEach)(t,function(t){(0,d.featureEach)(o(t,n),function(t){r.push(t)})}),(0,p.featureCollection)(r)}return o(t,n)}function o(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return(0,d.geomEach)(t,function(t){o(t,e)}),t;case"LineString":return s((0,h.getCoords)(t),e),t;case"Polygon":return a((0,h.getCoords)(t),e),t;case"MultiLineString":return(0,h.getCoords)(t).forEach(function(t){s(t,e)}),t;case"MultiPolygon":return(0,h.getCoords)(t).forEach(function(t){a(t,e)}),t;case"Point":case"MultiPoint":return t}}function s(t,e){(0,c.default)(t)===e&&t.reverse()}function a(t,e){(0,c.default)(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)(0,c.default)(t[n])===e&&t[n].reverse()}Object.defineProperty(e,"__esModule",{value:!0});var u=n(22),l=i(u),f=n(256),c=i(f),d=n(6),h=n(5),p=n(1);e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){if(n=n||{},!(0,b.isObject)(n))throw new Error("options is invalid");var i=n.zProperty||"elevation",r=n.commonProperties||{},a=n.breaksProperties||[];if((0,y.collectionOf)(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks is not an Array");if(!(0,b.isObject)(r))throw new Error("commonProperties is not an Object");if(!Array.isArray(a))throw new Error("breaksProperties is not an Array");var u=(0,E.default)(t,{zProperty:i,flip:!0}),l=o(u,e,i);l=s(l,u,t);var f=l.map(function(t,e){if(a[e]&&!(0,b.isObject)(a[e]))throw new Error("Each mappedProperty is required to be an Object");var n=Object.assign({},r,a[e]);return n[i]=t[i],(0,b.multiPolygon)(t.groupedRings,n)});return(0,b.featureCollection)(f)}function o(t,e,n){for(var i=[],r=1;r<e.length;r++){var o=+e[r-1],s=+e[r],l=(0,M.default)(t,o,s-o),f=a(l),c=u(f),d={};d.groupedRings=c,d[n]=o+"-"+s,i.push(d)}return i}function s(t,e,n){var i=(0,d.default)(n),r=i[2]-i[0],o=i[3]-i[1],s=i[0],a=i[1],u=e[0].length-1,l=e.length-1,f=r/u,c=o/l,h=function(t){t[0]=t[0]*f+s,t[1]=t[1]*c+a};return t.forEach(function(t){t.groupedRings.forEach(function(t){t.forEach(function(t){t.forEach(h)})})}),t}function a(t){var e=[],n=[];t.forEach(function(t){var i=(0,p.default)((0,b.polygon)([t]));n.push(i),e.push({ring:t,area:i})}),n.sort(function(t,e){return e-t});var i=[];return n.forEach(function(t){for(var n=0;n<e.length;n++)if(e[n].area===t){i.push(e[n].ring),e.splice(n,1);break}}),i}function u(t){for(var e=t.map(function(t){return{lrCoordinates:t,grouped:!1}}),n=[];!f(e);)for(var i=0;i<e.length;i++)if(!e[i].grouped){var r=[];r.push(e[i].lrCoordinates),e[i].grouped=!0;for(var o=(0,b.polygon)([e[i].lrCoordinates]),s=i+1;s<e.length;s++)if(!e[s].grouped){var a=(0,b.polygon)([e[s].lrCoordinates]);l(a,o)&&(r.push(e[s].lrCoordinates),e[s].grouped=!0)}n.push(r)}return n}function l(t,e){for(var n=(0,v.default)(t),i=0;i<n.features.length;i++)if(!(0,_.default)(n.features[i],e))return!1;return!0}function f(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}Object.defineProperty(e,"__esModule",{value:!0});var c=n(27),d=i(c),h=n(116),p=i(h),g=n(34),_=i(g),m=n(127),v=i(m),y=n(5),b=n(1),x=n(567),E=i(x),w=n(568),M=i(w);e.default=r},function(t,e,n){"use strict";function i(t,e){if(e=e||{},!(0,a.isObject)(e))throw new Error("options is invalid");var n=e.zProperty||"elevation",i=e.flip,s=e.flags;(0,o.collectionOf)(t,"Point","input must contain Points");for(var u=r(t,i),l=[],f=0;f<u.length;f++){for(var c=u[f],d=[],h=0;h<c.length;h++){var p=c[h];p.properties[n]?d.push(p.properties[n]):d.push(0),!0===s&&(p.properties.matrixPosition=[f,h])}l.push(d)}return l}function r(t,e){var n={};return(0,s.featureEach)(t,function(t){var e=(0,o.getCoords)(t)[1];n[e]||(n[e]=[]),n[e].push(t)}),Object.keys(n).map(function(t){return n[t].sort(function(t,e){return(0,o.getCoords)(t)[0]-(0,o.getCoords)(e)[0]})}).sort(function(t,n){return e?(0,o.getCoords)(t[0])[1]-(0,o.getCoords)(n[0])[1]:(0,o.getCoords)(n[0])[1]-(0,o.getCoords)(t[0])[1]})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=n(5),s=n(6),a=n(1)},function(t,e,n){"use strict";function i(t,e,n,i){i=i||{};for(var r=Object.keys(p),o=0;o<r.length;o++){var u=r[o],l=i[u];l=void 0!==l&&null!==l?l:p[u],g[u]=l}g.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+n)+"]");var f,c=s(t,e,n);return g.polygons?(g.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),f=d(c)):(g.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),f=a(c)),"function"==typeof g.successCallback&&g.successCallback(f),f}function r(t,e,n){return(t-e)/(n-e)}function o(t){return t.constructor.toString().indexOf("Array")>-1}function s(t,e,n){for(var i=t.length-1,o=t[0].length-1,s={rows:i,cols:o,cells:[]},a=e+Math.abs(n),u=0;u<i;++u){s.cells[u]=[];for(var l=0;l<o;++l){var f=0,c=t[u+1][l],d=t[u+1][l+1],h=t[u][l+1],p=t[u][l];if(!(isNaN(c)||isNaN(d)||isNaN(h)||isNaN(p))){f|=c<e?0:c>a?128:64,f|=d<e?0:d>a?32:16,f|=h<e?0:h>a?8:4,f|=p<e?0:p>a?2:1;var g=+f,_=0;if(17===f||18===f||33===f||34===f||38===f||68===f||72===f||98===f||102===f||132===f||136===f||137===f||152===f||153===f){var m=(c+d+h+p)/4;_=m>a?2:m<e?0:1,34===f?1===_?f=35:0===_&&(f=136):136===f?1===_?(f=35,_=4):0===_&&(f=34):17===f?1===_?(f=155,_=4):0===_&&(f=153):68===f?1===_?(f=103,_=4):0===_&&(f=102):153===f?1===_&&(f=155):102===f?1===_&&(f=103):152===f?_<2&&(f=156,_=1):137===f?_<2&&(f=139,_=1):98===f?_<2&&(f=99,_=1):38===f?_<2&&(f=39,_=1):18===f?_>0?(f=156,_=4):f=152:33===f?_>0?(f=139,_=4):f=137:72===f?_>0?(f=99,_=4):f=98:132===f&&(_>0?(f=39,_=4):f=38)}if(0!=f&&170!=f){var v,y,b,x,E,w,M,L;v=y=b=x=E=w=M=L=.5;var P=[];1===f?(b=1-r(e,h,p),L=1-r(e,c,p),P.push(Rt[f])):169===f?(b=r(a,p,h),L=r(a,p,c),P.push(Rt[f])):4===f?(w=1-r(e,d,h),x=r(e,p,h),P.push(Nt[f])):166===f?(w=r(a,h,d),x=1-r(a,h,p),P.push(Nt[f])):16===f?(E=r(e,h,d),y=r(e,c,d),P.push(Ot[f])):154===f?(E=1-r(a,d,h),y=1-r(a,d,c),P.push(Ot[f])):64===f?(M=r(e,p,c),v=1-r(e,d,c),P.push(Dt[f])):106===f?(M=1-r(a,c,p),v=r(a,c,d),P.push(Dt[f])):168===f?(x=r(a,p,h),b=r(e,p,h),L=r(e,p,c),M=r(a,p,c),P.push(Tt[f]),P.push(Rt[f])):2===f?(x=1-r(e,h,p),b=1-r(a,h,p),L=1-r(a,c,p),M=1-r(e,c,p),P.push(Tt[f]),P.push(Rt[f])):162===f?(E=r(a,h,d),w=r(e,h,d),x=1-r(e,h,p),b=1-r(a,h,p),P.push(Tt[f]),P.push(Rt[f])):8===f?(E=1-r(e,d,h),w=1-r(a,d,h),x=r(a,p,h),b=r(e,p,h),P.push(Ot[f]),P.push(Nt[f])):138===f?(E=1-r(e,d,h),w=1-r(a,d,h),v=1-r(a,d,c),y=1-r(e,d,c),P.push(Ot[f]),P.push(Nt[f])):32===f?(E=r(a,h,d),w=r(e,h,d),v=r(e,c,d),y=r(a,c,d),P.push(Ot[f]),P.push(Nt[f])):42===f?(L=1-r(a,c,p),M=1-r(e,c,p),v=r(e,c,d),y=r(a,c,d),P.push(At[f]),P.push(Dt[f])):128===f&&(L=r(e,p,c),M=r(a,p,c),v=1-r(a,d,c),y=1-r(e,d,c),P.push(At[f]),P.push(Dt[f])),5===f?(w=1-r(e,d,h),L=1-r(e,c,p),P.push(Nt[f])):165===f?(w=r(a,h,d),L=r(a,p,c),P.push(Nt[f])):20===f?(x=r(e,p,h),y=r(e,c,d),P.push(Tt[f])):150===f?(x=1-r(a,h,p),y=1-r(a,d,c),P.push(Tt[f])):80===f?(E=r(e,h,d),M=r(e,p,c),P.push(Ot[f])):90===f?(E=1-r(a,d,h),M=1-r(a,c,p),P.push(Ot[f])):65===f?(b=1-r(e,h,p),v=1-r(e,d,c),P.push(Rt[f])):105===f?(b=r(a,p,h),v=r(a,c,d),P.push(Rt[f])):160===f?(E=r(a,h,d),w=r(e,h,d),L=r(e,p,c),M=r(a,p,c),P.push(Ot[f]),P.push(Nt[f])):10===f?(E=1-r(e,d,h),w=1-r(a,d,h),L=1-r(a,c,p),M=1-r(e,c,p),P.push(Ot[f]),P.push(Nt[f])):130===f?(x=1-r(e,h,p),b=1-r(a,h,p),v=1-r(a,d,c),y=1-r(e,d,c),P.push(Tt[f]),P.push(Rt[f])):40===f?(x=r(a,p,h),b=r(e,p,h),v=r(e,c,d),y=r(a,c,d),P.push(Tt[f]),P.push(Rt[f])):101===f?(w=r(a,h,d),v=r(a,c,d),P.push(Nt[f])):69===f?(w=1-r(e,d,h),v=1-r(e,d,c),P.push(Nt[f])):149===f?(L=r(a,p,c),y=1-r(a,d,c),P.push(At[f])):21===f?(L=1-r(e,c,p),y=r(e,c,d),P.push(At[f])):86===f?(x=1-r(a,h,p),M=1-r(a,c,p),P.push(Tt[f])):84===f?(x=r(e,p,h),M=r(e,p,c),P.push(Tt[f])):89===f?(E=1-r(a,d,h),b=r(a,p,h),P.push(Rt[f])):81===f?(E=r(e,h,d),b=1-r(e,h,p),P.push(Rt[f])):96===f?(E=r(a,h,d),w=r(e,h,d),M=r(e,p,c),v=r(a,c,d),P.push(Ot[f]),P.push(Nt[f])):74===f?(E=1-r(e,d,h),w=1-r(a,d,h),M=1-r(a,c,p),v=1-r(e,d,c),P.push(Ot[f]),P.push(Nt[f])):24===f?(E=1-r(a,d,h),x=r(a,p,h),b=r(e,p,h),y=r(e,c,d),P.push(Ot[f]),P.push(Rt[f])):146===f?(E=r(e,h,d),x=1-r(e,h,p),b=1-r(a,h,p),y=1-r(a,d,c),P.push(Ot[f]),P.push(Rt[f])):6===f?(w=1-r(e,d,h),x=1-r(a,h,p),L=1-r(a,c,p),M=1-r(e,c,p),P.push(Nt[f]),P.push(Tt[f])):164===f?(w=r(a,h,d),x=r(e,p,h),L=r(e,p,c),M=r(a,p,c),P.push(Nt[f]),P.push(Tt[f])):129===f?(b=1-r(e,h,p),L=r(a,p,c),v=1-r(a,d,c),y=1-r(e,d,c),P.push(Rt[f]),P.push(At[f])):41===f?(b=r(a,p,h),L=1-r(e,c,p),v=r(e,c,d),y=r(a,c,d),P.push(Rt[f]),P.push(At[f])):66===f?(x=1-r(e,h,p),b=1-r(a,h,p),M=1-r(a,c,p),v=1-r(e,d,c),P.push(Tt[f]),P.push(Rt[f])):104===f?(x=r(a,p,h),b=r(e,p,h),M=r(e,p,c),v=r(a,c,d),P.push(Rt[f]),P.push(kt[f])):144===f?(E=r(e,h,d),L=r(e,p,c),M=r(a,p,c),y=1-r(a,d,c),P.push(Ot[f]),P.push(Dt[f])):26===f?(E=1-r(a,d,h),L=1-r(a,c,p),M=1-r(e,c,p),y=r(e,c,d),P.push(Ot[f]),P.push(Dt[f])):36===f?(w=r(a,h,d),x=r(e,p,h),v=r(e,c,d),y=r(a,c,d),P.push(Nt[f]),P.push(Tt[f])):134===f?(w=1-r(e,d,h),x=1-r(a,h,p),v=1-r(a,d,c),y=1-r(e,d,c),P.push(Nt[f]),P.push(Tt[f])):9===f?(E=1-r(e,d,h),w=1-r(a,d,h),b=r(a,p,h),L=1-r(e,c,p),P.push(Ot[f]),P.push(Nt[f])):161===f?(E=r(a,h,d),w=r(e,h,d),b=1-r(e,h,p),L=r(a,p,c),P.push(Ot[f]),P.push(Nt[f])):37===f?(w=r(a,h,d),L=1-r(e,c,p),v=r(e,c,d),y=r(a,c,d),P.push(Nt[f]),P.push(At[f])):133===f?(w=1-r(e,d,h),L=r(a,p,c),v=1-r(a,d,c),y=1-r(e,d,c),P.push(Nt[f]),P.push(At[f])):148===f?(x=r(e,p,h),L=r(e,p,c),M=r(a,p,c),y=1-r(a,d,c),P.push(Tt[f]),P.push(Dt[f])):22===f?(x=1-r(a,h,p),L=1-r(a,c,p),M=1-r(e,c,p),y=r(e,c,d),P.push(Tt[f]),P.push(Dt[f])):82===f?(E=r(e,h,d),x=1-r(e,h,p),b=1-r(a,h,p),M=1-r(a,c,p),P.push(Ot[f]),P.push(Rt[f])):88===f?(E=1-r(a,d,h),x=r(a,p,h),b=r(e,p,h),M=r(e,p,c),P.push(Ot[f]),P.push(Rt[f])):73===f?(E=1-r(e,d,h),w=1-r(a,d,h),b=r(a,p,h),v=1-r(e,d,c),P.push(Ot[f]),P.push(Nt[f])):97===f?(E=r(a,h,d),w=r(e,h,d),b=1-r(e,h,p),v=r(a,c,d),P.push(Ot[f]),P.push(Nt[f])):145===f?(E=r(e,h,d),b=1-r(e,h,p),L=r(a,p,c),y=1-r(a,d,c),P.push(Ot[f]),P.push(At[f])):25===f?(E=1-r(a,d,h),b=r(a,p,h),L=1-r(e,c,p),y=r(e,c,d),P.push(Ot[f]),P.push(At[f])):70===f?(w=1-r(e,d,h),x=1-r(a,h,p),M=1-r(a,c,p),v=1-r(e,d,c),P.push(Nt[f]),P.push(Tt[f])):100===f?(w=r(a,h,d),x=r(e,p,h),M=r(e,p,c),v=r(a,c,d),P.push(Nt[f]),P.push(Tt[f])):34===f?(0===_?(E=1-r(e,d,h),w=1-r(a,d,h),x=r(a,p,h),b=r(e,p,h),L=r(e,p,c),M=r(a,p,c),v=1-r(a,d,c),y=1-r(e,d,c)):(E=r(a,h,d),w=r(e,h,d),x=1-r(e,h,p),b=1-r(a,h,p),L=1-r(a,c,p),M=1-r(e,c,p),v=r(e,c,d),y=r(a,c,d)),P.push(Ot[f]),P.push(Nt[f]),P.push(At[f]),P.push(Dt[f])):35===f?(4===_?(E=1-r(e,d,h),w=1-r(a,d,h),x=r(a,p,h),b=r(e,p,h),L=r(e,p,c),M=r(a,p,c),v=1-r(a,d,c),y=1-r(e,d,c)):(E=r(a,h,d),w=r(e,h,d),x=1-r(e,h,p),b=1-r(a,h,p),L=1-r(a,c,p),M=1-r(e,c,p),v=r(e,c,d),y=r(a,c,d)),P.push(Ot[f]),P.push(Nt[f]),P.push(Rt[f]),P.push(Dt[f])):136===f?(0===_?(E=r(a,h,d),w=r(e,h,d),x=1-r(e,h,p),b=1-r(a,h,p),L=1-r(a,c,p),M=1-r(e,c,p),v=r(e,c,d),y=r(a,c,d)):(E=1-r(e,d,h),w=1-r(a,d,h),x=r(a,p,h),b=r(e,p,h),L=r(e,p,c),M=r(a,p,c),v=1-r(a,d,c),y=1-r(e,d,c)),P.push(Ot[f]),P.push(Nt[f]),P.push(At[f]),P.push(Dt[f])):153===f?(0===_?(E=r(e,h,d),b=1-r(e,h,p),L=1-r(e,c,p),y=r(e,c,d)):(E=1-r(a,d,h),b=r(a,p,h),L=r(a,p,c),y=1-r(a,d,c)),P.push(Ot[f]),P.push(Rt[f])):102===f?(0===_?(w=1-r(e,d,h),x=r(e,p,h),M=r(e,p,c),v=1-r(e,d,c)):(w=r(a,h,d),x=1-r(a,h,p),M=1-r(a,c,p),v=r(a,c,d)),P.push(Nt[f]),P.push(Dt[f])):155===f?(4===_?(E=r(e,h,d),b=1-r(e,h,p),L=1-r(e,c,p),y=r(e,c,d)):(E=1-r(a,d,h),b=r(a,p,h),L=r(a,p,c),y=1-r(a,d,c)),P.push(Ot[f]),P.push(At[f])):103===f?(4===_?(w=1-r(e,d,h),x=r(e,p,h),M=r(e,p,c),v=1-r(e,d,c)):(w=r(a,h,d),x=1-r(a,h,p),M=1-r(a,c,p),v=r(a,c,d)),P.push(Nt[f]),P.push(Tt[f])):152===f?(0===_?(E=r(e,h,d),x=1-r(e,h,p),b=1-r(a,h,p),L=1-r(a,c,p),M=1-r(e,c,p),y=r(e,c,d)):(E=1-r(a,d,h),x=r(a,p,h),b=r(e,p,h),L=r(e,p,c),M=r(a,p,c),y=1-r(a,d,c)),P.push(Ot[f]),P.push(Tt[f]),P.push(Rt[f])):156===f?(4===_?(E=r(e,h,d),x=1-r(e,h,p),b=1-r(a,h,p),L=1-r(a,c,p),M=1-r(e,c,p),y=r(e,c,d)):(E=1-r(a,d,h),x=r(a,p,h),b=r(e,p,h),L=r(e,p,c),M=r(a,p,c),y=1-r(a,d,c)),P.push(Ot[f]),P.push(Rt[f]),P.push(Dt[f])):137===f?(0===_?(E=r(a,h,d),w=r(e,h,d),b=1-r(e,h,p),L=1-r(e,c,p),v=r(e,c,d),y=r(a,c,d)):(E=1-r(e,d,h),w=1-r(a,d,h),b=r(a,p,h),L=r(a,p,c),v=1-r(a,d,c),y=1-r(e,d,c)),P.push(Ot[f]),P.push(Nt[f]),P.push(Rt[f])):139===f?(4===_?(E=r(a,h,d),w=r(e,h,d),b=1-r(e,h,p),L=1-r(e,c,p),v=r(e,c,d),y=r(a,c,d)):(E=1-r(e,d,h),w=1-r(a,d,h),b=r(a,p,h),L=r(a,p,c),v=1-r(a,d,c),y=1-r(e,d,c)),P.push(Ot[f]),P.push(Nt[f]),P.push(At[f])):98===f?(0===_?(E=1-r(e,d,h),w=1-r(a,d,h),x=r(a,p,h),b=r(e,p,h),M=r(e,p,c),v=1-r(e,d,c)):(E=r(a,h,d),w=r(e,h,d),x=1-r(e,h,p),b=1-r(a,h,p),M=1-r(a,c,p),v=r(a,c,d)),P.push(Ot[f]),P.push(Nt[f]),P.push(Dt[f])):99===f?(4===_?(E=1-r(e,d,h),w=1-r(a,d,h),x=r(a,p,h),b=r(e,p,h),M=r(e,p,c),v=1-r(e,d,c)):(E=r(a,h,d),w=r(e,h,d),x=1-r(e,h,p),b=1-r(a,h,p),M=1-r(a,c,p),v=r(a,c,d)),P.push(Ot[f]),P.push(Nt[f]),P.push(Rt[f])):38===f?(0===_?(w=1-r(e,d,h),x=r(e,p,h),L=r(e,p,c),M=r(a,p,c),v=1-r(a,d,c),y=1-r(e,d,c)):(w=r(a,h,d),x=1-r(a,h,p),L=1-r(a,c,p),M=1-r(e,c,p),v=r(e,c,d),y=r(a,c,d)),P.push(Nt[f]),P.push(At[f]),P.push(Dt[f])):39===f?(4===_?(w=1-r(e,d,h),x=r(e,p,h),L=r(e,p,c),M=r(a,p,c),v=1-r(a,d,c),y=1-r(e,d,c)):(w=r(a,h,d),x=1-r(a,h,p),L=1-r(a,c,p),M=1-r(e,c,p),v=r(e,c,d),y=r(a,c,d)),P.push(Nt[f]),P.push(Tt[f]),P.push(Dt[f])):85===f&&(E=1,w=0,x=1,b=0,L=0,M=1,v=0,y=1),(v<0||v>1||y<0||y>1||E<0||E>1||x<0||x>1||L<0||L>1||M<0||M>1)&&console.log("MarchingSquaresJS-isoBands: "+f+" "+g+" "+c+","+d+","+h+","+p+" "+_+" "+v+" "+y+" "+E+" "+w+" "+x+" "+b+" "+L+" "+M),s.cells[u][l]={cval:f,cval_real:g,flipped:_,topleft:v,topright:y,righttop:E,rightbottom:w,bottomright:x,bottomleft:b,leftbottom:L,lefttop:M,edges:P}}}}}return s}function a(t){for(var e=[],n=t.rows,i=t.cols,r=[],o=0;o<n;o++)for(var s=0;s<i;s++)if(void 0!==t.cells[o][s]&&t.cells[o][s].edges.length>0){var a=t.cells[o][s],l=f(a),d=null,h=s,p=o;null!==l&&r.push([l.p[0]+h,l.p[1]+p]);do{if(null===(d=c(t.cells[p][h],l.x,l.y,l.o)))break;if(r.push([d.p[0]+h,d.p[1]+p]),h+=d.x,p+=d.y,l=d,p<0||p>=n||h<0||h>=i||void 0===t.cells[p][h]){h-=d.x,p-=d.y;var g=u(t,h,p,d.x,d.y,d.o);if(null===g)break;g.path.forEach(function(t){r.push(t)}),h=g.i,p=g.j,l=g}}while(void 0!==t.cells[p][h]&&t.cells[p][h].edges.length>0);e.push(r),r=[],t.cells[o][s].edges.length>0&&s--}return e}function u(t,e,n,i,r,o){for(var s=t.cells[n][e],a=s.cval_real,u=e+i,l=n+r,f=[],c=!1;!c;){if(void 0===t.cells[l]||void 0===t.cells[l][u])if(l-=r,u-=i,s=t.cells[l][u],a=s.cval_real,-1===r)if(0===o)if(a&y)f.push([u,l]),i=-1,r=0,o=0;else{if(!(a&v)){f.push([u+s.bottomright,l]),i=0,r=1,o=1,c=!0;break}f.push([u+1,l]),i=1,r=0,o=0}else{if(!(a&y)){if(a&v){f.push([u+s.bottomright,l]),i=0,r=1,o=1,c=!0;break}f.push([u+s.bottomleft,l]),i=0,r=1,o=0,c=!0;break}f.push([u,l]),i=-1,r=0,o=0}else if(1===r)if(0===o){if(!(a&m)){if(a&_){f.push([u+s.topleft,l+1]),i=0,r=-1,o=0,c=!0;break}f.push([u+s.topright,l+1]),i=0,r=-1,o=1,c=!0;break}f.push([u+1,l+1]),i=1,r=0,o=1}else f.push([u+1,l+1]),i=1,r=0,o=1;else if(-1===i)if(0===o){if(!(a&_)){if(a&y){f.push([u,l+s.leftbottom]),i=1,r=0,o=0,c=!0;break}f.push([u,l+s.lefttop]),i=1,r=0,o=1,c=!0;break}f.push([u,l+1]),i=0,r=1,o=0}else{if(!(a&_)){console.log("MarchingSquaresJS-isoBands: wtf");break}f.push([u,l+1]),i=0,r=1,o=0}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===o){if(!(a&v)){f.push([u+1,l+s.rightbottom]),i=-1,r=0,o=0,c=!0;break}f.push([u+1,l]),i=0,r=-1,o=1}else{if(!(a&v)){if(a&m){f.push([u+1,l+s.righttop]),i=-1,r=0,o=1;break}f.push([u+1,l+s.rightbottom]),i=-1,r=0,o=0,c=!0;break}f.push([u+1,l]),i=0,r=-1,o=1}}else if(s=t.cells[l][u],a=s.cval_real,-1===i)if(0===o)if(void 0!==t.cells[l-1]&&void 0!==t.cells[l-1][u])i=0,r=-1,o=1;else{if(!(a&y)){f.push([u+s.bottomright,l]),i=0,r=1,o=1,c=!0;break}f.push([u,l])}else{if(!(a&_)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+u+","+l);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===i){if(0===o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l+1]&&void 0!==t.cells[l+1][u])i=0,r=1,o=0;else{if(!(a&m)){f.push([u+s.topleft,l+1]),i=0,r=-1,o=0,c=!0;break}f.push([u+1,l+1]),i=1,r=0,o=1}}else if(-1===r){if(1!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u+1])i=1,r=0,o=1;else{if(!(a&v)){f.push([u+1,l+s.righttop]),i=-1,r=0,o=1,c=!0;break}f.push([u+1,l]),i=0,r=-1,o=1}}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u-1])i=-1,r=0,o=0;else{if(!(a&_)){f.push([u,l+s.leftbottom]),i=1,r=0,o=0,c=!0;break}f.push([u,l+1]),i=0,r=1,o=0}}if(u+=i,l+=r,u===e&&l===n)break}return{path:f,i:u,j:l,x:i,y:r,o:o}}function l(t,e){delete t.edges[e];for(var n=e+1;n<t.edges.length;n++)t.edges[n-1]=t.edges[n];t.edges.pop()}function f(t){if(t.edges.length>0){var e=t.edges[t.edges.length-1],n=t.cval_real;switch(e){case 0:return n&m?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return n&v?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return n&v?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return n&y?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return n&m?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return n&v?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return n&v?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return n&y?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return n&v?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return n&y?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return n&y?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return n&_?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return n&v?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return n&y?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return n&y?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return n&_?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return n&v?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return n&_?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return n&y?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return n&_?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return n&_?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return n&m?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return n&_?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return n&m?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}function c(t,e,n,i){var r,o,s,a,u,f=t.cval;switch(e){case-1:switch(i){case 0:r=Nt[f],s=S[f],a=O[f],u=N[f];break;default:r=Ot[f],s=P[f],a=C[f],u=I[f]}break;case 1:switch(i){case 0:r=At[f],s=B[f],a=q[f],u=U[f];break;default:r=Dt[f],s=F[f],a=z[f],u=G[f]}break;default:switch(n){case-1:switch(i){case 0:r=kt[f],s=b[f],a=x[f],u=E[f];break;default:r=jt[f],s=w[f],a=M[f],u=L[f]}break;case 1:switch(i){case 0:r=Rt[f],s=T[f],a=R[f],u=A[f];break;default:r=Tt[f],s=D[f],a=k[f],u=j[f]}}}if(o=t.edges.indexOf(r),void 0===t.edges[o])return null;switch(l(t,o),f=t.cval_real,r){case 0:f&m?(e=t.topleft,n=1):(e=1,n=t.righttop);break;case 1:f&v?(e=1,n=t.rightbottom):(e=t.topleft,n=1);break;case 2:f&v?(e=t.topleft,n=1):(e=t.bottomright,n=0);break;case 3:f&y?(e=t.bottomleft,n=0):(e=t.topleft,n=1);break;case 4:f&m?(e=t.topright,n=1):(e=1,n=t.righttop);break;case 5:f&v?(e=1,n=t.rightbottom):(e=t.topright,n=1);break;case 6:f&v?(e=t.topright,n=1):(e=t.bottomright,n=0);break;case 7:f&y?(e=t.bottomleft,n=0):(e=t.topright,n=1);break;case 8:f&v?(e=1,n=t.righttop):(e=t.bottomright,n=0);break;case 9:f&y?(e=t.bottomleft,n=0):(e=1,n=t.righttop);break;case 10:f&y?(e=1,n=t.righttop):(e=0,n=t.leftbottom);break;case 11:f&_?(e=0,n=t.lefttop):(e=1,n=t.righttop);break;case 12:f&v?(e=1,n=t.rightbottom):(e=t.bottomright,n=0);break;case 13:f&y?(e=t.bottomleft,n=0):(e=1,n=t.rightbottom);break;case 14:f&y?(e=1,n=t.rightbottom):(e=0,n=t.leftbottom);break;case 15:f&_?(e=0,n=t.lefttop):(e=1,n=t.rightbottom);break;case 16:f&v?(e=0,n=t.leftbottom):(e=t.bottomright,n=0);break;case 17:f&_?(e=0,n=t.lefttop):(e=t.bottomright,n=0);break;case 18:f&y?(e=t.bottomleft,n=0):(e=0,n=t.leftbottom);break;case 19:f&_?(e=0,n=t.lefttop):(e=t.bottomleft,n=0);break;case 20:f&_?(e=0,n=t.leftbottom):(e=t.topleft,n=1);break;case 21:f&m?(e=t.topright,n=1):(e=0,n=t.leftbottom);break;case 22:f&_?(e=0,n=t.lefttop):(e=t.topleft,n=1);break;case 23:f&m?(e=t.topright,n=1):(e=0,n=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==e&&void 0!==n&&void 0!==s&&void 0!==a&&void 0!==u||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(e+" "+n+" "+s+" "+a+" "+u)),{p:[e,n],x:s,y:a,o:u}}function d(t){var e=[],n=0;return t.cells.forEach(function(t,i){t.forEach(function(t,r){if(void 0!==t){var s=Ft[t.cval](t);"object"===(void 0===s?"undefined":h(s))&&o(s)?"object"===h(s[0])&&o(s[0])?"object"===h(s[0][0])&&o(s[0][0])?s.forEach(function(t){t.forEach(function(t){t[0]+=r,t[1]+=i}),e[n++]=t}):(s.forEach(function(t){t[0]+=r,t[1]+=i}),e[n++]=s):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),e}Object.defineProperty(e,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=i;/*!
* @license GNU Affero General Public License.
* Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
* v. 1.2.0
* https://github.com/RaumZeit/MarchingSquares.js
*/
var p={successCallback:null,verbose:!1,polygons:!1},g={},_=64,m=16,v=4,y=1,b=[],x=[],E=[],w=[],M=[],L=[],P=[],C=[],I=[],S=[],O=[],N=[],T=[],R=[],A=[],D=[],k=[],j=[],F=[],z=[],G=[],B=[],q=[],U=[];P[85]=S[85]=-1,C[85]=O[85]=0,I[85]=N[85]=1,F[85]=B[85]=1,z[85]=q[85]=0,G[85]=U[85]=1,b[85]=w[85]=0,x[85]=M[85]=-1,E[85]=A[85]=0,D[85]=T[85]=0,k[85]=R[85]=1,L[85]=j[85]=1,B[1]=B[169]=0,q[1]=q[169]=-1,U[1]=U[169]=0,T[1]=T[169]=-1,R[1]=R[169]=0,A[1]=A[169]=0,S[4]=S[166]=0,O[4]=O[166]=-1,N[4]=N[166]=1,D[4]=D[166]=1,k[4]=k[166]=0,j[4]=j[166]=0,P[16]=P[154]=0,C[16]=C[154]=1,I[16]=I[154]=1,w[16]=w[154]=1,M[16]=M[154]=0,L[16]=L[154]=1,F[64]=F[106]=0,z[64]=z[106]=1,G[64]=G[106]=0,b[64]=b[106]=-1,x[64]=x[106]=0,E[64]=E[106]=1,F[2]=F[168]=0,z[2]=z[168]=-1,G[2]=G[168]=1,B[2]=B[168]=0,q[2]=q[168]=-1,U[2]=U[168]=0,T[2]=T[168]=-1,R[2]=R[168]=0,A[2]=A[168]=0,D[2]=D[168]=-1,k[2]=k[168]=0,j[2]=j[168]=1,P[8]=P[162]=0,C[8]=C[162]=-1,I[8]=I[162]=0,S[8]=S[162]=0,O[8]=O[162]=-1,N[8]=N[162]=1,T[8]=T[162]=1,R[8]=R[162]=0,A[8]=A[162]=1,D[8]=D[162]=1,k[8]=k[162]=0,j[8]=j[162]=0,P[32]=P[138]=0,C[32]=C[138]=1,I[32]=I[138]=1,S[32]=S[138]=0,O[32]=O[138]=1,N[32]=N[138]=0,b[32]=b[138]=1,x[32]=x[138]=0,E[32]=E[138]=0,w[32]=w[138]=1,M[32]=M[138]=0,L[32]=L[138]=1,B[128]=B[42]=0,q[128]=q[42]=1,U[128]=U[42]=1,F[128]=F[42]=0,z[128]=z[42]=1,G[128]=G[42]=0,b[128]=b[42]=-1,x[128]=x[42]=0,E[128]=E[42]=1,w[128]=w[42]=-1,M[128]=M[42]=0,L[128]=L[42]=0,S[5]=S[165]=-1,O[5]=O[165]=0,N[5]=N[165]=0,B[5]=B[165]=1,q[5]=q[165]=0,U[5]=U[165]=0,D[20]=D[150]=0,k[20]=k[150]=1,j[20]=j[150]=1,w[20]=w[150]=0,M[20]=M[150]=-1,L[20]=L[150]=1,P[80]=P[90]=-1,C[80]=C[90]=0,I[80]=I[90]=1,F[80]=F[90]=1,z[80]=z[90]=0,G[80]=G[90]=1,T[65]=T[105]=0,R[65]=R[105]=1,A[65]=A[105]=0,b[65]=b[105]=0,x[65]=x[105]=-1,E[65]=E[105]=0,P[160]=P[10]=-1,C[160]=C[10]=0,I[160]=I[10]=1,S[160]=S[10]=-1,O[160]=O[10]=0,N[160]=N[10]=0,B[160]=B[10]=1,q[160]=q[10]=0,U[160]=U[10]=0,F[160]=F[10]=1,z[160]=z[10]=0,G[160]=G[10]=1,D[130]=D[40]=0,k[130]=k[40]=1,j[130]=j[40]=1,T[130]=T[40]=0,R[130]=R[40]=1,A[130]=A[40]=0,b[130]=b[40]=0,x[130]=x[40]=-1,E[130]=E[40]=0,w[130]=w[40]=0,M[130]=M[40]=-1,L[130]=L[40]=1,S[37]=S[133]=0,O[37]=O[133]=1,N[37]=N[133]=1,B[37]=B[133]=0,q[37]=q[133]=1,U[37]=U[133]=0,b[37]=b[133]=-1,x[37]=x[133]=0,E[37]=E[133]=0,w[37]=w[133]=1,M[37]=M[133]=0,L[37]=L[133]=0,D[148]=D[22]=-1,k[148]=k[22]=0,j[148]=j[22]=0,B[148]=B[22]=0,q[148]=q[22]=-1,U[148]=U[22]=1,F[148]=F[22]=0,z[148]=z[22]=1,G[148]=G[22]=1,w[148]=w[22]=-1,M[148]=M[22]=0,L[148]=L[22]=1,P[82]=P[88]=0,C[82]=C[88]=-1,I[82]=I[88]=1,D[82]=D[88]=1,k[82]=k[88]=0,j[82]=j[88]=1,T[82]=T[88]=-1,R[82]=R[88]=0,A[82]=A[88]=1,F[82]=F[88]=0,z[82]=z[88]=-1,G[82]=G[88]=0,P[73]=P[97]=0,C[73]=C[97]=1,I[73]=I[97]=0,S[73]=S[97]=0,O[73]=O[97]=-1,N[73]=N[97]=0,T[73]=T[97]=1,R[73]=R[97]=0,A[73]=A[97]=0,b[73]=b[97]=1,x[73]=x[97]=0,E[73]=E[97]=1,P[145]=P[25]=0,C[145]=C[25]=-1,I[145]=I[25]=0,T[145]=T[25]=1,R[145]=R[25]=0,A[145]=A[25]=1,B[145]=B[25]=0,q[145]=q[25]=1,U[145]=U[25]=1,w[145]=w[25]=-1,M[145]=M[25]=0,L[145]=L[25]=0,S[70]=S[100]=0,O[70]=O[100]=1,N[70]=N[100]=0,D[70]=D[100]=-1,k[70]=k[100]=0,j[70]=j[100]=1,F[70]=F[100]=0,z[70]=z[100]=-1;G[70]=G[100]=1,b[70]=b[100]=1,x[70]=x[100]=0,E[70]=E[100]=0,S[101]=S[69]=0,O[101]=O[69]=1,N[101]=N[69]=0,b[101]=b[69]=1,x[101]=x[69]=0,E[101]=E[69]=0,B[149]=B[21]=0,q[149]=q[21]=1,U[149]=U[21]=1,w[149]=w[21]=-1,M[149]=M[21]=0,L[149]=L[21]=0,D[86]=D[84]=-1,k[86]=k[84]=0,j[86]=j[84]=1,F[86]=F[84]=0,z[86]=z[84]=-1,G[86]=G[84]=1,P[89]=P[81]=0,C[89]=C[81]=-1,I[89]=I[81]=0,T[89]=T[81]=1,R[89]=R[81]=0,A[89]=A[81]=1,P[96]=P[74]=0,C[96]=C[74]=1,I[96]=I[74]=0,S[96]=S[74]=-1,O[96]=O[74]=0,N[96]=N[74]=1,F[96]=F[74]=1,z[96]=z[74]=0,G[96]=G[74]=0,b[96]=b[74]=1,x[96]=x[74]=0,E[96]=E[74]=1,P[24]=P[146]=0,C[24]=C[146]=-1,I[24]=I[146]=1,D[24]=D[146]=1,k[24]=k[146]=0,j[24]=j[146]=1,T[24]=T[146]=0,R[24]=R[146]=1,A[24]=A[146]=1,w[24]=w[146]=0,M[24]=M[146]=-1,L[24]=L[146]=0,S[6]=S[164]=-1,O[6]=O[164]=0,N[6]=N[164]=1,D[6]=D[164]=-1,k[6]=k[164]=0,j[6]=j[164]=0,B[6]=B[164]=0,q[6]=q[164]=-1,U[6]=U[164]=1,F[6]=F[164]=1,z[6]=z[164]=0,G[6]=G[164]=0,T[129]=T[41]=0,R[129]=R[41]=1,A[129]=A[41]=1,B[129]=B[41]=0,q[129]=q[41]=1,U[129]=U[41]=0,b[129]=b[41]=-1,x[129]=x[41]=0,E[129]=E[41]=0,w[129]=w[41]=0,M[129]=M[41]=-1,L[129]=L[41]=0,D[66]=D[104]=0,k[66]=k[104]=1,j[66]=j[104]=0,T[66]=T[104]=-1,R[66]=R[104]=0,A[66]=A[104]=1,F[66]=F[104]=0,z[66]=z[104]=-1,G[66]=G[104]=0,b[66]=b[104]=0,x[66]=x[104]=-1,E[66]=E[104]=1,P[144]=P[26]=-1,C[144]=C[26]=0,I[144]=I[26]=0,B[144]=B[26]=1,q[144]=q[26]=0,U[144]=U[26]=1,F[144]=F[26]=0,z[144]=z[26]=1,G[144]=G[26]=1,w[144]=w[26]=-1,M[144]=M[26]=0,L[144]=L[26]=1,S[36]=S[134]=0,O[36]=O[134]=1,N[36]=N[134]=1,D[36]=D[134]=0,k[36]=k[134]=1,j[36]=j[134]=0,b[36]=b[134]=0,x[36]=x[134]=-1,E[36]=E[134]=1,w[36]=w[134]=1,M[36]=M[134]=0,L[36]=L[134]=0,P[9]=P[161]=-1,C[9]=C[161]=0,I[9]=I[161]=0,S[9]=S[161]=0,O[9]=O[161]=-1,N[9]=N[161]=0,T[9]=T[161]=1,R[9]=R[161]=0,A[9]=A[161]=0,B[9]=B[161]=1,q[9]=q[161]=0,U[9]=U[161]=1,P[136]=0,C[136]=1,I[136]=1,S[136]=0,O[136]=1,N[136]=0,D[136]=-1,k[136]=0,j[136]=1,T[136]=-1,R[136]=0,A[136]=0,B[136]=0,q[136]=-1,U[136]=0,F[136]=0,z[136]=-1,G[136]=1,b[136]=1,x[136]=0,E[136]=0,w[136]=1,M[136]=0,L[136]=1,P[34]=0,C[34]=-1,I[34]=0,S[34]=0,O[34]=-1,N[34]=1,D[34]=1,k[34]=0,j[34]=0,T[34]=1,R[34]=0,A[34]=1,B[34]=0,q[34]=1,U[34]=1,F[34]=0,z[34]=1,G[34]=0,b[34]=-1,x[34]=0,E[34]=1,w[34]=-1,M[34]=0,L[34]=0,P[35]=0,C[35]=1,I[35]=1,S[35]=0,O[35]=-1,N[35]=1,D[35]=1,k[35]=0,j[35]=0,T[35]=-1,R[35]=0,A[35]=0,B[35]=0,q[35]=-1,U[35]=0,F[35]=0,z[35]=1,G[35]=0,b[35]=-1,x[35]=0,E[35]=1,w[35]=1,M[35]=0,L[35]=1,P[153]=0,C[153]=1,I[153]=1,T[153]=-1;R[153]=0,A[153]=0,B[153]=0,q[153]=-1,U[153]=0,w[153]=1,M[153]=0,L[153]=1,S[102]=0,O[102]=-1,N[102]=1,D[102]=1,k[102]=0,j[102]=0,F[102]=0,z[102]=1,G[102]=0,b[102]=-1,x[102]=0,E[102]=1,P[155]=0,C[155]=-1,I[155]=0,T[155]=1,R[155]=0,A[155]=1,B[155]=0,q[155]=1,U[155]=1,w[155]=-1,M[155]=0,L[155]=0,S[103]=0,O[103]=1,N[103]=0,D[103]=-1,k[103]=0,j[103]=1,F[103]=0,z[103]=-1,G[103]=1,b[103]=1,x[103]=0,E[103]=0,P[152]=0,C[152]=1,I[152]=1,D[152]=-1,k[152]=0,j[152]=1,T[152]=-1,R[152]=0,A[152]=0,B[152]=0,q[152]=-1,U[152]=0,F[152]=0,z[152]=-1,G[152]=1,w[152]=1,M[152]=0,L[152]=1,P[156]=0,C[156]=-1,I[156]=1,D[156]=1,k[156]=0,j[156]=1,T[156]=-1,R[156]=0,A[156]=0,B[156]=0,q[156]=-1,U[156]=0,F[156]=0,z[156]=1,G[156]=1,w[156]=-1,M[156]=0,L[156]=1,P[137]=0,C[137]=1,I[137]=1,S[137]=0,O[137]=1,N[137]=0,T[137]=-1,R[137]=0,A[137]=0,B[137]=0,q[137]=-1,U[137]=0,b[137]=1,x[137]=0,E[137]=0,w[137]=1,M[137]=0,L[137]=1,P[139]=0,C[139]=1,I[139]=1,S[139]=0,O[139]=-1,N[139]=0,T[139]=1,R[139]=0,A[139]=0,B[139]=0,q[139]=1,U[139]=0,b[139]=-1,x[139]=0,E[139]=0,w[139]=1,M[139]=0,L[139]=1,P[98]=0,C[98]=-1,I[98]=0,S[98]=0,O[98]=-1,N[98]=1,D[98]=1,k[98]=0,j[98]=0,T[98]=1,R[98]=0,A[98]=1,F[98]=0,z[98]=1,G[98]=0,b[98]=-1,x[98]=0,E[98]=1,P[99]=0,C[99]=1,I[99]=0,S[99]=0,O[99]=-1,N[99]=1,D[99]=1,k[99]=0,j[99]=0,T[99]=-1,R[99]=0,A[99]=1,F[99]=0,z[99]=-1,G[99]=0,b[99]=1,x[99]=0,E[99]=1,S[38]=0,O[38]=-1,N[38]=1,D[38]=1,k[38]=0,j[38]=0,B[38]=0,q[38]=1,U[38]=1,F[38]=0,z[38]=1,G[38]=0,b[38]=-1,x[38]=0,E[38]=1,w[38]=-1,M[38]=0,L[38]=0,S[39]=0,O[39]=1,N[39]=1,D[39]=-1,k[39]=0,j[39]=0,B[39]=0,q[39]=-1,U[39]=1,F[39]=0,z[39]=1,G[39]=0,b[39]=-1,x[39]=0,E[39]=1,w[39]=1,M[39]=0,L[39]=0;var V=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},Y=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},X=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},H=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},Z=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},W=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},K=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},J=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Q=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},$=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},tt=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},et=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},nt=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},it=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},rt=function(){return[[0,0],[0,1],[1,1],[1,0]]},ot=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},st=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},at=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},ut=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},lt=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},ft=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},ct=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},dt=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},ht=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},pt=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},gt=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},_t=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},mt=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},vt=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},yt=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},bt=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},xt=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Et=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},wt=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Mt=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Lt=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Pt=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Ct=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},It=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},St=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Ot=[],Nt=[],Tt=[],Rt=[],At=[],Dt=[],kt=[],jt=[];Rt[1]=At[1]=18,Rt[169]=At[169]=18,Tt[4]=Nt[4]=12,Tt[166]=Nt[166]=12,Ot[16]=jt[16]=4,Ot[154]=jt[154]=4,Dt[64]=kt[64]=22,Dt[106]=kt[106]=22,Tt[2]=Dt[2]=17,Rt[2]=At[2]=18,Tt[168]=Dt[168]=17,Rt[168]=At[168]=18,Ot[8]=Rt[8]=9,Nt[8]=Tt[8]=12,Ot[162]=Rt[162]=9,Nt[162]=Tt[162]=12,Ot[32]=jt[32]=4,Nt[32]=kt[32]=1,Ot[138]=jt[138]=4,Nt[138]=kt[138]=1,At[128]=jt[128]=21,Dt[128]=kt[128]=22,At[42]=jt[42]=21,Dt[42]=kt[42]=22,Nt[5]=At[5]=14,Nt[165]=At[165]=14,Tt[20]=jt[20]=6,Tt[150]=jt[150]=6,Ot[80]=Dt[80]=11,Ot[90]=Dt[90]=11,Rt[65]=kt[65]=3,Rt[105]=kt[105]=3,Ot[160]=Dt[160]=11,Nt[160]=At[160]=14,Ot[10]=Dt[10]=11,Nt[10]=At[10]=14,Tt[130]=jt[130]=6,Rt[130]=kt[130]=3,Tt[40]=jt[40]=6,Rt[40]=kt[40]=3,Nt[101]=kt[101]=1,Nt[69]=kt[69]=1,At[149]=jt[149]=21,At[21]=jt[21]=21,Tt[86]=Dt[86]=17,Tt[84]=Dt[84]=17,Ot[89]=Rt[89]=9,Ot[81]=Rt[81]=9,Ot[96]=kt[96]=0,Nt[96]=Dt[96]=15,Ot[74]=kt[74]=0,Nt[74]=Dt[74]=15,Ot[24]=Tt[24]=8,Rt[24]=jt[24]=7,Ot[146]=Tt[146]=8,Rt[146]=jt[146]=7,Nt[6]=Dt[6]=15,Tt[6]=At[6]=16,Nt[164]=Dt[164]=15,Tt[164]=At[164]=16,Rt[129]=jt[129]=7,At[129]=kt[129]=20,Rt[41]=jt[41]=7,At[41]=kt[41]=20,Tt[66]=kt[66]=2,Rt[66]=Dt[66]=19,Tt[104]=kt[104]=2,Rt[104]=Dt[104]=19,Ot[144]=At[144]=10,Dt[144]=jt[144]=23,Ot[26]=At[26]=10,Dt[26]=jt[26]=23,Nt[36]=jt[36]=5,Tt[36]=kt[36]=2,Nt[134]=jt[134]=5,Tt[134]=kt[134]=2,Ot[9]=At[9]=10,Nt[9]=Rt[9]=13,Ot[161]=At[161]=10,Nt[161]=Rt[161]=13,Nt[37]=jt[37]=5,At[37]=kt[37]=20,Nt[133]=jt[133]=5,At[133]=kt[133]=20,Tt[148]=At[148]=16,Dt[148]=jt[148]=23,Tt[22]=At[22]=16,Dt[22]=jt[22]=23,Ot[82]=Tt[82]=8,Rt[82]=Dt[82]=19,Ot[88]=Tt[88]=8,Rt[88]=Dt[88]=19,Ot[73]=kt[73]=0,Nt[73]=Rt[73]=13,Ot[97]=kt[97]=0,Nt[97]=Rt[97]=13,Ot[145]=Rt[145]=9,At[145]=jt[145]=21,Ot[25]=Rt[25]=9,At[25]=jt[25]=21,Nt[70]=kt[70]=1,Tt[70]=Dt[70]=17,Nt[100]=kt[100]=1,Tt[100]=Dt[100]=17,Ot[34]=Rt[34]=9,Nt[34]=Tt[34]=12,At[34]=jt[34]=21,Dt[34]=kt[34]=22,Ot[136]=jt[136]=4,Nt[136]=kt[136]=1,Tt[136]=Dt[136]=17,Rt[136]=At[136]=18,Ot[35]=jt[35]=4,Nt[35]=Tt[35]=12,Rt[35]=At[35]=18,Dt[35]=kt[35]=22,Ot[153]=jt[153]=4,Rt[153]=At[153]=18,Nt[102]=Tt[102]=12,Dt[102]=kt[102]=22,Ot[155]=Rt[155]=9,At[155]=jt[155]=23,Nt[103]=kt[103]=1,Tt[103]=Dt[103]=17,Ot[152]=jt[152]=4,Tt[152]=Dt[152]=17,Rt[152]=At[152]=18,Ot[156]=Tt[156]=8,Rt[156]=At[156]=18,Dt[156]=jt[156]=23,Ot[137]=jt[137]=4,Nt[137]=kt[137]=1,Rt[137]=At[137]=18,Ot[139]=jt[139]=4,Nt[139]=Rt[139]=13,At[139]=kt[139]=20,Ot[98]=Rt[98]=9,Nt[98]=Tt[98]=12,Dt[98]=kt[98]=22,Ot[99]=kt[99]=0,Nt[99]=Tt[99]=12,Rt[99]=Dt[99]=19,Nt[38]=Tt[38]=12,At[38]=jt[38]=21,Dt[38]=kt[38]=22,Nt[39]=jt[39]=5,Tt[39]=At[39]=16,Dt[39]=kt[39]=22;var Ft=[];Ft[1]=Ft[169]=V,Ft[4]=Ft[166]=Y,Ft[16]=Ft[154]=X,Ft[64]=Ft[106]=H,Ft[168]=Ft[2]=Z,Ft[162]=Ft[8]=W,Ft[138]=Ft[32]=K,Ft[42]=Ft[128]=J,Ft[5]=Ft[165]=Q,Ft[20]=Ft[150]=$,Ft[80]=Ft[90]=tt,Ft[65]=Ft[105]=et,Ft[160]=Ft[10]=nt,Ft[130]=Ft[40]=it,Ft[85]=rt,Ft[101]=Ft[69]=ot,Ft[149]=Ft[21]=st,Ft[86]=Ft[84]=at,Ft[89]=Ft[81]=ut,Ft[96]=Ft[74]=lt,Ft[24]=Ft[146]=ft,Ft[6]=Ft[164]=ct,Ft[129]=Ft[41]=dt,Ft[66]=Ft[104]=ht,Ft[144]=Ft[26]=pt,Ft[36]=Ft[134]=gt,Ft[9]=Ft[161]=_t,Ft[37]=Ft[133]=mt,Ft[148]=Ft[22]=vt,Ft[82]=Ft[88]=yt,Ft[73]=Ft[97]=bt,Ft[145]=Ft[25]=xt,Ft[70]=Ft[100]=Et,Ft[34]=function(t){return[J(t),W(t)]},Ft[35]=wt,Ft[136]=function(t){return[K(t),Z(t)]},Ft[153]=function(t){return[X(t),V(t)]},Ft[102]=function(t){return[Y(t),H(t)]},Ft[155]=Mt,Ft[103]=Lt,Ft[152]=function(t){return[X(t),Z(t)]},Ft[156]=Pt,Ft[137]=function(t){return[K(t),V(t)]},Ft[139]=Ct,Ft[98]=function(t){return[W(t),H(t)]},Ft[99]=It,Ft[38]=function(t){return[Y(t),J(t)]},Ft[39]=St},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){if(n=n||{},!(0,m.isObject)(n))throw new Error("options is invalid");var i=n.pivot,r=n.mutate;if(!t)throw new Error("geojson is required");if(void 0===e||null===e||isNaN(e))throw new Error("angle is required");return 0===e?t:(i||(i=(0,s.default)(t)),!1!==r&&void 0!==r||(t=(0,p.default)(t)),(0,g.coordEach)(t,function(t){var n=(0,u.default)(i,t),r=n+e,o=(0,f.default)(i,t),s=(0,_.getCoords)((0,d.default)(i,o,r));t[0]=s[0],t[1]=s[1]}),t)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(71),s=i(o),a=n(90),u=i(a),l=n(115),f=i(l),c=n(118),d=i(c),h=n(22),p=i(h),g=n(6),_=n(5),m=n(1);e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i){if(i=i||{},!(0,s.isObject)(i))throw new Error("options is invalid");var r=i.units,u=i.zTranslation,f=i.mutate;if(!t)throw new Error("geojson is required");if(void 0===e||null===e||isNaN(e))throw new Error("distance is required");if(u&&"number"!=typeof u&&isNaN(u))throw new Error("zTranslation is not a number");if(u=void 0!==u?u:0,0===e&&0===u)return t;if(void 0===n||null===n||isNaN(n))throw new Error("direction is required");return e<0&&(e=-e,n=-n),!1!==f&&void 0!==f||(t=(0,l.default)(t)),(0,o.coordEach)(t,function(t){var i=(0,a.getCoords)((0,c.default)(t,e,n,{units:r}));t[0]=i[0],t[1]=i[1],u&&3===t.length&&(t[2]+=u)}),t}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),s=n(1),a=n(5),u=n(22),l=i(u),f=n(118),c=i(f);e.default=r},function(t,e,n){"use strict";function i(t,e,n){if(n=n||{},!(0,u.isObject)(n))throw new Error("options is invalid");var i=n.units;if(!t)throw new Error("geojson is required");if(void 0===e||null===e||isNaN(e))throw new Error("distance is required");var o=(0,a.getType)(t),l=t.properties;switch(o){case"LineString":return r(t,e,i);case"MultiLineString":var f=[];return(0,s.flattenEach)(t,function(t){f.push(r(t,e,i).geometry.coordinates)}),(0,u.multiLineString)(f,l);default:throw new Error("geometry "+o+" is not supported")}}function r(t,e,n){var i=[],r=(0,u.lengthToDegrees)(e,n),s=(0,a.getCoords)(t),l=[];return s.forEach(function(t,e){if(e!==s.length-1){var n=o(t,s[e+1],r);if(i.push(n),e>0){var a=i[e-1],u=(0,f.default)(n,a);!1!==u&&(a[1]=u,n[0]=u),l.push(a[0]),e===s.length-2&&(l.push(n[0]),l.push(n[1]))}2===s.length&&(l.push(n[0]),l.push(n[1]))}}),(0,u.lineString)(l,t.properties)}function o(t,e,n){var i=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),r=t[0]+n*(e[1]-t[1])/i,o=e[0]+n*(e[1]-t[1])/i;return[[r,t[1]+n*(t[0]-e[0])/i],[o,e[1]+n*(t[0]-e[0])/i]]}Object.defineProperty(e,"__esModule",{value:!0});var s=n(6),a=n(5),u=n(1),l=n(572),f=function(t){return t&&t.__esModule?t:{default:t}}(l);e.default=i},function(t,e,n){"use strict";function i(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function r(t,e){return t[0]*e[1]-e[0]*t[1]}function o(t,e){return[t[0]+e[0],t[1]+e[1]]}function s(t,e){return[t[0]-e[0],t[1]-e[1]]}function a(t,e){return[t*e[0],t*e[1]]}function u(t,e){var n=t[0],u=i(t),l=e[0],f=i(e),c=r(u,f);return o(n,a(r(s(l,n),f)/c,u))}function l(t,e){return 0===r(i(t),i(e))}function f(t,e){return!l(t,e)&&u(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(574),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){var e=s.default.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],i=[];return e.getEdgeRings().filter(function(t){return t.isValid()}).forEach(function(t){t.isHole()?n.push(t):i.push(t)}),n.forEach(function(t){u.default.findEdgeRingContaining(t,i)&&i.push(t)}),(0,l.featureCollection)(i.map(function(t){return t.toPolygon()}))}Object.defineProperty(e,"__esModule",{value:!0});var o=n(575),s=i(o),a=n(259),u=i(a),l=n(1);e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(576),u=i(a),l=n(577),f=i(l),c=n(259),d=i(c),h=n(6),p=n(5),g=function(){function t(){r(this,t),this.edges=[],this.nodes={}}return s(t,[{key:"getNode",value:function(t){var e=u.default.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new u.default(t)),n}},{key:"addEdge",value:function(t,e){var n=new f.default(t,e),i=n.getSymetric();this.edges.push(n),this.edges.push(i)}}],[{key:"fromGeoJson",value:function(e){o(e);var n=new t;return(0,h.flattenEach)(e,function(t){(0,p.featureOf)(t,"LineString","Graph::fromGeoJson"),(0,h.coordReduce)(t,function(t,e){if(t){var i=n.getNode(t),r=n.getNode(e);n.addEdge(i,r)}return e})}),n}}]),s(t,[{key:"deleteDangles",value:function(){var t=this;Object.keys(this.nodes).map(function(e){return t.nodes[e]}).forEach(function(e){return t._removeIfDangle(e)})}},{key:"_removeIfDangle",value:function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map(function(t){return t.to});this.removeNode(t),n.forEach(function(t){return e._removeIfDangle(t)})}}},{key:"deleteCutEdges",value:function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))})}},{key:"_computeNextCWEdges",value:function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach(function(t){return e._computeNextCWEdges(e.nodes[t])}):t.getOuterEdges().forEach(function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e})}},{key:"_computeNextCCWEdges",value:function(t,e){for(var n=t.getOuterEdges(),i=void 0,r=void 0,o=n.length-1;o>=0;--o){var s=n[o],a=s.symetric,u=void 0,l=void 0;s.label===e&&(u=s),a.label===e&&(l=a),u&&l&&(l&&(r=l),u&&(r&&(r.next=u,r=void 0),i||(i=u)))}r&&(r.next=i)}},{key:"_findLabeledEdgeRings",value:function(){var t=[],e=0;return this.edges.forEach(function(n){if(!(n.label>=0)){t.push(n);var i=n;do{i.label=e,i=i.next}while(!n.isEqual(i));e++}}),t}},{key:"getEdgeRings",value:function(){var t=this;this._computeNextCWEdges(),this.edges.forEach(function(t){t.label=void 0}),this._findLabeledEdgeRings().forEach(function(e){t._findIntersectionNodes(e).forEach(function(n){t._computeNextCCWEdges(n,e.label)})});var e=[];return this.edges.forEach(function(n){n.ring||e.push(t._findEdgeRing(n))}),e}},{key:"_findIntersectionNodes",value:function(t){var e=[],n=t;do{!function(){var i=0;n.from.getOuterEdges().forEach(function(e){e.label===t.label&&++i}),i>1&&e.push(n.from),n=n.next}()}while(!t.isEqual(n));return e}},{key:"_findEdgeRing",value:function(t){var e=t,n=new d.default;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n}},{key:"removeNode",value:function(t){var e=this;t.getOuterEdges().forEach(function(t){return e.removeEdge(t)}),t.innerEdges.forEach(function(t){return e.removeEdge(t)}),delete this.nodes[t.id]}},{key:"removeEdge",value:function(t){this.edges=this.edges.filter(function(e){return!e.isEqual(t)}),t.deleteEdge()}}]),t}();e.default=g},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(156),s=function(){function t(e){i(this,t),this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return r(t,null,[{key:"buildId",value:function(t){return t.join(",")}}]),r(t,[{key:"removeInnerEdge",value:function(t){this.innerEdges=this.innerEdges.filter(function(e){return e.from.id!==t.from.id})}},{key:"removeOuterEdge",value:function(t){this.outerEdges=this.outerEdges.filter(function(e){return e.to.id!==t.to.id})}},{key:"addOuterEdge",value:function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1}},{key:"sortOuterEdges",value:function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort(function(e,n){var i=e.to,r=n.to;if(i.coordinates[0]-t.coordinates[0]>=0&&r.coordinates[0]-t.coordinates[0]<0)return 1;if(i.coordinates[0]-t.coordinates[0]<0&&r.coordinates[0]-t.coordinates[0]>=0)return-1;if(i.coordinates[0]-t.coordinates[0]==0&&r.coordinates[0]-t.coordinates[0]==0)return i.coordinates[1]-t.coordinates[1]>=0||r.coordinates[1]-t.coordinates[1]>=0?i.coordinates[1]-r.coordinates[1]:r.coordinates[1]-i.coordinates[1];var s=(0,o.orientationIndex)(t.coordinates,i.coordinates,r.coordinates);return s<0?1:s>0?-1:Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2)-(Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2))}),this.outerEdgesSorted=!0)}},{key:"getOuterEdges",value:function(){return this.sortOuterEdges(),this.outerEdges}},{key:"getOuterEdge",value:function(t){return this.sortOuterEdges(),this.outerEdges[t]}},{key:"addInnerEdge",value:function(t){this.innerEdges.push(t)}}]),t}();e.default=s},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=n(156),a=function(){function t(e,n){i(this,t),this.from=e,this.to=n,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return r(t,[{key:"getSymetric",value:function(){return this.symetric||(this.symetric=new t(this.to,this.from),this.symetric.symetric=this),this.symetric}}]),r(t,[{key:"deleteEdge",value:function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)}},{key:"isEqual",value:function(t){return this.from.id===t.from.id&&this.to.id===t.to.id}},{key:"toString",value:function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"}},{key:"toLineString",value:function(){return(0,o.lineString)([this.from.coordinates,this.to.coordinates])}},{key:"compareTo",value:function(t){return(0,s.orientationIndex)(t.from.coordinates,t.to.coordinates,this.to.coordinates)}}]),t}();e.default=a},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n;return(0,p.flattenEach)(t,function(t){(0,p.flattenEach)(e,function(e){if(!1===n)return!1;n=o(t.geometry,e.geometry)})}),n}function o(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return!c(t.coordinates,e.coordinates);case"LineString":return!s(e,t);case"Polygon":return!(0,h.default)(t,e)}break;case"LineString":switch(e.type){case"Point":return!s(t,e);case"LineString":return!a(t,e);case"Polygon":return!u(e,t)}break;case"Polygon":switch(e.type){case"Point":return!(0,h.default)(e,t);case"LineString":return!u(t,e);case"Polygon":return!l(e,t)}}}function s(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(f(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function a(t,e){return(0,_.default)(t,e).features.length>0}function u(t,e){return(0,_.default)(e,(0,v.default)(t)).features.length>0}function l(t,e){for(var n=0;n<t.coordinates[0].length;n++)if((0,h.default)(t.coordinates[0][n],e))return!0;for(var i=0;i<e.coordinates[0].length;i++)if((0,h.default)(e.coordinates[0][i],t))return!0;return!1}function f(t,e,n){var i=n[0]-t[0],r=n[1]-t[1],o=e[0]-t[0],s=e[1]-t[1];return 0==i*s-r*o&&(Math.abs(o)>=Math.abs(s)?o>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:s>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}function c(t,e){return t[0]===e[0]&&t[1]===e[1]}Object.defineProperty(e,"__esModule",{value:!0});var d=n(34),h=i(d),p=n(6),g=n(59),_=i(g),m=n(155),v=i(m);e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=(0,x.getType)(t),i=(0,x.getType)(e),r=(0,x.getGeom)(t),d=(0,x.getGeom)(e),p=(0,x.getCoords)(t),g=(0,x.getCoords)(e);switch(n){case"Point":switch(i){case"Point":return h(p,g);default:throw new Error("feature2 "+i+" geometry not supported")}case"MultiPoint":switch(i){case"Point":return o(r,d);case"MultiPoint":return s(r,d);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"Point":return(0,b.default)(d,r,{ignoreEndVertices:!0});case"LineString":return l(r,d);case"MultiPoint":return a(r,d);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"Point":return(0,_.default)(d,r,{ignoreBoundary:!0});case"LineString":return f(r,d);case"Polygon":return c(r,d);case"MultiPoint":return u(r,d);default:throw new Error("feature2 "+i+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}function o(t,e){var n,i=!1;for(n=0;n<t.coordinates.length;n++)if(h(t.coordinates[n],e.coordinates)){i=!0;break}return i}function s(t,e){for(var n=0;n<e.coordinates.length;n++){for(var i=!1,r=0;r<t.coordinates.length;r++)if(h(e.coordinates[n],t.coordinates[r])){i=!0;break}if(!i)return!1}return!0}function a(t,e){for(var n=!1,i=0;i<e.coordinates.length;i++)if((0,b.default)(e.coordinates[i],t,{ignoreEndVertices:!0})&&(n=!0),!(0,b.default)(e.coordinates[i],t))return!1;return!!n}function u(t,e){for(var n=0;n<e.coordinates.length;n++)if(!(0,_.default)(e.coordinates[n],t,{ignoreBoundary:!0}))return!1;return!0}function l(t,e){for(var n=!1,i=0;i<e.coordinates.length;i++)if((0,b.default)({type:"Point",coordinates:e.coordinates[i]},t,{ignoreEndVertices:!0})&&(n=!0),!(0,b.default)({type:"Point",coordinates:e.coordinates[i]},t,{ignoreEndVertices:!1}))return!1;return n}function f(t,e){var n=!1,i=0;if(!d((0,v.default)(t),(0,v.default)(e)))return!1;for(i;i<e.coordinates.length-1;i++){var r=p(e.coordinates[i],e.coordinates[i+1]);if((0,_.default)({type:"Point",coordinates:r},t,{ignoreBoundary:!0})){n=!0;break}}return n}function c(t,e){if(!d((0,v.default)(t),(0,v.default)(e)))return!1;for(var n=0;n<e.coordinates[0].length;n++)if(!(0,_.default)(e.coordinates[0][n],t))return!1;return!0}function d(t,e){return!(t[0]>e[0])&&(!(t[2]<e[2])&&(!(t[1]>e[1])&&!(t[3]<e[3])))}function h(t,e){return t[0]===e[0]&&t[1]===e[1]}function p(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}Object.defineProperty(e,"__esModule",{value:!0});var g=n(34),_=i(g),m=n(27),v=i(m),y=n(117),b=i(y),x=n(5);e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=(0,m.getType)(t),i=(0,m.getType)(e),r=(0,m.getGeom)(t),l=(0,m.getGeom)(e);switch(n){case"MultiPoint":switch(i){case"LineString":return o(r,l);case"Polygon":return u(r,l);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"MultiPoint":return o(l,r);case"LineString":return s(r,l);case"Polygon":return a(r,l);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"MultiPoint":return u(l,r);case"LineString":return a(l,r);default:throw new Error("feature2 "+i+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}function o(t,e){for(var n=!1,i=!1,r=t.coordinates.length,o=0;o<r&&!n&&!i;){for(var s=0;s<e.coordinates.length-1;s++){var a=!0;0!==s&&s!==e.coordinates.length-2||(a=!1),l(e.coordinates[s],e.coordinates[s+1],t.coordinates[o],a)?n=!0:i=!0}o++}return n&&i}function s(t,e){if((0,p.default)(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var i=0;i<e.coordinates.length-1;i++){var r=!0;if(0!==i&&i!==e.coordinates.length-2||(r=!1),l(t.coordinates[n],t.coordinates[n+1],e.coordinates[i],r))return!0}return!1}function a(t,e){return(0,p.default)(t,(0,_.default)(e)).features.length>0}function u(t,e){for(var n=!1,i=!1,r=t.coordinates[0].length,o=0;o<r&&n&&i;)(0,d.default)((0,f.point)(t.coordinates[0][o]),e)?n=!0:i=!0,o++;return i&&i}function l(t,e,n,i){var r=n[0]-t[0],o=n[1]-t[1],s=e[0]-t[0],a=e[1]-t[1];return 0==r*a-o*s&&(i?Math.abs(s)>=Math.abs(a)?s>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:a>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(s)>=Math.abs(a)?s>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:a>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}Object.defineProperty(e,"__esModule",{value:!0});var f=n(1),c=n(34),d=i(c),h=n(59),p=i(h),g=n(155),_=i(g),m=n(5);e.default=r},function(t,e,n){"use strict";function i(t){return null===t||void 0===t}function r(t){return!(!t||"object"!==(void 0===t?"undefined":s(t))||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}function o(t,e,n){var o,c;if(i(t)||i(e))return!1;if(t.prototype!==e.prototype)return!1;if(l(t))return!!l(e)&&(t=a.call(t),e=a.call(e),f(t,e,n));if(r(t)){if(!r(e))return!1;if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}try{var d=u(t),h=u(e)}catch(t){return!1}if(d.length!=h.length)return!1;for(d.sort(),h.sort(),o=d.length-1;o>=0;o--)if(d[o]!=h[o])return!1;for(o=d.length-1;o>=0;o--)if(c=d[o],!f(t[c],e[c],n))return!1;return(void 0===t?"undefined":s(t))===(void 0===e?"undefined":s(e))}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=Array.prototype.slice,u=n(582),l=n(583),f=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=(void 0===t?"undefined":s(t))&&"object"!=(void 0===e?"undefined":s(e))?n.strict?t===e:t==e:o(t,e,n))}},function(t,e,n){"use strict";function i(t){var e=[];for(var n in t)e.push(n);return e}e=t.exports="function"==typeof Object.keys?Object.keys:i,e.shim=i},function(t,e,n){"use strict";function i(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==(void 0===t?"undefined":o(t))&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();e=t.exports=s?i:r,e.supported=i,e.unsupported=r},function(t,e,n){"use strict";function i(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");return(0,s.getType)(t)===(0,s.getType)(e)&&new a({precision:6}).compare((0,o.default)(t),(0,o.default)(e))}Object.defineProperty(e,"__esModule",{value:!0});var r=n(61),o=function(t){return t&&t.__esModule?t:{default:t}}(r),s=n(5),a=n(261);e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){if(n=n||{},"object"!==(void 0===n?"undefined":o(n)))throw new Error("options is invalid");var i=n.gridType,r=n.property,s=n.weight;if(!t)throw new Error("points is required");if((0,M.collectionOf)(t,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==s&&"number"!=typeof s)throw new Error("weight must be a number");r=r||"elevation",i=i||"square",s=s||1;var u,f=(0,a.default)(t);switch(i){case"point":case"points":u=(0,c.default)(f,e,n);break;case"square":case"squares":u=(0,m.default)(f,e,n);break;case"hex":case"hexes":u=(0,l.default)(f,e,n);break;case"triangle":case"triangles":u=(0,y.default)(f,e,n);break;default:throw new Error("invalid gridType")}var d=[];return(0,w.featureEach)(u,function(e){var o=0,a=0;(0,w.featureEach)(t,function(t){var u,l="point"===i?e:(0,g.default)(e),f=(0,h.default)(l,t,n);if(void 0!==r&&(u=t.properties[r]),void 0===u&&(u=t.geometry.coordinates[2]),void 0===u)throw new Error("zValue is missing");0===f&&(o=u);var c=1/Math.pow(f,s);a+=c,o+=c*u});var u=(0,x.default)(e);u.properties[r]=o/a,d.push(u)}),(0,E.featureCollection)(d)}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=n(27),a=i(s),u=n(253),l=i(u),f=n(249),c=i(f),d=n(23),h=i(d),p=n(71),g=i(p),_=n(251),m=i(_),v=n(252),y=i(v),b=n(22),x=i(b),E=n(1),w=n(6),M=n(5);e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){if(n=n||{},"object"!==(void 0===n?"undefined":o(n)))throw new Error("options is invalid");var i=n.minPoints,r=n.units;if((0,d.collectionOf)(t,"Point","Input must contain Points"),null===e||void 0===e)throw new Error("maxDistance is required");if(!(Math.sign(e)>0))throw new Error("Invalid maxDistance");if(!(void 0===i||null===i||Math.sign(i)>0))throw new Error("Invalid minPoints");t=(0,a.default)(t,!0),i=i||3;var s=new h.DBSCAN,u=s.run((0,f.coordAll)(t),(0,c.convertLength)(e,r),i,l.default),p=-1;return u.forEach(function(e){p++,e.forEach(function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster=p,n.properties.dbscan="core"})}),s.noise.forEach(function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster?n.properties.dbscan="edge":n.properties.dbscan="noise"}),t}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=n(22),a=i(s),u=n(23),l=i(u),f=n(6),c=n(1),d=n(5),h=n(587);e.default=r},function(t,e,n){"use strict";void 0!==t&&t.exports&&(t.exports={DBSCAN:n(588),KMEANS:n(589),OPTICS:n(590),PriorityQueue:n(262)})},function(t,e,n){"use strict";function i(t,e,n,i){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,i)}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.prototype.run=function(t,e,n,i){this._init(t,e,n,i);for(var r=0;r<this._datasetLength;r++)if(1!==this._visited[r]){this._visited[r]=1;var o=this._regionQuery(r);if(o.length<this.minPts)this.noise.push(r);else{var s=this.clusters.length;this.clusters.push([]),this._addToCluster(r,s),this._expandCluster(s,o)}}return this.clusters},i.prototype._init=function(t,e,n,i){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+(void 0===t?"undefined":r(t))+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),i&&(this.distance=i)},i.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(1!==this._visited[i]){this._visited[i]=1;var r=this._regionQuery(i);r.length>=this.minPts&&(e=this._mergeArrays(e,r))}1!==this._assigned[i]&&this._addToCluster(i,t)}},i.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},i.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++){this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n)}return e},i.prototype._mergeArrays=function(t,e){for(var n=e.length,i=0;i<n;i++){var r=e[i];t.indexOf(r)<0&&t.push(r)}return t},i.prototype._euclideanDistance=function(t,e){for(var n=0,i=Math.min(t.length,e.length);i--;)n+=(t[i]-e[i])*(t[i]-e[i]);return Math.sqrt(n)},void 0!==t&&t.exports&&(t.exports=i)},function(t,e,n){"use strict";function i(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}i.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},i.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,i=0;i<this.k;i++)this.centroids[i]=this.randomCentroid();for(var r=!0;r;){r=this.assign();for(var o=0;o<this.k;o++){for(var s=new Array(f),a=0,u=0;u<f;u++)s[u]=0;for(var l=0;l<n;l++){var f=this.dataset[l].length;if(o===this.assignments[l]){for(var u=0;u<f;u++)s[u]+=this.dataset[l][u];a++}}if(a>0){for(var u=0;u<f;u++)s[u]/=a;this.centroids[o]=s}else this.centroids[o]=this.randomCentroid(),r=!0}}return this.getClusters()},i.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},i.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,i=0;i<n;i++)(t=this.argmin(this.dataset[i],this.centroids,this.distance))!=this.assignments[i]&&(this.assignments[i]=t,e=!0);return e},i.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)t=this.assignments[n],void 0===e[t]&&(e[t]=[]),e[t].push(n);return e},i.prototype.argmin=function(t,e,n){for(var i,r=Number.MAX_VALUE,o=0,s=e.length,a=0;a<s;a++)(i=n(t,e[a]))<r&&(r=i,o=a);return o},i.prototype.distance=function(t,e){for(var n=0,i=Math.min(t.length,e.length);i--;){var r=t[i]-e[i];n+=r*r}return Math.sqrt(n)},void 0!==t&&t.exports&&(t.exports=i)},function(t,e,n){"use strict";function i(t,e,n,i){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,i)}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};if(void 0!==t&&t.exports)var o=n(262);i.prototype.run=function(t,e,n,i){this._init(t,e,n,i);for(var r=0,s=this.dataset.length;r<s;r++)if(1!==this._processed[r]){this._processed[r]=1,this.clusters.push([r]);var a=this.clusters.length-1;this._orderedList.push(r);var u=new o(null,null,"asc"),l=this._regionQuery(r);void 0!==this._distanceToCore(r)&&(this._updateQueue(r,l,u),this._expandCluster(a,u))}return this.clusters},i.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var i=this._orderedList[e],r=this._reachability[i];t.push([i,r])}return t},i.prototype._init=function(t,e,n,i){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+(void 0===t?"undefined":r(t))+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),i&&(this.distance=i)},i.prototype._updateQueue=function(t,e,n){var i=this;this._coreDistance=this._distanceToCore(t),e.forEach(function(e){if(void 0===i._processed[e]){var r=i.distance(i.dataset[t],i.dataset[e]),o=Math.max(i._coreDistance,r);void 0===i._reachability[e]?(i._reachability[e]=o,n.insert(e,o)):o<i._reachability[e]&&(i._reachability[e]=o,n.remove(e),n.insert(e,o))}})},i.prototype._expandCluster=function(t,e){for(var n=e.getElements(),i=0,r=n.length;i<r;i++){var o=n[i];if(void 0===this._processed[o]){var s=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,s,e),this._expandCluster(t,e))}}},i.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++){if(this._regionQuery(t,n).length>=this.minPts)return n}},i.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],i=0,r=this.dataset.length;i<r;i++)this.distance(this.dataset[t],this.dataset[i])<e&&n.push(i);return n},i.prototype._euclideanDistance=function(t,e){for(var n=0,i=Math.min(t.length,e.length);i--;)n+=(t[i]-e[i])*(t[i]-e[i]);return Math.sqrt(n)},void 0!==t&&t.exports&&(t.exports=i)},function(t,e,n){"use strict";function i(t,e){if(e=e||{},"object"!==(void 0===e?"undefined":r(e)))throw new Error("options is invalid");var n=e.numberOfClusters,i=e.mutate;(0,a.collectionOf)(t,"Point","Input must contain Points");var o=t.features.length;n=n||Math.round(Math.sqrt(o/2)),n>o&&(n=o),!1!==i&&void 0!==i||(t=(0,s.default)(t,!0));var f=(0,u.coordAll)(t),c=f.slice(0,n),d=l(f,n,c),h={};return d.centroids.forEach(function(t,e){h[e]=t}),(0,u.featureEach)(t,function(t,e){var n=d.idxs[e];t.properties.cluster=n,t.properties.centroid=h[n]}),t}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(22),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=n(5),u=n(6),l=n(592);e.default=i},function(t,e,n){"use strict";function i(t,e,n){n=n||[];for(var i=0;i<t;i++)n[i]=e;return n}function r(t,e,n,r){var o=[],s=[],c=[],d=[],h=!1,p=r||f,g=t.length,_=t[0].length,m=_>0,v=[];if(n)o="kmrand"==n?u(t,e):"kmpp"==n?l(t,e):n;else for(var y={};o.length<e;){var b=Math.floor(Math.random()*g);y[b]||(y[b]=!0,o.push(t[b]))}do{i(e,0,v);for(var x=0;x<g;x++){for(var E=1/0,w=0,M=0;M<e;M++){var d=m?a(t[x],o[M]):Math.abs(t[x]-o[M]);d<=E&&(E=d,w=M)}c[x]=w,v[w]++}for(var L=[],s=[],P=0;P<e;P++)L[P]=m?i(_,0,L[P]):0,s[P]=o[P];if(m){for(var C=0;C<e;C++)o[C]=[];for(var I=0;I<g;I++)for(var S=c[I],O=L[S],N=t[I],T=0;T<_;T++)O[T]+=N[T];h=!0;for(var R=0;R<e;R++){for(var A=o[R],D=L[R],k=s[R],j=v[R],F=0;F<_;F++)A[F]=D[F]/j||0;if(h)for(var z=0;z<_;z++)if(k[z]!=A[z]){h=!1;break}}}else{for(var G=0;G<g;G++){L[c[G]]+=t[G]}for(var B=0;B<e;B++)o[B]=L[B]/v[B]||0;h=!0;for(var q=0;q<e;q++)if(s[q]!=o[q]){h=!1;break}}h=h||--p<=0}while(!h);return{it:f-p,k:e,idxs:c,centroids:o}}var o=n(263),s=n(593),a=o.eudist,u=(o.mandist,o.dist,s.kmrand),l=s.kmpp,f=1e4;t.exports=r},function(t,e,n){"use strict";var i=n(263),r=i.eudist,o=i.dist;t.exports={kmrand:function(t,e){for(var n={},i=[],r=e<<2,o=t.length,s=t[0].length>0;i.length<e&&r-- >0;){var a=t[Math.floor(Math.random()*o)],u=s?a.join("_"):""+a;n[u]||(n[u]=!0,i.push(a))}if(i.length<e)throw new Error("Error initializating clusters");return i},kmpp:function(t,e){var n=t[0].length?r:o,i=[],s=t.length,a=t[0].length>0,u={},l=t[Math.floor(Math.random()*s)],f=a?l.join("_"):""+l;for(i.push(l),u[f]=!0;i.length<e;){for(var c=[],d=i.length,h=0,p=[],g=0;g<s;g++){for(var _=1/0,m=0;m<d;m++){var v=n(t[g],i[m]);v<=_&&(_=v)}c[g]=_}for(var y=0;y<s;y++)h+=c[y];for(var b=0;b<s;b++)p[b]={i:b,v:t[b],pr:c[b]/h,cs:0};p.sort(function(t,e){return t.pr-e.pr}),p[0].cs=p[0].pr;for(var x=1;x<s;x++)p[x].cs=p[x-1].cs+p[x].pr;for(var E=Math.random(),w=0;w<s-1&&p[w++].cs<E;);i.push(p[w-1].v)}return i}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!t)throw new Error("line1 is required");if(!e)throw new Error("line2 is required");if("LineString"!==s(t,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==s(e,"line2"))throw new Error("line2 must be a LineString");for(var n=(0,f.default)((0,u.default)(t)).features,i=(0,f.default)((0,u.default)(e)).features,r=0;r<n.length;r++){var a=n[r].geometry.coordinates;if(!i[r])break;if(!o(a,i[r].geometry.coordinates))return!1}return!0}function o(t,e){return(0,h.bearingToAzimuth)((0,d.default)(t[0],t[1]))===(0,h.bearingToAzimuth)((0,d.default)(e[0],e[1]))}function s(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(61),u=i(a),l=n(89),f=i(l),c=n(90),d=i(c),h=n(1);e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){if(n=n||{},!(0,y.isObject)(n))throw new Error("options is invalid");var i=n.resolution,r=n.minDistance,s=n.obstacles||(0,y.featureCollection)([]);if(!t)throw new Error("start is required");if(!e)throw new Error("end is required");if(i&&!(0,y.isNumber)(i)||i<=0)throw new Error("options.resolution must be a number, greater than 0");if(r)throw new Error("options.minDistance is not yet implemented");var u=(0,v.getCoord)(t),l=(0,v.getCoord)(e);switch(t=(0,y.point)(u),e=(0,y.point)(l),(0,v.getType)(s)){case"FeatureCollection":if(0===s.features.length)return(0,y.lineString)([u,l]);break;case"Polygon":s=(0,y.featureCollection)([(0,y.feature)((0,v.getGeom)(s))]);break;default:throw new Error("invalid obstacles")}var f=s;f.features.push(t),f.features.push(e);var d=(0,a.default)((0,h.default)((0,m.default)((0,a.default)(f)),1.15));if(!i){i=(0,c.default)([d[0],d[1]],[d[2],d[1]],n)/100}f.features.pop(),f.features.pop();for(var p=d[0],_=d[1],x=d[2],E=d[3],w=i/(0,c.default)([p,_],[x,_],n),M=w*(x-p),L=i/(0,c.default)([p,_],[p,E],n),P=L*(E-_),C=x-p,I=E-_,S=Math.floor(C/M),O=Math.floor(I/P),N=(C-S*M)/2,T=(I-O*P)/2,R=[],A=[],D=[],k=[],j=1/0,F=1/0,z=E-T,G=0;z>=_;){for(var B=[],q=[],U=p+N,V=0;U<=x;){var Y=(0,y.point)([U,z]),X=o(Y,s);B.push(X?0:1),q.push(U+"|"+z);var H=(0,c.default)(Y,t);!X&&H<j&&(j=H,D={x:V,y:G});var Z=(0,c.default)(Y,e);!X&&Z<F&&(F=Z,k={x:V,y:G}),U+=M,V++}A.push(B),R.push(q),z-=P,G++}var W=new b.Graph(A,{diagonal:!0}),K=W.grid[D.y][D.x],J=W.grid[k.y][k.x],Q=b.astar.search(W,K,J),$=[u];return Q.forEach(function(t){var e=R[t.x][t.y].split("|");$.push([+e[0],+e[1]])}),$.push(l),(0,g.default)((0,y.lineString)($))}function o(t,e){for(var n=0;n<e.features.length;n++)if((0,l.default)(t,e.features[n]))return!0;return!1}Object.defineProperty(e,"__esModule",{value:!0});var s=n(27),a=i(s),u=n(34),l=i(u),f=n(23),c=i(f),d=n(257),h=i(d),p=n(61),g=i(p),_=n(125),m=i(_),v=n(5),y=n(1),b=n(596);e.default=r},function(t,e,n){"use strict";function i(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}function r(){return new a(function(t){return t.f})}function o(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var i=0,r=t[n];i<r.length;i++){var o=new s(n,i,r[i]);this.grid[n][i]=o,this.nodes.push(o)}}this.init()}function s(t,e,n){this.x=t,this.y=e,this.weight=n}function a(t){this.content=[],this.scoreFunction=t}Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=o;var u=e.astar={search:function(t,e,n,o){t.cleanDirty(),o=o||{};var s=o.heuristic||u.heuristics.manhattan,a=o.closest||!1,l=r(),f=e;for(e.h=s(e,n),l.push(e);l.size()>0;){var c=l.pop();if(c===n)return i(c);c.closed=!0;for(var d=t.neighbors(c),h=0,p=d.length;h<p;++h){var g=d[h];if(!g.closed&&!g.isWall()){var _=c.g+g.getCost(c),m=g.visited;(!m||_<g.g)&&(g.visited=!0,g.parent=c,g.h=g.h||s(g,n),g.g=_,g.f=g.g+g.h,t.markDirty(g),a&&(g.h<f.h||g.h===f.h&&g.g<f.g)&&(f=g),m?l.rescoreElement(g):l.push(g))}}}return a?i(f):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),i=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return 1*(i+r)+(n-2)*Math.min(i,r)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};o.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)u.cleanNode(this.nodes[t])},o.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)u.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},o.prototype.markDirty=function(t){this.dirtyNodes.push(t)},o.prototype.neighbors=function(t){var e=[],n=t.x,i=t.y,r=this.grid;return r[n-1]&&r[n-1][i]&&e.push(r[n-1][i]),r[n+1]&&r[n+1][i]&&e.push(r[n+1][i]),r[n]&&r[n][i-1]&&e.push(r[n][i-1]),r[n]&&r[n][i+1]&&e.push(r[n][i+1]),this.diagonal&&(r[n-1]&&r[n-1][i-1]&&e.push(r[n-1][i-1]),r[n+1]&&r[n+1][i-1]&&e.push(r[n+1][i-1]),r[n-1]&&r[n-1][i+1]&&e.push(r[n-1][i+1]),r[n+1]&&r[n+1][i+1]&&e.push(r[n+1][i+1])),e},o.prototype.toString=function(){for(var t,e,n,i,r=[],o=this.grid,s=0,a=o.length;s<a;s++){for(t=[],e=o[s],n=0,i=e.length;n<i;n++)t.push(e[n].weight);r.push(t.join(" "))}return r.join("\n")},s.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},s.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},s.prototype.isWall=function(){return 0===this.weight},a.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,i=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(i)))break;this.content[n]=e,this.content[t]=i,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],i=this.scoreFunction(n);;){var r,o=t+1<<1,s=o-1,a=null;if(s<e){var u=this.content[s];r=this.scoreFunction(u),r<i&&(a=s)}if(o<e){var l=this.content[o];this.scoreFunction(l)<(null===a?i:r)&&(a=o)}if(null===a)break;this.content[t]=this.content[a],this.content[a]=n,t=a}}}},function(t,e,n){"use strict";function i(t){return t=t.slice(),t.push(t[0]),(0,o.polygon)([t])}function r(t,e){if(e=e||{},!(0,o.isObject)(e))throw new Error("options is invalid");var n=e.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return(0,s.collectionOf)(t,"Point","points"),(0,o.featureCollection)(u.voronoi().x(function(t){return t.geometry.coordinates[0]}).y(function(t){return t.geometry.coordinates[1]}).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(t.features).map(i))}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),s=n(5),a=n(598),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a);e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(599);Object.defineProperty(e,"voronoi",{enumerable:!0,get:function(){return i(r).default}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){function t(t){return new u.default(t.map(function(i,r){var o=[Math.round(e(i,r,t)/a.epsilon)*a.epsilon,Math.round(n(i,r,t)/a.epsilon)*a.epsilon];return o.index=r,o.data=i,o}),i)}var e=s.x,n=s.y,i=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:(0,o.default)(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:(0,o.default)(+e),t):n},t.extent=function(e){return arguments.length?(i=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):i&&[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},t.size=function(e){return arguments.length?(i=null==e?null:[[0,0],[+e[0],+e[1]]],t):i&&[i[1][0]-i[0][0],i[1][1]-i[0][1]]},t};var r=n(600),o=i(r),s=n(601),a=n(91),u=i(a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){return t}}},function(t,e,n){"use strict";function i(t){return t[0]}function r(t){return t[1]}Object.defineProperty(e,"__esModule",{value:!0}),e.x=i,e.y=r},function(t,e,n){"use strict";function i(){(0,f.RedBlackNode)(this),this.edge=this.site=this.circle=null}function r(t){var e=g.pop()||new i;return e.site=t,e}function o(t){(0,d.detachCircle)(t),p.beaches.remove(t),g.push(t),(0,f.RedBlackNode)(t)}function s(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],s=t.P,a=t.N,u=[t];o(t);for(var l=s;l.circle&&Math.abs(n-l.circle.x)<p.epsilon&&Math.abs(i-l.circle.cy)<p.epsilon;)s=l.P,u.unshift(l),o(l),l=s;u.unshift(l),(0,d.detachCircle)(l);for(var f=a;f.circle&&Math.abs(n-f.circle.x)<p.epsilon&&Math.abs(i-f.circle.cy)<p.epsilon;)a=f.N,u.push(f),o(f),f=a;u.push(f),(0,d.detachCircle)(f);var c,g=u.length;for(c=1;c<g;++c)f=u[c],l=u[c-1],(0,h.setEdgeEnd)(f.edge,l.site,f.site,r);l=u[0],f=u[g-1],f.edge=(0,h.createEdge)(l.site,f.site,null,r),(0,d.attachCircle)(l),(0,d.attachCircle)(f)}function a(t){for(var e,n,i,o,s=t[0],a=t[1],f=p.beaches._;f;)if((i=u(f,a)-s)>p.epsilon)f=f.L;else{if(!((o=s-l(f,a))>p.epsilon)){i>-p.epsilon?(e=f.P,n=f):o>-p.epsilon?(e=f,n=f.N):e=n=f;break}if(!f.R){e=f;break}f=f.R}(0,c.createCell)(t);var g=r(t);if(p.beaches.insert(e,g),e||n){if(e===n)return(0,d.detachCircle)(e),n=r(e.site),p.beaches.insert(g,n),g.edge=n.edge=(0,h.createEdge)(e.site,g.site),(0,d.attachCircle)(e),void(0,d.attachCircle)(n);if(!n)return void(g.edge=(0,h.createEdge)(e.site,g.site));(0,d.detachCircle)(e),(0,d.detachCircle)(n);var _=e.site,m=_[0],v=_[1],y=t[0]-m,b=t[1]-v,x=n.site,E=x[0]-m,w=x[1]-v,M=2*(y*w-b*E),L=y*y+b*b,P=E*E+w*w,C=[(w*L-b*P)/M+m,(y*P-E*L)/M+v];(0,h.setEdgeEnd)(n.edge,_,x,C),g.edge=(0,h.createEdge)(_,t,null,C),n.edge=(0,h.createEdge)(t,x,null,C),(0,d.attachCircle)(e),(0,d.attachCircle)(n)}}function u(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var s=t.P;if(!s)return-1/0;n=s.site;var a=n[0],u=n[1],l=u-e;if(!l)return a;var f=a-i,c=1/o-1/l,d=f/l;return c?(-d+Math.sqrt(d*d-2*c*(f*f/(-2*l)-u+l/2+r-o/2)))/c+i:(i+a)/2}function l(t,e){var n=t.N;if(n)return u(n,e);var i=t.site;return i[1]===e?i[0]:1/0}Object.defineProperty(e,"__esModule",{value:!0}),e.removeBeach=s,e.addBeach=a;var f=n(157),c=n(264),d=n(265),h=n(158),p=n(91),g=[]},function(t,e,n){"use strict";function i(t){if((0,d.isObject)(t)&&(t=t.bbox),t&&!Array.isArray(t))throw new Error("bbox is invalid");return t?c(t):[l(),f()]}function r(t,e){if(e=e||{},!(0,d.isObject)(e))throw new Error("options is invalid");var n=e.bbox;void 0!==t&&null!==t||(t=1);for(var r=[],o=0;o<t;o++)r.push((0,d.point)(i(n)));return(0,d.featureCollection)(r)}function o(t,e){function n(t,e,n){n[e]=e>0?t+n[e-1]:t}function r(t){t=2*t*Math.PI/h[h.length-1];var e=Math.random();c.push([e*u*Math.sin(t),e*u*Math.cos(t)])}if(e=e||{},!(0,d.isObject)(e))throw new Error("options is invalid");var o=e.bbox,s=e.num_vertices,u=e.max_radial_length;void 0!==t&&null!==t||(t=1),(0,d.isNumber)(s)||(s=10),(0,d.isNumber)(u)||(u=10);for(var l=[],f=0;f<t;f++){var c=[],h=Array.apply(null,new Array(s+1)).map(Math.random);h.forEach(n),h.forEach(r),c[c.length-1]=c[0],c=c.map(a(i(o))),l.push((0,d.polygon)([c]))}return(0,d.featureCollection)(l)}function s(t,e){if(e=e||{},!(0,d.isObject)(e))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,o=e.max_length,s=e.max_rotation;void 0!==t&&null!==t||(t=1),(!(0,d.isNumber)(r)||r<2)&&(r=10),(0,d.isNumber)(o)||(o=1e-4),(0,d.isNumber)(s)||(s=Math.PI/8);for(var a=[],u=0;u<t;u++){for(var l=i(n),f=[l],c=0;c<r-1;c++){var h=0===c?2*Math.random()*Math.PI:Math.tan((f[c][1]-f[c-1][1])/(f[c][0]-f[c-1][0])),p=h+(Math.random()-.5)*s*2,g=Math.random()*o;f.push([f[c][0]+g*Math.cos(p),f[c][1]+g*Math.sin(p)])}a.push((0,d.lineString)(f))}return(0,d.featureCollection)(a)}function a(t){return function(e){return[e[0]+t[0],e[1]+t[1]]}}function u(){return Math.random()-.5}function l(){return 360*u()}function f(){return 180*u()}function c(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}Object.defineProperty(e,"__esModule",{value:!0}),e.randomPosition=i,e.randomPoint=r,e.randomPolygon=o,e.randomLineString=s;var d=n(1)},function(t,e,n){"use strict";function i(t,e){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(void 0===e||null===e)throw new Error("filter is required");var n=[];return(0,c.featureEach)(t,function(t){a(t.properties,e)&&n.push(t)}),(0,d.featureCollection)(n)}function r(t,e,n){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(void 0===e||null===e)throw new Error("property is required");for(var i=s(t,e),r=Object.keys(i),o=0;o<r.length;o++){for(var a=r[o],u=i[a],l=[],f=0;f<u.length;f++)l.push(t.features[u[f]]);n((0,d.featureCollection)(l),a,o)}}function o(t,e,n,i){var o=i;return r(t,e,function(t,e,r){o=0===r&&void 0===i?t:n(o,t,e,r)}),o}function s(t,e){var n={};return(0,c.featureEach)(t,function(t,i){var r=t.properties||{};if(r.hasOwnProperty(e)){var o=r[e];n.hasOwnProperty(o)?n[o].push(i):n[o]=[i]}}),n}function a(t,e){if(void 0===t)return!1;var n=void 0===e?"undefined":f(e);if("number"===n||"string"===n)return t.hasOwnProperty(e);if(Array.isArray(e)){for(var i=0;i<e.length;i++)if(!a(t,e[i]))return!1;return!0}return u(t,e)}function u(t,e){for(var n=Object.keys(e),i=0;i<n.length;i++){var r=n[i];if(t[r]!==e[r])return!1}return!0}function l(t,e){if(!e)return{};if(!e.length)return{};for(var n={},i=0;i<e.length;i++){var r=e[i];t.hasOwnProperty(r)&&(n[r]=t[r])}return n}Object.defineProperty(e,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.getCluster=i,e.clusterEach=r,e.clusterReduce=o,e.createBins=s,e.applyFilter=a,e.propertiesContainsFilter=u,e.filterProperties=l;var c=n(6),d=n(1)},function(t,e,n){"use strict";function i(t,e){var n=(0,l.getGeom)(t),i=(0,l.getGeom)(e),s=t.properties||{};if(n=r(n),i=r(i),!n)return null;if(!i)return(0,u.feature)(n,s);var a=new o.GeoJSONReader,f=a.read(n),c=a.read(i),d=o.OverlayOp.difference(f,c);if(d.isEmpty())return null;var h=new o.GeoJSONWriter,p=h.write(d);return(0,u.feature)(p,s)}function r(t){switch(t.type){case"Polygon":return(0,a.default)(t)>1?t:null;case"MultiPolygon":var e=[];if((0,f.flattenEach)(t,function(t){(0,a.default)(t)>1&&e.push(t.geometry.coordinates)}),e.length)return{type:"MultiPolygon",coordinates:e}}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(97),s=n(116),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=n(1),l=n(5),f=n(6);e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(e=e||{},!(0,v.isObject)(e))throw new Error("options is invalid");var n=e.propertyName;(0,m.collectionOf)(t,"Polygon","dissolve");var i=(0,l.default)(t),r=i.features,s=[];r.forEach(function(t,e){t.properties.origIndexPosition=e});var u=(0,a.default)();u.load(i);for(var f in r){var d=r[f],p=!1;if(u.search(d).features.forEach(function(t){d=r[f];var e=t.properties.origIndexPosition;if(s.length>0&&0!==e)if(e>s[s.length-1])e-=s.length;else{var i=(0,y.closestGreaterNumber)(e,s);0!==i&&(e-=i)}if(e!==+f){var a=r[e];a&&d&&(void 0!==n&&a.properties[n]!==d.properties[n]||(0,c.default)(d,a)&&o(d,a)&&(r[f]=(0,h.default)(d,a),s.push(t.properties.origIndexPosition),s.sort(function(t,e){return t-e}),u.remove(t),r.splice(e,1),d.properties.origIndexPosition=f,u.remove(d,function(t,e){return t.properties.origIndexPosition===e.properties.origIndexPosition}),p=!0))}}),p){if(!d)continue;d.properties.origIndexPosition=f,u.insert(d),f--}}return r.forEach(function(t){delete t.properties.origIndexPosition,delete t.bbox}),i}function o(t,e){var n=(0,v.lineString)((0,_.coordAll)(t)),i=(0,v.lineString)((0,_.coordAll)(e));return(0,g.default)(n,i).features.length>0}Object.defineProperty(e,"__esModule",{value:!0});var s=n(114),a=i(s),u=n(22),l=i(u),f=n(260),c=i(f),d=n(154),h=i(d),p=n(59),g=i(p),_=n(6),m=n(5),v=n(1),y=n(607);e.default=r},function(t,e,n){"use strict";/**
 * @license get-closest https://github.com/cosmosio/get-closest
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014-2017 Olivier Scherrer <pode.fr@gmail.com>
 */
function i(t,e,n){var i,r;if(!Array.isArray(e))throw new Error("Get closest expects an array as second argument");return e.forEach(function(e,o){var s=n(e,t);s>=0&&(void 0===r||s<r)&&(r=s,i=o)}),i}function r(t,e){return i(t,e,function(t,e){return Math.abs(t-e)})}function o(t,e){return i(t,e,function(t,e){return t-e})}function s(t,e){return i(t,e,function(t,e){return e-t})}function a(t,e,n){return i(t,e,n)}Object.defineProperty(e,"__esModule",{value:!0}),e.closestNumber=r,e.closestGreaterNumber=o,e.closestLowerNumber=s,e.closestCustom=a},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){n=n||{};var i=n.units,r=n.steps||64;if(!t)throw new Error("geojson is required");if("object"!==(void 0===n?"undefined":f(n)))throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(r<=0)throw new Error("steps must be greater than 0");r=r||64,i=i||"kilometers";var s=[];switch(t.type){case"GeometryCollection":return(0,m.geomEach)(t,function(t){var n=o(t,e,i,r);n&&s.push(n)}),(0,y.featureCollection)(s);case"FeatureCollection":return(0,m.featureEach)(t,function(t){var n=o(t,e,i,r);n&&(0,m.featureEach)(n,function(t){t&&s.push(t)})}),(0,y.featureCollection)(s)}return o(t,e,i,r)}function o(t,e,n,i){var r=t.properties||{},f="Feature"===t.type?t.geometry:t;if("GeometryCollection"===f.type){var c=[];return(0,m.geomEach)(t,function(t){var r=o(t,e,n,i);r&&c.push(r)}),(0,y.featureCollection)(c)}var d,h=(0,p.default)(t),v=h[1]>50&&h[3]>50;d=v?{type:f.type,coordinates:a(f.coordinates,l(f))}:(0,_.toMercator)(f);var b=new g.GeoJSONReader,x=b.read(d),E=(0,y.radiansToLength)((0,y.lengthToRadians)(e,n),"meters"),w=g.BufferOp.bufferOp(x,E);if(w=(new g.GeoJSONWriter).write(w),!s(w.coordinates)){var M;return M=v?{type:w.type,coordinates:u(w.coordinates,l(f))}:(0,_.toWgs84)(w),M.geometry?M:(0,y.feature)(M,r)}}function s(t){return Array.isArray(t[0])?s(t[0]):isNaN(t[0])}function a(t,e){return"object"!==f(t[0])?e(t):t.map(function(t){return a(t,e)})}function u(t,e){return"object"!==f(t[0])?e.invert(t):t.map(function(t){return u(t,e)})}function l(t){var e=(0,d.default)(t).geometry.coordinates.reverse(),n=e.map(function(t){return-t});return(0,v.geoTransverseMercator)().center(e).rotate(n).scale(y.earthRadius)}Object.defineProperty(e,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=n(95),d=i(c),h=n(27),p=i(h),g=n(97),_=n(153),m=n(6),v=n(609),y=n(1);e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(266);Object.defineProperty(e,"geoArea",{enumerable:!0,get:function(){return i(r).default}});var o=n(610);Object.defineProperty(e,"geoBounds",{enumerable:!0,get:function(){return i(o).default}});var s=n(611);Object.defineProperty(e,"geoCentroid",{enumerable:!0,get:function(){return i(s).default}});var a=n(267);Object.defineProperty(e,"geoCircle",{enumerable:!0,get:function(){return i(a).default}});var u=n(159);Object.defineProperty(e,"geoClipExtent",{enumerable:!0,get:function(){return i(u).default}});var l=n(630);Object.defineProperty(e,"geoContains",{enumerable:!0,get:function(){return i(l).default}});var f=n(285);Object.defineProperty(e,"geoDistance",{enumerable:!0,get:function(){return i(f).default}});var c=n(631);Object.defineProperty(e,"geoGraticule",{enumerable:!0,get:function(){return i(c).default}}),Object.defineProperty(e,"geoGraticule10",{enumerable:!0,get:function(){return c.graticule10}});var d=n(632);Object.defineProperty(e,"geoInterpolate",{enumerable:!0,get:function(){return i(d).default}});var h=n(286);Object.defineProperty(e,"geoLength",{enumerable:!0,get:function(){return i(h).default}});var p=n(633);Object.defineProperty(e,"geoPath",{enumerable:!0,get:function(){return i(p).default}});var g=n(288);Object.defineProperty(e,"geoAlbers",{enumerable:!0,get:function(){return i(g).default}});var _=n(643);Object.defineProperty(e,"geoAlbersUsa",{enumerable:!0,get:function(){return i(_).default}});var m=n(644);Object.defineProperty(e,"geoAzimuthalEqualArea",{enumerable:!0,get:function(){return i(m).default}}),Object.defineProperty(e,"geoAzimuthalEqualAreaRaw",{enumerable:!0,get:function(){return m.azimuthalEqualAreaRaw}});var v=n(645);Object.defineProperty(e,"geoAzimuthalEquidistant",{enumerable:!0,get:function(){return i(v).default}}),Object.defineProperty(e,"geoAzimuthalEquidistantRaw",{enumerable:!0,get:function(){return v.azimuthalEquidistantRaw}});var y=n(646);Object.defineProperty(e,"geoConicConformal",{enumerable:!0,get:function(){return i(y).default}}),Object.defineProperty(e,"geoConicConformalRaw",{enumerable:!0,get:function(){return y.conicConformalRaw}});var b=n(163);Object.defineProperty(e,"geoConicEqualArea",{enumerable:!0,get:function(){return i(b).default}}),Object.defineProperty(e,"geoConicEqualAreaRaw",{enumerable:!0,get:function(){return b.conicEqualAreaRaw}});var x=n(647);Object.defineProperty(e,"geoConicEquidistant",{enumerable:!0,get:function(){return i(x).default}}),Object.defineProperty(e,"geoConicEquidistantRaw",{enumerable:!0,get:function(){return x.conicEquidistantRaw}});var E=n(290);Object.defineProperty(e,"geoEquirectangular",{enumerable:!0,get:function(){return i(E).default}}),Object.defineProperty(e,"geoEquirectangularRaw",{enumerable:!0,get:function(){return E.equirectangularRaw}});var w=n(648);Object.defineProperty(e,"geoGnomonic",{enumerable:!0,get:function(){return i(w).default}}),Object.defineProperty(e,"geoGnomonicRaw",{enumerable:!0,get:function(){return w.gnomonicRaw}});var M=n(649);Object.defineProperty(e,"geoIdentity",{enumerable:!0,get:function(){return i(M).default}});var L=n(41);Object.defineProperty(e,"geoProjection",{enumerable:!0,get:function(){return i(L).default}}),Object.defineProperty(e,"geoProjectionMutator",{enumerable:!0,get:function(){return L.projectionMutator}});var P=n(166);Object.defineProperty(e,"geoMercator",{enumerable:!0,get:function(){return i(P).default}}),Object.defineProperty(e,"geoMercatorRaw",{enumerable:!0,get:function(){return P.mercatorRaw}});var C=n(650);Object.defineProperty(e,"geoNaturalEarth1",{enumerable:!0,get:function(){return i(C).default}}),Object.defineProperty(e,"geoNaturalEarth1Raw",{enumerable:!0,get:function(){return C.naturalEarth1Raw}});var I=n(651);Object.defineProperty(e,"geoOrthographic",{enumerable:!0,get:function(){return i(I).default}}),Object.defineProperty(e,"geoOrthographicRaw",{enumerable:!0,get:function(){return I.orthographicRaw}});var S=n(652);Object.defineProperty(e,"geoStereographic",{enumerable:!0,get:function(){return i(S).default}}),Object.defineProperty(e,"geoStereographicRaw",{enumerable:!0,get:function(){return S.stereographicRaw}});var O=n(653);Object.defineProperty(e,"geoTransverseMercator",{enumerable:!0,get:function(){return i(O).default}}),Object.defineProperty(e,"geoTransverseMercatorRaw",{enumerable:!0,get:function(){return O.transverseMercatorRaw}});var N=n(119);Object.defineProperty(e,"geoRotation",{enumerable:!0,get:function(){return i(N).default}});var T=n(60);Object.defineProperty(e,"geoStream",{enumerable:!0,get:function(){return i(T).default}});var R=n(120);Object.defineProperty(e,"geoTransform",{enumerable:!0,get:function(){return i(R).default}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){E.push(w=[p=t,_=t]),e<g&&(g=e),e>m&&(m=e)}function o(t,e){var n=(0,C.cartesian)([t*I.radians,e*I.radians]);if(x){var i=(0,C.cartesianCross)(x,n),r=[i[1],-i[0],0],o=(0,C.cartesianCross)(r,i);(0,C.cartesianNormalizeInPlace)(o),o=(0,C.spherical)(o);var s,a=t-v,u=a>0?1:-1,l=o[0]*I.degrees*u,f=(0,I.abs)(a)>180;f^(u*v<l&&l<u*t)?(s=o[1]*I.degrees)>m&&(m=s):(l=(l+360)%360-180,f^(u*v<l&&l<u*t)?(s=-o[1]*I.degrees)<g&&(g=s):(e<g&&(g=e),e>m&&(m=e))),f?t<v?c(p,t)>c(p,_)&&(_=t):c(t,_)>c(p,_)&&(p=t):_>=p?(t<p&&(p=t),t>_&&(_=t)):t>v?c(p,t)>c(p,_)&&(_=t):c(t,_)>c(p,_)&&(p=t)}else E.push(w=[p=t,_=t]);e<g&&(g=e),e>m&&(m=e),x=n,v=t}function s(){T.point=o}function a(){w[0]=p,w[1]=_,T.point=r,x=null}function u(t,e){if(x){var n=t-v;N.add((0,I.abs)(n)>180?n+(n>0?360:-360):n)}else y=t,b=e;P.areaStream.point(t,e),o(t,e)}function l(){P.areaStream.lineStart()}function f(){u(y,b),P.areaStream.lineEnd(),(0,I.abs)(N)>I.epsilon&&(p=-(_=180)),w[0]=p,w[1]=_,x=null}function c(t,e){return(e-=t)<0?e+360:e}function d(t,e){return t[0]-e[0]}function h(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,n,i,r,o,s,a;if(m=_=-(p=g=1/0),E=[],(0,O.default)(t,T),n=E.length){for(E.sort(d),e=1,i=E[0],o=[i];e<n;++e)r=E[e],h(i,r[0])||h(i,r[1])?(c(i[0],r[1])>c(i[0],i[1])&&(i[1]=r[1]),c(r[0],i[1])>c(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(s=-1/0,n=o.length-1,e=0,i=o[n];e<=n;i=r,++e)r=o[e],(a=c(i[1],r[0]))>s&&(s=a,p=r[0],_=i[1])}return E=w=null,p===1/0||g===1/0?[[NaN,NaN],[NaN,NaN]]:[[p,g],[_,m]]};var p,g,_,m,v,y,b,x,E,w,M=n(68),L=i(M),P=n(266),C=n(92),I=n(8),S=n(60),O=i(S),N=(0,L.default)(),T={point:r,lineStart:s,lineEnd:a,polygonStart:function(){T.point=u,T.lineStart=l,T.lineEnd=f,N.reset(),P.areaStream.polygonStart()},polygonEnd:function(){P.areaStream.polygonEnd(),T.point=r,T.lineStart=s,T.lineEnd=a,P.areaRingSum<0?(p=-(_=180),g=-(m=90)):N>I.epsilon?m=90:N<-I.epsilon&&(g=-90),w[0]=p,w[1]=_}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){t*=O.radians,e*=O.radians;var n=(0,O.cos)(e);o(n*(0,O.cos)(t),n*(0,O.sin)(t),(0,O.sin)(e))}function o(t,e,n){++p,_+=(t-_)/p,m+=(e-m)/p,v+=(n-v)/p}function s(){D.point=a}function a(t,e){t*=O.radians,e*=O.radians;var n=(0,O.cos)(e);C=n*(0,O.cos)(t),I=n*(0,O.sin)(t),S=(0,O.sin)(e),D.point=u,o(C,I,S)}function u(t,e){t*=O.radians,e*=O.radians;var n=(0,O.cos)(e),i=n*(0,O.cos)(t),r=n*(0,O.sin)(t),s=(0,O.sin)(e),a=(0,O.atan2)((0,O.sqrt)((a=I*s-S*r)*a+(a=S*i-C*s)*a+(a=C*r-I*i)*a),C*i+I*r+S*s);g+=a,y+=a*(C+(C=i)),b+=a*(I+(I=r)),x+=a*(S+(S=s)),o(C,I,S)}function l(){D.point=r}function f(){D.point=d}function c(){h(L,P),D.point=r}function d(t,e){L=t,P=e,t*=O.radians,e*=O.radians,D.point=h;var n=(0,O.cos)(e);C=n*(0,O.cos)(t),I=n*(0,O.sin)(t),S=(0,O.sin)(e),o(C,I,S)}function h(t,e){t*=O.radians,e*=O.radians;var n=(0,O.cos)(e),i=n*(0,O.cos)(t),r=n*(0,O.sin)(t),s=(0,O.sin)(e),a=I*s-S*r,u=S*i-C*s,l=C*r-I*i,f=(0,O.sqrt)(a*a+u*u+l*l),c=(0,O.asin)(f),d=f&&-c/f;E+=d*a,w+=d*u,M+=d*l,g+=c,y+=c*(C+(C=i)),b+=c*(I+(I=r)),x+=c*(S+(S=s)),o(C,I,S)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){p=g=_=m=v=y=b=x=E=w=M=0,(0,A.default)(t,D);var e=E,n=w,i=M,r=e*e+n*n+i*i;return r<O.epsilon2&&(e=y,n=b,i=x,g<O.epsilon&&(e=_,n=m,i=v),(r=e*e+n*n+i*i)<O.epsilon2)?[NaN,NaN]:[(0,O.atan2)(n,e)*O.degrees,(0,O.asin)(i/(0,O.sqrt)(r))*O.degrees]};var p,g,_,m,v,y,b,x,E,w,M,L,P,C,I,S,O=n(8),N=n(53),T=i(N),R=n(60),A=i(R),D={sphere:T.default,point:r,lineStart:s,lineEnd:l,polygonStart:function(){D.lineStart=f,D.lineEnd=c},polygonEnd:function(){D.lineStart=s,D.lineEnd=l}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){return t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i,r,o){var s,a=t[0],u=t[1],l=e[0],f=e[1],c=0,d=1,h=l-a,p=f-u;if(s=n-a,h||!(s>0)){if(s/=h,h<0){if(s<c)return;s<d&&(d=s)}else if(h>0){if(s>d)return;s>c&&(c=s)}if(s=r-a,h||!(s<0)){if(s/=h,h<0){if(s>d)return;s>c&&(c=s)}else if(h>0){if(s<c)return;s<d&&(d=s)}if(s=i-u,p||!(s>0)){if(s/=p,p<0){if(s<c)return;s<d&&(d=s)}else if(p>0){if(s>d)return;s>c&&(c=s)}if(s=o-u,p||!(s<0)){if(s/=p,p<0){if(s>d)return;s>c&&(c=s)}else if(p>0){if(s<c)return;s<d&&(d=s)}return c>0&&(t[0]=a+c*h,t[1]=u+c*p),d<1&&(e[0]=a+d*h,e[1]=u+d*p),!0}}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r,o,s,a,u=t.length,l=e.length,f=new Array(u*l);for(null==n&&(n=i.pair),r=s=0;r<u;++r)for(a=t[r],o=0;o<l;++o,++s)f[s]=n(a,e[o]);return f};var i=n(274)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){function t(t){var r,o,a=t.length,u=new Array(a);for(r=0;r<a;++r)u[r]=e(t[r],r,t);var l=n(u),f=l[0],c=l[1],d=i(u,f,c);Array.isArray(d)||(d=(0,g.tickStep)(f,c,d),d=(0,p.default)(Math.ceil(f/d)*d,Math.floor(c/d)*d,d));for(var h=d.length;d[0]<=f;)d.shift(),--h;for(;d[h-1]>c;)d.pop(),--h;var _,m=new Array(h+1);for(r=0;r<=h;++r)_=m[r]=[],_.x0=r>0?d[r-1]:f,_.x1=r<h?d[r]:c;for(r=0;r<a;++r)o=u[r],f<=o&&o<=c&&m[(0,s.default)(d,o,0,h)].push(t[r]);return m}var e=d.default,n=f.default,i=m.default;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:(0,u.default)(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:(0,u.default)([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(i="function"==typeof e?e:Array.isArray(e)?(0,u.default)(r.slice.call(e)):(0,u.default)(e),t):i},t};var r=n(278),o=n(272),s=i(o),a=n(617),u=i(a),l=n(277),f=i(l),c=n(618),d=i(c),h=n(279),p=i(h),g=n(280),_=n(281),m=i(_)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){return t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){return t=r.map.call(t,u.default).sort(s.default),Math.ceil((n-e)/(2*((0,f.default)(t,.75)-(0,f.default)(t,.25))*Math.pow(t.length,-1/3)))};var r=n(278),o=n(69),s=i(o),a=n(93),u=i(a),l=n(161),f=i(l)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){return Math.ceil((n-e)/(3.5*(0,r.default)(t)*Math.pow(t.length,-1/3)))};var i=n(275),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&n>i&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&n>i&&(i=n);return i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,i=t.length,o=i,s=-1,a=0;if(null==e)for(;++s<i;)isNaN(n=(0,r.default)(t[s]))?--o:a+=n;else for(;++s<i;)isNaN(n=(0,r.default)(e(t[s],s,t)))?--o:a+=n;if(o)return a/o};var i=n(93),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,i=t.length,r=-1,s=[];if(null==e)for(;++r<i;)isNaN(n=(0,a.default)(t[r]))||s.push(n);else for(;++r<i;)isNaN(n=(0,a.default)(e(t[r],r,t)))||s.push(n);return(0,l.default)(s.sort(o.default),.5)};var r=n(69),o=i(r),s=n(93),a=i(s),u=n(161),l=i(u)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--s]=i[e];return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(n=t.length){var n,i,o=0,s=0,a=t[s];for(null==e&&(e=r.default);++o<n;)(e(i=t[o],a)<0||0!==e(a,a))&&(a=i,s=o);return 0===e(a,a)?s:void 0}};var i=n(69),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){for(var i,r,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,i=t.length,r=-1,o=0;if(null==e)for(;++r<i;)(n=+t[r])&&(o+=n);else for(;++r<i;)(n=+e(t[r],r,t))&&(o+=n);return o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return(0,r.default)(arguments)};var i=n(283),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){return!(!t||!_.hasOwnProperty(t.type))&&_[t.type](t,e)}function o(t,e){return 0===(0,h.default)(t,e)}function s(t,e){var n=(0,h.default)(t[0],t[1]);return(0,h.default)(t[0],e)+(0,h.default)(e,t[1])<=n+p.epsilon}function a(t,e){return!!(0,c.default)(t.map(u),l(e))}function u(t){return t=t.map(l),t.pop(),t}function l(t){return[t[0]*p.radians,t[1]*p.radians]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(t&&g.hasOwnProperty(t.type)?g[t.type]:r)(t,e)};var f=n(284),c=i(f),d=n(285),h=i(d),p=n(8),g={Feature:function(t,e){return r(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)if(r(n[i].geometry,e))return!0;return!1}},_={Sphere:function(){return!0},Point:function(t,e){return o(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(o(n[i],e))return!0;return!1},LineString:function(t,e){return s(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(s(n[i],e))return!0;return!1},Polygon:function(t,e){return a(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(a(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)if(r(n[i],e))return!0;return!1}}},function(t,e,n){"use strict";function i(t,e,n){var i=(0,a.range)(t,e-u.epsilon,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function r(t,e,n){var i=(0,a.range)(t,e-u.epsilon,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function o(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return(0,a.range)((0,u.ceil)(l/b)*b,s,b).map(_).concat((0,a.range)((0,u.ceil)(h/x)*x,d,x).map(m)).concat((0,a.range)((0,u.ceil)(o/v)*v,n,v).filter(function(t){return(0,u.abs)(t%b)>u.epsilon}).map(p)).concat((0,a.range)((0,u.ceil)(c/y)*y,f,y).filter(function(t){return(0,u.abs)(t%x)>u.epsilon}).map(g))}var n,o,s,l,f,c,d,h,p,g,_,m,v=10,y=v,b=90,x=360,E=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[_(l).concat(m(d).slice(1),_(s).reverse().slice(1),m(h).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(l=+e[0][0],s=+e[1][0],h=+e[0][1],d=+e[1][1],l>s&&(e=l,l=s,s=e),h>d&&(e=h,h=d,d=e),t.precision(E)):[[l,h],[s,d]]},t.extentMinor=function(e){return arguments.length?(o=+e[0][0],n=+e[1][0],c=+e[0][1],f=+e[1][1],o>n&&(e=o,o=n,n=e),c>f&&(e=c,c=f,f=e),t.precision(E)):[[o,c],[n,f]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(b=+e[0],x=+e[1],t):[b,x]},t.stepMinor=function(e){return arguments.length?(v=+e[0],y=+e[1],t):[v,y]},t.precision=function(e){return arguments.length?(E=+e,p=i(c,f,90),g=r(o,n,E),_=i(h,d,90),m=r(l,s,E),t):E},t.extentMajor([[-180,-90+u.epsilon],[180,90-u.epsilon]]).extentMinor([[-180,-80-u.epsilon],[180,80+u.epsilon]])}function s(){return o()()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o,e.graticule10=s;var a=n(160),u=n(8)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=t[0]*i.radians,r=t[1]*i.radians,o=e[0]*i.radians,s=e[1]*i.radians,a=(0,i.cos)(r),u=(0,i.sin)(r),l=(0,i.cos)(s),f=(0,i.sin)(s),c=a*(0,i.cos)(n),d=a*(0,i.sin)(n),h=l*(0,i.cos)(o),p=l*(0,i.sin)(o),g=2*(0,i.asin)((0,i.sqrt)((0,i.haversin)(s-r)+a*l*(0,i.haversin)(o-n))),_=(0,i.sin)(g),m=g?function(t){var e=(0,i.sin)(t*=g)/_,n=(0,i.sin)(g-t)/_,r=n*c+e*h,o=n*d+e*p,s=n*u+e*f;return[(0,i.atan2)(o,r)*i.degrees,(0,i.atan2)(s,(0,i.sqrt)(r*r+o*o))*i.degrees]}:function(){return[n*i.degrees,r*i.degrees]};return m.distance=g,m};var i=n(8)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){function n(t){return t&&("function"==typeof s&&r.pointRadius(+s.apply(this,arguments)),(0,a.default)(t,i(r))),r.result()}var i,r,s=4.5;return n.area=function(t){return(0,a.default)(t,i(l.default)),l.default.result()},n.measure=function(t){return(0,a.default)(t,i(m.default)),m.default.result()},n.bounds=function(t){return(0,a.default)(t,i(c.default)),c.default.result()},n.centroid=function(t){return(0,a.default)(t,i(h.default)),h.default.result()},n.projection=function(e){return arguments.length?(i=null==e?(t=null,o.default):(t=e).stream,n):t},n.context=function(t){return arguments.length?(r=null==t?(e=null,new y.default):new g.default(e=t),"function"!=typeof s&&r.pointRadius(s),n):e},n.pointRadius=function(t){return arguments.length?(s="function"==typeof t?t:(r.pointRadius(+t),+t),n):s},n.projection(t).context(e)};var r=n(162),o=i(r),s=n(60),a=i(s),u=n(634),l=i(u),f=n(287),c=i(f),d=n(635),h=i(d),p=n(636),g=i(p),_=n(637),m=i(_),v=n(638),y=i(v)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){y.point=o}function o(t,e){y.point=s,u=f=t,l=c=e}function s(t,e){v.add(c*t-f*e),f=t,c=e}function a(){s(u,l)}Object.defineProperty(e,"__esModule",{value:!0});var u,l,f,c,d=n(68),h=i(d),p=n(8),g=n(53),_=i(g),m=(0,h.default)(),v=(0,h.default)(),y={point:_.default,lineStart:_.default,lineEnd:_.default,polygonStart:function(){y.lineStart=r,y.lineEnd=a},polygonEnd:function(){y.lineStart=y.lineEnd=y.point=_.default,m.add((0,p.abs)(v)),v.reset()},result:function(){var t=m/2;return m.reset(),t}};e.default=y},function(t,e,n){"use strict";function i(t,e){m+=t,v+=e,++y}function r(){P.point=o}function o(t,e){P.point=s,i(p=t,g=e)}function s(t,e){var n=t-p,r=e-g,o=(0,_.sqrt)(n*n+r*r);b+=o*(p+t)/2,x+=o*(g+e)/2,E+=o,i(p=t,g=e)}function a(){P.point=i}function u(){P.point=f}function l(){c(d,h)}function f(t,e){P.point=c,i(d=p=t,h=g=e)}function c(t,e){var n=t-p,r=e-g,o=(0,_.sqrt)(n*n+r*r);b+=o*(p+t)/2,x+=o*(g+e)/2,E+=o,o=g*t-p*e,w+=o*(p+t),M+=o*(g+e),L+=3*o,i(p=t,g=e)}Object.defineProperty(e,"__esModule",{value:!0});var d,h,p,g,_=n(8),m=0,v=0,y=0,b=0,x=0,E=0,w=0,M=0,L=0,P={point:i,lineStart:r,lineEnd:a,polygonStart:function(){P.lineStart=u,P.lineEnd=l},polygonEnd:function(){P.point=i,P.lineStart=r,P.lineEnd=a},result:function(){var t=L?[w/L,M/L]:E?[b/E,x/E]:y?[m/y,v/y]:[NaN,NaN];return m=v=y=b=x=E=w=M=L=0,t}};e.default=P},function(t,e,n){"use strict";function i(t){this._context=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(8),o=n(53),s=function(t){return t&&t.__esModule?t:{default:t}}(o);i.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,r.tau)}},result:s.default}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){m.point=o,a=l=t,u=f=e}function o(t,e){l-=t,f-=e,_.add((0,h.sqrt)(l*l+f*f)),l=t,f=e}Object.defineProperty(e,"__esModule",{value:!0});var s,a,u,l,f,c=n(68),d=i(c),h=n(8),p=n(53),g=i(p),_=(0,d.default)(),m={point:g.default,lineStart:function(){m.point=r},lineEnd:function(){s&&o(a,u),m.point=g.default},polygonStart:function(){s=!0},polygonEnd:function(){s=null},result:function(){var t=+_;return _.reset(),t}};e.default=m},function(t,e,n){"use strict";function i(){this._string=[]}function r(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype={_radius:4.5,_circle:r(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=r(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}}},function(t,e,n){"use strict";function i(t){var e,n=NaN,i=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(s,a){var l=s>0?u.pi:-u.pi,f=(0,u.abs)(s-n);(0,u.abs)(f-u.pi)<u.epsilon?(t.point(n,i=(i+a)/2>0?u.halfPi:-u.halfPi),t.point(o,i),t.lineEnd(),t.lineStart(),t.point(l,i),t.point(s,i),e=0):o!==l&&f>=u.pi&&((0,u.abs)(n-o)<u.epsilon&&(n-=o*u.epsilon),(0,u.abs)(s-l)<u.epsilon&&(s-=l*u.epsilon),i=r(n,i,s,a),t.point(o,i),t.lineEnd(),t.lineStart(),t.point(l,i),e=0),t.point(n=s,i=a),o=l},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function r(t,e,n,i){var r,o,s=(0,u.sin)(t-n);return(0,u.abs)(s)>u.epsilon?(0,u.atan)(((0,u.sin)(e)*(o=(0,u.cos)(i))*(0,u.sin)(n)-(0,u.sin)(i)*(r=(0,u.cos)(e))*(0,u.sin)(t))/(r*o*s)):(e+i)/2}function o(t,e,n,i){var r;if(null==t)r=n*u.halfPi,i.point(-u.pi,r),i.point(0,r),i.point(u.pi,r),i.point(u.pi,0),i.point(u.pi,-r),i.point(0,-r),i.point(-u.pi,-r),i.point(-u.pi,0),i.point(-u.pi,r);else if((0,u.abs)(t[0]-e[0])>u.epsilon){var o=t[0]<e[0]?u.pi:-u.pi;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}Object.defineProperty(e,"__esModule",{value:!0});var s=n(289),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=n(8);e.default=(0,a.default)(function(){return!0},i,o,[-u.pi,-u.halfPi])},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){function n(n,i,r,s){(0,o.circleStream)(s,t,e,r,n,i)}function i(t,e){return(0,s.cos)(t)*(0,s.cos)(e)>d}function a(t){var e,n,r,o,a;return{lineStart:function(){o=r=!1,a=1},point:function(f,d){var g,_=[f,d],m=i(f,d),v=h?m?0:c(f,d):m?c(f+(f<0?s.pi:-s.pi),d):0;if(!e&&(o=r=m)&&t.lineStart(),m!==r&&(!(g=l(e,_))||(0,u.default)(e,g)||(0,u.default)(_,g))&&(_[0]+=s.epsilon,_[1]+=s.epsilon,m=i(_[0],_[1])),m!==r)a=0,m?(t.lineStart(),g=l(_,e),t.point(g[0],g[1])):(g=l(e,_),t.point(g[0],g[1]),t.lineEnd()),e=g;else if(p&&e&&h^m){var y;v&n||!(y=l(_,e,!0))||(a=0,h?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!m||e&&(0,u.default)(e,_)||t.point(_[0],_[1]),e=_,r=m,n=v},lineEnd:function(){r&&t.lineEnd(),e=null},clean:function(){return a|(o&&r)<<1}}}function l(t,e,n){var i=(0,r.cartesian)(t),o=(0,r.cartesian)(e),a=[1,0,0],u=(0,r.cartesianCross)(i,o),l=(0,r.cartesianDot)(u,u),f=u[0],c=l-f*f;if(!c)return!n&&t;var h=d*l/c,p=-d*f/c,g=(0,r.cartesianCross)(a,u),_=(0,r.cartesianScale)(a,h),m=(0,r.cartesianScale)(u,p);(0,r.cartesianAddInPlace)(_,m);var v=g,y=(0,r.cartesianDot)(_,v),b=(0,r.cartesianDot)(v,v),x=y*y-b*((0,r.cartesianDot)(_,_)-1);if(!(x<0)){var E=(0,s.sqrt)(x),w=(0,r.cartesianScale)(v,(-y-E)/b);if((0,r.cartesianAddInPlace)(w,_),w=(0,r.spherical)(w),!n)return w;var M,L=t[0],P=e[0],C=t[1],I=e[1];P<L&&(M=L,L=P,P=M);var S=P-L,O=(0,s.abs)(S-s.pi)<s.epsilon,N=O||S<s.epsilon;if(!O&&I<C&&(M=C,C=I,I=M),N?O?C+I>0^w[1]<((0,s.abs)(w[0]-L)<s.epsilon?C:I):C<=w[1]&&w[1]<=I:S>s.pi^(L<=w[0]&&w[0]<=P)){var T=(0,r.cartesianScale)(v,(-y+E)/b);return(0,r.cartesianAddInPlace)(T,_),[w,(0,r.spherical)(T)]}}}function c(e,n){var i=h?t:s.pi-t,r=0;return e<-i?r|=1:e>i&&(r|=2),n<-i?r|=4:n>i&&(r|=8),r}var d=(0,s.cos)(t),h=d>0,p=(0,s.abs)(d)>s.epsilon;return(0,f.default)(i,a,n,h?[0,-t]:[-s.pi,t-s.pi])};var r=n(92),o=n(267),s=n(8),a=n(271),u=i(a),l=n(289),f=i(l)},function(t,e,n){"use strict";function i(t){return(0,a.transformer)({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function r(t,e){function n(i,r,o,a,u,f,c,d,h,p,g,_,m,v){var y=c-i,b=d-r,x=y*y+b*b;if(x>4*e&&m--){var E=a+p,w=u+g,M=f+_,L=(0,s.sqrt)(E*E+w*w+M*M),P=(0,s.asin)(M/=L),C=(0,s.abs)((0,s.abs)(M)-1)<s.epsilon||(0,s.abs)(o-h)<s.epsilon?(o+h)/2:(0,s.atan2)(w,E),I=t(C,P),S=I[0],O=I[1],N=S-i,T=O-r,R=b*N-y*T;(R*R/x>e||(0,s.abs)((y*N+b*T)/x-.5)>.3||a*p+u*g+f*_<l)&&(n(i,r,o,a,u,f,S,O,C,E/=L,w/=L,M,m,v),v.point(S,O),n(S,O,C,E,w,M,c,d,h,p,g,_,m,v))}}return function(e){function i(n,i){n=t(n,i),e.point(n[0],n[1])}function r(){y=NaN,M.point=s,e.lineStart()}function s(i,r){var s=(0,o.cartesian)([i,r]),a=t(i,r);n(y,b,v,x,E,w,y=a[0],b=a[1],v=i,x=s[0],E=s[1],w=s[2],u,e),e.point(y,b)}function a(){M.point=i,e.lineEnd()}function l(){r(),M.point=f,M.lineEnd=c}function f(t,e){s(d=t,e),h=y,p=b,g=x,_=E,m=w,M.point=s}function c(){n(y,b,v,x,E,w,h,p,d,g,_,m,u,e),M.lineEnd=a,a()}var d,h,p,g,_,m,v,y,b,x,E,w,M={point:i,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),M.lineStart=l},polygonEnd:function(){e.polygonEnd(),M.lineStart=r}};return M}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return+e?r(t,e):i(t)};var o=n(92),s=n(8),a=n(120),u=16,l=(0,s.cos)(30*s.radians)},function(t,e,n){"use strict";function i(t){function e(t,e){return[t*n,(0,r.sin)(e)/n]}var n=(0,r.cos)(t);return e.invert=function(t,e){return[t/n,(0,r.asin)(e*n)]},e}Object.defineProperty(e,"__esModule",{value:!0}),e.cylindricalEqualAreaRaw=i;var r=n(8)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){var e=t.length;return{point:function(n,i){for(var r=-1;++r<e;)t[r].point(n,i)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){function t(t){var e=t[0],n=t[1];return d=null,s.point(e,n),d||(u.point(e,n),d)||(c.point(e,n),d)}function e(){return n=i=null,t}var n,i,s,u,c,d,h=(0,a.default)(),p=(0,l.default)().rotate([154,0]).center([-2,58.5]).parallels([55,65]),g=(0,l.default)().rotate([157,0]).center([-3,19.9]).parallels([8,18]),_={point:function(t,e){d=[t,e]}};return t.invert=function(t){var e=h.scale(),n=h.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?p:r>=.166&&r<.234&&i>=-.214&&i<-.115?g:h).invert(t)},t.stream=function(t){return n&&i===t?n:n=r([h.stream(i=t),p.stream(t),g.stream(t)])},t.precision=function(t){return arguments.length?(h.precision(t),p.precision(t),g.precision(t),e()):h.precision()},t.scale=function(e){return arguments.length?(h.scale(e),p.scale(.35*e),g.scale(e),t.translate(h.translate())):h.scale()},t.translate=function(t){if(!arguments.length)return h.translate();var n=h.scale(),i=+t[0],r=+t[1];return s=h.translate(t).clipExtent([[i-.455*n,r-.238*n],[i+.455*n,r+.238*n]]).stream(_),u=p.translate([i-.307*n,r+.201*n]).clipExtent([[i-.425*n+o.epsilon,r+.12*n+o.epsilon],[i-.214*n-o.epsilon,r+.234*n-o.epsilon]]).stream(_),c=g.translate([i-.205*n,r+.212*n]).clipExtent([[i-.214*n+o.epsilon,r+.166*n+o.epsilon],[i-.115*n-o.epsilon,r+.234*n-o.epsilon]]).stream(_),e()},t.fitExtent=function(e,n){return(0,f.fitExtent)(t,e,n)},t.fitSize=function(e,n){return(0,f.fitSize)(t,e,n)},t.scale(1070)};var o=n(8),s=n(288),a=i(s),u=n(163),l=i(u),f=n(165)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.azimuthalEqualAreaRaw=void 0,e.default=function(){return(0,s.default)(a).scale(124.75).clipAngle(179.999)};var i=n(8),r=n(94),o=n(41),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=e.azimuthalEqualAreaRaw=(0,r.azimuthalRaw)(function(t){return(0,i.sqrt)(2/(1+t))});a.invert=(0,r.azimuthalInvert)(function(t){return 2*(0,i.asin)(t/2)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.azimuthalEquidistantRaw=void 0,e.default=function(){return(0,s.default)(a).scale(79.4188).clipAngle(179.999)};var i=n(8),r=n(94),o=n(41),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=e.azimuthalEquidistantRaw=(0,r.azimuthalRaw)(function(t){return(t=(0,i.acos)(t))&&t/(0,i.sin)(t)});a.invert=(0,r.azimuthalInvert)(function(t){return t})},function(t,e,n){"use strict";function i(t){return(0,o.tan)((o.halfPi+t)/2)}function r(t,e){function n(t,e){u>0?e<-o.halfPi+o.epsilon&&(e=-o.halfPi+o.epsilon):e>o.halfPi-o.epsilon&&(e=o.halfPi-o.epsilon);var n=u/(0,o.pow)(i(e),s);return[n*(0,o.sin)(s*t),u-n*(0,o.cos)(s*t)]}var r=(0,o.cos)(t),s=t===e?(0,o.sin)(t):(0,o.log)(r/(0,o.cos)(e))/(0,o.log)(i(e)/i(t)),u=r*(0,o.pow)(i(t),s)/s;return s?(n.invert=function(t,e){var n=u-e,i=(0,o.sign)(s)*(0,o.sqrt)(t*t+n*n);return[(0,o.atan2)(t,(0,o.abs)(n))/s*(0,o.sign)(n),2*(0,o.atan)((0,o.pow)(u/i,1/s))-o.halfPi]},n):a.mercatorRaw}Object.defineProperty(e,"__esModule",{value:!0}),e.conicConformalRaw=r,e.default=function(){return(0,s.conicProjection)(r).scale(109.5).parallels([30,30])};var o=n(8),s=n(164),a=n(166)},function(t,e,n){"use strict";function i(t,e){function n(t,e){var n=a-e,i=o*t;return[n*(0,r.sin)(i),a-n*(0,r.cos)(i)]}var i=(0,r.cos)(t),o=t===e?(0,r.sin)(t):(i-(0,r.cos)(e))/(e-t),a=i/o+t;return(0,r.abs)(o)<r.epsilon?s.equirectangularRaw:(n.invert=function(t,e){var n=a-e;return[(0,r.atan2)(t,(0,r.abs)(n))/o*(0,r.sign)(n),a-(0,r.sign)(o)*(0,r.sqrt)(t*t+n*n)]},n)}Object.defineProperty(e,"__esModule",{value:!0}),e.conicEquidistantRaw=i,e.default=function(){return(0,o.conicProjection)(i).scale(131.154).center([0,13.9389])};var r=n(8),o=n(164),s=n(290)},function(t,e,n){"use strict";function i(t,e){var n=(0,r.cos)(e),i=(0,r.cos)(t)*n;return[n*(0,r.sin)(t)/i,(0,r.sin)(e)/i]}Object.defineProperty(e,"__esModule",{value:!0}),e.gnomonicRaw=i,e.default=function(){return(0,a.default)(i).scale(144.049).clipAngle(60)};var r=n(8),o=n(94),s=n(41),a=function(t){return t&&t.__esModule?t:{default:t}}(s);i.invert=(0,o.azimuthalInvert)(r.atan)},function(t,e,n){"use strict";function i(t,e,n,i){return 1===t&&1===e&&0===n&&0===i?s.default:(0,a.transformer)({point:function(r,o){this.stream.point(r*t+n,o*e+i)}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){function t(){return a=l=null,f}var e,n,o,a,l,f,c=1,d=0,h=0,p=1,g=1,_=s.default,m=null,v=s.default;return f={stream:function(t){return a&&l===t?a:a=_(v(l=t))},clipExtent:function(i){return arguments.length?(v=null==i?(m=e=n=o=null,s.default):(0,r.clipExtent)(m=+i[0][0],e=+i[0][1],n=+i[1][0],o=+i[1][1]),t()):null==m?null:[[m,e],[n,o]]},scale:function(e){return arguments.length?(_=i((c=+e)*p,c*g,d,h),t()):c},translate:function(e){return arguments.length?(_=i(c*p,c*g,d=+e[0],h=+e[1]),t()):[d,h]},reflectX:function(e){return arguments.length?(_=i(c*(p=e?-1:1),c*g,d,h),t()):p<0},reflectY:function(e){return arguments.length?(_=i(c*p,c*(g=e?-1:1),d,h),t()):g<0},fitExtent:function(t,e){return(0,u.fitExtent)(f,t,e)},fitSize:function(t,e){return(0,u.fitSize)(f,t,e)}}};var r=n(159),o=n(162),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=n(120),u=n(165)},function(t,e,n){"use strict";function i(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}Object.defineProperty(e,"__esModule",{value:!0}),e.naturalEarth1Raw=i,e.default=function(){return(0,o.default)(i).scale(175.295)};var r=n(41),o=function(t){return t&&t.__esModule?t:{default:t}}(r),s=n(8);i.invert=function(t,e){var n,i=e,r=25;do{var o=i*i,a=o*o;i-=n=(i*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while((0,s.abs)(n)>s.epsilon&&--r>0);return[t/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]}},function(t,e,n){"use strict";function i(t,e){return[(0,r.cos)(e)*(0,r.sin)(t),(0,r.sin)(e)]}Object.defineProperty(e,"__esModule",{value:!0}),e.orthographicRaw=i,e.default=function(){return(0,a.default)(i).scale(249.5).clipAngle(90+r.epsilon)};var r=n(8),o=n(94),s=n(41),a=function(t){return t&&t.__esModule?t:{default:t}}(s);i.invert=(0,o.azimuthalInvert)(r.asin)},function(t,e,n){"use strict";function i(t,e){var n=(0,r.cos)(e),i=1+(0,r.cos)(t)*n;return[n*(0,r.sin)(t)/i,(0,r.sin)(e)/i]}Object.defineProperty(e,"__esModule",{value:!0}),e.stereographicRaw=i,e.default=function(){return(0,a.default)(i).scale(250).clipAngle(142)};var r=n(8),o=n(94),s=n(41),a=function(t){return t&&t.__esModule?t:{default:t}}(s);i.invert=(0,o.azimuthalInvert)(function(t){return 2*(0,r.atan)(t)})},function(t,e,n){"use strict";function i(t,e){return[(0,r.log)((0,r.tan)((r.halfPi+e)/2)),-t]}Object.defineProperty(e,"__esModule",{value:!0}),e.transverseMercatorRaw=i,e.default=function(){var t=(0,o.mercatorProjection)(i),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)};var r=n(8),o=n(166);i.invert=function(t,e){return[-e,2*(0,r.atan)((0,r.exp)(t))-r.halfPi]}},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(655),o={property:"value",scale:["#eeeeee","#ee2222"],steps:5,mode:"q",defaultStyle:{opacity:0}};L.Choropleth=L.GeoJSON.extend({initialize:function(t,e){this.options=L.Util.extend(o,e||{}),L.GeoJSON.prototype.initialize.call(this,t,e.style),this.setProperty(this.options.property)},setProperty:function(t,e){e=void 0===e||e,this.options.property=t||this.options.property,e&&this.setStyle()},setStyle:function(t){function e(t){var e,r={};if(e="function"==typeof n.property?n.property(t):t.properties[n.property],isNaN(e)||void 0===e)r={fillOpacity:0};else for(var o=0;o<a.length;o++)if(e<=a[o]){r.fillColor=u[o];break}switch(void 0===l?"undefined":i(l)){case"function":return L.Util.extend(r,l(t));case"object":return L.Util.extend(r,l);default:return r}}var n=this.options,o=this.toGeoJSON(),s=o.features.map("function"==typeof n.property?n.property:function(t){return t.properties[n.property]}),a=r.limits(s,n.mode,n.steps-1),u=n.colors&&n.colors.length===a.length?n.colors:r.scale(n.scale).colors(a.length),l=(r.scale(u).domain(a),t||n.style);L.GeoJSON.prototype.setStyle.call(this,e)}}),t.exports=L.Choropleth},function(t,e,n){"use strict";(function(t){var n,i;/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */
(function(){var r,o,s,a,u,l,f,c,d,h,p,g,_,m,v,y,b,x,E,w,M,L,P,C,I,S,O,N,T,R,A,D,k,j,F,z,G,B,q,U,V,Y,X,H,Z,W,K,J,Q,$,tt,et,nt,it,rt,ot,st,at,ut,lt,ft,ct,dt,ht,pt,gt,_t,mt,vt,yt,bt,xt,Et,wt,Mt,Lt,Pt,Ct,It,St,Ot,Nt=[].slice;Pt=function(){var t,e,n,i,r;for(t={},r="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),i=0,e=r.length;i<e;i++)n=r[i],t["[object "+n+"]"]=n.toLowerCase();return function(e){var n;return n=Object.prototype.toString.call(e),t[n]||"object"}}(),K=function(t,e,n){return null==e&&(e=0),null==n&&(n=1),t<e&&(t=e),t>n&&(t=n),t},Ct=function(t){return t.length>=3?[].slice.call(t):t[0]},M=function(t){var e,n;for(t._clipped=!1,t._unclipped=t.slice(0),e=n=0;n<3;e=++n)e<3?((t[e]<0||t[e]>255)&&(t._clipped=!0),t[e]<0&&(t[e]=0),t[e]>255&&(t[e]=255)):3===e&&(t[e]<0&&(t[e]=0),t[e]>1&&(t[e]=1));return t._clipped||delete t._unclipped,t},a=Math.PI,xt=Math.round,P=Math.cos,N=Math.floor,ot=Math.pow,J=Math.log,wt=Math.sin,Mt=Math.sqrt,m=Math.atan2,tt=Math.max,_=Math.abs,f=2*a,u=a/3,o=a/180,l=180/a,w=function(){return arguments[0]instanceof r?arguments[0]:function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,arguments,function(){})},w.default=w,g=[],void 0!==t&&null!==t&&null!=t.exports&&(t.exports=w),n=[],void 0!==(i=function(){return w}.apply(e,n))&&(t.exports=i),w.version="1.3.4",p={},d=[],h=!1,r=function(){function t(){var t,e,n,i,r,o,s,a,u;for(o=this,e=[],a=0,i=arguments.length;a<i;a++)null!=(t=arguments[a])&&e.push(t);if(e.length>1&&(s=e[e.length-1]),null!=p[s])o._rgb=M(p[s](Ct(e.slice(0,-1))));else{for(h||(d=d.sort(function(t,e){return e.p-t.p}),h=!0),u=0,r=d.length;u<r&&(n=d[u],!(s=n.test.apply(n,e)));u++);s&&(o._rgb=M(p[s].apply(p,e)))}null==o._rgb&&console.warn("unknown format: "+e),null==o._rgb&&(o._rgb=[0,0,0]),3===o._rgb.length&&o._rgb.push(1)}return t.prototype.toString=function(){return this.hex()},t.prototype.clone=function(){return w(me._rgb)},t}(),w._input=p,/**
  	ColorBrewer colors for chroma.js
  
  	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
  	Pennsylvania State University.
  
  	Licensed under the Apache License, Version 2.0 (the "License"); 
  	you may not use this file except in compliance with the License.
  	You may obtain a copy of the License at	
  	http://www.apache.org/licenses/LICENSE-2.0
  
  	Unless required by applicable law or agreed to in writing, software distributed
  	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
  	CONDITIONS OF ANY KIND, either express or implied. See the License for the
  	specific language governing permissions and limitations under the License.
  
      @preserve
   */
w.brewer=x={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var t,e;e=[];for(t in x)e.push(x[t.toLowerCase()]=x[t])}(),It={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},w.colors=It,Y=function(){var t,e,n,i,r,o,a,u,l;return e=Ct(arguments),r=e[0],t=e[1],n=e[2],u=(r+16)/116,a=isNaN(t)?u:u+t/500,l=isNaN(n)?u:u-n/200,u=s.Yn*X(u),a=s.Xn*X(a),l=s.Zn*X(l),o=Ot(3.2404542*a-1.5371385*u-.4985314*l),i=Ot(-.969266*a+1.8760108*u+.041556*l),n=Ot(.0556434*a-.2040259*u+1.0572252*l),[o,i,n,e.length>3?e[3]:1]},Ot=function(t){return 255*(t<=.00304?12.92*t:1.055*ot(t,1/2.4)-.055)},X=function(t){return t>s.t1?t*t*t:s.t2*(t-s.t0)},s={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ht=function(){var t,e,n,i,r,o,s,a;return i=Ct(arguments),n=i[0],e=i[1],t=i[2],r=vt(n,e,t),o=r[0],s=r[1],a=r[2],[116*s-16,500*(o-s),200*(s-a)]},yt=function(t){return(t/=255)<=.04045?t/12.92:ot((t+.055)/1.055,2.4)},St=function(t){return t>s.t3?ot(t,1/3):t/s.t2+s.t0},vt=function(){var t,e,n,i,r,o,a;return i=Ct(arguments),n=i[0],e=i[1],t=i[2],n=yt(n),e=yt(e),t=yt(t),r=St((.4124564*n+.3575761*e+.1804375*t)/s.Xn),o=St((.2126729*n+.7151522*e+.072175*t)/s.Yn),a=St((.0193339*n+.119192*e+.9503041*t)/s.Zn),[r,o,a]},w.lab=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,Nt.call(arguments).concat(["lab"]),function(){})},p.lab=Y,r.prototype.lab=function(){return ht(this._rgb)},v=function(t){var e,n,i,r,o,s,a,u,l,f,c;return t=function(){var e,n,i;for(i=[],n=0,e=t.length;n<e;n++)r=t[n],i.push(w(r));return i}(),2===t.length?(l=function(){var e,n,i;for(i=[],n=0,e=t.length;n<e;n++)r=t[n],i.push(r.lab());return i}(),o=l[0],s=l[1],e=function(t){var e,n;return n=function(){var n,i;for(i=[],e=n=0;n<=2;e=++n)i.push(o[e]+t*(s[e]-o[e]));return i}(),w.lab.apply(w,n)}):3===t.length?(f=function(){var e,n,i;for(i=[],n=0,e=t.length;n<e;n++)r=t[n],i.push(r.lab());return i}(),o=f[0],s=f[1],a=f[2],e=function(t){var e,n;return n=function(){var n,i;for(i=[],e=n=0;n<=2;e=++n)i.push((1-t)*(1-t)*o[e]+2*(1-t)*t*s[e]+t*t*a[e]);return i}(),w.lab.apply(w,n)}):4===t.length?(c=function(){var e,n,i;for(i=[],n=0,e=t.length;n<e;n++)r=t[n],i.push(r.lab());return i}(),o=c[0],s=c[1],a=c[2],u=c[3],e=function(t){var e,n;return n=function(){var n,i;for(i=[],e=n=0;n<=2;e=++n)i.push((1-t)*(1-t)*(1-t)*o[e]+3*(1-t)*(1-t)*t*s[e]+3*(1-t)*t*t*a[e]+t*t*t*u[e]);return i}(),w.lab.apply(w,n)}):5===t.length&&(n=v(t.slice(0,3)),i=v(t.slice(2,5)),e=function(t){return t<.5?n(2*t):i(2*(t-.5))}),e},w.bezier=function(t){var e;return e=v(t),e.scale=function(){return w.scale(e)},e},w.cubehelix=function(t,e,n,i,r){var o,s,a;return null==t&&(t=300),null==e&&(e=-1.5),null==n&&(n=1),null==i&&(i=1),null==r&&(r=[0,1]),o=0,"array"===Pt(r)?s=r[1]-r[0]:(s=0,r=[r,r]),a=function(a){var u,l,c,d,h,p,g,_,m;return u=f*((t+120)/360+e*a),g=ot(r[0]+s*a,i),p=0!==o?n[0]+a*o:n,l=p*g*(1-g)/2,d=P(u),m=wt(u),_=g+l*(-.14861*d+1.78277*m),h=g+l*(-.29227*d-.90649*m),c=g+l*(1.97294*d),w(M([255*_,255*h,255*c]))},a.start=function(e){return null==e?t:(t=e,a)},a.rotations=function(t){return null==t?e:(e=t,a)},a.gamma=function(t){return null==t?i:(i=t,a)},a.hue=function(t){return null==t?n:(n=t,"array"===Pt(n)?0===(o=n[1]-n[0])&&(n=n[1]):o=0,a)},a.lightness=function(t){return null==t?r:("array"===Pt(t)?(r=t,s=t[1]-t[0]):(r=[t,t],s=0),a)},a.scale=function(){return w.scale(a)},a.hue(n),a},w.random=function(){var t,e,n;for(e="0123456789abcdef",t="#",n=0;n<6;++n)t+=e.charAt(N(16*Math.random()));return new r(t)},g=[],F=function(t,e,n,i){var r,o,s,a;for(null==n&&(n=.5),null==i&&(i="rgb"),"object"!==Pt(t)&&(t=w(t)),"object"!==Pt(e)&&(e=w(e)),s=0,o=g.length;s<o;s++)if(r=g[s],i===r[0]){a=r[1](t,e,n,i);break}if(null==a)throw"color mode "+i+" is not supported";return a.alpha(t.alpha()+n*(e.alpha()-t.alpha()))},w.interpolate=F,r.prototype.interpolate=function(t,e,n){return F(this,t,e,n)},w.mix=F,r.prototype.mix=r.prototype.interpolate,p.rgb=function(){var t,e,n,i;e=Ct(arguments),n=[];for(t in e)i=e[t],n.push(i);return n},w.rgb=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,Nt.call(arguments).concat(["rgb"]),function(){})},r.prototype.rgb=function(t){return null==t&&(t=!0),t?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},r.prototype.rgba=function(t){return null==t&&(t=!0),t?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},d.push({p:3,test:function(t){var e;return e=Ct(arguments),"array"===Pt(e)&&3===e.length?"rgb":4===e.length&&"number"===Pt(e[3])&&e[3]>=0&&e[3]<=1?"rgb":void 0}}),p.lrgb=p.rgb,B=function(t,e,n,i){var o,s;return o=t._rgb,s=e._rgb,new r(Mt(ot(o[0],2)*(1-n)+ot(s[0],2)*n),Mt(ot(o[1],2)*(1-n)+ot(s[1],2)*n),Mt(ot(o[2],2)*(1-n)+ot(s[2],2)*n),i)},c=function(t){var e,n,i,o,s,a;for(n=1/t.length,a=[0,0,0,0],o=0,i=t.length;o<i;o++)e=t[o],s=e._rgb,a[0]+=ot(s[0],2)*n,a[1]+=ot(s[1],2)*n,a[2]+=ot(s[2],2)*n,a[3]+=s[3]*n;return a[0]=Mt(a[0]),a[1]=Mt(a[1]),a[2]=Mt(a[2]),new r(a)},g.push(["lrgb",B]),w.average=function(t,e){var n,i,r,o,s,u,l,f,d,h,p,g,_;if(null==e&&(e="rgb"),d=t.length,t=t.map(function(t){return w(t)}),l=t.splice(0,1)[0],"lrgb"===e)return c(t);g=l.get(e),o=[],s=0,u=0;for(f in g)g[f]=g[f]||0,o.push(isNaN(g[f])?0:1),"h"!==e.charAt(f)||isNaN(g[f])||(n=g[f]/180*a,s+=P(n),u+=wt(n));for(i=l.alpha(),p=0,h=t.length;p<h;p++){r=t[p],_=r.get(e),i+=r.alpha();for(f in g)isNaN(_[f])||(g[f]+=_[f],o[f]+=1,"h"===e.charAt(f)&&(n=g[f]/180*a,s+=P(n),u+=wt(n)))}for(f in g)if(g[f]=g[f]/o[f],"h"===e.charAt(f)){for(n=m(u/o[f],s/o[f])/a*180;n<0;)n+=360;for(;n>=360;)n-=360;g[f]=n}return w(g,e).alpha(i/d)},R=function(t){var e,n,i,r,o,s;if(t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),s=parseInt(t,16),r=s>>16,i=s>>8&255,n=255&s,[r,i,n,1];if(t.match(/^#?([A-Fa-f0-9]{8})$/))return 9===t.length&&(t=t.substr(1)),s=parseInt(t,16),r=s>>24&255,i=s>>16&255,n=s>>8&255,e=xt((255&s)/255*100)/100,[r,i,n,e];if(null!=p.css&&(o=p.css(t)))return o;throw"unknown color: "+t},lt=function(t,e){var n,i,r,o,s,a,u;return null==e&&(e="rgb"),s=t[0],r=t[1],i=t[2],n=t[3],s=Math.round(s),r=Math.round(r),i=Math.round(i),u=s<<16|r<<8|i,a="000000"+u.toString(16),a=a.substr(a.length-6),o="0"+xt(255*n).toString(16),o=o.substr(o.length-2),"#"+function(){switch(e.toLowerCase()){case"rgba":return a+o;case"argb":return o+a;default:return a}}()},p.hex=function(t){return R(t)},w.hex=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,Nt.call(arguments).concat(["hex"]),function(){})},r.prototype.hex=function(t){return null==t&&(t="rgb"),lt(this._rgb,t)},d.push({p:4,test:function(t){if(1===arguments.length&&"string"===Pt(t))return"hex"}}),k=function(){var t,e,n,i,r,o,s,a,u,l,f,c,d,h;if(t=Ct(arguments),r=t[0],f=t[1],s=t[2],0===f)u=i=e=255*s;else{for(h=[0,0,0],n=[0,0,0],d=s<.5?s*(1+f):s+f-s*f,c=2*s-d,r/=360,h[0]=r+1/3,h[1]=r,h[2]=r-1/3,o=a=0;a<=2;o=++a)h[o]<0&&(h[o]+=1),h[o]>1&&(h[o]-=1),6*h[o]<1?n[o]=c+6*(d-c)*h[o]:2*h[o]<1?n[o]=d:3*h[o]<2?n[o]=c+(d-c)*(2/3-h[o])*6:n[o]=c;l=[xt(255*n[0]),xt(255*n[1]),xt(255*n[2])],u=l[0],i=l[1],e=l[2]}return t.length>3?[u,i,e,t[3]]:[u,i,e]},ct=function(t,e,n){var i,r,o,s,a;return void 0!==t&&t.length>=3&&(s=t,t=s[0],e=s[1],n=s[2]),t/=255,e/=255,n/=255,o=Math.min(t,e,n),tt=Math.max(t,e,n),r=(tt+o)/2,tt===o?(a=0,i=Number.NaN):a=r<.5?(tt-o)/(tt+o):(tt-o)/(2-tt-o),t===tt?i=(e-n)/(tt-o):e===tt?i=2+(n-t)/(tt-o):n===tt&&(i=4+(t-e)/(tt-o)),i*=60,i<0&&(i+=360),[i,a,r]},w.hsl=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,Nt.call(arguments).concat(["hsl"]),function(){})},p.hsl=k,r.prototype.hsl=function(){return ct(this._rgb)},j=function(){var t,e,n,i,r,o,s,a,u,l,f,c,d,h,p,g,_,m;if(t=Ct(arguments),r=t[0],g=t[1],m=t[2],m*=255,0===g)u=i=e=m;else switch(360===r&&(r=0),r>360&&(r-=360),r<0&&(r+=360),r/=60,o=N(r),n=r-o,s=m*(1-g),a=m*(1-g*n),_=m*(1-g*(1-n)),o){case 0:l=[m,_,s],u=l[0],i=l[1],e=l[2];break;case 1:f=[a,m,s],u=f[0],i=f[1],e=f[2];break;case 2:c=[s,m,_],u=c[0],i=c[1],e=c[2];break;case 3:d=[s,a,m],u=d[0],i=d[1],e=d[2];break;case 4:h=[_,s,m],u=h[0],i=h[1],e=h[2];break;case 5:p=[m,s,a],u=p[0],i=p[1],e=p[2]}return[u,i,e,t.length>3?t[3]:1]},dt=function(){var t,e,n,i,r,o,s,a,u;return s=Ct(arguments),o=s[0],n=s[1],t=s[2],r=Math.min(o,n,t),tt=Math.max(o,n,t),e=tt-r,u=tt/255,0===tt?(i=Number.NaN,a=0):(a=e/tt,o===tt&&(i=(n-t)/e),n===tt&&(i=2+(t-o)/e),t===tt&&(i=4+(o-n)/e),(i*=60)<0&&(i+=360)),[i,a,u]},w.hsv=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,Nt.call(arguments).concat(["hsv"]),function(){})},p.hsv=j,r.prototype.hsv=function(){return dt(this._rgb)},it=function(t){var e,n,i;return"number"===Pt(t)&&t>=0&&t<=16777215?(i=t>>16,n=t>>8&255,e=255&t,[i,n,e,1]):(console.warn("unknown num color: "+t),[0,0,0,1])},_t=function(){var t,e,n,i;return i=Ct(arguments),n=i[0],e=i[1],t=i[2],(n<<16)+(e<<8)+t},w.num=function(t){return new r(t,"num")},r.prototype.num=function(t){return null==t&&(t="rgb"),_t(this._rgb,t)},p.num=it,d.push({p:1,test:function(t){if(1===arguments.length&&"number"===Pt(t)&&t>=0&&t<=16777215)return"num"}}),T=function(){var t,e,n,i,r,o,s,a,u,l,f,c,d,h,p,g,_,m,v,y;if(n=Ct(arguments),a=n[0],r=n[1],e=n[2],r/=100,s=s/100*255,t=255*r,0===r)c=s=i=e;else switch(360===a&&(a=0),a>360&&(a-=360),a<0&&(a+=360),a/=60,u=N(a),o=a-u,l=e*(1-r),f=l+t*(1-o),v=l+t*o,y=l+t,u){case 0:d=[y,v,l],c=d[0],s=d[1],i=d[2];break;case 1:h=[f,y,l],c=h[0],s=h[1],i=h[2];break;case 2:p=[l,y,v],c=p[0],s=p[1],i=p[2];break;case 3:g=[l,f,y],c=g[0],s=g[1],i=g[2];break;case 4:_=[v,l,y],c=_[0],s=_[1],i=_[2];break;case 5:m=[y,l,f],c=m[0],s=m[1],i=m[2]}return[c,s,i,n.length>3?n[3]:1]},ut=function(){var t,e,n,i,r,o,s,a,u;return u=Ct(arguments),a=u[0],r=u[1],e=u[2],s=Math.min(a,r,e),tt=Math.max(a,r,e),i=tt-s,n=100*i/255,t=s/(255-i)*100,0===i?o=Number.NaN:(a===tt&&(o=(r-e)/i),r===tt&&(o=2+(e-a)/i),e===tt&&(o=4+(a-r)/i),(o*=60)<0&&(o+=360)),[o,n,t]},w.hcg=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,Nt.call(arguments).concat(["hcg"]),function(){})},p.hcg=T,r.prototype.hcg=function(){return ut(this._rgb)},C=function(t){var e,n,i,r,o,s,a,u;if(t=t.toLowerCase(),null!=w.colors&&w.colors[t])return R(w.colors[t]);if(o=t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(a=o.slice(1,4),r=s=0;s<=2;r=++s)a[r]=+a[r];a[3]=1}else if(o=t.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(a=o.slice(1,5),r=u=0;u<=3;r=++u)a[r]=+a[r];else if(o=t.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(a=o.slice(1,4),r=e=0;e<=2;r=++e)a[r]=xt(2.55*a[r]);a[3]=1}else if(o=t.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(a=o.slice(1,5),r=n=0;n<=2;r=++n)a[r]=xt(2.55*a[r]);a[3]=+a[3]}else(o=t.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(i=o.slice(1,4),i[1]*=.01,i[2]*=.01,a=k(i),a[3]=1):(o=t.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(i=o.slice(1,4),i[1]*=.01,i[2]*=.01,a=k(i),a[3]=+o[4]);return a},at=function(t){var e;return e=t[3]<1?"rgba":"rgb","rgb"===e?e+"("+t.slice(0,3).map(xt).join(",")+")":"rgba"===e?e+"("+t.slice(0,3).map(xt).join(",")+","+t[3]+")":void 0},bt=function(t){return xt(100*t)/100},D=function(t,e){var n;return n=e<1?"hsla":"hsl",t[0]=bt(t[0]||0),t[1]=bt(100*t[1])+"%",t[2]=bt(100*t[2])+"%","hsla"===n&&(t[3]=e),n+"("+t.join(",")+")"},p.css=function(t){return C(t)},w.css=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,Nt.call(arguments).concat(["css"]),function(){})},r.prototype.css=function(t){return null==t&&(t="rgb"),"rgb"===t.slice(0,3)?at(this._rgb):"hsl"===t.slice(0,3)?D(this.hsl(),this.alpha()):void 0},p.named=function(t){return R(It[t])},d.push({p:5,test:function(t){if(1===arguments.length&&null!=It[t])return"named"}}),r.prototype.name=function(t){var e,n;arguments.length&&(It[t]&&(this._rgb=R(It[t])),this._rgb[3]=1),e=this.hex();for(n in It)if(e===It[n])return n;return e},H=function(){var t,e,n,i;return i=Ct(arguments),n=i[0],t=i[1],e=i[2],e*=o,[n,P(e)*t,wt(e)*t]},Z=function(){var t,e,n,i,r,o,s,a,u,l,f;return n=Ct(arguments),a=n[0],r=n[1],s=n[2],l=H(a,r,s),t=l[0],e=l[1],i=l[2],f=Y(t,e,i),u=f[0],o=f[1],i=f[2],[u,o,i,n.length>3?n[3]:1]},V=function(){var t,e,n,i,r,o;return o=Ct(arguments),r=o[0],t=o[1],e=o[2],n=Mt(t*t+e*e),i=(m(e,t)*l+360)%360,0===xt(1e4*n)&&(i=Number.NaN),[r,n,i]},pt=function(){var t,e,n,i,r,o,s;return o=Ct(arguments),r=o[0],n=o[1],e=o[2],s=ht(r,n,e),i=s[0],t=s[1],e=s[2],V(i,t,e)},w.lch=function(){var t;return t=Ct(arguments),new r(t,"lch")},w.hcl=function(){var t;return t=Ct(arguments),new r(t,"hcl")},p.lch=Z,p.hcl=function(){var t,e,n,i;return i=Ct(arguments),e=i[0],t=i[1],n=i[2],Z([n,t,e])},r.prototype.lch=function(){return pt(this._rgb)},r.prototype.hcl=function(){return pt(this._rgb).reverse()},st=function(t){var e,n,i,r,o,s,a,u,l;return null==t&&(t="rgb"),u=Ct(arguments),a=u[0],r=u[1],e=u[2],a/=255,r/=255,e/=255,o=1-Math.max(a,Math.max(r,e)),i=o<1?1/(1-o):0,n=(1-a-o)*i,s=(1-r-o)*i,l=(1-e-o)*i,[n,s,l,o]},L=function(){var t,e,n,i,r,o,s,a,u;return e=Ct(arguments),i=e[0],s=e[1],u=e[2],o=e[3],t=e.length>4?e[4]:1,1===o?[0,0,0,t]:(a=i>=1?0:255*(1-i)*(1-o),r=s>=1?0:255*(1-s)*(1-o),n=u>=1?0:255*(1-u)*(1-o),[a,r,n,t])},p.cmyk=function(){return L(Ct(arguments))},w.cmyk=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,Nt.call(arguments).concat(["cmyk"]),function(){})},r.prototype.cmyk=function(){return st(this._rgb)},p.gl=function(){var t,e,n,i,r;for(i=function(){var t,n;t=Ct(arguments),n=[];for(e in t)r=t[e],n.push(r);return n}.apply(this,arguments),t=n=0;n<=2;t=++n)i[t]*=255;return i},w.gl=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,Nt.call(arguments).concat(["gl"]),function(){})},r.prototype.gl=function(){var t;return t=this._rgb,[t[0]/255,t[1]/255,t[2]/255,t[3]]},gt=function(t,e,n){var i;return i=Ct(arguments),t=i[0],e=i[1],n=i[2],t=Q(t),e=Q(e),n=Q(n),.2126*t+.7152*e+.0722*n},Q=function(t){return t/=255,t<=.03928?t/12.92:ot((t+.055)/1.055,2.4)},U=function(t,e,n,i){var o,s;return o=t._rgb,s=e._rgb,new r(o[0]+n*(s[0]-o[0]),o[1]+n*(s[1]-o[1]),o[2]+n*(s[2]-o[2]),i)},g.push(["rgb",U]),r.prototype.luminance=function(t,e){var n,i,r,o;return null==e&&(e="rgb"),arguments.length?(0===t?this._rgb=[0,0,0,this._rgb[3]]:1===t?this._rgb=[255,255,255,this._rgb[3]]:(i=1e-7,r=20,o=function(n,s){var a,u;return u=n.interpolate(s,.5,e),a=u.luminance(),Math.abs(t-a)<i||!r--?u:a>t?o(n,u):o(u,s)},n=gt(this._rgb),this._rgb=(n>t?o(w("black"),this):o(this,w("white"))).rgba()),this):gt(this._rgb)},Lt=function(t){var e,n,i,r;return r=t/100,r<66?(i=255,n=-155.25485562709179-.44596950469579133*(n=r-2)+104.49216199393888*J(n),e=r<20?0:.8274096064007395*(e=r-10)-254.76935184120902+115.67994401066147*J(e)):(i=351.97690566805693+.114206453784165*(i=r-55)-40.25366309332127*J(i),n=325.4494125711974+.07943456536662342*(n=r-50)-28.0852963507957*J(n),e=255),[i,n,e]},mt=function(){var t,e,n,i,r,o,s,a;for(o=Ct(arguments),r=o[0],o[1],t=o[2],i=1e3,n=4e4,e=.4;n-i>e;)a=.5*(n+i),s=Lt(a),s[2]/s[0]>=t/r?n=a:i=a;return xt(a)},w.temperature=w.kelvin=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,Nt.call(arguments).concat(["temperature"]),function(){})},p.temperature=p.kelvin=p.K=Lt,r.prototype.temperature=function(){return mt(this._rgb)},r.prototype.kelvin=r.prototype.temperature,w.contrast=function(t,e){var n,i,o,s;return"string"!==(o=Pt(t))&&"number"!==o||(t=new r(t)),"string"!==(s=Pt(e))&&"number"!==s||(e=new r(e)),n=t.luminance(),i=e.luminance(),n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)},w.distance=function(t,e,n){var i,o,s,a,u,l,f;null==n&&(n="lab"),"string"!==(u=Pt(t))&&"number"!==u||(t=new r(t)),"string"!==(l=Pt(e))&&"number"!==l||(e=new r(e)),s=t.get(n),a=e.get(n),f=0;for(o in s)i=(s[o]||0)-(a[o]||0),f+=i*i;return Math.sqrt(f)},w.deltaE=function(t,e,n,i){var o,s,u,l,f,c,d,h,p,g,v,y,b,x,E,w,M,L,C,I,S,O,N,T,R,A,D;for(null==n&&(n=1),null==i&&(i=1),"string"!==(M=Pt(t))&&"number"!==M||(t=new r(t)),"string"!==(L=Pt(e))&&"number"!==L||(e=new r(e)),C=t.lab(),o=C[0],u=C[1],f=C[2],I=e.lab(),s=I[0],l=I[1],c=I[2],d=Mt(u*u+f*f),h=Mt(l*l+c*c),N=o<16?.511:.040975*o/(1+.01765*o),S=.0638*d/(1+.0131*d)+.638,w=d<1e-6?0:180*m(f,u)/a;w<0;)w+=360;for(;w>=360;)w-=360;return T=w>=164&&w<=345?.56+_(.2*P(a*(w+168)/180)):.36+_(.4*P(a*(w+35)/180)),p=d*d*d*d,E=Mt(p/(p+1900)),O=S*(E*T+1-E),x=o-s,b=d-h,v=u-l,y=f-c,g=v*v+y*y-b*b,R=x/(n*N),A=b/(i*S),D=O,Mt(R*R+A*A+g/(D*D))},r.prototype.get=function(t){var e,n,i,r,o,s;return i=this,o=t.split("."),r=o[0],e=o[1],s=i[r](),e?(n=r.indexOf(e),n>-1?s[n]:console.warn("unknown channel "+e+" in mode "+r)):s},r.prototype.set=function(t,e){var n,i,r,o,s,a;if(r=this,s=t.split("."),o=s[0],n=s[1],n)if(a=r[o](),(i=o.indexOf(n))>-1)if("string"===Pt(e))switch(e.charAt(0)){case"+":case"-":a[i]+=+e;break;case"*":a[i]*=+e.substr(1);break;case"/":a[i]/=+e.substr(1);break;default:a[i]=+e}else a[i]=e;else console.warn("unknown channel "+n+" in mode "+o);else a=e;return w(a,o).alpha(r.alpha())},r.prototype.clipped=function(){return this._rgb._clipped||!1},r.prototype.alpha=function(t){return arguments.length?w.rgb([this._rgb[0],this._rgb[1],this._rgb[2],t]):this._rgb[3]},r.prototype.darken=function(t){var e,n;return null==t&&(t=1),n=this,e=n.lab(),e[0]-=s.Kn*t,w.lab(e).alpha(n.alpha())},r.prototype.brighten=function(t){return null==t&&(t=1),this.darken(-t)},r.prototype.darker=r.prototype.darken,r.prototype.brighter=r.prototype.brighten,r.prototype.saturate=function(t){var e,n;return null==t&&(t=1),n=this,e=n.lch(),e[1]+=t*s.Kn,e[1]<0&&(e[1]=0),w.lch(e).alpha(n.alpha())},r.prototype.desaturate=function(t){return null==t&&(t=1),this.saturate(-t)},r.prototype.premultiply=function(){var t,e;return e=this.rgb(),t=this.alpha(),w(e[0]*t,e[1]*t,e[2]*t,t)},y=function(t,e,n){if(!y[n])throw"unknown blend mode "+n;return y[n](t,e)},b=function(t){return function(e,n){var i,r;return i=w(n).rgb(),r=w(e).rgb(),w(t(i,r),"rgb")}},O=function(t){return function(e,n){var i,r,o;for(o=[],i=r=0;r<=3;i=++r)o[i]=t(e[i],n[i]);return o}},nt=function(t,e){return t},et=function(t,e){return t*e/255},I=function(t,e){return t>e?e:t},W=function(t,e){return t>e?t:e},Et=function(t,e){return 255*(1-(1-t/255)*(1-e/255))},rt=function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},E=function(t,e){return 255*(1-(1-e/255)/(t/255))},S=function(t,e){return 255===t?255:(t=e/255*255/(1-t/255),t>255?255:t)},y.normal=b(O(nt)),y.multiply=b(O(et)),y.screen=b(O(Et)),y.overlay=b(O(rt)),y.darken=b(O(I)),y.lighten=b(O(W)),y.dodge=b(O(S)),y.burn=b(O(E)),w.blend=y,w.analyze=function(t){var e,n,i,r;for(i={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},n=0,e=t.length;n<e;n++)null==(r=t[n])||isNaN(r)||(i.values.push(r),i.sum+=r,r<i.min&&(i.min=r),r>i.max&&(i.max=r),i.count+=1);return i.domain=[i.min,i.max],i.limits=function(t,e){return w.limits(i,t,e)},i},w.scale=function(t,e){var n,i,r,o,s,a,u,l,f,c,d,h,p,g,_,m,v,y,b,x;return l="rgb",f=w("#ccc"),p=0,!1,s=[0,1],h=[],d=[0,0],n=!1,r=[],c=!1,u=0,a=1,o=!1,i={},g=!0,b=function(t){var e,n,i,o,s,a;if(null==t&&(t=["#fff","#000"]),null!=t&&"string"===Pt(t)&&null!=w.brewer&&(t=w.brewer[t]||w.brewer[t.toLowerCase()]||t),"array"===Pt(t)){for(t=t.slice(0),e=i=0,o=t.length-1;0<=o?i<=o:i>=o;e=0<=o?++i:--i)n=t[e],"string"===Pt(n)&&(t[e]=w(n));for(h.length=0,e=a=0,s=t.length-1;0<=s?a<=s:a>=s;e=0<=s?++a:--a)h.push(e/(t.length-1))}return y(),r=t},m=function(t){var e,i;if(null!=n){for(i=n.length-1,e=0;e<i&&t>=n[e];)e++;return e-1}return 0},x=function(t){return t},function(t){var e,i,r,o,s;return s=t,n.length>2&&(o=n.length-1,e=m(t),r=n[0]+(n[1]-n[0])*(0+.5*p),i=n[o-1]+(n[o]-n[o-1])*(1-.5*p),s=u+(n[e]+.5*(n[e+1]-n[e])-r)/(i-r)*(a-u)),s},v=function(t,e){var o,s,c,p,_,v,y,b;if(null==e&&(e=!1),isNaN(t))return f;if(e?b=t:n&&n.length>2?(o=m(t),b=o/(n.length-2),b=d[0]+b*(1-d[0]-d[1])):a!==u?(b=(t-u)/(a-u),b=d[0]+b*(1-d[0]-d[1]),b=Math.min(1,Math.max(0,b))):b=1,e||(b=x(b)),p=Math.floor(1e4*b),g&&i[p])s=i[p];else{if("array"===Pt(r))for(c=_=0,y=h.length-1;0<=y?_<=y:_>=y;c=0<=y?++_:--_){if(v=h[c],b<=v){s=r[c];break}if(b>=v&&c===h.length-1){s=r[c];break}if(b>v&&b<h[c+1]){b=(b-v)/(h[c+1]-v),s=w.interpolate(r[c],r[c+1],b,l);break}}else"function"===Pt(r)&&(s=r(b));g&&(i[p]=s)}return s},y=function(){return i={}},b(t),_=function(t){var e;return e=w(v(t)),c&&e[c]?e[c]():e},_.classes=function(t){var e;return null!=t?("array"===Pt(t)?(n=t,s=[t[0],t[t.length-1]]):(e=w.analyze(s),n=0===t?[e.min,e.max]:w.limits(e,"e",t)),_):n},_.domain=function(t){var e,n,i,o,l,f,c;if(!arguments.length)return s;if(u=t[0],a=t[t.length-1],h=[],i=r.length,t.length===i&&u!==a)for(l=0,o=t.length;l<o;l++)n=t[l],h.push((n-u)/(a-u));else for(e=c=0,f=i-1;0<=f?c<=f:c>=f;e=0<=f?++c:--c)h.push(e/(i-1));return s=[u,a],_},_.mode=function(t){return arguments.length?(l=t,y(),_):l},_.range=function(t,e){return b(t,e),_},_.out=function(t){return c=t,_},_.spread=function(t){return arguments.length?(p=t,_):p},_.correctLightness=function(t){return null==t&&(t=!0),o=t,y(),x=o?function(t){var e,n,i,r,o,s,a,u,l;for(e=v(0,!0).lab()[0],n=v(1,!0).lab()[0],a=e>n,i=v(t,!0).lab()[0],o=e+(n-e)*t,r=i-o,u=0,l=1,s=20;Math.abs(r)>.01&&s-- >0;)!function(){a&&(r*=-1),r<0?(u=t,t+=.5*(l-t)):(l=t,t+=.5*(u-t)),i=v(t,!0).lab()[0],r=i-o}();return t}:function(t){return t},_},_.padding=function(t){return null!=t?("number"===Pt(t)&&(t=[t,t]),d=t,_):d},_.colors=function(e,i){var o,a,u,l,f,c,d,h;if(arguments.length<2&&(i="hex"),f=[],0===arguments.length)f=r.slice(0);else if(1===e)f=[_(.5)];else if(e>1)a=s[0],o=s[1]-a,f=function(){c=[];for(var t=0;0<=e?t<e:t>e;0<=e?t++:t--)c.push(t);return c}.apply(this).map(function(t){return _(a+t/(e-1)*o)});else{if(t=[],d=[],n&&n.length>2)for(u=h=1,l=n.length;1<=l?h<l:h>l;u=1<=l?++h:--h)d.push(.5*(n[u-1]+n[u]));else d=s;f=d.map(function(t){return _(t)})}return w[i]&&(f=f.map(function(t){return t[i]()})),f},_.cache=function(t){return null!=t?g=t:g},_},null==w.scales&&(w.scales={}),w.scales.cool=function(){return w.scale([w.hsl(180,1,.9),w.hsl(250,.7,.4)])},w.scales.hot=function(){return w.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},w.analyze=function(t,e,n){var i,r,o,s,a,u,l;if(a={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),i=function(t){null==t||isNaN(t)||(a.values.push(t),a.sum+=t,t<a.min&&(a.min=t),t>a.max&&(a.max=t),a.count+=1)},l=function(t,r){if(n(t,r))return i(null!=e&&"function"===Pt(e)?e(t):null!=e&&"string"===Pt(e)||"number"===Pt(e)?t[e]:t)},"array"===Pt(t))for(s=0,o=t.length;s<o;s++)u=t[s],l(u);else for(r in t)u=t[r],l(u,r);return a.domain=[a.min,a.max],a.limits=function(t,e){return w.limits(a,t,e)},a},w.limits=function(t,e,n){var i,r,o,s,a,u,l,f,c,d,h,p,g,m,v,y,b,x,E,M,L,P,C,I,S,O,T,R,A,D,k,j,F,z,G,B,q,U,V,Y,X,H,Z,W,K,Q,$,et,nt,it,rt,st,at,ut,lt;if(null==e&&(e="equal"),null==n&&(n=7),"array"===Pt(t)&&(t=w.analyze(t)),S=t.min,tt=t.max,t.sum,ut=t.values.sort(function(t,e){return t-e}),1===n)return[S,tt];if(C=[],"c"===e.substr(0,1)&&(C.push(S),C.push(tt)),"e"===e.substr(0,1)){for(C.push(S),M=k=1,G=n-1;1<=G?k<=G:k>=G;M=1<=G?++k:--k)C.push(S+M/n*(tt-S));C.push(tt)}else if("l"===e.substr(0,1)){if(S<=0)throw"Logarithmic scales are only possible for values > 0";for(O=Math.LOG10E*J(S),I=Math.LOG10E*J(tt),C.push(S),M=lt=1,B=n-1;1<=B?lt<=B:lt>=B;M=1<=B?++lt:--lt)C.push(ot(10,O+M/n*(I-O)));C.push(tt)}else if("q"===e.substr(0,1)){for(C.push(S),M=i=1,H=n-1;1<=H?i<=H:i>=H;M=1<=H?++i:--i)j=(ut.length-1)*M/n,F=N(j),F===j?C.push(ut[F]):(z=j-F,C.push(ut[F]*(1-z)+ut[F+1]*z));C.push(tt)}else if("k"===e.substr(0,1)){for(R=ut.length,m=new Array(R),x=new Array(n),it=!0,A=0,y=null,y=[],y.push(S),M=r=1,Z=n-1;1<=Z?r<=Z:r>=Z;M=1<=Z?++r:--r)y.push(S+M/n*(tt-S));for(y.push(tt);it;){for(L=o=0,W=n-1;0<=W?o<=W:o>=W;L=0<=W?++o:--o)x[L]=0;for(M=s=0,K=R-1;0<=K?s<=K:s>=K;M=0<=K?++s:--s){for(at=ut[M],T=Number.MAX_VALUE,L=a=0,Q=n-1;0<=Q?a<=Q:a>=Q;L=0<=Q?++a:--a)(E=_(y[L]-at))<T&&(T=E,v=L);x[v]++,m[M]=v}for(D=new Array(n),L=u=0,$=n-1;0<=$?u<=$:u>=$;L=0<=$?++u:--u)D[L]=null;for(M=l=0,et=R-1;0<=et?l<=et:l>=et;M=0<=et?++l:--l)b=m[M],null===D[b]?D[b]=ut[M]:D[b]+=ut[M];for(L=f=0,nt=n-1;0<=nt?f<=nt:f>=nt;L=0<=nt?++f:--f)D[L]*=1/x[L];for(it=!1,L=c=0,q=n-1;0<=q?c<=q:c>=q;L=0<=q?++c:--c)if(D[L]!==y[M]){it=!0;break}y=D,A++,A>200&&(it=!1)}for(P={},L=d=0,U=n-1;0<=U?d<=U:d>=U;L=0<=U?++d:--d)P[L]=[];for(M=h=0,V=R-1;0<=V?h<=V:h>=V;M=0<=V?++h:--h)b=m[M],P[b].push(ut[M]);for(rt=[],L=p=0,Y=n-1;0<=Y?p<=Y:p>=Y;L=0<=Y?++p:--p)rt.push(P[L][0]),rt.push(P[L][P[L].length-1]);for(rt=rt.sort(function(t,e){return t-e}),C.push(rt[0]),M=g=1,X=rt.length-1;g<=X;M=g+=2)st=rt[M],isNaN(st)||-1!==C.indexOf(st)||C.push(st)}return C},A=function(t,e,n){var i,r,o,s;return i=Ct(arguments),t=i[0],e=i[1],n=i[2],isNaN(t)&&(t=0),t/=360,t<1/3?(r=(1-e)/3,s=(1+e*P(f*t)/P(u-f*t))/3,o=1-(r+s)):t<2/3?(t-=1/3,s=(1-e)/3,o=(1+e*P(f*t)/P(u-f*t))/3,r=1-(s+o)):(t-=2/3,o=(1-e)/3,r=(1+e*P(f*t)/P(u-f*t))/3,s=1-(o+r)),s=K(n*s*3),o=K(n*o*3),r=K(n*r*3),[255*s,255*o,255*r,i.length>3?i[3]:1]},ft=function(){var t,e,n,i,r,o,s,a;return s=Ct(arguments),o=s[0],e=s[1],t=s[2],f=2*Math.PI,o/=255,e/=255,t/=255,r=Math.min(o,e,t),i=(o+e+t)/3,a=1-r/i,0===a?n=0:(n=(o-e+(o-t))/2,n/=Math.sqrt((o-e)*(o-e)+(o-t)*(e-t)),n=Math.acos(n),t>e&&(n=f-n),n/=f),[360*n,a,i]},w.hsi=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,Nt.call(arguments).concat(["hsi"]),function(){})},p.hsi=A,r.prototype.hsi=function(){return ft(this._rgb)},z=function(t,e,n,i){var r,o,s,a,u,l,f,c,d,h,p,g;return"hsl"===i?(p=t.hsl(),g=e.hsl()):"hsv"===i?(p=t.hsv(),g=e.hsv()):"hcg"===i?(p=t.hcg(),g=e.hcg()):"hsi"===i?(p=t.hsi(),g=e.hsi()):"lch"!==i&&"hcl"!==i||(i="hcl",p=t.hcl(),g=e.hcl()),"h"===i.substr(0,1)&&(s=p[0],d=p[1],l=p[2],a=g[0],h=g[1],f=g[2]),isNaN(s)||isNaN(a)?isNaN(s)?isNaN(a)?o=Number.NaN:(o=a,1!==l&&0!==l||"hsv"===i||(c=h)):(o=s,1!==f&&0!==f||"hsv"===i||(c=d)):(r=a>s&&a-s>180?a-(s+360):a<s&&s-a>180?a+360-s:a-s,o=s+n*r),null==c&&(c=d+n*(h-d)),u=l+n*(f-l),w[i](o,c,u)},g=g.concat(function(){var t,e,n,i;for(n=["hsv","hsl","hsi","hcl","lch","hcg"],i=[],e=0,t=n.length;e<t;e++)$=n[e],i.push([$,z]);return i}()),q=function(t,e,n,i){var r,o;return r=t.num(),o=e.num(),w.num(r+(o-r)*n,"num")},g.push(["num",q]),G=function(t,e,n,i){var o,s;return o=t.lab(),s=e.lab(),new r(o[0]+n*(s[0]-o[0]),o[1]+n*(s[1]-o[1]),o[2]+n*(s[2]-o[2]),i)},g.push(["lab",G])}).call(void 0)}).call(e,n(656)(t))},function(t,e,n){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}]);
//# sourceMappingURL=bundle.js.map