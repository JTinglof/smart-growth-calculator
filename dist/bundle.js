!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=232)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.array_=[],arguments[0]instanceof s.default&&this.addAll(arguments[0])}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(25),s=i(o),a=n(274),u=i(a),l=n(54),f=(i(l),n(36)),c=i(f),d=n(84),h=i(d),_=n(103);i(_);r.prototype=Object.create(c.default.prototype),r.prototype.constructor=r,r.prototype.ensureCapacity=function(){},r.prototype.interfaces_=function(){return[c.default,s.default]},r.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},r.prototype.clear=function(){this.array_=[]},r.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},r.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},r.prototype.iterator=function(){return new p(this)},r.prototype.get=function(t){if(t<0||t>=this.size())throw new u.default;return this.array_[t]},r.prototype.isEmpty=function(){return 0===this.array_.length},r.prototype.size=function(){return this.array_.length},r.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},r.prototype.remove=function(t){for(var e=!1,n=0,i=this.array_.length;n<i;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e};var p=function(t){this.arrayList_=t,this.position_=0};p.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new h.default;return this.arrayList_.get(this.position_++)},p.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},p.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},p.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)r.call(this,0,0);else if(1===arguments.length){var t=arguments[0];r.call(this,t.x,t.y,t.z)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];r.call(this,e,n,r.NULL_ORDINATE)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this.x=i,this.y=o,this.z=s}}function o(){if(this._dimensionsToTest=2,0===arguments.length)o.call(this,2);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new l.default("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(272),a=i(s),u=n(7),l=i(u),f=n(12),c=i(f),d=n(0),h=i(d),_=n(21),p=i(_),g=n(63),m=i(g),v=n(53),y=i(v),b=n(22),x=i(b),E=n(4),L=i(E);(0,h.default)(r.prototype,{setOrdinate:function(t,e){switch(t){case r.X:this.x=e;break;case r.Y:this.y=e;break;case r.Z:this.z=e;break;default:throw new l.default("Invalid ordinate index: "+t)}},equals2D:function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!a.default.equalsWithTolerance(this.x,e.x,n)&&!!a.default.equalsWithTolerance(this.y,e.y,n)}},getOrdinate:function(t){switch(t){case r.X:return this.x;case r.Y:return this.y;case r.Z:return this.z}throw new l.default("Invalid ordinate index: "+t)},equals3D:function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||c.default.isNaN(this.z)&&c.default.isNaN(t.z))},equals:function(t){return t instanceof r&&this.equals2D(t)},equalInZ:function(t,e){return a.default.equalsWithTolerance(this.z,t.z,e)},compareTo:function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},clone:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return L.default.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw t}},copy:function(){return new r(this)},toString:function(){return"("+this.x+", "+this.y+", "+this.z+")"},distance3D:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return Math.sqrt(e*e+n*n+i*i)},distance:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return t=37*t+r.hashCode(this.x),t=37*t+r.hashCode(this.y)},setCoordinate:function(t){this.x=t.x,this.y=t.y,this.z=t.z},interfaces_:function(){return[p.default,m.default,x.default]},getClass:function(){return r}}),r.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=c.default.doubleToLongBits(t);return Math.trunc(e^e>>>32)}},(0,h.default)(o.prototype,{compare:function(t,e){var n=t,i=e,r=o.compare(n.x,i.x);if(0!==r)return r;var s=o.compare(n.y,i.y);return 0!==s?s:this._dimensionsToTest<=2?0:o.compare(n.z,i.z)},interfaces_:function(){return[y.default]},getClass:function(){return o}}),o.compare=function(t,e){return t<e?-1:t>e?1:c.default.isNaN(t)?c.default.isNaN(e)?0:-1:c.default.isNaN(e)?1:0},r.DimensionalComparator=o,r.serialVersionUID=0x5cbf2c235c7e5800,r.NULL_ORDINATE=c.default.NaN,r.X=0,r.Y=1,r.Z=2},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(273),u=i(a);(0,s.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.shouldNeverReachHere=function(){if(0===arguments.length)r.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new u.default("Should never reach here"+(null!==t?": "+t:""))}},r.isTrue=function(){if(1===arguments.length){var t=arguments[0];r.isTrue(t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!e)throw null===n?new u.default:new u.default(n)}},r.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];r.equals(t,e,null)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];if(!i.equals(n))throw new u.default("Expected "+n+" but encountered "+i+(null!==o?": "+o:""))}}},function(t,e,n){"use strict";function i(t){return t>1?0:t<-1?s:Math.acos(t)}function r(t){return t>1?a:t<-1?-a:Math.asin(t)}function o(t){return(t=u(t/2))*t}Object.defineProperty(e,"__esModule",{value:!0}),e.acos=i,e.asin=r,e.haversin=o;var s=(e.epsilon=1e-6,e.epsilon2=1e-12,e.pi=Math.PI),a=e.halfPi=s/2,u=(e.quarterPi=s/4,e.tau=2*s,e.degrees=180/s,e.radians=s/180,e.abs=Math.abs,e.atan=Math.atan,e.atan2=Math.atan2,e.cos=Math.cos,e.ceil=Math.ceil,e.exp=Math.exp,e.floor=Math.floor,e.log=Math.log,e.pow=Math.pow,e.sin=Math.sin);e.sign=Math.sign||function(t){return t>0?1:t<0?-1:0},e.sqrt=Math.sqrt,e.tan=Math.tan},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof s.default){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof r){var e=arguments[0];this.init(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var o=arguments[0],a=arguments[1],u=arguments[2],l=arguments[3];this.init(o,a,u,l)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2),s=i(o),a=n(0),u=i(a),l=n(21),f=i(l),c=n(22),d=i(c);(0,u.default)(r.prototype,{getArea:function(){return this.getWidth()*this.getHeight()},equals:function(t){if(!(t instanceof r))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},intersection:function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new r;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny;return new r(e,this._maxx<t._maxx?this._maxx:t._maxx,n,this._maxy<t._maxy?this._maxy:t._maxy)},isNull:function(){return this._maxx<this._minx},getMaxX:function(){return this._maxx},covers:function(){if(1===arguments.length){if(arguments[0]instanceof s.default){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof r){var e=arguments[0];return!this.isNull()&&!e.isNull()&&(e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&(n>=this._minx&&n<=this._maxx&&i>=this._miny&&i<=this._maxy)}},intersects:function(){if(1===arguments.length){if(arguments[0]instanceof r){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof s.default){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||i>this._maxy||i<this._miny)}},getMinY:function(){return this._miny},getMinX:function(){return this._minx},expandToInclude:function(){if(1===arguments.length){if(arguments[0]instanceof s.default){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof r){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=i,this._maxy=i):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),i<this._miny&&(this._miny=i),i>this._maxy&&(this._maxy=i))}},minExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},getWidth:function(){return this.isNull()?0:this._maxx-this._minx},compareTo:function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},translate:function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},toString:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},setToNull:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},getHeight:function(){return this.isNull()?0:this._maxy-this._miny},maxExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},expandBy:function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},contains:function(){if(1===arguments.length){if(arguments[0]instanceof r){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof s.default){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.covers(n,i)}},centre:function(){return this.isNull()?null:new s.default((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},init:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof s.default){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof r){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var o=arguments[0],a=arguments[1],u=arguments[2],l=arguments[3];o<a?(this._minx=o,this._maxx=a):(this._minx=a,this._maxx=o),u<l?(this._miny=u,this._maxy=l):(this._miny=l,this._maxy=u)}},getMaxY:function(){return this._maxy},distance:function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return t=37*t+s.default.hashCode(this._minx),t=37*t+s.default.hashCode(this._maxx),t=37*t+s.default.hashCode(this._miny),t=37*t+s.default.hashCode(this._maxy)},interfaces_:function(){return[f.default,d.default]},getClass:function(){return r}}),r.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),u=Math.max(o.x,s.x),l=Math.min(i.x,r.x),f=Math.max(i.x,r.x);return!(l>u)&&(!(f<a)&&(a=Math.min(o.y,s.y),u=Math.max(o.y,s.y),l=Math.min(i.y,r.y),f=Math.max(i.y,r.y),!(l>u)&&!(f<a)))}},r.serialVersionUID=0x51845cd552189800},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(11),s=i(o),a=n(6),u=i(a),l=n(2),f=i(l),c=n(7),d=i(c),h=n(0),_=i(h),p=n(105),g=i(p),m=n(146),v=i(m),y=n(40),b=i(y),x=n(23),E=i(x),L=n(8),w=i(L),M=n(154),P=i(M);(0,_.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.orientationIndex=function(t,e,n){return v.default.orientationIndex(t,e,n)},r.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++){var r=t[i].x-n,o=t[i+1].y;e+=r*(t[i-1].y-o)}return e/2}if((0,u.default)(arguments[0],b.default)){var s=arguments[0],a=s.size();if(a<3)return 0;var l=new f.default,c=new f.default,d=new f.default;s.getCoordinate(0,c),s.getCoordinate(1,d);var n=c.x;d.x-=n;for(var e=0,i=1;i<a-1;i++)l.y=c.y,c.x=d.x,c.y=d.y,s.getCoordinate(i+1,d),d.x-=n,e+=c.x*(l.y-d.y);return e/2}},r.distanceLineLine=function(t,e,n,i){if(t.equals(e))return r.distancePointLine(t,n,i);if(n.equals(i))return r.distancePointLine(i,t,e);var o=!1;if(w.default.intersects(t,e,n,i)){var s=(e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x);if(0===s)o=!0;else{var a=(t.y-n.y)*(i.x-n.x)-(t.x-n.x)*(i.y-n.y),u=(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y),l=u/s,f=a/s;(f<0||f>1||l<0||l>1)&&(o=!0)}}else o=!0;return o?g.default.min(r.distancePointLine(t,n,i),r.distancePointLine(e,n,i),r.distancePointLine(n,t,e),r.distancePointLine(i,t,e)):0},r.isPointInRing=function(t,e){return r.locatePointInRing(t,e)!==s.default.EXTERIOR},r.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,i=new f.default;t.getCoordinate(0,i);for(var r=i.x,o=i.y,s=1;s<e;s++){t.getCoordinate(s,i);var a=i.x,u=i.y,l=a-r,c=u-o;n+=Math.sqrt(l*l+c*c),r=a,o=u}return n},r.isCCW=function(t){var e=t.length-1;if(e<3)throw new d.default("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],i=0,o=1;o<=e;o++){var s=t[o];s.y>n.y&&(n=s,i=o)}var a=i;do{(a-=1)<0&&(a=e)}while(t[a].equals2D(n)&&a!==i);var u=i;do{u=(u+1)%e}while(t[u].equals2D(n)&&u!==i);var l=t[a],f=t[u];if(l.equals2D(n)||f.equals2D(n)||l.equals2D(f))return!1;var c=r.computeOrientation(l,n,f);return 0===c?l.x>f.x:c>0},r.locatePointInRing=function(t,e){return P.default.locatePointInRing(t,e)},r.distancePointLinePerpendicular=function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),r=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(r)*Math.sqrt(i)},r.computeOrientation=function(t,e,n){return r.orientationIndex(t,e,n)},r.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new d.default("Line array must contain at least one vertex");for(var n=t.distance(e[0]),i=0;i<e.length-1;i++){var o=r.distancePointLine(t,e[i],e[i+1]);o<n&&(n=o)}return n}if(3===arguments.length){var s=arguments[0],a=arguments[1],u=arguments[2];if(a.x===u.x&&a.y===u.y)return s.distance(a);var l=(u.x-a.x)*(u.x-a.x)+(u.y-a.y)*(u.y-a.y),f=((s.x-a.x)*(u.x-a.x)+(s.y-a.y)*(u.y-a.y))/l;if(f<=0)return s.distance(a);if(f>=1)return s.distance(u);var c=((a.y-s.y)*(u.x-a.x)-(a.x-s.x)*(u.y-a.y))/l;return Math.abs(c)*Math.sqrt(l)}},r.isOnLine=function(t,e){for(var n=new E.default,i=1;i<e.length;i++){var r=e[i-1],o=e[i];if(n.computeIntersection(t,r,o),n.hasIntersection())return!0}return!1},r.CLOCKWISE=-1,r.RIGHT=r.CLOCKWISE,r.COUNTERCLOCKWISE=1,r.LEFT=r.COUNTERCLOCKWISE,r.COLLINEAR=0,r.STRAIGHT=r.COLLINEAR},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._points=null;var t=arguments[0],e=arguments[1];u.default.call(this,e),this.init(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(9),s=i(o),a=n(13),u=i(a),l=n(55),f=i(l),c=n(6),d=i(c),h=n(106),_=i(h),p=n(7),g=i(p),m=n(0),v=i(m),y=n(107),b=i(y),x=n(108),E=i(x),L=n(34),w=i(L),M=n(41),P=i(M),I=n(42),C=i(I),S=n(69),N=i(S),O=n(8),T=i(O);(0,i(n(3)).default)(r,u.default),(0,v.default)(r.prototype,{computeEnvelopeInternal:function(){return this.isEmpty()?new T.default:this._points.expandEnvelope(new T.default)},isRing:function(){return this.isClosed()&&this.isSimple()},getSortIndex:function(){return u.default.SORTINDEX_LINESTRING},getCoordinates:function(){return this._points.toCoordinateArray()},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this._points.size()!==n._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),n._points.getCoordinate(i),e))return!1;return!0}return u.default.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&E.default.reverse(this._points),null}},getCoordinate:function(){return this.isEmpty()?null:this._points.getCoordinate(0)},getBoundaryDimension:function(){return this.isClosed()?P.default.FALSE:0},isClosed:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},getEndPoint:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},getDimension:function(){return 1},getLength:function(){return s.default.computeLength(this._points)},getNumPoints:function(){return this._points.size()},reverse:function(){var t=this._points.copy();return E.default.reverse(t),this.getFactory().createLineString(t)},compareToSameClass:function(){if(1===arguments.length){for(var t=arguments[0],e=t,n=0,i=0;n<this._points.size()&&i<e._points.size();){var r=this._points.getCoordinate(n).compareTo(e._points.getCoordinate(i));if(0!==r)return r;n++,i++}return n<this._points.size()?1:i<e._points.size()?-1:0}if(2===arguments.length){var o=arguments[0],s=arguments[1],e=o;return s.compare(this._points,e._points)}},apply:function(){if((0,d.default)(arguments[0],f.default))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if((0,d.default)(arguments[0],N.default)){var n=arguments[0];if(0===this._points.size())return null;for(var e=0;e<this._points.size()&&(n.filter(this._points,e),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if((0,d.default)(arguments[0],C.default)){var i=arguments[0];i.filter(this)}else if((0,d.default)(arguments[0],w.default)){var r=arguments[0];r.filter(this)}},getBoundary:function(){return new _.default(this).getBoundary()},isEquivalentClass:function(t){return t instanceof r},clone:function(){var t=u.default.prototype.clone.call(this);return t._points=this._points.clone(),t},getCoordinateN:function(t){return this._points.getCoordinate(t)},getGeometryType:function(){return"LineString"},copy:function(){return new r(this._points.copy(),this._factory)},getCoordinateSequence:function(){return this._points},isEmpty:function(){return 0===this._points.size()},init:function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new g.default("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},isCoordinate:function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},getStartPoint:function(){return this.isEmpty()?null:this.getPointN(0)},getPointN:function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},interfaces_:function(){return[b.default]},getClass:function(){return r}}),r.serialVersionUID=0x2b2b51ba435c8e00},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(7),s=i(o);(0,i(n(0)).default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.toLocationSymbol=function(t){switch(t){case r.EXTERIOR:return"e";case r.BOUNDARY:return"b";case r.INTERIOR:return"i";case r.NONE:return"-"}throw new s.default("Unknown location value: "+t)},r.INTERIOR=0,r.BOUNDARY=1,r.EXTERIOR=2,r.NONE=-1},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.isNaN=function(t){return Number.isNaN(t)},i.doubleToLongBits=function(t){return t},i.longBitsToDouble=function(t){return t},i.isInfinite=function(t){return!Number.isFinite(t)},i.MAX_VALUE=Number.MAX_VALUE},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._envelope=null,this._factory=null,this._SRID=null,this._userData=null;var t=arguments[0];this._factory=t,this._SRID=t.getSRID()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(7),s=i(o),a=n(0),u=i(a),l=n(34),f=i(l),c=n(21),d=i(c),h=n(63),_=i(h),p=n(22),g=i(p),m=n(8),v=i(m),y=n(4);i(y);(0,u.default)(r.prototype,{isGeometryCollection:function(){return this.getSortIndex()===r.SORTINDEX_GEOMETRYCOLLECTION},getFactory:function(){return this._factory},getGeometryN:function(t){return this},getArea:function(){return 0},isRectangle:function(){return!1},equals:function(){if(arguments[0]instanceof r){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof r))return!1;var n=e;return this.equalsExact(n)}},equalsExact:function(t){return this===t||this.equalsExact(t,0)},geometryChanged:function(){this.apply(r.geometryChangedFilter)},geometryChangedAction:function(){this._envelope=null},equalsNorm:function(t){return null!==t&&this.norm().equalsExact(t.norm())},getLength:function(){return 0},getNumGeometries:function(){return 1},compareTo:function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=n;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(n,i)}},getUserData:function(){return this._userData},getSRID:function(){return this._SRID},getEnvelope:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},checkNotGeometryCollection:function(t){if(t.getSortIndex()===r.SORTINDEX_GEOMETRYCOLLECTION)throw new s.default("This method does not support GeometryCollection arguments")},equal:function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},norm:function(){var t=this.copy();return t.normalize(),t},getPrecisionModel:function(){return this._factory.getPrecisionModel()},getEnvelopeInternal:function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new v.default(this._envelope)},setSRID:function(t){this._SRID=t},setUserData:function(t){this._userData=t},compare:function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),o=i.next(),s=r.compareTo(o);if(0!==s)return s}return n.hasNext()?1:i.hasNext()?-1:0},hashCode:function(){return this.getEnvelopeInternal().hashCode()},isGeometryCollectionOrDerived:function(){return this.getSortIndex()===r.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===r.SORTINDEX_MULTIPOINT||this.getSortIndex()===r.SORTINDEX_MULTILINESTRING||this.getSortIndex()===r.SORTINDEX_MULTIPOLYGON},interfaces_:function(){return[_.default,d.default,g.default]},getClass:function(){return r}}),r.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},r.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},r.serialVersionUID=0x799ea46522854c00,r.SORTINDEX_POINT=0,r.SORTINDEX_MULTIPOINT=1,r.SORTINDEX_LINESTRING=2,r.SORTINDEX_LINEARRING=3,r.SORTINDEX_MULTILINESTRING=4,r.SORTINDEX_POLYGON=5,r.SORTINDEX_MULTIPOLYGON=6,r.SORTINDEX_GEOMETRYCOLLECTION=7,r.geometryChangedFilter={interfaces_:function(){return[f.default]},filter:function(t){t.geometryChangedAction()}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._geometries=null;var t=arguments[0],e=arguments[1];if(u.default.call(this,e),null===t&&(t=[]),u.default.hasNullElements(t))throw new g.default("geometries must not contain null elements");this._geometries=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(50),s=i(o),a=n(13),u=i(a),l=n(68),f=i(l),c=n(55),d=i(c),h=n(6),_=i(h),p=n(7),g=i(p),m=n(0),v=i(m),y=n(34),b=i(y),x=n(41),E=i(x),L=n(42),w=i(L),M=n(69),P=i(M),I=n(8),C=i(I),S=n(4),N=i(S);(0,i(n(3)).default)(r,u.default),(0,v.default)(r.prototype,{computeEnvelopeInternal:function(){for(var t=new C.default,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},getGeometryN:function(t){return this._geometries[t]},getSortIndex:function(){return u.default.SORTINDEX_GEOMETRYCOLLECTION},getCoordinates:function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var i=this._geometries[n].getCoordinates(),r=0;r<i.length;r++)e++,t[e]=i[r];return t},getArea:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this._geometries.length!==n._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(n._geometries[i],e))return!1;return!0}return u.default.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();f.default.sort(this._geometries)},getCoordinate:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},getBoundaryDimension:function(){for(var t=E.default.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},getDimension:function(){for(var t=E.default.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},getLength:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},getNumPoints:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},getNumGeometries:function(){return this._geometries.length},reverse:function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=new s.default(f.default.asList(this._geometries)),n=new s.default(f.default.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var i=arguments[0],r=arguments[1],o=i,a=this.getNumGeometries(),u=o.getNumGeometries(),l=0;l<a&&l<u;){var c=this.getGeometryN(l),d=o.getGeometryN(l),h=c.compareToSameClass(d,r);if(0!==h)return h;l++}return l<a?1:l<u?-1:0}},apply:function(){if((0,_.default)(arguments[0],d.default))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if((0,_.default)(arguments[0],P.default)){var n=arguments[0];if(0===this._geometries.length)return null;for(var e=0;e<this._geometries.length&&(this._geometries[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if((0,_.default)(arguments[0],w.default)){var i=arguments[0];i.filter(this);for(var e=0;e<this._geometries.length;e++)this._geometries[e].apply(i)}else if((0,_.default)(arguments[0],b.default)){var r=arguments[0];r.filter(this);for(var e=0;e<this._geometries.length;e++)this._geometries[e].apply(r)}},getBoundary:function(){return this.checkNotGeometryCollection(this),N.default.shouldNeverReachHere(),null},clone:function(){var t=u.default.prototype.clone.call(this);t._geometries=new Array(this._geometries.length).fill(null);for(var e=0;e<this._geometries.length;e++)t._geometries[e]=this._geometries[e].clone();return t},getGeometryType:function(){return"GeometryCollection"},copy:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new r(t,this._factory)},isEmpty:function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},interfaces_:function(){return[]},getClass:function(){return r}}),r.serialVersionUID=-0x4f07bcb1f857d800},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this.p0=null,this.p1=null,0===arguments.length)r.call(this,new f.default,new f.default);else if(1===arguments.length){var t=arguments[0];r.call(this,t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0=e,this.p1=n}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];r.call(this,new f.default(i,o),new f.default(s,a))}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(64),s=i(o),a=n(9),u=i(a),l=n(2),f=i(l),c=n(12),d=i(c),h=n(0),_=i(h),p=n(21),g=i(p),m=n(23),v=i(m),y=n(66),b=i(y),x=n(22),E=i(x);(0,_.default)(r.prototype,{minX:function(){return Math.min(this.p0.x,this.p1.x)},orientationIndex:function(){if(arguments[0]instanceof r){var t=arguments[0],e=u.default.orientationIndex(this.p0,this.p1,t.p0),n=u.default.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0?Math.max(e,n):e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof f.default){var i=arguments[0];return u.default.orientationIndex(this.p0,this.p1,i)}},toGeometry:function(t){return t.createLineString([this.p0,this.p1])},isVertical:function(){return this.p0.x===this.p1.x},equals:function(t){if(!(t instanceof r))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},intersection:function(t){var e=new v.default;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},project:function(){if(arguments[0]instanceof f.default){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new f.default(t);var e=this.projectionFactor(t),n=new f.default;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof r){var i=arguments[0],o=this.projectionFactor(i.p0),s=this.projectionFactor(i.p1);if(o>=1&&s>=1)return null;if(o<=0&&s<=0)return null;var a=this.project(i.p0);o<0&&(a=this.p0),o>1&&(a=this.p1);var u=this.project(i.p1);return s<0&&(u=this.p0),s>1&&(u=this.p1),new r(a,u)}},normalize:function(){this.p1.compareTo(this.p0)<0&&this.reverse()},angle:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},getCoordinate:function(t){return 0===t?this.p0:this.p1},distancePerpendicular:function(t){return u.default.distancePointLinePerpendicular(t,this.p0,this.p1)},minY:function(){return Math.min(this.p0.y,this.p1.y)},midPoint:function(){return r.midPoint(this.p0,this.p1)},projectionFactor:function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;return i<=0?d.default.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i},closestPoints:function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=d.default.MAX_VALUE,r=null,o=this.closestPoint(t.p0);i=o.distance(t.p0),n[0]=o,n[1]=t.p0;var s=this.closestPoint(t.p1);(r=s.distance(t.p1))<i&&(i=r,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(r=a.distance(this.p0))<i&&(i=r,n[0]=this.p0,n[1]=a);var u=t.closestPoint(this.p1);return r=u.distance(this.p1),r<i&&(i=r,n[0]=this.p1,n[1]=u),n},closestPoint:function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},maxX:function(){return Math.max(this.p0.x,this.p1.x)},getLength:function(){return this.p0.distance(this.p1)},compareTo:function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},reverse:function(){var t=this.p0;this.p0=this.p1,this.p1=t},equalsTopo:function(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p0.equals(t.p1)&&this.p1.equals(t.p0)},lineIntersection:function(t){try{return b.default.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof s.default))throw t}return null},maxY:function(){return Math.max(this.p0.y,this.p1.y)},pointAlongOffset:function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(r*r+o*o),a=0,u=0;if(0!==e){if(s<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");a=e*r/s,u=e*o/s}var l=n-u,c=i+a;return new f.default(l,c)},setCoordinates:function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},segmentFraction:function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||d.default.isNaN(e))&&(e=1),e},toString:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},isHorizontal:function(){return this.p0.y===this.p1.y},distance:function(){if(arguments[0]instanceof r){var t=arguments[0];return u.default.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof f.default){var e=arguments[0];return u.default.distancePointLine(e,this.p0,this.p1)}},pointAlong:function(t){var e=new f.default;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},hashCode:function(){var t=java.lang.Double.doubleToLongBits(this.p0.x);t^=31*java.lang.Double.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=java.lang.Double.doubleToLongBits(this.p1.x);return n^=31*java.lang.Double.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},interfaces_:function(){return[g.default,E.default]},getClass:function(){return r}}),r.midPoint=function(t,e){return new f.default((t.x+e.x)/2,(t.y+e.y)/2)},r.serialVersionUID=0x2d2172135f411c00},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,0===arguments.length)r.call(this,new k.default,0);else if(1===arguments.length){if((0,f.default)(arguments[0],s.default)){var t=arguments[0];r.call(this,new k.default,0,t)}else if(arguments[0]instanceof k.default){var e=arguments[0];r.call(this,e,0,r.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];r.call(this,n,i,r.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var o=arguments[0],a=arguments[1],u=arguments[2];this._precisionModel=o,this._coordinateSequenceFactory=u,this._SRID=a}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(150),s=i(o),a=n(10),u=i(a),l=n(6),f=i(l),c=n(2),d=i(c),h=n(26),_=i(h),p=n(17),g=i(p),m=n(44),v=i(m),y=n(109),b=i(y),x=n(32),E=i(x),L=n(0),w=i(L),M=n(285),P=i(M),I=n(33),C=i(I),S=n(108),N=i(S),O=n(40),T=i(O),R=n(14),D=i(R),A=n(56),k=i(A),j=n(22),F=i(j),z=n(4),G=i(z),B=n(31),q=i(B);(0,w.default)(r.prototype,{toGeometry:function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new d.default(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new d.default(t.getMinX(),t.getMinY()),new d.default(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new d.default(t.getMinX(),t.getMinY()),new d.default(t.getMinX(),t.getMaxY()),new d.default(t.getMaxX(),t.getMaxY()),new d.default(t.getMaxX(),t.getMinY()),new d.default(t.getMinX(),t.getMinY())]),null)},createLineString:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLineString(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if((0,f.default)(arguments[0],T.default)){var e=arguments[0];return new u.default(e,this)}}},createMultiLineString:function(){if(0===arguments.length)return new q.default(null,this);if(1===arguments.length){var t=arguments[0];return new q.default(t,this)}},buildGeometry:function(t){for(var e=null,n=!1,i=!1,o=t.iterator();o.hasNext();){var s=o.next(),a=s.getClass();null===e&&(e=a),a!==e&&(n=!0),s.isGeometryCollectionOrDerived()&&(i=!0)}if(null===e)return this.createGeometryCollection();if(n||i)return this.createGeometryCollection(r.toGeometryArray(t));var l=t.iterator().next();if(t.size()>1){if(l instanceof g.default)return this.createMultiPolygon(r.toPolygonArray(t));if(l instanceof u.default)return this.createMultiLineString(r.toLineStringArray(t));if(l instanceof _.default)return this.createMultiPoint(r.toPointArray(t));G.default.shouldNeverReachHere("Unhandled class: "+l.getClass().getName())}return l},createMultiPointFromCoords:function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},createPoint:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof d.default){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if((0,f.default)(arguments[0],T.default)){var e=arguments[0];return new _.default(e,this)}}},getCoordinateSequenceFactory:function(){return this._coordinateSequenceFactory},createPolygon:function(){if(0===arguments.length)return new g.default(null,null,this);if(1===arguments.length){if((0,f.default)(arguments[0],T.default)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof E.default){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];return new g.default(i,r,this)}},getSRID:function(){return this._SRID},createGeometryCollection:function(){if(0===arguments.length)return new D.default(null,this);if(1===arguments.length){var t=arguments[0];return new D.default(t,this)}},createGeometry:function(t){return new b.default(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return arguments[1],this._coordinateSequenceFactory.create(t)}}})},getPrecisionModel:function(){return this._precisionModel},createLinearRing:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if((0,f.default)(arguments[0],T.default)){var e=arguments[0];return new E.default(e,this)}}},createMultiPolygon:function(){if(0===arguments.length)return new C.default(null,this);if(1===arguments.length){var t=arguments[0];return new C.default(t,this)}},createMultiPoint:function(){if(0===arguments.length)return new v.default(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new v.default(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if((0,f.default)(arguments[0],T.default)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var i=new Array(n.size()).fill(null),r=0;r<n.size();r++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());N.default.copy(n,r,o,0,1),i[r]=this.createPoint(o)}return this.createMultiPoint(i)}}},interfaces_:function(){return[F.default]},getClass:function(){return r}}),r.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},r.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},r.getDefaultCoordinateSequenceFactory=function(){return P.default.instance()},r.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},r.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},r.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},r.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},r.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},r.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},r.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},r.serialVersionUID=-0x5ea75f2051eeb400},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._shell=null,this._holes=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(u.default.call(this,n),null===t&&(t=this.getFactory().createLinearRing()),null===e&&(e=[]),u.default.hasNullElements(e))throw new g.default("holes must not contain null elements");if(t.isEmpty()&&u.default.hasNonEmptyElements(e))throw new g.default("shell is empty but holes are not");this._shell=t,this._holes=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(9),s=i(o),a=n(13),u=i(a),l=n(68),f=i(l),c=n(55),d=i(c),h=n(6),_=i(h),p=n(7),g=i(p),m=n(0),v=i(m),y=n(24),b=i(y),x=n(34),E=i(x),L=n(20),w=i(L),M=n(43),P=i(M),I=n(42),C=i(I),S=n(69),N=i(S);(0,i(n(3)).default)(r,u.default),(0,v.default)(r.prototype,{computeEnvelopeInternal:function(){return this._shell.getEnvelopeInternal()},getSortIndex:function(){return u.default.SORTINDEX_POLYGON},getCoordinates:function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),i=0;i<n.length;i++)e++,t[e]=n[i];for(var r=0;r<this._holes.length;r++)for(var o=this._holes[r].getCoordinates(),s=0;s<o.length;s++)e++,t[e]=o[s];return t},getArea:function(){var t=0;t+=Math.abs(s.default.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(s.default.signedArea(this._holes[e].getCoordinateSequence()));return t},isRectangle:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var i=t.getX(n);if(i!==e.getMinX()&&i!==e.getMaxX())return!1;var r=t.getY(n);if(r!==e.getMinY()&&r!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),n=1;n<=4;n++){var i=t.getX(n),r=t.getY(n);if(i!==o==(r!==s))return!1;o=i,s=r}return!0},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t,i=this._shell,r=n._shell;if(!i.equalsExact(r,e))return!1;if(this._holes.length!==n._holes.length)return!1;for(var o=0;o<this._holes.length;o++)if(!this._holes[o].equalsExact(n._holes[o],e))return!1;return!0}return u.default.prototype.equalsExact.apply(this,arguments)},normalize:function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);f.default.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var i=new Array(e.getCoordinates().length-1).fill(null);b.default.arraycopy(e.getCoordinates(),0,i,0,i.length);var r=w.default.minCoordinate(e.getCoordinates());w.default.scroll(i,r),b.default.arraycopy(i,0,e.getCoordinates(),0,i.length),e.getCoordinates()[i.length]=i[0],s.default.isCCW(e.getCoordinates())===n&&w.default.reverse(e.getCoordinates())}},getCoordinate:function(){return this._shell.getCoordinate()},getNumInteriorRing:function(){return this._holes.length},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},getLength:function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},getNumPoints:function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},reverse:function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},convexHull:function(){return this.getExteriorRing().convexHull()},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var i=arguments[0],r=arguments[1],o=i,e=this._shell,n=o._shell,s=e.compareToSameClass(n,r);if(0!==s)return s;for(var a=this.getNumInteriorRing(),u=o.getNumInteriorRing(),l=0;l<a&&l<u;){var f=this.getInteriorRingN(l),c=o.getInteriorRingN(l),d=f.compareToSameClass(c,r);if(0!==d)return d;l++}return l<a?1:l<u?-1:0}},apply:function(){if((0,_.default)(arguments[0],d.default)){var t=arguments[0];this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if((0,_.default)(arguments[0],N.default)){var n=arguments[0];if(this._shell.apply(n),!n.isDone())for(var e=0;e<this._holes.length&&(this._holes[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if((0,_.default)(arguments[0],C.default)){var i=arguments[0];i.filter(this)}else if((0,_.default)(arguments[0],E.default)){var r=arguments[0];r.filter(this),this._shell.apply(r);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(r)}},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},clone:function(){var t=u.default.prototype.clone.call(this);t._shell=this._shell.clone(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].clone();return t},getGeometryType:function(){return"Polygon"},copy:function(){for(var t=this._shell.copy(),e=new Array(this._holes.length).fill(null),n=0;n<e.length;n++)e[n]=this._holes[n].copy();return new r(t,e,this._factory)},getExteriorRing:function(){return this._shell},isEmpty:function(){return this._shell.isEmpty()},getInteriorRingN:function(t){return this._holes[t]},interfaces_:function(){return[P.default]},getClass:function(){return r}}),r.serialVersionUID=-0x307ffefd8dc97200},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{interfaces_:function(){return[]},getClass:function(){return i}}),i.opposite=function(t){return t===i.LEFT?i.RIGHT:t===i.RIGHT?i.LEFT:t},i.ON=0,i.LEFT=1,i.RIGHT=2},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(f.default.apply(this),0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.ensureCapacity(e.length),this.add(e,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2),s=i(o),a=n(0),u=i(a),l=n(1),f=i(l);(0,i(n(3)).default)(r,f.default),(0,u.default)(r.prototype,{getCoordinate:function(t){return this.get(t)},addAll:function(){if(2===arguments.length){for(var t=arguments[0],e=arguments[1],n=!1,i=t.iterator();i.hasNext();)this.add(i.next(),e),n=!0;return n}return f.default.prototype.addAll.apply(this,arguments)},clone:function(){for(var t=f.default.prototype.clone.call(this),e=0;e<this.size();e++)t.add(e,this.get(e).copy());return t},toCoordinateArray:function(){return this.toArray(r.coordArrayType)},add:function(){if(1===arguments.length){var t=arguments[0];f.default.prototype.add.call(this,t)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var e=arguments[0],n=arguments[1];return this.add(e,n,!0),!0}if(arguments[0]instanceof s.default&&"boolean"==typeof arguments[1]){var i=arguments[0],r=arguments[1];if(!r&&this.size()>=1){var o=this.get(this.size()-1);if(o.equals2D(i))return null}f.default.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var a=arguments[0],u=arguments[1];return this.add(a,u),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var l=arguments[0],c=arguments[1],d=arguments[2];if(d)for(var h=0;h<l.length;h++)this.add(l[h],c);else for(var h=l.length-1;h>=0;h--)this.add(l[h],c);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof s.default){var _=arguments[0],p=arguments[1],g=arguments[2];if(!g){var m=this.size();if(m>0){if(_>0){var v=this.get(_-1);if(v.equals2D(p))return null}if(_<m){var y=this.get(_);if(y.equals2D(p))return null}}}f.default.prototype.add.call(this,_,p)}}else if(4===arguments.length){var b=arguments[0],x=arguments[1],E=arguments[2],L=arguments[3],w=1;E>L&&(w=-1);for(var h=E;h!==L;h+=w)this.add(b[h],x);return!0}},closeRing:function(){this.size()>0&&this.add(new s.default(this.get(0)),!1)},interfaces_:function(){return[]},getClass:function(){return r}}),r.coordArrayType=new Array(0).fill(null)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}function o(){}function s(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=n(19),u=i(a),l=n(2),f=i(l),c=n(0),d=i(c),h=n(105),_=i(h),p=n(24),g=i(p),m=n(53),v=i(m),y=n(8),b=i(y);(0,d.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.isRing=function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])},r.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(r.indexOf(i,e)<0)return i}return null},r.scroll=function(t,e){var n=r.indexOf(e,t);if(n<0)return null;var i=new Array(t.length).fill(null);g.default.arraycopy(t,n,i,0,t.length-n),g.default.arraycopy(t,0,i,t.length-n,n),g.default.arraycopy(i,0,t,0,t.length)},r.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];if(i===r)return!0;if(null===i||null===r)return!1;if(i.length!==r.length)return!1;for(var n=0;n<i.length;n++)if(0!==o.compare(i[n],r[n]))return!1;return!0}},r.intersection=function(t,e){for(var n=new u.default,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()},r.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},r.removeRepeatedPoints=function(t){return r.hasRepeatedPoints(t)?new u.default(t,!1).toCoordinateArray():t},r.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;i<=n;i++){var r=t[i];t[i]=t[e-i],t[e-i]=r}},r.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var i=new Array(e).fill(null);if(0===e)return i;for(var r=0,n=0;n<t.length;n++)null!==t[n]&&(i[r++]=t[n]);return i},r.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new f.default(t[n]);return e}if(5===arguments.length)for(var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],n=0;n<a;n++)o[s+n]=new f.default(i[r+n])},r.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[t.length-n-1];if(0!==i.compareTo(r))return!1}return!0},r.envelope=function(t){for(var e=new b.default,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},r.toCoordinateArray=function(t){return t.toArray(r.coordArrayType)},r.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},r.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},r.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,i=t[e].compareTo(t[n]);if(0!==i)return i}return 1},r.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(0!==i)return i;n++}return n<e.length?-1:n<t.length?1:0},r.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},r.extract=function(t,e,n){e=_.default.clamp(e,0,t.length),n=_.default.clamp(n,-1,t.length);var i=n-e+1;n<0&&(i=0),e>=t.length&&(i=0),n<e&&(i=0);var r=new Array(i).fill(null);if(0===i)return r;for(var o=0,s=e;s<=n;s++)r[o++]=t[s];return r},(0,d.default)(o.prototype,{compare:function(t,e){var n=t,i=e;return r.compare(n,i)},interfaces_:function(){return[v.default]},getClass:function(){return o}}),(0,d.default)(s.prototype,{compare:function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var o=r.compare(n,i);return r.isEqualReversed(n,i)?0:o},OLDcompare:function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var o=r.increasingDirection(n),s=r.increasingDirection(i),a=o>0?0:n.length-1,u=s>0?0:n.length-1,l=0;l<n.length;l++){var f=n[a].compareTo(i[u]);if(0!==f)return f;a+=o,u+=s}return 0},interfaces_:function(){return[v.default]},getClass:function(){return s}}),r.ForwardComparator=o,r.BidirectionalComparator=s,r.coordArrayType=new Array(0).fill(null)},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){w.default.apply(this)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(64),s=i(o),a=n(9),u=i(a),l=n(2),f=i(l),c=n(0),d=i(c),h=n(146),_=i(h),p=n(24),g=i(p),m=n(66),v=i(m),y=n(8),b=i(y),x=n(3),E=i(x),L=n(275),w=i(L);(0,E.default)(r,w.default),(0,d.default)(r.prototype,{isInSegmentEnvelopes:function(t){var e=new b.default(this._inputLines[0][0],this._inputLines[0][1]),n=new b.default(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},computeIntersection:function(){if(3!==arguments.length)return w.default.prototype.computeIntersection.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2];if(this._isProper=!1,b.default.intersects(e,n,t)&&0===u.default.orientationIndex(e,n,t)&&0===u.default.orientationIndex(n,e,t))return this._isProper=!0,(t.equals(e)||t.equals(n))&&(this._isProper=!1),this._result=w.default.POINT_INTERSECTION,null;this._result=w.default.NO_INTERSECTION},normalizeToMinimum:function(t,e,n,i,r){r.x=this.smallestInAbsValue(t.x,e.x,n.x,i.x),r.y=this.smallestInAbsValue(t.y,e.y,n.y,i.y),t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},safeHCoordinateIntersection:function(t,e,n,i){var o=null;try{o=v.default.intersection(t,e,n,i)}catch(a){if(!(a instanceof s.default))throw a;o=r.nearestEndpoint(t,e,n,i)}return o},intersection:function(t,e,n,i){var o=this.intersectionWithNormalization(t,e,n,i);return this.isInSegmentEnvelopes(o)||(o=new f.default(r.nearestEndpoint(t,e,n,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},smallestInAbsValue:function(t,e,n,i){var r=t,o=Math.abs(r);return Math.abs(e)<o&&(r=e,o=Math.abs(e)),Math.abs(n)<o&&(r=n,o=Math.abs(n)),Math.abs(i)<o&&(r=i),r},checkDD:function(t,e,n,i,r){var o=_.default.intersection(t,e,n,i),s=this.isInSegmentEnvelopes(o);g.default.out.println("DD in env = "+s+"  --------------------- "+o),r.distance(o)>1e-4&&g.default.out.println("Distance = "+r.distance(o))},intersectionWithNormalization:function(t,e,n,i){var r=new f.default(t),o=new f.default(e),s=new f.default(n),a=new f.default(i),u=new f.default;this.normalizeToEnvCentre(r,o,s,a,u);var l=this.safeHCoordinateIntersection(r,o,s,a);return l.x+=u.x,l.y+=u.y,l},computeCollinearIntersection:function(t,e,n,i){var r=b.default.intersects(t,e,n),o=b.default.intersects(t,e,i),s=b.default.intersects(n,i,t),a=b.default.intersects(n,i,e);return r&&o?(this._intPt[0]=n,this._intPt[1]=i,w.default.COLLINEAR_INTERSECTION):s&&a?(this._intPt[0]=t,this._intPt[1]=e,w.default.COLLINEAR_INTERSECTION):r&&s?(this._intPt[0]=n,this._intPt[1]=t,!n.equals(t)||o||a?w.default.COLLINEAR_INTERSECTION:w.default.POINT_INTERSECTION):r&&a?(this._intPt[0]=n,this._intPt[1]=e,!n.equals(e)||o||s?w.default.COLLINEAR_INTERSECTION:w.default.POINT_INTERSECTION):o&&s?(this._intPt[0]=i,this._intPt[1]=t,!i.equals(t)||r||a?w.default.COLLINEAR_INTERSECTION:w.default.POINT_INTERSECTION):o&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||r||s?w.default.COLLINEAR_INTERSECTION:w.default.POINT_INTERSECTION):w.default.NO_INTERSECTION},normalizeToEnvCentre:function(t,e,n,i,r){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,l=n.x<i.x?n.x:i.x,f=n.y<i.y?n.y:i.y,c=n.x>i.x?n.x:i.x,d=n.y>i.y?n.y:i.y,h=o>l?o:l,_=a<c?a:c,p=s>f?s:f,g=u<d?u:d,m=(h+_)/2,v=(p+g)/2;r.x=m,r.y=v,t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},computeIntersect:function(t,e,n,i){if(this._isProper=!1,!b.default.intersects(t,e,n,i))return w.default.NO_INTERSECTION;var r=u.default.orientationIndex(t,e,n),o=u.default.orientationIndex(t,e,i);if(r>0&&o>0||r<0&&o<0)return w.default.NO_INTERSECTION;var s=u.default.orientationIndex(n,i,t),a=u.default.orientationIndex(n,i,e);return s>0&&a>0||s<0&&a<0?w.default.NO_INTERSECTION:0===r&&0===o&&0===s&&0===a?this.computeCollinearIntersection(t,e,n,i):(0===r||0===o||0===s||0===a?(this._isProper=!1,t.equals2D(n)||t.equals2D(i)?this._intPt[0]=t:e.equals2D(n)||e.equals2D(i)?this._intPt[0]=e:0===r?this._intPt[0]=new f.default(n):0===o?this._intPt[0]=new f.default(i):0===s?this._intPt[0]=new f.default(t):0===a&&(this._intPt[0]=new f.default(e))):(this._isProper=!0,this._intPt[0]=this.intersection(t,e,n,i)),w.default.POINT_INTERSECTION)},interfaces_:function(){return[]},getClass:function(){return r}}),r.nearestEndpoint=function(t,e,n,i){var r=t,o=u.default.distancePointLine(t,n,i),s=u.default.distancePointLine(e,n,i);return s<o&&(o=s,r=e),s=u.default.distancePointLine(n,t,e),s<o&&(o=s,r=n),s=u.default.distancePointLine(i,t,e),s<o&&(o=s,r=i),r}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.arraycopy=function(t,e,n,i,r){for(var o=0,s=e;s<e+r;s++)n[i+o]=t[s],o++},i.getProperty=function(t){return{"line.separator":"\n"}[t]}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(54);!function(t){t&&t.__esModule}(r);i.prototype.add=function(){},i.prototype.addAll=function(){},i.prototype.isEmpty=function(){},i.prototype.iterator=function(){},i.prototype.size=function(){},i.prototype.toArray=function(){},i.prototype.remove=function(){}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._coordinates=null;var t=arguments[0],e=arguments[1];s.default.call(this,e),this.init(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(13),s=i(o),a=n(55),u=i(a),l=n(6),f=i(l),c=n(0),d=i(c),h=n(34),_=i(h),p=n(41),g=i(p),m=n(42),v=i(m),y=n(69),b=i(y),x=n(153),E=i(x),L=n(8),w=i(L),M=n(4),P=i(M);(0,i(n(3)).default)(r,s.default),(0,d.default)(r.prototype,{computeEnvelopeInternal:function(){if(this.isEmpty())return new w.default;var t=new w.default;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},getSortIndex:function(){return s.default.SORTINDEX_POINT},getCoordinates:function(){return this.isEmpty()?[]:[this.getCoordinate()]},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),e))}return s.default.prototype.equalsExact.apply(this,arguments)},normalize:function(){},getCoordinate:function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},getBoundaryDimension:function(){return g.default.FALSE},getDimension:function(){return 0},getNumPoints:function(){return this.isEmpty()?0:1},reverse:function(){return this.copy()},getX:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=n;return i.compare(this._coordinates,e._coordinates)}},apply:function(){if((0,f.default)(arguments[0],u.default)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if((0,f.default)(arguments[0],b.default)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else if((0,f.default)(arguments[0],v.default)){var n=arguments[0];n.filter(this)}else if((0,f.default)(arguments[0],_.default)){var i=arguments[0];i.filter(this)}},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},clone:function(){var t=s.default.prototype.clone.call(this);return t._coordinates=this._coordinates.clone(),t},getGeometryType:function(){return"Point"},copy:function(){return new r(this._coordinates.copy(),this._factory)},getCoordinateSequence:function(){return this._coordinates},getY:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y},isEmpty:function(){return 0===this._coordinates.size()},init:function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),P.default.isTrue(t.size()<=1),this._coordinates=t},isSimple:function(){return!0},interfaces_:function(){return[E.default]},getClass:function(){return r}}),r.serialVersionUID=0x44077bad161cbc00},function(t,e,n){"use strict";function i(t){return"[object Array]"===M.call(t)}function r(t){return"[object ArrayBuffer]"===M.call(t)}function o(t){return"undefined"!=typeof FormData&&t instanceof FormData}function s(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function a(t){return"string"==typeof t}function u(t){return"number"==typeof t}function l(t){return void 0===t}function f(t){return null!==t&&"object"===(void 0===t?"undefined":E(t))}function c(t){return"[object Date]"===M.call(t)}function d(t){return"[object File]"===M.call(t)}function h(t){return"[object Blob]"===M.call(t)}function _(t){return"[object Function]"===M.call(t)}function p(t){return f(t)&&_(t.pipe)}function g(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function m(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function v(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function y(t,e){if(null!==t&&void 0!==t)if("object"!==(void 0===t?"undefined":E(t))&&(t=[t]),i(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}function b(){function t(t,n){"object"===E(e[n])&&"object"===(void 0===t?"undefined":E(t))?e[n]=b(e[n],t):e[n]=t}for(var e={},n=0,i=arguments.length;n<i;n++)y(arguments[n],t);return e}function x(t,e,n){return y(e,function(e,i){t[i]=n&&"function"==typeof e?L(e,n):e}),t}var E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L=n(136),w=n(237),M=Object.prototype.toString;t.exports={isArray:i,isArrayBuffer:r,isBuffer:w,isFormData:o,isArrayBufferView:s,isString:a,isNumber:u,isObject:f,isUndefined:l,isDate:c,isFile:d,isBlob:h,isFunction:_,isStream:p,isURLSearchParams:g,isStandardBrowserEnv:v,forEach:y,merge:b,extend:x,trim:m}},function(t,e,n){"use strict";function i(t,e,n,i){if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");if(n){if(!Array.isArray(n))throw new Error("bbox must be an Array");if(4!==n.length)throw new Error("bbox must be an Array of 4 numbers")}if(i&&-1===["string","number"].indexOf(void 0===i?"undefined":O(i)))throw new Error("id must be a number or a string");var r={type:"Feature"};return i&&(r.id=i),n&&(r.bbox=n),r.properties=e||{},r.geometry=t,r}function r(t,e,n){if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(n&&4!==n.length)throw new Error("bbox must be an Array of 4 numbers");var i;switch(t){case"Point":i=o(e).geometry;break;case"LineString":i=a(e).geometry;break;case"Polygon":i=s(e).geometry;break;case"MultiPoint":i=f(e).geometry;break;case"MultiLineString":i=l(e).geometry;break;case"MultiPolygon":i=c(e).geometry;break;default:throw new Error(t+" is invalid")}return n&&(i.bbox=n),i}function o(t,e,n,r){if(!t)throw new Error("No coordinates passed");if(!Array.isArray(t))throw new Error("Coordinates must be an Array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");if(!E(t[0])||!E(t[1]))throw new Error("Coordinates must contain numbers");return i({type:"Point",coordinates:t},e,n,r)}function s(t,e,n,r){if(!t)throw new Error("No coordinates passed");for(var o=0;o<t.length;o++){var s=t[o];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++){if(0===o&&0===a&&!E(s[0][0])||!E(s[0][1]))throw new Error("Coordinates must contain numbers");if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}}return i({type:"Polygon",coordinates:t},e,n,r)}function a(t,e,n,r){if(!t)throw new Error("No coordinates passed");if(t.length<2)throw new Error("Coordinates must be an array of two or more positions");if(!E(t[0][1])||!E(t[0][1]))throw new Error("Coordinates must contain numbers");return i({type:"LineString",coordinates:t},e,n,r)}function u(t,e,n){if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");if(e&&4!==e.length)throw new Error("bbox must be an Array of 4 numbers");if(n&&-1===["string","number"].indexOf(void 0===n?"undefined":O(n)))throw new Error("id must be a number or a string");var i={type:"FeatureCollection"};return n&&(i.id=n),e&&(i.bbox=e),i.features=t,i}function l(t,e,n,r){if(!t)throw new Error("No coordinates passed");return i({type:"MultiLineString",coordinates:t},e,n,r)}function f(t,e,n,r){if(!t)throw new Error("No coordinates passed");return i({type:"MultiPoint",coordinates:t},e,n,r)}function c(t,e,n,r){if(!t)throw new Error("No coordinates passed");return i({type:"MultiPolygon",coordinates:t},e,n,r)}function d(t,e,n,r){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return i({type:"GeometryCollection",geometries:t},e,n,r)}function h(t,e){if(void 0===t||null===t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function _(t,e){if(void 0===t||null===t)throw new Error("radians is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=R[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t*n}function p(t,e){if(void 0===t||null===t)throw new Error("distance is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=R[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t/n}function g(t,e){return v(p(t,e))}function m(t){if(null===t||void 0===t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e}function v(t){if(null===t||void 0===t)throw new Error("radians is required");return t%(2*Math.PI)*180/Math.PI}function y(t){if(null===t||void 0===t)throw new Error("degrees is required");return t%360*Math.PI/180}function b(t,e,n){if(null===t||void 0===t)throw new Error("length is required");if(!(t>=0))throw new Error("length must be a positive number");return _(p(t,e),n||"kilometers")}function x(t,e,n){if(null===t||void 0===t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var i=D[e||"meters"];if(!i)throw new Error("invalid original units");var r=D[n||"kilometers"];if(!r)throw new Error("invalid final units");return t/i*r}function E(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function L(t){return!!t&&t.constructor===Object}function w(){throw new Error("method has been renamed to `radiansToDegrees`")}function M(){throw new Error("method has been renamed to `degreesToRadians`")}function P(){throw new Error("method has been renamed to `lengthToDegrees`")}function I(){throw new Error("method has been renamed to `lengthToRadians`")}function C(){throw new Error("method has been renamed to `radiansToLength`")}function S(){throw new Error("method has been renamed to `bearingToAzimuth`")}function N(){throw new Error("method has been renamed to `convertLength`")}Object.defineProperty(e,"__esModule",{value:!0});var O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.feature=i,e.geometry=r,e.point=o,e.polygon=s,e.lineString=a,e.featureCollection=u,e.multiLineString=l,e.multiPoint=f,e.multiPolygon=c,e.geometryCollection=d,e.round=h,e.radiansToLength=_,e.lengthToRadians=p,e.lengthToDegrees=g,e.bearingToAzimuth=m,e.radiansToDegrees=v,e.degreesToRadians=y,e.convertLength=b,e.convertArea=x,e.isNumber=E,e.isObject=L,e.radians2degrees=w,e.degrees2radians=M,e.distanceToDegrees=P,e.distanceToRadians=I,e.radiansToDistance=C,e.bearingToAngle=S,e.convertDistance=N;var T=e.earthRadius=6371008.8,R=e.factors={meters:T,metres:T,millimeters:1e3*T,millimetres:1e3*T,centimeters:100*T,centimetres:100*T,kilometers:T/1e3,kilometres:T/1e3,miles:T/1609.344,nauticalmiles:T/1852,inches:39.37*T,yards:T/1.0936,feet:3.28084*T,radians:1,degrees:T/111325},D=(e.unitsFactors={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:.001,kilometres:.001,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/T,degrees:1/111325},e.areaFactors={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:3.86e-7,yards:1.195990046,feet:10.763910417,inches:1550.003100006})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new _.default(t),this.elt[1]=new _.default(t)}else if(arguments[0]instanceof r){var e=arguments[0];this.elt[0]=new _.default(e.elt[0]),this.elt[1]=new _.default(e.elt[1])}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.elt[0]=new _.default(u.default.NONE),this.elt[1]=new _.default(u.default.NONE),this.elt[n].setLocation(i)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new _.default(o,s,a),this.elt[1]=new _.default(o,s,a)}else if(4===arguments.length){var l=arguments[0],f=arguments[1],c=arguments[2],d=arguments[3];this.elt[0]=new _.default(u.default.NONE,u.default.NONE,u.default.NONE),this.elt[1]=new _.default(u.default.NONE,u.default.NONE,u.default.NONE),this.elt[l].setLocations(f,c,d)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(37),s=i(o),a=n(11),u=i(a),l=n(18),f=i(l),c=n(0),d=i(c),h=n(314),_=i(h);(0,d.default)(r.prototype,{getGeometryCount:function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},setAllLocations:function(t,e){this.elt[t].setAllLocations(e)},isNull:function(t){return this.elt[t].isNull()},setAllLocationsIfNull:function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},isLine:function(t){return this.elt[t].isLine()},merge:function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new _.default(t.elt[e]):this.elt[e].merge(t.elt[e])},flip:function(){this.elt[0].flip(),this.elt[1].flip()},getLocation:function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(f.default.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},toString:function(){var t=new s.default;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},isArea:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},isAnyNull:function(t){return this.elt[t].isAnyNull()},setLocation:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(f.default.ON,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.elt[n].setLocation(i,r)}},isEqualOnSide:function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},allPositionsEqual:function(t,e){return this.elt[t].allPositionsEqual(e)},toLine:function(t){this.elt[t].isArea()&&(this.elt[t]=new _.default(this.elt[t].location[0]))},interfaces_:function(){return[]},getClass:function(){return r}}),r.toLineLabel=function(t){for(var e=new r(u.default.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){this.parser=new s.default(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(149),s=i(o),a=n(0),u=i(a);(0,u.default)(r.prototype,{write:function(t){return this.parser.write(t)}}),(0,u.default)(r,{toLineString:function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){var t=arguments[0],e=arguments[1];_.default.call(this,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(13),s=i(o),a=n(106),u=i(a),l=n(0),f=i(l),c=n(107),d=i(c),h=n(14),_=i(h),p=n(41),g=i(p);(0,i(n(3)).default)(r,_.default),(0,f.default)(r.prototype,{getSortIndex:function(){return s.default.SORTINDEX_MULTILINESTRING},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&_.default.prototype.equalsExact.call(this,t,e)}return _.default.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return this.isClosed()?g.default.FALSE:0},isClosed:function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},getDimension:function(){return 1},reverse:function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},getBoundary:function(){return new u.default(this).getBoundary()},getGeometryType:function(){return"MultiLineString"},copy:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new r(t,this._factory)},interfaces_:function(){return[d.default]},getClass:function(){return r}}),r.serialVersionUID=0x7155d2ab4afa8000},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(arguments[0]instanceof _.default&&arguments[1]instanceof d.default){var t=arguments[0],e=arguments[1];r.call(this,e.getCoordinateSequenceFactory().create(t),e)}else if((0,f.default)(arguments[0],E.default)&&arguments[1]instanceof d.default){var n=arguments[0],i=arguments[1];s.default.call(this,n,i),this.validateConstruction()}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(10),s=i(o),a=n(13),u=i(a),l=n(6),f=i(l),c=n(16),d=i(c),h=n(2),_=i(h),p=n(7),g=i(p),m=n(0),v=i(m),y=n(108),b=i(y),x=n(40),E=i(x),L=n(41),w=i(L);(0,i(n(3)).default)(r,s.default),(0,v.default)(r.prototype,{getSortIndex:function(){return u.default.SORTINDEX_LINEARRING},getBoundaryDimension:function(){return w.default.FALSE},isClosed:function(){return!!this.isEmpty()||s.default.prototype.isClosed.call(this)},reverse:function(){var t=this._points.copy();return b.default.reverse(t),this.getFactory().createLinearRing(t)},validateConstruction:function(){if(!this.isEmpty()&&!s.default.prototype.isClosed.call(this))throw new g.default("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<r.MINIMUM_VALID_SIZE)throw new g.default("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},getGeometryType:function(){return"LinearRing"},copy:function(){return new r(this._points.copy(),this._factory)},interfaces_:function(){return[]},getClass:function(){return r}}),r.MINIMUM_VALID_SIZE=4,r.serialVersionUID=-0x3b229e262367a600},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){var t=arguments[0],e=arguments[1];f.default.call(this,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(13),s=i(o),a=n(0),u=i(a),l=n(14),f=i(l),c=n(43),d=i(c),h=n(1),_=i(h);(0,i(n(3)).default)(r,f.default),(0,u.default)(r.prototype,{getSortIndex:function(){return s.default.SORTINDEX_MULTIPOLYGON},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&f.default.prototype.equalsExact.call(this,t,e)}return f.default.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},reverse:function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new _.default,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e],i=n.getBoundary(),r=0;r<i.getNumGeometries();r++)t.add(i.getGeometryN(r));var o=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(o))},getGeometryType:function(){return"MultiPolygon"},copy:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new r(t,this._factory)},interfaces_:function(){return[d.default]},getClass:function(){return r}}),r.serialVersionUID=-0x7a5aa1369171980},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return o(function(){return t})()}function o(t){function e(t){return t=m(t[0]*p.radians,t[1]*p.radians),[t[0]*P+u,c-t[1]*P]}function n(t){return(t=m.invert((t[0]-u)/P,(c-t[1])/P))&&[t[0]*p.degrees,t[1]*p.degrees]}function i(t,e){return t=s(t,e),[t[0]*P+u,c-t[1]*P]}function r(){m=(0,d.default)(h=(0,g.rotateRadians)(O,T,R),s);var t=s(S,N);return u=I-t[0]*P,c=C+t[1]*P,o()}function o(){return w=M=null,e}var s,u,c,h,m,y,E,L,w,M,P=150,I=480,C=250,S=0,N=0,O=0,T=0,R=0,D=null,A=a.default,k=null,j=_.default,F=.5,z=(0,b.default)(i,F);return e.stream=function(t){return w&&M===t?w:w=x(A(h,z(j(M=t))))},e.clipAngle=function(t){return arguments.length?(A=+t?(0,l.default)(D=t*p.radians,6*p.radians):(D=null,a.default),o()):D*p.degrees},e.clipExtent=function(t){return arguments.length?(j=null==t?(k=y=E=L=null,_.default):(0,f.clipExtent)(k=+t[0][0],y=+t[0][1],E=+t[1][0],L=+t[1][1]),o()):null==k?null:[[k,y],[E,L]]},e.scale=function(t){return arguments.length?(P=+t,r()):P},e.translate=function(t){return arguments.length?(I=+t[0],C=+t[1],r()):[I,C]},e.center=function(t){return arguments.length?(S=t[0]%360*p.radians,N=t[1]%360*p.radians,r()):[S*p.degrees,N*p.degrees]},e.rotate=function(t){return arguments.length?(O=t[0]%360*p.radians,T=t[1]%360*p.radians,R=t.length>2?t[2]%360*p.radians:0,r()):[O*p.degrees,T*p.degrees,R*p.degrees]},e.precision=function(t){return arguments.length?(z=(0,b.default)(i,F=t*t),o()):(0,p.sqrt)(F)},e.fitExtent=function(t,n){return(0,v.fitExtent)(e,t,n)},e.fitSize=function(t,n){return(0,v.fitSize)(e,t,n)},function(){return s=t.apply(this,arguments),e.invert=s.invert&&n,r()}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,e.projectionMutator=o;var s=n(479),a=i(s),u=n(480),l=i(u),f=n(127),c=n(208),d=i(c),h=n(130),_=i(h),p=n(5),g=n(99),m=n(100),v=n(133),y=n(481),b=i(y),x=(0,m.transformer)({point:function(t,e){this.stream.point(t*p.radians,e*p.radians)}})},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(25),o=function(t){return t&&t.__esModule?t:{default:t}}(r);i.prototype=Object.create(o.default.prototype),i.prototype.constructor=i,i.prototype.get=function(){},i.prototype.set=function(){},i.prototype.isEmpty=function(){}},function(t,e,n){"use strict";function i(t){this.str=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype.append=function(t){this.str+=t},i.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},i.prototype.toString=function(t){return this.str}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return null==t?g:t.color}function o(t){return null==t?null:t.parent}function s(t,e){null!==t&&(t.color=e)}function a(t){return null==t?null:t.left}function u(t){return null==t?null:t.right}function l(){this.root_=null,this.size_=0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var f=n(1),c=i(f),d=n(276),h=i(d),_=n(49),p=i(_),g=0;l.prototype=new h.default,l.prototype.get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},l.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:g,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,r=this.root_;do{if(n=r,(i=t.compareTo(r.key))<0)r=r.left;else{if(!(i>0)){var o=r.value;return r.value=e,o}r=r.right}}while(null!==r);var s={key:t,left:null,right:null,value:e,parent:n,color:g,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},l.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!=this.root_&&1==t.parent.color;)if(o(t)==a(o(o(t)))){var e=u(o(o(t)));1==r(e)?(s(o(t),g),s(e,g),s(o(o(t)),1),t=o(o(t))):(t==u(o(t))&&(t=o(t),this.rotateLeft(t)),s(o(t),g),s(o(o(t)),1),this.rotateRight(o(o(t))))}else{var e=a(o(o(t)));1==r(e)?(s(o(t),g),s(e,g),s(o(o(t)),1),t=o(o(t))):(t==a(o(t))&&(t=o(t),this.rotateRight(t)),s(o(t),g),s(o(o(t)),1),this.rotateLeft(o(o(t))))}this.root_.color=g},l.prototype.values=function(){var t=new c.default,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=l.successor(e));)t.add(e.value);return t},l.prototype.entrySet=function(){var t=new p.default,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=l.successor(e));)t.add(e);return t},l.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.left==t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},l.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.right==t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},l.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},l.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var e=t.parent,n=t;null!==e&&n===e.right;)n=e,e=e.parent;return e},l.prototype.size=function(){return this.size_}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(68),o=i(r),s=n(1),a=i(s),u={reverseOrder:function(){return{compare:function(t,e){return e.compareTo(t)}}},min:function(t){return u.sort(t),t.get(0)},sort:function(t,e){var n=t.toArray();e?o.default.sort(n,e):o.default.sort(n);for(var i=t.iterator(),r=0,s=n.length;r<s;r++)i.next(),i.set(n[r])},singletonList:function(t){var e=new a.default;return e.add(t),e}};e.default=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(63),u=i(a);(0,s.default)(r.prototype,{setOrdinate:function(t,e,n){},size:function(){},getOrdinate:function(t,e){},getCoordinate:function(){if(1===arguments.length){arguments[0]}else if(2===arguments.length){arguments[0],arguments[1]}},getCoordinateCopy:function(t){},getDimension:function(){},getX:function(t){},clone:function(){},expandEnvelope:function(t){},copy:function(){},getY:function(t){},toCoordinateArray:function(){},interfaces_:function(){return[u.default]},getClass:function(){return r}}),r.X=0,r.Y=1,r.Z=2,r.M=3},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(7),s=i(o),a=n(0),u=i(a),l=n(148),f=i(l);(0,u.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.toDimensionSymbol=function(t){switch(t){case r.FALSE:return r.SYM_FALSE;case r.TRUE:return r.SYM_TRUE;case r.DONTCARE:return r.SYM_DONTCARE;case r.P:return r.SYM_P;case r.L:return r.SYM_L;case r.A:return r.SYM_A}throw new s.default("Unknown dimension value: "+t)},r.toDimensionValue=function(t){switch(f.default.toUpperCase(t)){case r.SYM_FALSE:return r.FALSE;case r.SYM_TRUE:return r.TRUE;case r.SYM_DONTCARE:return r.DONTCARE;case r.SYM_P:return r.P;case r.SYM_L:return r.L;case r.SYM_A:return r.A}throw new s.default("Unknown dimension symbol: "+t)},r.P=0,r.L=1,r.A=2,r.FALSE=-1,r.TRUE=-2,r.DONTCARE=-3,r.SYM_FALSE="F",r.SYM_TRUE="T",r.SYM_DONTCARE="*",r.SYM_P="0",r.SYM_L="1",r.SYM_A="2"},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){var t=arguments[0],e=arguments[1];f.default.call(this,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(13),s=i(o),a=n(0),u=i(a),l=n(14),f=i(l),c=n(41),d=i(c),h=n(153),_=i(h);(0,i(n(3)).default)(r,f.default),(0,u.default)(r.prototype,{getSortIndex:function(){return s.default.SORTINDEX_MULTIPOINT},isValid:function(){return!0},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&f.default.prototype.equalsExact.call(this,t,e)}return f.default.prototype.equalsExact.apply(this,arguments)},getCoordinate:function(){if(1===arguments.length){var t=arguments[0];return this._geometries[t].getCoordinate()}return f.default.prototype.getCoordinate.apply(this,arguments)},getBoundaryDimension:function(){return d.default.FALSE},getDimension:function(){return 0},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},getGeometryType:function(){return"MultiPoint"},copy:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new r(t,this._factory)},interfaces_:function(){return[_.default]},getClass:function(){return r}}),r.serialVersionUID=-0x6fb1ed4162e0fc00},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._ptLocator=new s.default,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new T.default,this._resultPolyList=new D.default,this._resultLineList=new D.default,this._resultPointList=new D.default;var t=arguments[0],e=arguments[1];N.default.call(this,t,e),this._graph=new G.default(new C.default),this._geomFact=t.getFactory()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(72),s=i(o),a=n(11),u=i(a),l=n(297),f=i(l),c=n(312),d=i(c),h=n(163),_=i(h),p=n(18),g=i(p),m=n(315),v=i(m),y=n(316),b=i(y),x=n(86),E=i(x),L=n(0),w=i(L),M=n(29),P=i(M),I=n(118),C=i(I),S=n(119),N=i(S),O=n(174),T=i(O),R=n(1),D=i(R),A=n(4),k=i(A),j=n(3),F=i(j),z=n(74),G=i(z);(0,F.default)(r,N.default),(0,w.default)(r.prototype,{insertUniqueEdge:function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new P.default(t.getLabel()),i.flip());var r=e.getDepth();r.isNull()&&r.add(n),r.add(i),n.merge(i)}else this._edgeList.add(t)},getGraph:function(){return this._graph},cancelDuplicateResultEdges:function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},isCoveredByLA:function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},computeGeometry:function(t,e,n,i){var o=new D.default;return o.addAll(t),o.addAll(e),o.addAll(n),o.isEmpty()?r.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},mergeSymLabels:function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){t.next().getEdges().mergeSymLabels()}},isCovered:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(this._ptLocator.locate(t,i)!==u.default.EXTERIOR)return!0}return!1},replaceCollapsedEdges:function(){for(var t=new D.default,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},updateNodeLabelling:function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},getResultGeometry:function(t){return this.computeOverlay(t),this._resultGeom},insertUniqueEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},computeOverlay:function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new D.default;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e);this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),f.default.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new _.default(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var i=new v.default(this,this._geomFact,this._ptLocator);this._resultLineList=i.build(t);var r=new b.default(this,this._geomFact,this._ptLocator);this._resultPointList=r.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},labelIncompleteNode:function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},copyPoints:function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},findResultAreaEdges:function(t){for(var e=this._graph.getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getLabel();i.isArea()&&!n.isInteriorAreaEdge()&&r.isResultOfOp(i.getLocation(0,g.default.RIGHT),i.getLocation(1,g.default.RIGHT),t)&&n.setInResult(!0)}},computeLabelsFromDepths:function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),i=e.getDepth();if(!i.isNull()){i.normalize();for(var r=0;r<2;r++)n.isNull(r)||!n.isArea()||i.isNull(r)||(0===i.getDelta(r)?n.toLine(r):(k.default.isTrue(!i.isNull(r,g.default.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(r,g.default.LEFT,i.getLocation(r,g.default.LEFT)),k.default.isTrue(!i.isNull(r,g.default.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(r,g.default.RIGHT,i.getLocation(r,g.default.RIGHT))))}}},computeLabelling:function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){t.next().getEdges().computeLabelling(this._arg)}this.mergeSymLabels(),this.updateNodeLabelling()},labelIncompleteNodes:function(){for(var t=0,e=this._graph.getNodes().iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(t++,i.isNull(0)?this.labelIncompleteNode(n,0):this.labelIncompleteNode(n,1)),n.getEdges().updateLabelling(i)}},isCoveredByA:function(t){return!!this.isCovered(t,this._resultPolyList)},interfaces_:function(){return[]},getClass:function(){return r}}),r.overlayOp=function(t,e,n){return new r(t,e).getResultGeometry(n)},r.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return r.createEmptyResult(r.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return d.default.map(t,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),E.default.overlayOp(t,e,r.INTERSECTION)},r.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return r.createEmptyResult(r.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),E.default.overlayOp(t,e,r.SYMDIFFERENCE)},r.resultDimension=function(t,e,n){var i=e.getDimension(),o=n.getDimension(),s=-1;switch(t){case r.INTERSECTION:s=Math.min(i,o);break;case r.UNION:s=Math.max(i,o);break;case r.DIFFERENCE:s=i;break;case r.SYMDIFFERENCE:s=Math.max(i,o)}return s},r.createEmptyResult=function(t,e,n,i){var o=null;switch(r.resultDimension(t,e,n)){case-1:o=i.createGeometryCollection(new Array(0).fill(null));break;case 0:o=i.createPoint();break;case 1:o=i.createLineString();break;case 2:o=i.createPolygon()}return o},r.difference=function(t,e){return t.isEmpty()?r.createEmptyResult(r.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),E.default.overlayOp(t,e,r.DIFFERENCE))},r.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),i=t.getLocation(1);return r.isResultOfOp(n,i,e)}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];switch(o===u.default.BOUNDARY&&(o=u.default.INTERIOR),s===u.default.BOUNDARY&&(s=u.default.INTERIOR),a){case r.INTERSECTION:return o===u.default.INTERIOR&&s===u.default.INTERIOR;case r.UNION:return o===u.default.INTERIOR||s===u.default.INTERIOR;case r.DIFFERENCE:return o===u.default.INTERIOR&&s!==u.default.INTERIOR;case r.SYMDIFFERENCE:return o===u.default.INTERIOR&&s!==u.default.INTERIOR||o!==u.default.INTERIOR&&s===u.default.INTERIOR}return!1}},r.INTERSECTION=1,r.UNION=2,r.DIFFERENCE=3,r.SYMDIFFERENCE=4},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this.pt=null,1===arguments.length){var t=arguments[0];f.default.call(this,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];f.default.call(this,r.msgWithCoord(e,n)),this.name="TopologyException",this.pt=new s.default(n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2),s=i(o),a=n(0),u=i(a),l=n(48),f=i(l);(0,i(n(3)).default)(r,f.default),(0,u.default)(r.prototype,{getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return r}}),r.msgWithCoord=function(t,e){return null!==e?t+" [ "+e+" ]":t}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t){this.name="RuntimeException",this.message=t,this.stack=(new Error).stack,Error.call(this,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype=Object.create(Error.prototype),i.prototype.constructor=Error},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.array_=[],arguments[0]instanceof s.default&&this.addAll(arguments[0])}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(25),s=i(o),a=n(54),u=(i(a),n(84)),l=i(u),f=n(103),c=i(f),d=n(152),h=i(d);r.prototype=new h.default,r.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++){if(this.array_[e]===t)return!0}return!1},r.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},r.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},r.prototype.remove=function(t){throw new javascript.util.OperationNotSupported},r.prototype.size=function(){return this.array_.length},r.prototype.isEmpty=function(){return 0===this.array_.length},r.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},r.prototype.iterator=function(){return new _(this)};var _=function(t){this.hashSet_=t,this.position_=0};_.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new l.default;return this.hashSet_.array_[this.position_++]},_.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},_.prototype.remove=function(){throw new c.default}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.array_=[],arguments[0]instanceof s.default&&this.addAll(arguments[0])}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(25),s=i(o),a=n(54),u=(i(a),n(84)),l=i(u),f=n(103),c=i(f),d=n(277),h=i(d);r.prototype=new h.default,r.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++){if(0===this.array_[e].compareTo(t))return!0}return!1},r.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++){if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0}return this.array_.push(t),!0},r.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},r.prototype.remove=function(t){throw new c.default},r.prototype.size=function(){return this.array_.length},r.prototype.isEmpty=function(){return 0===this.array_.length},r.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},r.prototype.iterator=function(){return new _(this)};var _=function(t){this.treeSet_=t,this.position_=0};_.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new l.default;return this.treeSet_.array_[this.position_++]},_.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},_.prototype.remove=function(){throw new c.default}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2),s=i(o),a=n(7),u=i(a);(0,i(n(0)).default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.isNorthern=function(t){return t===r.NE||t===r.NW},r.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},r.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e,i=t>e?t:e;return 0===n&&3===i?3:n},r.isInHalfPlane=function(t,e){return e===r.SE?t===r.SE||t===r.SW:t===e||t===e+1},r.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new u.default("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?r.NE:r.SE:e>=0?r.NW:r.SW}if(arguments[0]instanceof s.default&&arguments[1]instanceof s.default){var n=arguments[0],i=arguments[1];if(i.x===n.x&&i.y===n.y)throw new u.default("Cannot compute the quadrant for two identical points "+n);return i.x>=n.x?i.y>=n.y?r.NE:r.SE:i.y>=n.y?r.NW:r.SW}},r.NE=0,r.NW=1,r.SW=2,r.SE=3},function(t,e,n){"use strict";function i(t,e){t&&a.hasOwnProperty(t.type)&&a[t.type](t,e)}function r(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function o(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)r(t[n],e,1);e.polygonEnd()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){t&&s.hasOwnProperty(t.type)?s[t.type](t,e):i(t,e)};var s={Feature:function(t,e){i(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)i(n[r].geometry,e)}},a={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){r(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)r(n[i],e,0)},Polygon:function(t,e){o(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)o(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)i(n[r],e)}}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype.hasNext=function(){},i.prototype.next=function(){},i.prototype.remove=function(){}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=r.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof o){var t=arguments[0];this._modelType=t,t===r.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var e=arguments[0];this._modelType=r.FIXED,this.setScale(e)}else if(arguments[0]instanceof r){var n=arguments[0];this._modelType=n._modelType,this._scale=n._scale}}function o(){this._name=null;var t=arguments[0];this._name=t,o.nameToTypeMap.put(t,this)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(85),a=i(s),u=n(2),l=i(u),f=n(12),c=i(f),d=n(0),h=i(d),_=n(65),p=i(_),g=n(21),m=i(g),v=n(22),y=i(v);(0,h.default)(r.prototype,{equals:function(t){if(!(t instanceof r))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},compareTo:function(t){var e=t,n=this.getMaximumSignificantDigits(),i=e.getMaximumSignificantDigits();return new p.default(n).compareTo(new p.default(i))},getScale:function(){return this._scale},isFloating:function(){return this._modelType===r.FLOATING||this._modelType===r.FLOATING_SINGLE},getType:function(){return this._modelType},toString:function(){var t="UNKNOWN";return this._modelType===r.FLOATING?t="Floating":this._modelType===r.FLOATING_SINGLE?t="Floating-Single":this._modelType===r.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},makePrecise:function(){if("number"==typeof arguments[0]){var t=arguments[0];if(c.default.isNaN(t))return t;if(this._modelType===r.FLOATING_SINGLE){return t}return this._modelType===r.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof l.default){var e=arguments[0];if(this._modelType===r.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},getMaximumSignificantDigits:function(){var t=16;return this._modelType===r.FLOATING?t=16:this._modelType===r.FLOATING_SINGLE?t=6:this._modelType===r.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},setScale:function(t){this._scale=Math.abs(t)},interfaces_:function(){return[y.default,m.default]},getClass:function(){return r}}),r.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},(0,h.default)(o.prototype,{readResolve:function(){return o.nameToTypeMap.get(this._name)},toString:function(){return this._name},interfaces_:function(){return[y.default]},getClass:function(){return o}}),o.serialVersionUID=-552860263173159e4,o.nameToTypeMap=new a.default,r.Type=o,r.serialVersionUID=0x6bee6404e9a25c00,r.FIXED=new o("FIXED"),r.FLOATING=new o("FLOATING"),r.FLOATING_SINGLE=new o("FLOATING SINGLE"),r.maximumPreciseValue=9007199254740992},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{visitItem:function(t){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(){this.reset()}function r(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return new i},i.prototype={constructor:i,reset:function(){this.s=this.t=0},add:function(t){r(o,t,this.t),r(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}},function(t,e,n){"use strict";function i(t,e){if(Function.prototype.$asyncspawn||Object.defineProperty(Function.prototype,"$asyncspawn",{value:i,enumerable:!1,configurable:!0,writable:!0}),this instanceof Function){var n=this;return new t(function(t,i){function r(e,n){var s;try{if(s=e.call(o,n),s.done){if(s.value!==t){if(s.value&&s.value===s.value.then)return s.value(t,i);t&&t(s.value),t=null}return}s.value.then?s.value.then(function(t){r(o.next,t)},function(t){r(o.throw,t)}):r(o.next,s.value)}catch(t){return i&&i(t),void(i=null)}}var o=n.call(e,t,i);r(o.next)})}}var r=function(t,e){for(var n=e.toString(),i="return "+n,r=n.match(/.*\(([^)]*)\)/)[1],o=/['"]!!!([^'"]*)['"]/g,s=[];;){var a=o.exec(i);if(!a)break;s.push(a)}return s.reverse().forEach(function(e){i=i.slice(0,e.index)+t[e[1]]+i.substr(e.index+e[0].length)}),i=i.replace(/\/\*[^*]*\*\//g," ").replace(/\s+/g," "),new Function(r,i)()}({zousan:n(259).toString(),thenable:n(262).toString()},function t(e,n){function i(){return r.apply(e,arguments)}Function.prototype.$asyncbind||Object.defineProperty(Function.prototype,"$asyncbind",{value:t,enumerable:!1,configurable:!0,writable:!0}),t.trampoline||(t.trampoline=function(t,e,n,i,r){return function o(s){for(;s;){if(s.then)return s=s.then(o,i),r?void 0:s;try{if(s.pop){if(s.length)return s.pop()?e.call(t):s;s=n}else s=s.call(t)}catch(t){return i(t)}}}}),t.LazyThenable||(t.LazyThenable="!!!thenable"(),t.EagerThenable=t.Thenable=(t.EagerThenableFactory="!!!zousan")());var r=this;switch(n){case!0:return new t.Thenable(i);case 0:return new t.LazyThenable(i);case void 0:return i.then=i,i;default:return function(){try{return r.apply(e,arguments)}catch(t){return n(t)}}}});r(),i(),t.exports={$asyncbind:r,$asyncspawn:i}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=n(60),o=(function(t){t&&t.__esModule}(r),function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this.options=e}return o(t,[{key:"getParamString",value:function(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}},{key:"search",value:function(t){return new Promise(function(e,n){var i,r,o,s,a;return i=t.query,r=~location.protocol.indexOf("http")?location.protocol:"https:",o=this.endpoint({query:i,protocol:r}),fetch(o).then(function(t){return s=t,s.json().then(function(t){return a=t,e(this.parse({data:a}))}.$asyncbind(this,n),n)}.$asyncbind(this,n),n)}.$asyncbind(this))}}]),t}();e.default=s},function(t,e,n){"use strict";function i(t,e,n){if(null!==t){var r,o,s,a,u,l,f,c,d,h,_=0,p=0,g=t.type,m="FeatureCollection"===g,v="Feature"===g,y=m?t.features.length:1;for(r=0;r<y;r++)for(d=m?t.features[r].geometry:v?t.geometry:t,h=!!d&&"GeometryCollection"===d.type,f=h?d.geometries.length:1,o=0;o<f;o++){var b=0;if(null!==(l=h?d.geometries[o]:d)){c=l.coordinates;var x=l.type;switch(_=!n||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":e(c,p,r,b),p++,b++;break;case"LineString":case"MultiPoint":for(s=0;s<c.length;s++)e(c[s],p,r,b),p++,"MultiPoint"===x&&b++;"LineString"===x&&b++;break;case"Polygon":case"MultiLineString":for(s=0;s<c.length;s++){for(a=0;a<c[s].length-_;a++)e(c[s][a],p,r,b),p++;"MultiLineString"===x&&b++}"Polygon"===x&&b++;break;case"MultiPolygon":for(s=0;s<c.length;s++){for(a=0;a<c[s].length;a++)for(u=0;u<c[s][a].length-_;u++)e(c[s][a][u],p,r,b),p++;b++}break;case"GeometryCollection":for(s=0;s<l.geometries.length;s++)i(l.geometries[s],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function r(t,e,n,r){var o=n;return i(t,function(t,i,r,s){o=0===i&&void 0===n?t:e(o,t,i,r,s)},r),o}function o(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function s(t,e,n){var i=n;return o(t,function(t,r){i=0===r&&void 0===n?t:e(i,t,r)}),i}function a(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function u(t,e,n){var i=n;return a(t,function(t,r){i=0===r&&void 0===n?t:e(i,t,r)}),i}function l(t){var e=[];return i(t,function(t){e.push(t)}),e}function f(t,e){var n,i,r,o,s,a,u,l,f,c,d=0,h="FeatureCollection"===t.type,_="Feature"===t.type,p=h?t.features.length:1;for(n=0;n<p;n++){for(a=h?t.features[n].geometry:_?t.geometry:t,l=h?t.features[n].properties:_?t.properties:{},f=h?t.features[n].bbox:_?t.bbox:void 0,c=h?t.features[n].id:_?t.id:void 0,u=!!a&&"GeometryCollection"===a.type,s=u?a.geometries.length:1,r=0;r<s;r++)if(null!==(o=u?a.geometries[r]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(o,d,l,f,c);break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)e(o.geometries[i],d,l,f,c);break;default:throw new Error("Unknown Geometry Type")}else e(null,d,l,f,c);d++}}function c(t,e,n){var i=n;return f(t,function(t,r,o){i=0===r&&void 0===n?t:e(i,t,r,o)}),i}function d(t,e){f(t,function(t,n,i,r,o){var s=null===t?null:t.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return void e((0,v.feature)(t,i,r,o),n,0)}var a;switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}t.coordinates.forEach(function(t,r){var o={type:a,coordinates:t};e((0,v.feature)(o,i),n,r)})})}function h(t,e,n){var i=n;return d(t,function(t,r,o){i=0===r&&0===o&&void 0===n?t:e(i,t,r,o)}),i}function _(t,e){d(t,function(t,n,i){var o=0;if(t.geometry){var s=t.geometry.type;"Point"!==s&&"MultiPoint"!==s&&r(t,function(r,s){var a=(0,v.lineString)([r,s],t.properties);return e(a,n,i,o),o++,s})}})}function p(t,e,n){var i=n,r=!1;return _(t,function(t,o,s,a){i=!1===r&&void 0===n?t:e(i,t,o,s,a),r=!0}),i}function g(t,e){if(!t)throw new Error("geojson is required");d(t,function(t,n,i){if(null!==t.geometry){var r=t.geometry.type,o=t.geometry.coordinates;switch(r){case"LineString":e(t,n,i,0);break;case"Polygon":for(var s=0;s<o.length;s++)e((0,v.lineString)(o[s],t.properties),n,i,s)}}})}function m(t,e,n){var i=n;return g(t,function(t,r,o,s){i=0===r&&void 0===n?t:e(i,t,r,o,s)}),i}Object.defineProperty(e,"__esModule",{value:!0}),e.coordEach=i,e.coordReduce=r,e.propEach=o,e.propReduce=s,e.featureEach=a,e.featureReduce=u,e.coordAll=l,e.geomEach=f,e.geomReduce=c,e.flattenEach=d,e.flattenReduce=h,e.segmentEach=_,e.segmentReduce=p,e.lineEach=g,e.lineReduce=m;var v=n(28)},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){u.default.call(this,"Projective point not representable on the Cartesian plane.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(104),u=i(a);(0,i(n(3)).default)(r,u.default),(0,s.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){this.value=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype.intValue=function(){return this.value},i.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},i.isNaN=function(t){return Number.isNaN(t)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];this.x=e,this.y=n,this.w=1}else if(arguments[0]instanceof r&&arguments[1]instanceof r){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof u.default&&arguments[1]instanceof u.default){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var l=arguments[0],f=arguments[1],c=arguments[2];this.x=l,this.y=f,this.w=c}else if(4===arguments.length){var d=arguments[0],h=arguments[1],_=arguments[2],p=arguments[3],g=d.y-h.y,m=h.x-d.x,v=d.x*h.y-h.x*d.y,y=_.y-p.y,b=p.x-_.x,x=_.x*p.y-p.x*_.y;this.x=m*x-b*v,this.y=y*v-g*x,this.w=g*b-y*m}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(64),s=i(o),a=n(2),u=i(a),l=n(12),f=i(l);(0,i(n(0)).default)(r.prototype,{getY:function(){var t=this.y/this.w;if(f.default.isNaN(t)||f.default.isInfinite(t))throw new s.default;return t},getX:function(){var t=this.x/this.w;if(f.default.isNaN(t)||f.default.isInfinite(t))throw new s.default;return t},getCoordinate:function(){var t=new u.default;return t.x=this.getX(),t.y=this.getY(),t},interfaces_:function(){return[]},getClass:function(){return r}}),r.intersection=function(t,e,n,i){var r=t.y-e.y,o=e.x-t.x,a=t.x*e.y-e.x*t.y,l=n.y-i.y,c=i.x-n.x,d=n.x*i.y-i.x*n.y,h=o*d-c*a,_=l*a-r*d,p=r*c-l*o,g=h/p,m=_/p;if(f.default.isNaN(g)||f.default.isInfinite(g)||f.default.isNaN(m)||f.default.isInfinite(m))throw new s.default;return new u.default(g,m)}},function(t,e,n){"use strict";function i(){}function r(){}function o(){}function s(){}function a(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var u=n(0),l=function(t){return t&&t.__esModule?t:{default:t}}(u);(0,l.default)(i.prototype,{isInBoundary:function(t){},interfaces_:function(){return[]},getClass:function(){return i}}),(0,l.default)(r.prototype,{isInBoundary:function(t){return t%2==1},interfaces_:function(){return[i]},getClass:function(){return r}}),(0,l.default)(o.prototype,{isInBoundary:function(t){return t>0},interfaces_:function(){return[i]},getClass:function(){return o}}),(0,l.default)(s.prototype,{isInBoundary:function(t){return t>1},interfaces_:function(){return[i]},getClass:function(){return s}}),(0,l.default)(a.prototype,{isInBoundary:function(t){return 1===t},interfaces_:function(){return[i]},getClass:function(){return a}}),i.Mod2BoundaryNodeRule=r,i.EndPointBoundaryNodeRule=o,i.MultiValentEndPointBoundaryNodeRule=s,i.MonoValentEndPointBoundaryNodeRule=a,i.MOD2_BOUNDARY_RULE=new r,i.ENDPOINT_BOUNDARY_RULE=new o,i.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new s,i.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new a,i.OGC_SFS_BOUNDARY_RULE=i.MOD2_BOUNDARY_RULE},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(1),o=function(t){return t&&t.__esModule?t:{default:t}}(r);i.sort=function(){var t,e,n,i,r=arguments[0];if(1===arguments.length)return i=function(t,e){return t.compareTo(e)},void r.sort(i);if(2===arguments.length)n=arguments[1],i=function(t,e){return n.compare(t,e)},r.sort(i);else{if(3===arguments.length){e=r.slice(arguments[1],arguments[2]),e.sort();var o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length));for(r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t]);return}if(4===arguments.length){for(e=r.slice(arguments[1],arguments[2]),n=arguments[3],i=function(t,e){return n.compare(t,e)},e.sort(i),o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length)),r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t]);return}}},i.asList=function(t){for(var e=new o.default,n=0,i=t.length;n<i;n++)e.add(t[n]);return e}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{filter:function(t,e){},isDone:function(){},isGeometryChanged:function(){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];r.call(this,t,3)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this._coordinates=new Array(e).fill(null);for(var n=0;n<e;n++)this._coordinates[n]=new f.default}else if((0,u.default)(arguments[0],v.default)){var i=arguments[0];if(null===i)return this._coordinates=new Array(0).fill(null),null;this._dimension=i.getDimension(),this._coordinates=new Array(i.size()).fill(null);for(var n=0;n<this._coordinates.length;n++)this._coordinates[n]=i.getCoordinateCopy(n)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var o=arguments[0],s=arguments[1];this._coordinates=o,this._dimension=s,null===o&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],l=arguments[1];this._coordinates=new Array(a).fill(null),this._dimension=l;for(var n=0;n<a;n++)this._coordinates[n]=new f.default}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(37),s=i(o),a=n(6),u=i(a),l=n(2),f=i(l),c=n(7),d=i(c),h=n(12),_=i(h),p=n(0),g=i(p),m=n(40),v=i(m),y=n(22),b=i(y);(0,g.default)(r.prototype,{setOrdinate:function(t,e,n){switch(e){case v.default.X:this._coordinates[t].x=n;break;case v.default.Y:this._coordinates[t].y=n;break;case v.default.Z:this._coordinates[t].z=n;break;default:throw new d.default("invalid ordinateIndex")}},size:function(){return this._coordinates.length},getOrdinate:function(t,e){switch(e){case v.default.X:return this._coordinates[t].x;case v.default.Y:return this._coordinates[t].y;case v.default.Z:return this._coordinates[t].z}return _.default.NaN},getCoordinate:function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},getCoordinateCopy:function(t){return new f.default(this._coordinates[t])},getDimension:function(){return this._dimension},getX:function(t){return this._coordinates[t].x},clone:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new r(t,this._dimension)},expandEnvelope:function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},copy:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new r(t,this._dimension)},toString:function(){if(this._coordinates.length>0){var t=new s.default(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},getY:function(t){return this._coordinates[t].y},toCoordinateArray:function(){return this._coordinates},interfaces_:function(){return[v.default,b.default]},getClass:function(){return r}}),r.serialVersionUID=-0xcb44a778db18e00},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.array_=[]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(289),s=i(o),a=n(36),u=i(a);r.prototype=new u.default,r.prototype.add=function(t){return this.array_.push(t),!0},r.prototype.get=function(t){if(t<0||t>=this.size())throw new IndexOutOfBoundsException;return this.array_[t]},r.prototype.push=function(t){return this.array_.push(t),t},r.prototype.pop=function(t){if(0===this.array_.length)throw new s.default;return this.array_.pop()},r.prototype.peek=function(){if(0===this.array_.length)throw new s.default;return this.array_[this.array_.length-1]},r.prototype.empty=function(){return 0===this.array_.length},r.prototype.isEmpty=function(){return this.empty()},r.prototype.search=function(t){return this.array_.indexOf(t)},r.prototype.size=function(){return this.array_.length},r.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._boundaryRule=b.default.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new _.default("Rule must be non-null");this._boundaryRule=t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(11),s=i(o),a=n(10),u=i(a),l=n(9),f=i(l),c=n(2),d=i(c),h=n(7),_=i(h),p=n(26),g=i(p),m=n(17),v=i(m),y=n(67),b=i(y),x=n(0),E=i(x),L=n(33),w=i(L),M=n(157),P=i(M),I=n(14),C=i(I),S=n(31),N=i(S);(0,E.default)(r.prototype,{locateInternal:function(){if(arguments[0]instanceof d.default&&arguments[1]instanceof v.default){var t=arguments[0],e=arguments[1];if(e.isEmpty())return s.default.EXTERIOR;var n=e.getExteriorRing(),i=this.locateInPolygonRing(t,n);if(i===s.default.EXTERIOR)return s.default.EXTERIOR;if(i===s.default.BOUNDARY)return s.default.BOUNDARY;for(var r=0;r<e.getNumInteriorRing();r++){var o=e.getInteriorRingN(r),a=this.locateInPolygonRing(t,o);if(a===s.default.INTERIOR)return s.default.EXTERIOR;if(a===s.default.BOUNDARY)return s.default.BOUNDARY}return s.default.INTERIOR}if(arguments[0]instanceof d.default&&arguments[1]instanceof u.default){var l=arguments[0],c=arguments[1];if(!c.getEnvelopeInternal().intersects(l))return s.default.EXTERIOR;var h=c.getCoordinates();return c.isClosed()||!l.equals(h[0])&&!l.equals(h[h.length-1])?f.default.isOnLine(l,h)?s.default.INTERIOR:s.default.EXTERIOR:s.default.BOUNDARY}if(arguments[0]instanceof d.default&&arguments[1]instanceof g.default){var _=arguments[0];return arguments[1].getCoordinate().equals2D(_)?s.default.INTERIOR:s.default.EXTERIOR}},locateInPolygonRing:function(t,e){return e.getEnvelopeInternal().intersects(t)?f.default.locatePointInRing(t,e.getCoordinates()):s.default.EXTERIOR},intersects:function(t,e){return this.locate(t,e)!==s.default.EXTERIOR},updateLocationInfo:function(t){t===s.default.INTERIOR&&(this._isIn=!0),t===s.default.BOUNDARY&&this._numBoundaries++},computeLocation:function(t,e){if(e instanceof g.default&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof u.default)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof v.default)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof N.default)for(var n=e,i=0;i<n.getNumGeometries();i++){var r=n.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,r))}else if(e instanceof w.default)for(var o=e,i=0;i<o.getNumGeometries();i++){var s=o.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,s))}else if(e instanceof C.default)for(var a=new P.default(e);a.hasNext();){var l=a.next();l!==e&&this.computeLocation(t,l)}},locate:function(t,e){return e.isEmpty()?s.default.EXTERIOR:e instanceof u.default?this.locateInternal(t,e):e instanceof v.default?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?s.default.BOUNDARY:this._numBoundaries>0||this._isIn?s.default.INTERIOR:s.default.EXTERIOR)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._nodeList=new s.default(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(304),s=i(o),a=n(30),u=i(a),l=n(70),f=i(l),c=n(2),d=i(c),h=n(158),_=i(h),p=n(0),g=i(p),m=n(1),v=i(m),y=n(307),b=i(y);(0,g.default)(r.prototype,{getCoordinates:function(){return this._pts},size:function(){return this._pts.length},getCoordinate:function(t){return this._pts[t]},isClosed:function(){return this._pts[0].equals(this._pts[this._pts.length-1])},getSegmentOctant:function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this._data=t},safeOctant:function(t,e){return t.equals2D(e)?0:_.default.octant(t,e)},getData:function(){return this._data},addIntersection:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=(arguments[2],arguments[3]),o=new d.default(n.getIntersection(r));this.addIntersection(o,i)}},toString:function(){return u.default.toLineString(new f.default(this._pts))},getNodeList:function(){return this._nodeList},addIntersectionNode:function(t,e){var n=e,i=n+1;if(i<this._pts.length){var r=this._pts[i];t.equals2D(r)&&(n=i)}return this._nodeList.add(t,n)},addIntersections:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},interfaces_:function(){return[b.default]},getClass:function(){return r}}),r.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new v.default;return r.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],i=arguments[1],o=n.iterator();o.hasNext();){var s=o.next();s.getNodeList().addSplitEdges(i)}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._edges=new E.default,this._nodes=null,this._edgeEndList=new E.default,0===arguments.length)this._nodes=new g.default(new P.default);else if(1===arguments.length){var t=arguments[0];this._nodes=new g.default(t)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(11),s=i(o),a=n(9),u=i(a),l=n(2),f=i(l),c=n(75),d=i(c),h=n(0),_=i(h),p=n(115),g=i(p),m=n(167),v=i(m),y=n(24),b=i(y),x=n(1),E=i(x),L=n(51),w=i(L),M=n(117),P=i(M);(0,_.default)(r.prototype,{printEdges:function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},find:function(t){return this._nodes.find(t)},addNode:function(){if(arguments[0]instanceof d.default){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof f.default){var e=arguments[0];return this._nodes.addNode(e)}},getNodeIterator:function(){return this._nodes.iterator()},linkResultDirectedEdges:function(){for(var t=this._nodes.iterator();t.hasNext();){t.next().getEdges().linkResultDirectedEdges()}},debugPrintln:function(t){b.default.out.println(t)},isBoundaryNode:function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(t)===s.default.BOUNDARY},linkAllDirectedEdges:function(){for(var t=this._nodes.iterator();t.hasNext();){t.next().getEdges().linkAllDirectedEdges()}},matchInSameDirection:function(t,e,n,i){return!!t.equals(n)&&(u.default.computeOrientation(t,e,i)===u.default.COLLINEAR&&w.default.quadrant(t,e)===w.default.quadrant(n,i))},getEdgeEnds:function(){return this._edgeEndList},debugPrint:function(t){b.default.out.print(t)},getEdgeIterator:function(){return this._edges.iterator()},findEdgeInSameDirection:function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return i;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return i}return null},insertEdge:function(t){this._edges.add(t)},findEdgeEnd:function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},addEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var i=new v.default(n,!0),r=new v.default(n,!1);i.setSym(r),r.setSym(i),this.add(i),this.add(r)}},add:function(t){this._nodes.add(t),this._edgeEndList.add(t)},getNodes:function(){return this._nodes.values()},findEdge:function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return i}return null},interfaces_:function(){return[]},getClass:function(){return r}}),r.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();){e.next().getEdges().linkResultDirectedEdges()}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){_.default.apply(this),this._coord=null,this._edges=null;var t=arguments[0],e=arguments[1];this._coord=t,this._edges=e,this._label=new f.default(0,s.default.NONE)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(11),s=i(o),a=n(0),u=i(a),l=n(29),f=i(l),c=n(3),d=i(c),h=n(166),_=i(h);(0,d.default)(r,_.default),(0,u.default)(r.prototype,{isIncidentEdgeInResult:function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();){if(t.next().getEdge().isInResult())return!0}return!1},isIsolated:function(){return 1===this._label.getGeometryCount()},getCoordinate:function(){return this._coord},print:function(t){t.println("node "+this._coord+" lbl: "+this._label)},computeIM:function(t){},computeMergedLocation:function(t,e){var n=s.default.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var i=t.getLocation(e);n!==s.default.BOUNDARY&&(n=i)}return n},setLabel:function(){if(2!==arguments.length)return _.default.prototype.setLabel.apply(this,arguments);var t=arguments[0],e=arguments[1];null===this._label?this._label=new f.default(t,e):this._label.setLocation(t,e)},getEdges:function(){return this._edges},mergeLabel:function(){if(arguments[0]instanceof r){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof f.default)for(var e=arguments[0],n=0;n<2;n++){var i=this.computeMergedLocation(e,n),o=this._label.getLocation(n);o===s.default.NONE&&this._label.setLocation(n,i)}},add:function(t){this._edges.insert(t),t.setNode(this)},setLabelBoundary:function(t){if(null===this._label)return null;var e=s.default.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case s.default.BOUNDARY:n=s.default.INTERIOR;break;case s.default.INTERIOR:default:n=s.default.BOUNDARY}this._label.setLocation(t,n)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(rt.default.apply(this),this._parentGeom=null,this._lineEdgeMap=new d.default,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new s.default,2===arguments.length){var t=arguments[0],e=arguments[1];r.call(this,t,e,T.default.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];this._argIndex=n,this._parentGeom=i,this._boundaryNodeRule=o,null!==i&&this.add(i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(72),s=i(o),a=n(11),u=i(a),l=n(10),f=i(l),c=n(85),d=i(c),h=n(9),_=i(h),p=n(6),g=i(p),m=n(18),v=i(m),y=n(2),b=i(y),x=n(26),E=i(x),L=n(17),w=i(L),M=n(44),P=i(M),I=n(318),C=i(I),S=n(32),N=i(S),O=n(67),T=i(O),R=n(0),D=i(R),A=n(171),k=i(A),j=n(33),F=i(j),z=n(29),G=i(z),B=n(14),q=i(B),U=n(20),V=i(U),H=n(43),Y=i(H),Z=n(322),X=i(Z),W=n(4),K=i(W),J=n(90),$=i(J),Q=n(3),tt=i(Q),et=n(31),nt=i(et),it=n(74),rt=i(it);(0,tt.default)(r,rt.default),(0,D.default)(r.prototype,{insertBoundaryPoint:function(t,e){var n=this._nodes.addNode(e),i=n.getLabel(),o=1,s=u.default.NONE;(s=i.getLocation(t,v.default.ON))===u.default.BOUNDARY&&o++;var a=r.determineBoundary(this._boundaryNodeRule,o);i.setLocation(t,a)},computeSelfNodes:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=new k.default(n,!0,!1);o.setIsDoneIfProperInt(r);var s=this.createEdgeSetIntersector(),a=this._parentGeom instanceof N.default||this._parentGeom instanceof w.default||this._parentGeom instanceof F.default,u=i||!a;return s.computeIntersections(this._edges,o,u),this.addSelfIntersectionNodes(this._argIndex),o}},computeSplitEdges:function(t){for(var e=this._edges.iterator();e.hasNext();){e.next().eiList.addSplitEdges(t)}},computeEdgeIntersections:function(t,e,n){var i=new k.default(e,n,!0);return i.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,i),i},getGeometry:function(){return this._parentGeom},getBoundaryNodeRule:function(){return this._boundaryNodeRule},hasTooFewPoints:function(){return this._hasTooFewPoints},addPoint:function(){if(arguments[0]instanceof E.default){var t=arguments[0],e=t.getCoordinate();this.insertPoint(this._argIndex,e,u.default.INTERIOR)}else if(arguments[0]instanceof b.default){var n=arguments[0];this.insertPoint(this._argIndex,n,u.default.INTERIOR)}},addPolygon:function(t){this.addPolygonRing(t.getExteriorRing(),u.default.EXTERIOR,u.default.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,u.default.INTERIOR,u.default.EXTERIOR)}},addEdge:function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],u.default.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],u.default.BOUNDARY)},addLineString:function(t){var e=V.default.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new $.default(e,new G.default(this._argIndex,u.default.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),K.default.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},getInvalidPoint:function(){return this._invalidPoint},getBoundaryPoints:function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,i=t.iterator();i.hasNext();){var r=i.next();e[n++]=r.getCoordinate().copy()}return e},getBoundaryNodes:function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},addSelfIntersectionNode:function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===u.default.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},addPolygonRing:function(t,e,n){if(t.isEmpty())return null;var i=V.default.removeRepeatedPoints(t.getCoordinates());if(i.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=i[0],null;var r=e,o=n;_.default.isCCW(i)&&(r=n,o=e);var s=new $.default(i,new G.default(this._argIndex,u.default.BOUNDARY,r,o));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,i[0],u.default.BOUNDARY)},insertPoint:function(t,e,n){var i=this._nodes.addNode(e),r=i.getLabel();null===r?i._label=new G.default(t,n):r.setLocation(t,n)},createEdgeSetIntersector:function(){return new C.default},addSelfIntersectionNodes:function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.eiList.iterator();r.hasNext();){var o=r.next();this.addSelfIntersectionNode(t,o.coord,i)}},add:function(){if(1!==arguments.length)return rt.default.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof F.default&&(this._useBoundaryDeterminationRule=!1),t instanceof w.default)this.addPolygon(t);else if(t instanceof f.default)this.addLineString(t);else if(t instanceof E.default)this.addPoint(t);else if(t instanceof P.default)this.addCollection(t);else if(t instanceof nt.default)this.addCollection(t);else if(t instanceof F.default)this.addCollection(t);else{if(!(t instanceof q.default))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},locate:function(t){return(0,g.default)(this._parentGeom,Y.default)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new X.default(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},findEdge:function(){if(1===arguments.length){var t=arguments[0];return this._lineEdgeMap.get(t)}return rt.default.prototype.findEdge.apply(this,arguments)},interfaces_:function(){return[]},getClass:function(){return r}}),r.determineBoundary=function(t,e){return t.isInBoundary(e)?u.default.BOUNDARY:u.default.INTERIOR}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(10),s=i(o),a=n(13),u=i(a),l=n(6),f=i(l),c=n(25),d=i(c),h=n(32),_=i(h),p=n(0),g=i(p),m=n(34),v=i(m),y=n(1),b=i(y);(0,g.default)(r.prototype,{filter:function(t){if(this._isForcedToLineString&&t instanceof _.default){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof s.default&&this._lines.add(t)},setForceToLineString:function(t){this._isForcedToLineString=t},interfaces_:function(){return[v.default]},getClass:function(){return r}}),r.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(r.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(r.getLines(e,n))}},r.getLines=function(){if(1===arguments.length){var t=arguments[0];return r.getLines(t,!1)}if(2===arguments.length){if((0,f.default)(arguments[0],d.default)&&(0,f.default)(arguments[1],d.default)){for(var e=arguments[0],n=arguments[1],i=e.iterator();i.hasNext();){var o=i.next();r.getLines(o,n)}return n}if(arguments[0]instanceof u.default&&"boolean"==typeof arguments[1]){var a=arguments[0],l=arguments[1],c=new b.default;return a.apply(new r(c,l)),c}if(arguments[0]instanceof u.default&&(0,f.default)(arguments[1],d.default)){var h=arguments[0],_=arguments[1];return h instanceof s.default?_.add(h):h.apply(new r(_)),_}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&(0,f.default)(arguments[0],d.default)&&(0,f.default)(arguments[1],d.default)){for(var p=arguments[0],g=arguments[1],m=arguments[2],i=p.iterator();i.hasNext();){var o=i.next();r.getLines(o,g,m)}return g}if("boolean"==typeof arguments[2]&&arguments[0]instanceof u.default&&(0,f.default)(arguments[1],d.default)){var v=arguments[0],y=arguments[1],x=arguments[2];return v.apply(new r(y,x)),y}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){v.default.apply(this),this._parentEdge=null,this._from=null,this._to=null,this._p0=null,this._p1=null,this._sym=null,this._edgeDirection=null,this._quadrant=null,this._angle=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._from=t,this._to=e,this._edgeDirection=i,this._p0=t.getCoordinate(),this._p1=n;var r=this._p1.x-this._p0.x,o=this._p1.y-this._p0.y;this._quadrant=_.default.quadrant(r,o),this._angle=Math.atan2(o,r)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(9),s=i(o),a=n(0),u=i(a),l=n(21),f=i(l),c=n(1),d=i(c),h=n(51),_=i(h),p=n(3),g=i(p),m=n(94),v=i(m);(0,g.default)(r,v.default),(0,u.default)(r.prototype,{isRemoved:function(){return null===this._parentEdge},compareDirection:function(t){return this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:s.default.computeOrientation(t._p0,t._p1,this._p1)},getCoordinate:function(){return this._from.getCoordinate()},print:function(t){var e=this.getClass().getName(),n=e.lastIndexOf("."),i=e.substring(n+1);t.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+this._angle)},getDirectionPt:function(){return this._p1},getAngle:function(){return this._angle},compareTo:function(t){var e=t;return this.compareDirection(e)},getFromNode:function(){return this._from},getSym:function(){return this._sym},setEdge:function(t){this._parentEdge=t},remove:function(){this._sym=null,this._parentEdge=null},getEdge:function(){return this._parentEdge},getQuadrant:function(){return this._quadrant},setSym:function(t){this._sym=t},getToNode:function(){return this._to},getEdgeDirection:function(){return this._edgeDirection},interfaces_:function(){return[f.default]},getClass:function(){return r}}),r.toEdges=function(t){for(var e=new d.default,n=t.iterator();n.hasNext();)e.add(n.next()._parentEdge);return e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._linearGeom=null,this._numLines=null,this._currentLine=null,this._componentIndex=0,this._vertexIndex=0,1===arguments.length){var t=arguments[0];r.call(this,t,0,0)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];r.call(this,e,n.getComponentIndex(),r.segmentEndVertexIndex(n))}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];if(!(0,s.default)(i,d.default))throw new u.default("Lineal geometry is required");this._linearGeom=i,this._numLines=i.getNumGeometries(),this._componentIndex=o,this._vertexIndex=a,this.loadCurrentLine()}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(6),s=i(o),a=n(7),u=i(a),l=n(0),f=i(l),c=n(107),d=i(c);(0,f.default)(r.prototype,{getComponentIndex:function(){return this._componentIndex},getLine:function(){return this._currentLine},getVertexIndex:function(){return this._vertexIndex},getSegmentEnd:function(){return this._vertexIndex<this.getLine().getNumPoints()-1?this._currentLine.getCoordinateN(this._vertexIndex+1):null},next:function(){if(!this.hasNext())return null;++this._vertexIndex>=this._currentLine.getNumPoints()&&(this._componentIndex++,this.loadCurrentLine(),this._vertexIndex=0)},loadCurrentLine:function(){if(this._componentIndex>=this._numLines)return this._currentLine=null,null;this._currentLine=this._linearGeom.getGeometryN(this._componentIndex)},getSegmentStart:function(){return this._currentLine.getCoordinateN(this._vertexIndex)},isEndOfLine:function(){return!(this._componentIndex>=this._numLines)&&!(this._vertexIndex<this._currentLine.getNumPoints()-1)},hasNext:function(){return!(this._componentIndex>=this._numLines)&&!(this._componentIndex===this._numLines-1&&this._vertexIndex>=this._currentLine.getNumPoints())},interfaces_:function(){return[]},getClass:function(){return r}}),r.segmentEndVertexIndex=function(t){return t.getSegmentFraction()>0?t.getSegmentIndex()+1:t.getSegmentIndex()}},function(t,e,n){"use strict";function i(t){return[(0,f.atan2)(t[1],t[0]),(0,f.asin)(t[2])]}function r(t){var e=t[0],n=t[1],i=(0,f.cos)(n);return[i*(0,f.cos)(e),i*(0,f.sin)(e),(0,f.sin)(n)]}function o(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function s(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function a(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function u(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function l(t){var e=(0,f.sqrt)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}Object.defineProperty(e,"__esModule",{value:!0}),e.spherical=i,e.cartesian=r,e.cartesianDot=o,e.cartesianCross=s,e.cartesianAddInPlace=a,e.cartesianScale=u,e.cartesianNormalizeInPlace=l;var f=n(5)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return null===t?NaN:+t}},function(t,e,n){"use strict";function i(t){return function(e,n){var i=(0,o.cos)(e),r=(0,o.cos)(n),s=t(i*r);return[s*r*(0,o.sin)(e),s*(0,o.sin)(n)]}}function r(t){return function(e,n){var i=(0,o.sqrt)(e*e+n*n),r=t(i),s=(0,o.sin)(r),a=(0,o.cos)(r);return[(0,o.atan2)(e*s,i*a),(0,o.asin)(i&&n*s/i)]}}Object.defineProperty(e,"__esModule",{value:!0}),e.azimuthalRaw=i,e.azimuthalInvert=r;var o=n(5)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=e.createElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=document.createElement(t);return i.className=e,n&&n.appendChild(i),i};e.createScriptElement=function(t,e){var n=i("script",null,document.body);return n.setAttribute("type","text/javascript"),new Promise(function(i){window[e]=function(t){n.remove(),delete window[e],i(t)},n.setAttribute("src",t)})},e.addClassName=function(t,e){t&&!t.classList.contains(e)&&t.classList.add(e)},e.removeClassName=function(t,e){t&&t.classList.contains(e)&&t.classList.remove(e)}},function(t,e,n){"use strict";function i(t){this.message=t||""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype=new Error,i.prototype.name="NoSuchElementException"},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.map_=new h}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(1),s=i(o),a=n(151),u=i(a),l=n(49),f=i(l),c=n(286),d=i(c),h="undefined"!=typeof Map&&Map.prototype.values?Map:d.default;r.prototype=new u.default,r.prototype.get=function(t){return this.map_.get(t)||null},r.prototype.put=function(t,e){return this.map_.set(t,e),e},r.prototype.values=function(){for(var t=new s.default,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},r.prototype.entrySet=function(){var t=new f.default;return this.map_.entries().forEach(function(e){return t.add(e)}),t},r.prototype.size=function(){return this.map_.size()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._geom=new Array(2).fill(null);var t=arguments[0],e=arguments[1];this._geom[0]=t,this._geom[1]=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(292),s=i(o),a=n(0),u=i(a),l=n(48),f=i(l),c=n(45),d=i(c);(0,u.default)(r.prototype,{getResultGeometry:function(t){var e=null,n=!1,i=null;try{e=d.default.overlayOp(this._geom[0],this._geom[1],t);n=!0}catch(t){if(!(t instanceof f.default))throw t;i=t}if(!n)try{e=s.default.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof f.default?i:t}return e},interfaces_:function(){return[]},getClass:function(){return r}}),r.overlayOp=function(t,e,n){return new r(t,e).getResultGeometry(n)},r.union=function(t,e){return r.overlayOp(t,e,d.default.UNION)},r.intersection=function(t,e){return r.overlayOp(t,e,d.default.INTERSECTION)},r.symDifference=function(t,e){return r.overlayOp(t,e,d.default.SYMDIFFERENCE)},r.difference=function(t,e){return r.overlayOp(t,e,d.default.DIFFERENCE)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(10),s=i(o),a=n(16),u=i(a),l=n(7),f=i(l),c=n(26),d=i(c),h=n(17),_=i(h),p=n(44),g=i(p),m=n(32),v=i(m),y=n(0),b=i(y),x=n(33),E=i(x),L=n(14),w=i(L),M=n(1),P=i(M),I=n(31),C=i(I);(0,b.default)(r.prototype,{transformPoint:function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},transformPolygon:function(t,e){var n=!0,i=this.transformLinearRing(t.getExteriorRing(),t);null!==i&&i instanceof v.default&&!i.isEmpty()||(n=!1);for(var r=new P.default,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof v.default||(n=!1),r.add(s))}if(n)return this._factory.createPolygon(i,r.toArray([]));var a=new P.default;return null!==i&&a.add(i),a.addAll(r),this._factory.buildGeometry(a)},createCoordinateSequence:function(t){return this._factory.getCoordinateSequenceFactory().create(t)},getInputGeometry:function(){return this._inputGeom},transformMultiLineString:function(t,e){for(var n=new P.default,i=0;i<t.getNumGeometries();i++){var r=this.transformLineString(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},transformCoordinates:function(t,e){return this.copy(t)},transformLineString:function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},transformMultiPoint:function(t,e){for(var n=new P.default,i=0;i<t.getNumGeometries();i++){var r=this.transformPoint(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},transformMultiPolygon:function(t,e){for(var n=new P.default,i=0;i<t.getNumGeometries();i++){var r=this.transformPolygon(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},copy:function(t){return t.copy()},transformGeometryCollection:function(t,e){for(var n=new P.default,i=0;i<t.getNumGeometries();i++){var r=this.transform(t.getGeometryN(i));null!==r&&(this._pruneEmptyGeometry&&r.isEmpty()||n.add(r))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(u.default.toGeometryArray(n)):this._factory.buildGeometry(n)},transform:function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof d.default)return this.transformPoint(t,null);if(t instanceof g.default)return this.transformMultiPoint(t,null);if(t instanceof v.default)return this.transformLinearRing(t,null);if(t instanceof s.default)return this.transformLineString(t,null);if(t instanceof C.default)return this.transformMultiLineString(t,null);if(t instanceof _.default)return this.transformPolygon(t,null);if(t instanceof E.default)return this.transformMultiPolygon(t,null);if(t instanceof w.default)return this.transformGeometryCollection(t,null);throw new f.default("Unknown Geometry subtype: "+t.getClass().getName())},transformLinearRing:function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var i=n.size();return i>0&&i<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._monoChains=new m.default,this._index=new a.default,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,0===arguments.length);else if(1===arguments.length){var t=arguments[0];x.default.call(this,t)}}function o(){c.default.apply(this),this._si=null;var t=arguments[0];this._si=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(89),a=i(s),u=n(73),l=i(u),f=n(308),c=i(f),d=n(0),h=i(d),_=n(162),p=i(_),g=n(1),m=i(g),v=n(3),y=i(v),b=n(310),x=i(b);(0,y.default)(r,x.default),(0,h.default)(r.prototype,{getMonotoneChains:function(){return this._monoChains},getNodedSubstrings:function(){return l.default.getNodedSubstrings(this._nodedSegStrings)},getIndex:function(){return this._index},add:function(t){for(var e=p.default.getChains(t.getCoordinates(),t),n=e.iterator();n.hasNext();){var i=n.next();i.setId(this._idCounter++),this._index.insert(i.getEnvelope(),i),this._monoChains.add(i)}},computeNodes:function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},intersectChains:function(){for(var t=new o(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),i=this._index.query(n.getEnvelope()),r=i.iterator();r.hasNext();){var s=r.next();if(s.getId()>n.getId()&&(n.computeOverlaps(s,t),this._nOverlaps++),this._segInt.isDone())return null}},interfaces_:function(){return[]},getClass:function(){return r}}),(0,y.default)(o,c.default),(0,h.default)(o.prototype,{overlap:function(){if(4!==arguments.length)return c.default.prototype.overlap.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3],r=t.getContext(),o=n.getContext();this._si.processIntersections(r,e,o,i)},interfaces_:function(){return[]},getClass:function(){return o}}),r.SegmentOverlapAction=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(0===arguments.length)r.call(this,r.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];B.default.call(this,t)}}function o(){var t=arguments[0];m.default.call(this,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(159),a=i(s),u=n(300),l=i(u),f=n(6),c=i(f),d=n(57),h=i(d),_=n(161),p=i(_),g=n(112),m=i(g),v=n(12),y=i(v),b=n(0),x=i(b),E=n(39),L=i(E),w=n(301),M=i(w),P=n(1),I=i(P),C=n(53),S=i(C),N=n(22),O=i(N),T=n(8),R=i(T),D=n(4),A=i(D),k=n(3),j=i(k),F=n(36),z=i(F),G=n(302),B=i(G),q=n(303),U=i(q);(0,j.default)(r,B.default),(0,x.default)(r.prototype,{createParentBoundablesFromVerticalSlices:function(t,e){A.default.isTrue(t.length>0);for(var n=new I.default,i=0;i<t.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i],e));return n},createNode:function(t){return new o(t)},size:function(){return 0===arguments.length?B.default.prototype.size.call(this):B.default.prototype.size.apply(this,arguments)},insert:function(){if(2!==arguments.length)return B.default.prototype.insert.apply(this,arguments);var t=arguments[0],e=arguments[1];if(t.isNull())return null;B.default.prototype.insert.call(this,t,e)},getIntersectsOp:function(){return r.intersectsOp},verticalSlices:function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),i=new Array(e).fill(null),r=t.iterator(),o=0;o<e;o++){i[o]=new I.default;for(var s=0;r.hasNext()&&s<n;){var a=r.next();i[o].add(a),s++}}return i},query:function(){if(1===arguments.length){var t=arguments[0];return B.default.prototype.query.call(this,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];B.default.prototype.query.call(this,e,n)}else if(3===arguments.length)if((0,c.default)(arguments[2],h.default)&&arguments[0]instanceof Object&&arguments[1]instanceof m.default){var i=arguments[0],r=arguments[1],o=arguments[2];B.default.prototype.query.call(this,i,r,o)}else if((0,c.default)(arguments[2],z.default)&&arguments[0]instanceof Object&&arguments[1]instanceof m.default){var s=arguments[0],a=arguments[1],u=arguments[2];B.default.prototype.query.call(this,s,a,u)}},getComparator:function(){return r.yComparator},createParentBoundablesFromVerticalSlice:function(t,e){return B.default.prototype.createParentBoundables.call(this,t,e)},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return B.default.prototype.remove.call(this,t,e)}return B.default.prototype.remove.apply(this,arguments)},depth:function(){return 0===arguments.length?B.default.prototype.depth.call(this):B.default.prototype.depth.apply(this,arguments)},createParentBoundables:function(t,e){A.default.isTrue(!t.isEmpty());var n=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new I.default(t);L.default.sort(i,r.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(o,e)},nearestNeighbour:function(){if(1===arguments.length){if((0,c.default)(arguments[0],U.default)){var t=arguments[0],e=new M.default(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof M.default){var n=arguments[0];return this.nearestNeighbour(n,y.default.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof r&&(0,c.default)(arguments[1],U.default)){var i=arguments[0],o=arguments[1],e=new M.default(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(e)}if(arguments[0]instanceof M.default&&"number"==typeof arguments[1]){var s=arguments[0],u=arguments[1],f=u,d=null,h=new l.default;for(h.add(s);!h.isEmpty()&&f>0;){var _=h.poll(),p=_.getDistance();if(p>=f)break;_.isLeaves()?(f=p,d=_):_.expandToQueue(h,f)}return[d.getBoundable(0).getItem(),d.getBoundable(1).getItem()]}}else if(3===arguments.length){var g=arguments[0],m=arguments[1],v=arguments[2],b=new a.default(g,m),e=new M.default(this.getRoot(),b,v);return this.nearestNeighbour(e)[0]}},interfaces_:function(){return[p.default,O.default]},getClass:function(){return r}}),r.centreX=function(t){return r.avg(t.getMinX(),t.getMaxX())},r.avg=function(t,e){return(t+e)/2},r.centreY=function(t){return r.avg(t.getMinY(),t.getMaxY())},(0,j.default)(o,m.default),(0,x.default)(o.prototype,{computeBounds:function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new R.default(n.getBounds()):t.expandToInclude(n.getBounds())}return t},interfaces_:function(){return[]},getClass:function(){return o}}),r.STRtreeNode=o,r.serialVersionUID=0x39920f7d5f261e0,r.xComparator={interfaces_:function(){return[S.default]},compare:function(t,e){return B.default.compareDoubles(r.centreX(t.getBounds()),r.centreX(e.getBounds()))}},r.yComparator={interfaces_:function(){return[S.default]},compare:function(t,e){return B.default.compareDoubles(r.centreY(t.getBounds()),r.centreY(e.getBounds()))}},r.intersectsOp={interfaces_:function(){return[IntersectsOp]},intersects:function(t,e){return t.intersects(e)}},r.DEFAULT_NODE_CAPACITY=10},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(P.default.apply(this),this.pts=null,this._env=null,this.eiList=new u.default(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new w.default,this._depthDelta=0,1===arguments.length){var t=arguments[0];r.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.pts=e,this._label=n}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(37),s=i(o),a=n(326),u=i(a),l=n(328),f=i(l),c=n(18),d=i(c),h=n(2),_=i(h),p=n(0),g=i(p),m=n(29),v=i(m),y=n(8),b=i(y),x=n(3),E=i(x),L=n(330),w=i(L),M=n(166),P=i(M);(0,E.default)(r,P.default),(0,g.default)(r.prototype,{getDepth:function(){return this._depth},getCollapsedEdge:function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new r(t,v.default.toLineLabel(this._label))},isIsolated:function(){return this._isIsolated},getCoordinates:function(){return this.pts},setIsolated:function(t){this._isIsolated=t},setName:function(t){this._name=t},equals:function(t){if(!(t instanceof r))return!1;var e=t;if(this.pts.length!==e.pts.length)return!1;for(var n=!0,i=!0,o=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(e.pts[s])||(n=!1),this.pts[s].equals2D(e.pts[--o])||(i=!1),!n&&!i)return!1;return!0},getCoordinate:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},print:function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},computeIM:function(t){r.updateIM(this._label,t)},isCollapsed:function(){return!!this._label.isArea()&&(3===this.pts.length&&!!this.pts[0].equals(this.pts[2]))},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getMaximumSegmentIndex:function(){return this.pts.length-1},getDepthDelta:function(){return this._depthDelta},getNumPoints:function(){return this.pts.length},printReverse:function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},getMonotoneChainEdge:function(){return null===this._mce&&(this._mce=new f.default(this)),this._mce},getEnvelope:function(){if(null===this._env){this._env=new b.default;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},addIntersection:function(t,e,n,i){var r=new _.default(t.getIntersection(i)),o=e,s=t.getEdgeDistance(n,i),a=o+1;if(a<this.pts.length){var u=this.pts[a];r.equals2D(u)&&(o=a,s=0)}this.eiList.add(r,o,s)},toString:function(){var t=new s.default;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},isPointwiseEqual:function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},setDepthDelta:function(t){this._depthDelta=t},getEdgeIntersectionList:function(){return this.eiList},addIntersections:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},interfaces_:function(){return[]},getClass:function(){return r}}),r.updateIM=function(){if(2!==arguments.length)return P.default.prototype.updateIM.apply(this,arguments);var t=arguments[0],e=arguments[1];e.setAtLeastIfValid(t.getLocation(0,d.default.ON),t.getLocation(1,d.default.ON),1),t.isArea()&&(e.setAtLeastIfValid(t.getLocation(0,d.default.LEFT),t.getLocation(1,d.default.LEFT),2),e.setAtLeastIfValid(t.getLocation(0,d.default.RIGHT),t.getLocation(1,d.default.RIGHT),2))}},function(t,e,n){"use strict";function i(){if(this.min=null,this.max=null,0===arguments.length)this.min=0,this.max=0;else if(1===arguments.length){var t=arguments[0];this.init(t.min,t.max)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.init(e,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{expandToInclude:function(t){t.max>this.max&&(this.max=t.max),t.min<this.min&&(this.min=t.min)},getWidth:function(){return this.max-this.min},overlaps:function(){if(1===arguments.length){var t=arguments[0];return this.overlaps(t.min,t.max)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!(this.min>n||this.max<e)}},getMin:function(){return this.min},toString:function(){return"["+this.min+", "+this.max+"]"},contains:function(){if(1===arguments.length){if(arguments[0]instanceof i){var t=arguments[0];return this.contains(t.min,t.max)}if("number"==typeof arguments[0]){var e=arguments[0];return e>=this.min&&e<=this.max}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return n>=this.min&&r<=this.max}},init:function(t,e){this.min=t,this.max=e,t>e&&(this.min=e,this.max=t)},getMax:function(){return this.max},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.p0=null,this.p1=null,this.p2=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.p0=t,this.p1=e,this.p2=n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2),s=i(o),a=n(7),u=i(a),l=n(0),f=i(l),c=n(121),d=i(c),h=n(66),_=i(h);(0,f.default)(r.prototype,{area:function(){return r.area(this.p0,this.p1,this.p2)},signedArea:function(){return r.signedArea(this.p0,this.p1,this.p2)},interpolateZ:function(t){if(null===t)throw new u.default("Supplied point is null.");return r.interpolateZ(t,this.p0,this.p1,this.p2)},longestSideLength:function(){return r.longestSideLength(this.p0,this.p1,this.p2)},isAcute:function(){return r.isAcute(this.p0,this.p1,this.p2)},circumcentre:function(){return r.circumcentre(this.p0,this.p1,this.p2)},area3D:function(){return r.area3D(this.p0,this.p1,this.p2)},centroid:function(){return r.centroid(this.p0,this.p1,this.p2)},inCentre:function(){return r.inCentre(this.p0,this.p1,this.p2)},interfaces_:function(){return[]},getClass:function(){return r}}),r.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},r.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},r.det=function(t,e,n,i){return t*i-e*n},r.interpolateZ=function(t,e,n,i){var r=e.x,o=e.y,s=n.x-r,a=i.x-r,u=n.y-o,l=i.y-o,f=s*l-a*u,c=t.x-r,d=t.y-o,h=(l*c-a*d)/f,_=(-u*c+s*d)/f;return e.z+h*(n.z-e.z)+_*(i.z-e.z)},r.longestSideLength=function(t,e,n){var i=t.distance(e),r=e.distance(n),o=n.distance(t),s=i;return r>s&&(s=r),o>s&&(s=o),s},r.isAcute=function(t,e,n){return!!d.default.isAcute(t,e,n)&&(!!d.default.isAcute(e,n,t)&&!!d.default.isAcute(n,t,e))},r.circumcentre=function(t,e,n){var i=n.x,o=n.y,a=t.x-i,u=t.y-o,l=e.x-i,f=e.y-o,c=2*r.det(a,u,l,f),d=r.det(u,a*a+u*u,f,l*l+f*f),h=r.det(a,a*a+u*u,l,l*l+f*f),_=i-d/c,p=o+h/c;return new s.default(_,p)},r.perpendicularBisector=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=new _.default(t.x+n/2,t.y+i/2,1),o=new _.default(t.x-i+n/2,t.y+n+i/2,1);return new _.default(r,o)},r.angleBisector=function(t,e,n){var i=e.distance(t),r=e.distance(n),o=i/(i+r),a=n.x-t.x,u=n.y-t.y;return new s.default(t.x+o*a,t.y+o*u)},r.area3D=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,u=n.z-t.z,l=r*u-o*a,f=o*s-i*u,c=i*a-r*s,d=l*l+f*f+c*c;return Math.sqrt(d)/2},r.centroid=function(t,e,n){var i=(t.x+e.x+n.x)/3,r=(t.y+e.y+n.y)/3;return new s.default(i,r)},r.inCentre=function(t,e,n){var i=e.distance(n),r=t.distance(n),o=t.distance(e),a=i+r+o,u=(i*t.x+r*e.x+o*n.x)/a,l=(i*t.y+r*e.y+o*n.y)/a;return new s.default(u,l)}},function(t,e,n){"use strict";function i(){if(this._quadrantSegments=i.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=i.CAP_ROUND,this._joinStyle=i.JOIN_ROUND,this._mitreLimit=i.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=i.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.setQuadrantSegments(e),this.setEndCapStyle(n)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(a)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{getEndCapStyle:function(){return this._endCapStyle},isSingleSided:function(){return this._isSingleSided},setQuadrantSegments:function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=i.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=i.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==i.JOIN_ROUND&&(this._quadrantSegments=i.DEFAULT_QUADRANT_SEGMENTS)},getJoinStyle:function(){return this._joinStyle},setJoinStyle:function(t){this._joinStyle=t},setSimplifyFactor:function(t){this._simplifyFactor=t<0?0:t},getSimplifyFactor:function(){return this._simplifyFactor},getQuadrantSegments:function(){return this._quadrantSegments},setEndCapStyle:function(t){this._endCapStyle=t},getMitreLimit:function(){return this._mitreLimit},setMitreLimit:function(t){this._mitreLimit=t},setSingleSided:function(t){this._isSingleSided=t},interfaces_:function(){return[]},getClass:function(){return i}}),i.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},i.CAP_ROUND=1,i.CAP_FLAT=2,i.CAP_SQUARE=3,i.JOIN_ROUND=1,i.JOIN_MITRE=2,i.JOIN_BEVEL=3,i.DEFAULT_QUADRANT_SEGMENTS=8,i.DEFAULT_MITRE_LIMIT=5,i.DEFAULT_SIMPLIFY_FACTOR=.01},function(t,e,n){"use strict";function i(){this._isMarked=!1,this._isVisited=!1,this._data=null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{setVisited:function(t){this._isVisited=t},isMarked:function(){return this._isMarked},setData:function(t){this._data=t},getData:function(){return this._data},setMarked:function(t){this._isMarked=t},getContext:function(){return this._data},isVisited:function(){return this._isVisited},setContext:function(t){this._data=t},interfaces_:function(){return[]},getClass:function(){return i}}),i.getComponentWithVisitedState=function(t,e){for(;t.hasNext();){var n=t.next();if(n.isVisited()===e)return n}return null},i.setVisited=function(t,e){for(;t.hasNext();)t.next().setVisited(e)},i.setMarked=function(t,e){for(;t.hasNext();)t.next().setMarked(e)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(g.default.apply(this),this._pt=null,this._deStar=null,1===arguments.length){var t=arguments[0];r.call(this,t,new s.default)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._pt=e,this._deStar=n}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(390),s=i(o),a=n(49),u=i(a),l=n(0),f=i(l),c=n(78),d=i(c),h=n(3),_=i(h),p=n(94),g=i(p);(0,_.default)(r,g.default),(0,f.default)(r.prototype,{isRemoved:function(){return null===this._pt},addOutEdge:function(t){this._deStar.add(t)},getCoordinate:function(){return this._pt},getOutEdges:function(){return this._deStar},remove:function(){if(0===arguments.length)this._pt=null;else if(1===arguments.length){var t=arguments[0];this._deStar.remove(t)}},getIndex:function(t){return this._deStar.getIndex(t)},getDegree:function(){return this._deStar.getDegree()},interfaces_:function(){return[]},getClass:function(){return r}}),r.getEdgesBetween=function(t,e){var n=d.default.toEdges(t.getOutEdges().getEdges()),i=new u.default(n),r=d.default.toEdges(e.getOutEdges().getEdges());return i.retainAll(r),i}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(d.default.apply(this),this._dirEdge=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];this.setDirectedEdges(t,e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(95),s=i(o),a=n(0),u=i(a),l=n(3),f=i(l),c=n(94),d=i(c);(0,f.default)(r,d.default),(0,u.default)(r.prototype,{isRemoved:function(){return null===this._dirEdge},setDirectedEdges:function(t,e){this._dirEdge=[t,e],t.setEdge(this),e.setEdge(this),t.setSym(e),e.setSym(t),t.getFromNode().addOutEdge(t),e.getFromNode().addOutEdge(e)},getDirEdge:function(){if(Number.isInteger(arguments[0])){var t=arguments[0];return this._dirEdge[t]}if(arguments[0]instanceof s.default){var e=arguments[0];return this._dirEdge[0].getFromNode()===e?this._dirEdge[0]:this._dirEdge[1].getFromNode()===e?this._dirEdge[1]:null}},remove:function(){this._dirEdge=null},getOppositeNode:function(t){return this._dirEdge[0].getFromNode()===t?this._dirEdge[0].getToNode():this._dirEdge[1].getFromNode()===t?this._dirEdge[1].getToNode():null},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._p=null,1===arguments.length){var t=arguments[0];this._p=new u.default(t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._p=new u.default(e,n)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._p=new u.default(i,r,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(64),s=i(o),a=n(2),u=i(a),l=n(435),f=i(l),c=n(0),d=i(c),h=n(24),_=i(h),p=n(66),g=i(p);(0,d.default)(r.prototype,{circleCenter:function(t,e){var n=new r(this.getX(),this.getY()),i=this.bisector(n,t),o=this.bisector(t,e),a=new g.default(i,o),u=null;try{u=new r(a.getX(),a.getY())}catch(i){if(!(i instanceof s.default))throw i;_.default.err.println("a: "+n+"  b: "+t+"  c: "+e),_.default.err.println(i)}return u},dot:function(t){return this._p.x*t.getX()+this._p.y*t.getY()},magn:function(){return Math.sqrt(this._p.x*this._p.x+this._p.y*this._p.y)},getZ:function(){return this._p.z},bisector:function(t,e){var n=e.getX()-t.getX(),i=e.getY()-t.getY(),r=new g.default(t.getX()+n/2,t.getY()+i/2,1),o=new g.default(t.getX()-i+n/2,t.getY()+n+i/2,1);return new g.default(r,o)},equals:function(){if(1===arguments.length){var t=arguments[0];return this._p.x===t.getX()&&this._p.y===t.getY()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this._p.distance(e.getCoordinate())<n}},getCoordinate:function(){return this._p},isInCircle:function(t,e,n){return f.default.isInCircleRobust(t._p,e._p,n._p,this._p)},interpolateZValue:function(t,e,n){var i=t.getX(),r=t.getY(),o=e.getX()-i,s=n.getX()-i,a=e.getY()-r,u=n.getY()-r,l=o*u-s*a,f=this.getX()-i,c=this.getY()-r,d=(u*f-s*c)/l,h=(-a*f+o*c)/l;return t.getZ()+d*(e.getZ()-t.getZ())+h*(n.getZ()-t.getZ())},midPoint:function(t){return new r((this._p.x+t.getX())/2,(this._p.y+t.getY())/2,(this._p.z+t.getZ())/2)},rightOf:function(t){return this.isCCW(t.dest(),t.orig())},isCCW:function(t,e){return(t._p.x-this._p.x)*(e._p.y-this._p.y)-(t._p.y-this._p.y)*(e._p.x-this._p.x)>0},getX:function(){return this._p.x},crossProduct:function(t){return this._p.x*t.getY()-this._p.y*t.getX()},setZ:function(t){this._p.z=t},times:function(t){return new r(t*this._p.x,t*this._p.y)},cross:function(){return new r(this._p.y,-this._p.x)},leftOf:function(t){return this.isCCW(t.orig(),t.dest())},toString:function(){return"POINT ("+this._p.x+" "+this._p.y+")"},sub:function(t){return new r(this._p.x-t.getX(),this._p.y-t.getY())},getY:function(){return this._p.y},classify:function(t,e){var n=this,i=e.sub(t),o=n.sub(t),s=i.crossProduct(o);return s>0?r.LEFT:s<0?r.RIGHT:i.getX()*o.getX()<0||i.getY()*o.getY()<0?r.BEHIND:i.magn()<o.magn()?r.BEYOND:t.equals(n)?r.ORIGIN:e.equals(n)?r.DESTINATION:r.BETWEEN},sum:function(t){return new r(this._p.x+t.getX(),this._p.y+t.getY())},distance:function(t,e){return Math.sqrt(Math.pow(e.getX()-t.getX(),2)+Math.pow(e.getY()-t.getY(),2))},circumRadiusRatio:function(t,e){var n=this.circleCenter(t,e),i=this.distance(n,t),r=this.distance(this,t),o=this.distance(t,e);return o<r&&(r=o),o=this.distance(e,this),o<r&&(r=o),i/r},interfaces_:function(){return[]},getClass:function(){return r}}),r.interpolateZ=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=e.distance(n),r=t.distance(e),o=n.z-e.z;return e.z+o*(r/i)}if(4===arguments.length){var s=arguments[0],a=arguments[1],u=arguments[2],l=arguments[3],f=a.x,c=a.y,d=u.x-f,h=l.x-f,_=u.y-c,p=l.y-c,g=d*p-h*_,m=s.x-f,v=s.y-c,y=(p*m-h*v)/g,b=(-_*m+d*v)/g;return a.z+y*(u.z-a.z)+b*(l.z-a.z)}},r.LEFT=0,r.RIGHT=1,r.BEYOND=2,r.BEHIND=3,r.BETWEEN=4,r.ORIGIN=5,r.DESTINATION=6},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._componentIndex=0,this._segmentIndex=0,this._segmentFraction=0,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._componentIndex=t._componentIndex,this._segmentIndex=t._segmentIndex,this._segmentFraction=t._segmentFraction}else if(2===arguments.length){var e=arguments[0],n=arguments[1];r.call(this,0,e,n)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this._componentIndex=i,this._segmentIndex=o,this._segmentFraction=s,this.normalize()}else if(4===arguments.length){var a=arguments[0],u=arguments[1],l=arguments[2],f=arguments[3];this._componentIndex=a,this._segmentIndex=u,this._segmentFraction=l,f&&this.normalize()}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2),s=i(o),a=n(0),u=i(a),l=n(15),f=i(l),c=n(21),d=i(c);(0,u.default)(r.prototype,{getSegmentIndex:function(){return this._segmentIndex},getComponentIndex:function(){return this._componentIndex},isEndpoint:function(t){var e=t.getGeometryN(this._componentIndex),n=e.getNumPoints()-1;return this._segmentIndex>=n||this._segmentIndex===n&&this._segmentFraction>=1},isValid:function(t){if(this._componentIndex<0||this._componentIndex>=t.getNumGeometries())return!1;var e=t.getGeometryN(this._componentIndex);return!(this._segmentIndex<0||this._segmentIndex>e.getNumPoints())&&((this._segmentIndex!==e.getNumPoints()||0===this._segmentFraction)&&!(this._segmentFraction<0||this._segmentFraction>1))},normalize:function(){this._segmentFraction<0&&(this._segmentFraction=0),this._segmentFraction>1&&(this._segmentFraction=1),this._componentIndex<0&&(this._componentIndex=0,this._segmentIndex=0,this._segmentFraction=0),this._segmentIndex<0&&(this._segmentIndex=0,this._segmentFraction=0),1===this._segmentFraction&&(this._segmentFraction=0,this._segmentIndex+=1)},toLowest:function(t){var e=t.getGeometryN(this._componentIndex),n=e.getNumPoints()-1;return this._segmentIndex<n?this:new r(this._componentIndex,n,1,!1)},getCoordinate:function(t){var e=t.getGeometryN(this._componentIndex),n=e.getCoordinateN(this._segmentIndex);if(this._segmentIndex>=e.getNumPoints()-1)return n;var i=e.getCoordinateN(this._segmentIndex+1);return r.pointAlongSegmentByFraction(n,i,this._segmentFraction)},getSegmentFraction:function(){return this._segmentFraction},getSegment:function(t){var e=t.getGeometryN(this._componentIndex),n=e.getCoordinateN(this._segmentIndex);if(this._segmentIndex>=e.getNumPoints()-1){var i=e.getCoordinateN(e.getNumPoints()-2);return new f.default(i,n)}var r=e.getCoordinateN(this._segmentIndex+1);return new f.default(n,r)},clamp:function(t){if(this._componentIndex>=t.getNumGeometries())return this.setToEnd(t),null;if(this._segmentIndex>=t.getNumPoints()){var e=t.getGeometryN(this._componentIndex);this._segmentIndex=e.getNumPoints()-1,this._segmentFraction=1}},setToEnd:function(t){this._componentIndex=t.getNumGeometries()-1;var e=t.getGeometryN(this._componentIndex);this._segmentIndex=e.getNumPoints()-1,this._segmentFraction=1},compareTo:function(t){var e=t;return this._componentIndex<e._componentIndex?-1:this._componentIndex>e._componentIndex?1:this._segmentIndex<e._segmentIndex?-1:this._segmentIndex>e._segmentIndex?1:this._segmentFraction<e._segmentFraction?-1:this._segmentFraction>e._segmentFraction?1:0},clone:function(){return new r(this._componentIndex,this._segmentIndex,this._segmentFraction)},toString:function(){return"LinearLoc["+this._componentIndex+", "+this._segmentIndex+", "+this._segmentFraction+"]"},isOnSameSegment:function(t){return this._componentIndex===t._componentIndex&&(this._segmentIndex===t._segmentIndex||(t._segmentIndex-this._segmentIndex==1&&0===t._segmentFraction||this._segmentIndex-t._segmentIndex==1&&0===this._segmentFraction))},snapToVertex:function(t,e){if(this._segmentFraction<=0||this._segmentFraction>=1)return null;var n=this.getSegmentLength(t),i=this._segmentFraction*n,r=n-i;i<=r&&i<e?this._segmentFraction=0:r<=i&&r<e&&(this._segmentFraction=1)},compareLocationValues:function(t,e,n){return this._componentIndex<t?-1:this._componentIndex>t?1:this._segmentIndex<e?-1:this._segmentIndex>e?1:this._segmentFraction<n?-1:this._segmentFraction>n?1:0},getSegmentLength:function(t){var e=t.getGeometryN(this._componentIndex),n=this._segmentIndex;this._segmentIndex>=e.getNumPoints()-1&&(n=e.getNumPoints()-2);var i=e.getCoordinateN(n),r=e.getCoordinateN(n+1);return i.distance(r)},isVertex:function(){return this._segmentFraction<=0||this._segmentFraction>=1},interfaces_:function(){return[d.default]},getClass:function(){return r}}),r.getEndLocation=function(t){var e=new r;return e.setToEnd(t),e},r.pointAlongSegmentByFraction=function(t,e,n){if(n<=0)return t;if(n>=1)return e;var i=(e.x-t.x)*n+t.x,r=(e.y-t.y)*n+t.y,o=(e.z-t.z)*n+t.z;return new s.default(i,r,o)},r.compareLocationValues=function(t,e,n,i,r,o){return t<i?-1:t>i?1:e<r?-1:e>r?1:n<o?-1:n>o?1:0}},function(t,e,n){"use strict";function i(t,e){return[t>f.pi?t-f.tau:t<-f.pi?t+f.tau:t,e]}function r(t,e,n){return(t%=f.tau)?e||n?(0,l.default)(s(t),a(e,n)):s(t):e||n?a(e,n):i}function o(t){return function(e,n){return e+=t,[e>f.pi?e-f.tau:e<-f.pi?e+f.tau:e,n]}}function s(t){var e=o(t);return e.invert=o(-t),e}function a(t,e){function n(t,e){var n=(0,f.cos)(e),a=(0,f.cos)(t)*n,u=(0,f.sin)(t)*n,l=(0,f.sin)(e),c=l*i+a*r;return[(0,f.atan2)(u*o-c*s,a*i-l*r),(0,f.asin)(c*o+u*s)]}var i=(0,f.cos)(t),r=(0,f.sin)(t),o=(0,f.cos)(e),s=(0,f.sin)(e);return n.invert=function(t,e){var n=(0,f.cos)(e),a=(0,f.cos)(t)*n,u=(0,f.sin)(t)*n,l=(0,f.sin)(e),c=l*o-u*s;return[(0,f.atan2)(u*o+l*s,a*i+c*r),(0,f.asin)(c*i-a*r)]},n}Object.defineProperty(e,"__esModule",{value:!0}),e.rotateRadians=r,e.default=function(t){function e(e){return e=t(e[0]*f.radians,e[1]*f.radians),e[0]*=f.degrees,e[1]*=f.degrees,e}return t=r(t[0]*f.radians,t[1]*f.radians,t.length>2?t[2]*f.radians:0),e.invert=function(e){return e=t.invert(e[0]*f.radians,e[1]*f.radians),e[0]*=f.degrees,e[1]*=f.degrees,e},e};var u=n(208),l=function(t){return t&&t.__esModule?t:{default:t}}(u),f=n(5);i.invert=i},function(t,e,n){"use strict";function i(t){return function(e){var n=new r;for(var i in t)n[i]=t[i];return n.stream=e,n}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return{stream:i(t)}},e.transformer=i,r.prototype={constructor:r,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},function(t,e,n){"use strict";(function(e){function i(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var r=n(27),o=n(239),s={"Content-Type":"application/x-www-form-urlencoded"},a={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=n(137):void 0!==e&&(t=n(137)),t}(),transformRequest:[function(t,e){return o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(i(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(i(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};a.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(t){a.headers[t]={}}),r.forEach(["post","put","patch"],function(t){a.headers[t]=r.merge(s)}),t.exports=a}).call(e,n(102))},function(t,e,n){"use strict";function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(c===setTimeout)return setTimeout(t,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function s(t){if(d===clearTimeout)return clearTimeout(t);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){g&&_&&(g=!1,_.length?p=_.concat(p):m=-1,p.length&&u())}function u(){if(!g){var t=o(a);g=!0;for(var e=p.length;e;){for(_=p,p=[];++m<e;)_&&_[m].run();m=-1,e=p.length}_=null,g=!1,s(t)}}function l(t,e){this.fun=t,this.array=e}function f(){}var c,d,h=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(t){c=i}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(t){d=r}}();var _,p=[],g=!1,m=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new l(t,e)),1!==p.length||g||o(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=f,h.addListener=f,h.once=f,h.off=f,h.removeListener=f,h.removeAllListeners=f,h.emit=f,h.prependListener=f,h.prependOnceListener=f,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){"use strict";function i(t){this.message=t||""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype=new Error,i.prototype.name="OperationNotSupported"},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(12),s=i(o);(0,i(n(0)).default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.log10=function(t){var e=Math.log(t);return s.default.isInfinite(e)?e:s.default.isNaN(e)?e:e/r.LOG_10},r.min=function(t,e,n,i){var r=t;return e<r&&(r=e),n<r&&(r=n),i<r&&(r=i),r},r.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1],o=arguments[2];return i<r?r:i>o?o:i}},r.wrap=function(t,e){return t<0?e- -t%e:t%e},r.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=t;return e>i&&(i=e),n>i&&(i=n),i}if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],i=r;return o>i&&(i=o),s>i&&(i=s),a>i&&(i=a),i}},r.average=function(t,e){return(t+e)/2},r.LOG_10=Math.log(10)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0];r.call(this,t,l.default.MOD2_BOUNDARY_RULE)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._geom=e,this._geomFact=e.getFactory(),this._bnRule=n}}function o(){this.count=null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(10),a=i(s),u=n(67),l=i(u),f=n(0),c=i(f),d=n(20),h=i(d),_=n(1),p=i(_),g=n(38),m=i(g),v=n(31),y=i(v);(0,c.default)(r.prototype,{boundaryMultiLineString:function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},getBoundary:function(){return this._geom instanceof a.default?this.boundaryLineString(this._geom):this._geom instanceof y.default?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},boundaryLineString:function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();if(t.isClosed()){return this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint()}return this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},getEmptyMultiPoint:function(){return this._geomFact.createMultiPoint()},computeBoundaryCoordinates:function(t){var e=new p.default;this._endpointMap=new m.default;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);0!==i.getNumPoints()&&(this.addEndpoint(i.getCoordinateN(0)),this.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var r=this._endpointMap.entrySet().iterator();r.hasNext();){var o=r.next(),s=o.getValue(),a=s.count;this._bnRule.isInBoundary(a)&&e.add(o.getKey())}return h.default.toCoordinateArray(e)},addEndpoint:function(t){var e=this._endpointMap.get(t);null===e&&(e=new o,this._endpointMap.put(t,e)),e.count++},interfaces_:function(){return[]},getClass:function(){return r}}),r.getBoundary=function(){if(1===arguments.length){var t=arguments[0],e=new r(t);return e.getBoundary()}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=new r(n,i);return e.getBoundary()}},(0,c.default)(o.prototype,{interfaces_:function(){return[]},getClass:function(){return o}})},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(37),s=i(o),a=n(278),u=i(a),l=n(12),f=i(l),c=n(0),d=i(c),h=n(40),_=i(h);(0,d.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.copyCoord=function(t,e,n,i){for(var r=Math.min(t.getDimension(),n.getDimension()),o=0;o<r;o++)n.setOrdinate(i,o,t.getOrdinate(e,o))},r.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&(t.getOrdinate(0,_.default.X)===t.getOrdinate(e-1,_.default.X)&&t.getOrdinate(0,_.default.Y)===t.getOrdinate(e-1,_.default.Y))},r.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),r=0;r<n;r++)for(var o=0;o<i;o++){var s=t.getOrdinate(r,o),a=e.getOrdinate(r,o);if(t.getOrdinate(r,o)!==e.getOrdinate(r,o)&&(!f.default.isNaN(s)||!f.default.isNaN(a)))return!1}return!0},r.extend=function(t,e,n){var i=t.create(n,e.getDimension()),o=e.size();if(r.copy(e,0,i,0,o),o>0)for(var s=o;s<n;s++)r.copy(e,o-1,i,s,1);return i},r.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),i=0;i<=n;i++)r.swap(t,i,e-i)},r.swap=function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var r=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,r)}},r.copy=function(t,e,n,i,o){for(var s=0;s<o;s++)r.copyCoord(t,e+s,n,i+s)},r.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),i=new s.default;i.append("(");for(var r=0;r<e;r++){r>0&&i.append(" ");for(var o=0;o<n;o++)o>0&&i.append(","),i.append(u.default.toString(t.getOrdinate(r,o)))}return i.append(")"),i.toString()}},r.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?r.createClosedRing(t,e,4):e.getOrdinate(0,_.default.X)===e.getOrdinate(n-1,_.default.X)&&e.getOrdinate(0,_.default.Y)===e.getOrdinate(n-1,_.default.Y)?e:r.createClosedRing(t,e,n+1)},r.createClosedRing=function(t,e,n){var i=t.create(n,e.getDimension()),o=e.size();r.copy(e,0,i,0,o);for(var s=o;s<n;s++)r.copy(e,0,i,s,1);return i}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._factory=null,this._isUserDataCopied=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._factory=t}}function o(){}function s(){}function a(){}function u(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var l=n(10),f=i(l),c=n(26),d=i(c),h=n(17),_=i(h),p=n(44),g=i(p),m=n(32),v=i(m),y=n(0),b=i(y),x=n(33),E=i(x),L=n(14),w=i(L),M=n(1),P=i(M),I=n(4),C=i(I),S=n(31),N=i(S);(0,b.default)(r.prototype,{setCopyUserData:function(t){this._isUserDataCopied=t},edit:function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},editInternal:function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof w.default?this.editGeometryCollection(t,e):t instanceof _.default?this.editPolygon(t,e):t instanceof d.default?e.edit(t,this._factory):t instanceof f.default?e.edit(t,this._factory):(C.default.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},editGeometryCollection:function(t,e){for(var n=e.edit(t,this._factory),i=new P.default,r=0;r<n.getNumGeometries();r++){var o=this.edit(n.getGeometryN(r),e);null===o||o.isEmpty()||i.add(o)}return n.getClass()===g.default?this._factory.createMultiPoint(i.toArray([])):n.getClass()===N.default?this._factory.createMultiLineString(i.toArray([])):n.getClass()===E.default?this._factory.createMultiPolygon(i.toArray([])):this._factory.createGeometryCollection(i.toArray([]))},editPolygon:function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var i=this.edit(n.getExteriorRing(),e);if(null===i||i.isEmpty())return this._factory.createPolygon();for(var r=new P.default,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||r.add(s)}return this._factory.createPolygon(i,r.toArray([]))},interfaces_:function(){return[]},getClass:function(){return r}}),r.GeometryEditorOperation=o,(0,b.default)(s.prototype,{edit:function(t,e){return t},interfaces_:function(){return[o]},getClass:function(){return s}}),(0,b.default)(a.prototype,{edit:function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof v.default?e.createLinearRing(n):t instanceof f.default?e.createLineString(n):t instanceof d.default?n.length>0?e.createPoint(n[0]):e.createPoint():t},interfaces_:function(){return[o]},getClass:function(){return a}}),(0,b.default)(u.prototype,{edit:function(t,e){return t instanceof v.default?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof f.default?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof d.default?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},interfaces_:function(){return[o]},getClass:function(){return u}}),r.NoOpGeometryOperation=s,r.CoordinateOperation=a,r.CoordinateSequenceOperation=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._geomFactory=null,this._inputPts=null,1===arguments.length){var t=arguments[0];r.call(this,r.extractCoordinates(t),t.getFactory())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._inputPts=M.default.filterCoordinates(e),this._geomFactory=n}}function o(){this._origin=null;var t=arguments[0];this._origin=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(50),a=i(s),u=n(9),l=i(u),f=n(19),c=i(f),d=n(68),h=i(d),_=n(71),p=i(_),g=n(0),m=i(g),v=n(20),y=i(v),b=n(1),x=i(b),E=n(53),L=i(E),w=n(290),M=i(w),P=n(4),I=i(P);(0,m.default)(r.prototype,{preSort:function(t){for(var e=null,n=1;n<t.length;n++)(t[n].y<t[0].y||t[n].y===t[0].y&&t[n].x<t[0].x)&&(e=t[0],t[0]=t[n],t[n]=e);return h.default.sort(t,1,t.length,new o(t[0])),t},computeOctRing:function(t){var e=this.computeOctPts(t),n=new c.default;return n.add(e,!1),n.size()<3?null:(n.closeRing(),n.toCoordinateArray())},lineOrPolygon:function(t){if(t=this.cleanRing(t),3===t.length)return this._geomFactory.createLineString([t[0],t[1]]);var e=this._geomFactory.createLinearRing(t);return this._geomFactory.createPolygon(e,null)},cleanRing:function(t){I.default.equals(t[0],t[t.length-1]);for(var e=new x.default,n=null,i=0;i<=t.length-2;i++){var r=t[i],o=t[i+1];r.equals(o)||(null!==n&&this.isBetween(n,r,o)||(e.add(r),n=r))}e.add(t[t.length-1]);var s=new Array(e.size()).fill(null);return e.toArray(s)},isBetween:function(t,e,n){if(0!==l.default.computeOrientation(t,e,n))return!1;if(t.x!==n.x){if(t.x<=e.x&&e.x<=n.x)return!0;if(n.x<=e.x&&e.x<=t.x)return!0}if(t.y!==n.y){if(t.y<=e.y&&e.y<=n.y)return!0;if(n.y<=e.y&&e.y<=t.y)return!0}return!1},reduce:function(t){var e=this.computeOctRing(t);if(null===e)return t;for(var n=new a.default,i=0;i<e.length;i++)n.add(e[i]);for(var i=0;i<t.length;i++)l.default.isPointInRing(t[i],e)||n.add(t[i]);var r=y.default.toCoordinateArray(n);return r.length<3?this.padArray3(r):r},getConvexHull:function(){if(0===this._inputPts.length)return this._geomFactory.createGeometryCollection(null);if(1===this._inputPts.length)return this._geomFactory.createPoint(this._inputPts[0]);if(2===this._inputPts.length)return this._geomFactory.createLineString(this._inputPts);var t=this._inputPts;this._inputPts.length>50&&(t=this.reduce(this._inputPts));var e=this.preSort(t),n=this.grahamScan(e),i=this.toCoordinateArray(n);return this.lineOrPolygon(i)},padArray3:function(t){for(var e=new Array(3).fill(null),n=0;n<e.length;n++)n<t.length?e[n]=t[n]:e[n]=t[0];return e},computeOctPts:function(t){for(var e=new Array(8).fill(null),n=0;n<e.length;n++)e[n]=t[0];for(var i=1;i<t.length;i++)t[i].x<e[0].x&&(e[0]=t[i]),t[i].x-t[i].y<e[1].x-e[1].y&&(e[1]=t[i]),t[i].y>e[2].y&&(e[2]=t[i]),t[i].x+t[i].y>e[3].x+e[3].y&&(e[3]=t[i]),t[i].x>e[4].x&&(e[4]=t[i]),t[i].x-t[i].y>e[5].x-e[5].y&&(e[5]=t[i]),t[i].y<e[6].y&&(e[6]=t[i]),t[i].x+t[i].y<e[7].x+e[7].y&&(e[7]=t[i]);return e},toCoordinateArray:function(t){for(var e=new Array(t.size()).fill(null),n=0;n<t.size();n++){var i=t.get(n);e[n]=i}return e},grahamScan:function(t){var e=null,n=new p.default;e=n.push(t[0]),e=n.push(t[1]),e=n.push(t[2]);for(var i=3;i<t.length;i++){for(e=n.pop();!n.empty()&&l.default.computeOrientation(n.peek(),e,t[i])>0;)e=n.pop();e=n.push(e),e=n.push(t[i])}return e=n.push(t[0]),n},interfaces_:function(){return[]},getClass:function(){return r}}),r.extractCoordinates=function(t){var e=new M.default;return t.apply(e),e.getCoordinates()},(0,m.default)(o.prototype,{compare:function(t,e){var n=t,i=e;return o.polarCompare(this._origin,n,i)},interfaces_:function(){return[L.default]},getClass:function(){return o}}),o.polarCompare=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=n.x-t.x,s=n.y-t.y,a=l.default.computeOrientation(t,e,n);if(a===l.default.COUNTERCLOCKWISE)return 1;if(a===l.default.CLOCKWISE)return-1;var u=i*i+r*r,f=o*o+s*s;return u<f?-1:u>f?1:0},r.RadialComparator=o},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{getCoordinates:function(){},size:function(){},getCoordinate:function(t){},isClosed:function(){},setData:function(t){},getData:function(){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._childBoundables=new f.default,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(160),s=i(o),a=n(0),u=i(a),l=n(1),f=i(l),c=n(22),d=i(c),h=n(4),_=i(h);(0,u.default)(r.prototype,{getLevel:function(){return this._level},size:function(){return this._childBoundables.size()},getChildBoundables:function(){return this._childBoundables},addChildBoundable:function(t){_.default.isTrue(null===this._bounds),this._childBoundables.add(t)},isEmpty:function(){return this._childBoundables.isEmpty()},getBounds:function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},interfaces_:function(){return[s.default,d.default]},getClass:function(){return r}}),r.serialVersionUID=0x5a1e55ec41369800},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{computeNodes:function(t){},getNodedSubstrings:function(){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{processIntersections:function(t,e,n,i){},isDone:function(){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.nodeMap=new g.default,this.nodeFact=null;var t=arguments[0];this.nodeFact=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(11),s=i(o),a=n(2),u=i(a),l=n(75),f=i(l),c=n(0),d=i(c),h=n(1),_=i(h),p=n(38),g=i(p);(0,d.default)(r.prototype,{find:function(t){return this.nodeMap.get(t)},addNode:function(){if(arguments[0]instanceof u.default){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof f.default){var n=arguments[0],e=this.nodeMap.get(n.getCoordinate());return null===e?(this.nodeMap.put(n.getCoordinate(),n),n):(e.mergeLabel(n),e)}},print:function(t){for(var e=this.iterator();e.hasNext();){e.next().print(t)}},iterator:function(){return this.nodeMap.values().iterator()},values:function(){return this.nodeMap.values()},getBoundaryNodes:function(t){for(var e=new _.default,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===s.default.BOUNDARY&&e.add(i)}return e},add:function(t){var e=t.getCoordinate();this.addNode(e).add(t)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];r.call(this,e,n,i,null)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];r.call(this,o),this.init(s,a),this._label=u}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(9),s=i(o),a=n(0),u=i(a),l=n(21),f=i(l),c=n(51),d=i(c),h=n(4),_=i(h);(0,u.default)(r.prototype,{compareDirection:function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:s.default.computeOrientation(t._p0,t._p1,this._p1)},getDy:function(){return this._dy},getCoordinate:function(){return this._p0},setNode:function(t){this._node=t},print:function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),i=n.lastIndexOf("."),r=n.substring(i+1);t.print("  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},compareTo:function(t){var e=t;return this.compareDirection(e)},getDirectedCoordinate:function(){return this._p1},getDx:function(){return this._dx},getLabel:function(){return this._label},getEdge:function(){return this._edge},getQuadrant:function(){return this._quadrant},getNode:function(){return this._node},toString:function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},computeLabel:function(t){},init:function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=d.default.quadrant(this._dx,this._dy),_.default.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},interfaces_:function(){return[f.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(75),s=i(o);(0,i(n(0)).default)(r.prototype,{createNode:function(t){return new s.default(t,null)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){_.default.apply(this)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(317),s=i(o),a=n(75),u=i(a),l=n(0),f=i(l),c=n(3),d=i(c),h=n(117),_=i(h);(0,d.default)(r,_.default),(0,f.default)(r.prototype,{createNode:function(t){return new u.default(t,new s.default)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._li=new d.default,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new f.default(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];r.call(this,e,n,s.default.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new f.default(0,i,a),this._arg[1]=new f.default(1,o,a)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(67),s=i(o),a=n(0),u=i(a),l=n(76),f=i(l),c=n(23),d=i(c);(0,u.default)(r.prototype,{getArgGeometry:function(t){return this._arg[t].getGeometry()},setComputationPrecision:function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(){}function r(t,e){var n,i,r,o,s={32:{d:127,c:128,b:0,a:0},64:{d:32752,c:0,b:0,a:0}},a={32:8,64:11}[t];if(o||(n=e<0||1/e<0,isFinite(e)||(o=s[t],n&&(o.d+=1<<t/4-1),i=Math.pow(2,a)-1,r=0)),!o){for(i={32:127,64:1023}[t],r=Math.abs(e);r>=2;)i++,r/=2;for(;r<1&&i>0;)i--,r*=2;i<=0&&(r/=2),32===t&&i>254&&(o={d:n?255:127,c:128,b:0,a:0},i=Math.pow(2,a)-1,r=0)}return i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.exponent=function(t){return r(64,t)-1023},i.powerOf2=function(t){return Math.pow(2,t)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(9),s=i(o);(0,i(n(0)).default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.toDegrees=function(t){return 180*t/Math.PI},r.normalize=function(t){for(;t>Math.PI;)t-=r.PI_TIMES_2;for(;t<=-Math.PI;)t+=r.PI_TIMES_2;return t},r.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],i=n.x-e.x,r=n.y-e.y;return Math.atan2(r,i)}},r.isAcute=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)>0},r.isObtuse=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)<0},r.interiorAngle=function(t,e,n){var i=r.angle(e,t),o=r.angle(e,n);return Math.abs(o-i)},r.normalizePositive=function(t){if(t<0){for(;t<0;)t+=r.PI_TIMES_2;t>=r.PI_TIMES_2&&(t=0)}else{for(;t>=r.PI_TIMES_2;)t-=r.PI_TIMES_2;t<0&&(t=0)}return t},r.angleBetween=function(t,e,n){var i=r.angle(e,t),o=r.angle(e,n);return r.diff(i,o)},r.diff=function(t,e){var n=null;return n=t<e?e-t:t-e,n>Math.PI&&(n=2*Math.PI-n),n},r.toRadians=function(t){return t*Math.PI/180},r.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?r.COUNTERCLOCKWISE:n<0?r.CLOCKWISE:r.NONE},r.angleBetweenOriented=function(t,e,n){var i=r.angle(e,t),o=r.angle(e,n),s=o-i;return s<=-Math.PI?s+r.PI_TIMES_2:s>Math.PI?s-r.PI_TIMES_2:s},r.PI_TIMES_2=2*Math.PI,r.PI_OVER_2=Math.PI/2,r.PI_OVER_4=Math.PI/4,r.COUNTERCLOCKWISE=s.default.COUNTERCLOCKWISE,r.CLOCKWISE=s.default.CLOCKWISE,r.NONE=s.default.COLLINEAR},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._parentGeometry=null,this._isSelfTouchingRingFormingHoleValid=!1,this._validErr=null;var t=arguments[0];this._parentGeometry=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(50),s=i(o),a=n(10),u=i(a),l=n(9),f=i(l),c=n(13),d=i(c),h=n(399),_=i(h),p=n(2),g=i(p),m=n(26),v=i(m),y=n(17),b=i(y),x=n(44),E=i(x),L=n(32),w=i(L),M=n(12),P=i(M),I=n(0),C=i(I),S=n(175),N=i(S),O=n(76),T=i(O),R=n(33),D=i(R),A=n(189),k=i(A),j=n(14),F=i(j),z=n(404),G=i(z),B=n(23),q=i(B),U=n(405),V=i(U),H=n(4),Y=i(H);(0,C.default)(r.prototype,{checkInvalidCoordinates:function(){if(arguments[0]instanceof Array){for(var t=arguments[0],e=0;e<t.length;e++)if(!r.isValid(t[e]))return this._validErr=new V.default(V.default.INVALID_COORDINATE,t[e]),null}else if(arguments[0]instanceof b.default){var n=arguments[0];if(this.checkInvalidCoordinates(n.getExteriorRing().getCoordinates()),null!==this._validErr)return null;for(var e=0;e<n.getNumInteriorRing();e++)if(this.checkInvalidCoordinates(n.getInteriorRingN(e).getCoordinates()),null!==this._validErr)return null}},checkHolesNotNested:function(t,e){for(var n=new G.default(e),i=0;i<t.getNumInteriorRing();i++){var r=t.getInteriorRingN(i);n.add(r)}n.isNonNested()||(this._validErr=new V.default(V.default.NESTED_HOLES,n.getNestedPoint()))},checkConsistentArea:function(t){var e=new k.default(t);if(!e.isNodeConsistentArea())return this._validErr=new V.default(V.default.SELF_INTERSECTION,e.getInvalidPoint()),null;e.hasDuplicateRings()&&(this._validErr=new V.default(V.default.DUPLICATE_RINGS,e.getInvalidPoint()))},isValid:function(){return this.checkValid(this._parentGeometry),null===this._validErr},checkShellInsideHole:function(t,e,n){var i=t.getCoordinates(),o=e.getCoordinates(),s=r.findPtNotNode(i,e,n);if(null!==s){if(!f.default.isPointInRing(s,o))return s}var a=r.findPtNotNode(o,t,n);if(null!==a){return f.default.isPointInRing(a,i)?a:null}return Y.default.shouldNeverReachHere("points in shell and hole appear to be equal"),null},checkNoSelfIntersectingRings:function(t){for(var e=t.getEdgeIterator();e.hasNext();){var n=e.next();if(this.checkNoSelfIntersectingRing(n.getEdgeIntersectionList()),null!==this._validErr)return null}},checkConnectedInteriors:function(t){var e=new _.default(t);e.isInteriorsConnected()||(this._validErr=new V.default(V.default.DISCONNECTED_INTERIOR,e.getCoordinate()))},checkNoSelfIntersectingRing:function(t){for(var e=new s.default,n=!0,i=t.iterator();i.hasNext();){var r=i.next();if(n)n=!1;else{if(e.contains(r.coord))return this._validErr=new V.default(V.default.RING_SELF_INTERSECTION,r.coord),null;e.add(r.coord)}}},checkHolesInShell:function(t,e){for(var n=t.getExteriorRing(),i=new N.default(n),o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=r.findPtNotNode(s.getCoordinates(),n,e);if(null===a)return null;if(!i.isInside(a))return this._validErr=new V.default(V.default.HOLE_OUTSIDE_SHELL,a),null}},checkTooFewPoints:function(t){if(t.hasTooFewPoints())return this._validErr=new V.default(V.default.TOO_FEW_POINTS,t.getInvalidPoint()),null},getValidationError:function(){return this.checkValid(this._parentGeometry),this._validErr},checkValid:function(){if(arguments[0]instanceof v.default){var t=arguments[0];this.checkInvalidCoordinates(t.getCoordinates())}else if(arguments[0]instanceof E.default){var e=arguments[0];this.checkInvalidCoordinates(e.getCoordinates())}else if(arguments[0]instanceof w.default){var n=arguments[0];if(this.checkInvalidCoordinates(n.getCoordinates()),null!==this._validErr)return null;if(this.checkClosedRing(n),null!==this._validErr)return null;var i=new T.default(0,n);if(this.checkTooFewPoints(i),null!==this._validErr)return null;var r=new q.default;i.computeSelfNodes(r,!0,!0),this.checkNoSelfIntersectingRings(i)}else if(arguments[0]instanceof u.default){var o=arguments[0];if(this.checkInvalidCoordinates(o.getCoordinates()),null!==this._validErr)return null;var i=new T.default(0,o);this.checkTooFewPoints(i)}else if(arguments[0]instanceof b.default){var s=arguments[0];if(this.checkInvalidCoordinates(s),null!==this._validErr)return null;if(this.checkClosedRings(s),null!==this._validErr)return null;var i=new T.default(0,s);if(this.checkTooFewPoints(i),null!==this._validErr)return null;if(this.checkConsistentArea(i),null!==this._validErr)return null;if(!this._isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(i),null!==this._validErr))return null;if(this.checkHolesInShell(s,i),null!==this._validErr)return null;if(this.checkHolesNotNested(s,i),null!==this._validErr)return null;this.checkConnectedInteriors(i)}else if(arguments[0]instanceof D.default){for(var a=arguments[0],l=0;l<a.getNumGeometries();l++){var f=a.getGeometryN(l);if(this.checkInvalidCoordinates(f),null!==this._validErr)return null;if(this.checkClosedRings(f),null!==this._validErr)return null}var i=new T.default(0,a);if(this.checkTooFewPoints(i),null!==this._validErr)return null;if(this.checkConsistentArea(i),null!==this._validErr)return null;if(!this._isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(i),null!==this._validErr))return null;for(var l=0;l<a.getNumGeometries();l++){var f=a.getGeometryN(l);if(this.checkHolesInShell(f,i),null!==this._validErr)return null}for(var l=0;l<a.getNumGeometries();l++){var f=a.getGeometryN(l);if(this.checkHolesNotNested(f,i),null!==this._validErr)return null}if(this.checkShellsNotNested(a,i),null!==this._validErr)return null;this.checkConnectedInteriors(i)}else if(arguments[0]instanceof F.default)for(var c=arguments[0],l=0;l<c.getNumGeometries();l++){var h=c.getGeometryN(l);if(this.checkValid(h),null!==this._validErr)return null}else if(arguments[0]instanceof d.default){var _=arguments[0];if(this._validErr=null,_.isEmpty())return null;if(_ instanceof v.default)this.checkValid(_);else if(_ instanceof E.default)this.checkValid(_);else if(_ instanceof w.default)this.checkValid(_);else if(_ instanceof u.default)this.checkValid(_);else if(_ instanceof b.default)this.checkValid(_);else if(_ instanceof D.default)this.checkValid(_);else{if(!(_ instanceof F.default))throw new UnsupportedOperationException(_.getClass().getName());this.checkValid(_)}}},setSelfTouchingRingFormingHoleValid:function(t){this._isSelfTouchingRingFormingHoleValid=t},checkShellNotNested:function(t,e,n){var i=t.getCoordinates(),o=e.getExteriorRing(),s=o.getCoordinates(),a=r.findPtNotNode(i,o,n);if(null===a)return null;if(!f.default.isPointInRing(a,s))return null;if(e.getNumInteriorRing()<=0)return this._validErr=new V.default(V.default.NESTED_SHELLS,a),null;for(var u=null,l=0;l<e.getNumInteriorRing();l++){var c=e.getInteriorRingN(l);if(null===(u=this.checkShellInsideHole(t,c,n)))return null}this._validErr=new V.default(V.default.NESTED_SHELLS,u)},checkClosedRings:function(t){if(this.checkClosedRing(t.getExteriorRing()),null!==this._validErr)return null;for(var e=0;e<t.getNumInteriorRing();e++)if(this.checkClosedRing(t.getInteriorRingN(e)),null!==this._validErr)return null},checkClosedRing:function(t){if(!t.isClosed()){var e=null;t.getNumPoints()>=1&&(e=t.getCoordinateN(0)),this._validErr=new V.default(V.default.RING_NOT_CLOSED,e)}},checkShellsNotNested:function(t,e){for(var n=0;n<t.getNumGeometries();n++)for(var i=t.getGeometryN(n),r=i.getExteriorRing(),o=0;o<t.getNumGeometries();o++)if(n!==o){var s=t.getGeometryN(o);if(this.checkShellNotNested(r,s,e),null!==this._validErr)return null}},interfaces_:function(){return[]},getClass:function(){return r}}),r.findPtNotNode=function(t,e,n){for(var i=n.findEdge(e),r=i.getEdgeIntersectionList(),o=0;o<t.length;o++){var s=t[o];if(!r.isIntersection(s))return s}return null},r.isValid=function(){if(arguments[0]instanceof d.default){return new r(arguments[0]).isValid()}if(arguments[0]instanceof g.default){var t=arguments[0];return!P.default.isNaN(t.x)&&(!P.default.isInfinite(t.x)&&(!P.default.isNaN(t.y)&&!P.default.isInfinite(t.y)))}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null;var t=arguments[0];this._geomFactory=r.extractFactory(t),this._inputGeoms=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(1),u=i(a);(0,s.default)(r.prototype,{extractElements:function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);this._skipEmpty&&i.isEmpty()||e.add(i)}},combine:function(){for(var t=new u.default,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},interfaces_:function(){return[]},getClass:function(){return r}}),r.combine=function(){if(1===arguments.length){var t=arguments[0],e=new r(t);return e.combine()}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=new r(r.createList(n,i));return e.combine()}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],e=new r(r.createList(o,s,a));return e.combine()}},r.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},r.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new u.default;return n.add(t),n.add(e),n}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],n=new u.default;return n.add(i),n.add(r),n.add(o),n}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._subdiv=null,this._isUsingTolerance=!1;var t=arguments[0];this._subdiv=t,this._isUsingTolerance=t.getTolerance()>0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(197),s=i(o);(0,i(n(0)).default)(r.prototype,{insertSite:function(t){var e=this._subdiv.locate(t);if(this._subdiv.isVertexOfEdge(e,t))return e;this._subdiv.isOnEdge(e,t.getCoordinate())&&(e=e.oPrev(),this._subdiv.delete(e.oNext()));var n=this._subdiv.makeEdge(e.orig(),t);s.default.splice(n,e);var i=n;do{n=this._subdiv.connect(e,n.sym()),e=n.oPrev()}while(e.lNext()!==i);for(;;){var r=e.oPrev();if(r.dest().rightOf(e)&&t.isInCircle(e.orig(),r.dest(),e.dest()))s.default.swap(e),e=e.oPrev();else{if(e.oNext()===i)return n;e=e.oNext().lPrev()}}},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._visitedKey=0,this._quadEdges=new F.default,this._startingEdge=null,this._tolerance=null,this._edgeCoincidenceTolerance=null,this._frameVertex=new Array(3).fill(null),this._frameEnv=null,this._locator=null,this._seg=new k.default,this._triEdges=new Array(3).fill(null);var t=arguments[0],e=arguments[1];this._tolerance=e,this._edgeCoincidenceTolerance=e/r.EDGE_COINCIDENCE_TOL_FACTOR,this.createFrame(t),this._startingEdge=this.initSubdiv(),this._locator=new C.default(this)}function o(){}function s(){this._triList=new F.default}function a(){this._triList=new F.default}function u(){this._coordList=new d.default,this._triCoords=new F.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var l=n(197),f=i(l),c=n(19),d=i(c),h=n(49),_=i(h),p=n(30),g=i(p),m=n(16),v=i(m),y=n(2),b=i(y),x=n(7),E=i(x),L=n(71),w=i(L),M=n(0),P=i(M),I=n(198),C=i(I),S=n(437),N=i(S),O=n(97),T=i(O),R=n(24),D=i(R),A=n(15),k=i(A),j=n(1),F=i(j),z=n(8),G=i(z),B=n(92),q=i(B),U=n(438),V=i(U);(0,P.default)(r.prototype,{getTriangleVertices:function(t){var e=new a;return this.visitTriangles(e,t),e.getTriangleVertices()},isFrameVertex:function(t){return!!t.equals(this._frameVertex[0])||(!!t.equals(this._frameVertex[1])||!!t.equals(this._frameVertex[2]))},isVertexOfEdge:function(t,e){return!(!e.equals(t.orig(),this._tolerance)&&!e.equals(t.dest(),this._tolerance))},connect:function(t,e){var n=f.default.connect(t,e);return this._quadEdges.add(n),n},getVoronoiCellPolygon:function(t,e){var n=new F.default,i=t;do{var r=t.rot().orig().getCoordinate();n.add(r),t=t.oPrev()}while(t!==i);var o=new d.default;o.addAll(n,!1),o.closeRing(),o.size()<4&&(D.default.out.println(o),o.add(o.get(o.size()-1),!0));var s=o.toCoordinateArray(),a=e.createPolygon(e.createLinearRing(s),null),u=i.orig();return a.setUserData(u.getCoordinate()),a},setLocator:function(t){this._locator=t},initSubdiv:function(){var t=this.makeEdge(this._frameVertex[0],this._frameVertex[1]),e=this.makeEdge(this._frameVertex[1],this._frameVertex[2]);f.default.splice(t.sym(),e);var n=this.makeEdge(this._frameVertex[2],this._frameVertex[0]);return f.default.splice(e.sym(),n),f.default.splice(n.sym(),t),t},isFrameBorderEdge:function(t){var e=new Array(3).fill(null);r.getTriangleEdges(t,e);var n=new Array(3).fill(null);r.getTriangleEdges(t.sym(),n);var i=t.lNext().dest();if(this.isFrameVertex(i))return!0;var o=t.sym().lNext().dest();return!!this.isFrameVertex(o)},makeEdge:function(t,e){var n=f.default.makeEdge(t,e);return this._quadEdges.add(n),n},visitTriangles:function(t,e){this._visitedKey++;var n=new w.default;n.push(this._startingEdge);for(var i=new _.default;!n.empty();){var r=n.pop();if(!i.contains(r)){var o=this.fetchTriangleToVisit(r,n,e,i);null!==o&&t.visit(o)}}},isFrameEdge:function(t){return!(!this.isFrameVertex(t.orig())&&!this.isFrameVertex(t.dest()))},isOnEdge:function(t,e){return this._seg.setCoordinates(t.orig().getCoordinate(),t.dest().getCoordinate()),this._seg.distance(e)<this._edgeCoincidenceTolerance},getEnvelope:function(){return new G.default(this._frameEnv)},createFrame:function(t){var e=t.getWidth(),n=t.getHeight(),i=0;i=e>n?10*e:10*n,this._frameVertex[0]=new T.default((t.getMaxX()+t.getMinX())/2,t.getMaxY()+i),this._frameVertex[1]=new T.default(t.getMinX()-i,t.getMinY()-i),this._frameVertex[2]=new T.default(t.getMaxX()+i,t.getMinY()-i),this._frameEnv=new G.default(this._frameVertex[0].getCoordinate(),this._frameVertex[1].getCoordinate()),this._frameEnv.expandToInclude(this._frameVertex[2].getCoordinate())},getTriangleCoordinates:function(t){var e=new u;return this.visitTriangles(e,t),e.getTriangles()},getVertices:function(t){for(var e=new _.default,n=this._quadEdges.iterator();n.hasNext();){var i=n.next(),r=i.orig();!t&&this.isFrameVertex(r)||e.add(r);var o=i.dest();!t&&this.isFrameVertex(o)||e.add(o)}return e},fetchTriangleToVisit:function(t,e,n,i){var r=t,o=0,s=!1;do{this._triEdges[o]=r,this.isFrameEdge(r)&&(s=!0);var a=r.sym();i.contains(a)||e.push(a),i.add(r),o++,r=r.lNext()}while(r!==t);return s&&!n?null:this._triEdges},getEdges:function(){if(0===arguments.length)return this._quadEdges;if(1===arguments.length){for(var t=arguments[0],e=this.getPrimaryEdges(!1),n=new Array(e.size()).fill(null),i=0,r=e.iterator();r.hasNext();){var o=r.next();n[i++]=t.createLineString([o.orig().getCoordinate(),o.dest().getCoordinate()])}return t.createMultiLineString(n)}},getVertexUniqueEdges:function(t){for(var e=new F.default,n=new _.default,i=this._quadEdges.iterator();i.hasNext();){var r=i.next(),o=r.orig();n.contains(o)||(n.add(o),!t&&this.isFrameVertex(o)||e.add(r));var s=r.sym(),a=s.orig();n.contains(a)||(n.add(a),!t&&this.isFrameVertex(a)||e.add(s))}return e},getTriangleEdges:function(t){var e=new s;return this.visitTriangles(e,t),e.getTriangleEdges()},getPrimaryEdges:function(t){this._visitedKey++;var e=new F.default,n=new w.default;n.push(this._startingEdge);for(var i=new _.default;!n.empty();){var r=n.pop();if(!i.contains(r)){var o=r.getPrimary();!t&&this.isFrameEdge(o)||e.add(o),n.push(r.oNext()),n.push(r.sym().oNext()),i.add(r),i.add(r.sym())}}return e},delete:function(t){f.default.splice(t,t.oPrev()),f.default.splice(t.sym(),t.sym().oPrev());var e=t.sym(),n=t.rot(),i=t.rot().sym();this._quadEdges.remove(t),this._quadEdges.remove(e),this._quadEdges.remove(n),this._quadEdges.remove(i),t.delete(),e.delete(),n.delete(),i.delete()},locateFromEdge:function(t,e){for(var n=0,i=this._quadEdges.size(),r=e;;){if(++n>i)throw new N.default(r.toLineSegment());if(t.equals(r.orig())||t.equals(r.dest()))break;if(t.rightOf(r))r=r.sym();else if(t.rightOf(r.oNext())){if(t.rightOf(r.dPrev()))break;r=r.dPrev()}else r=r.oNext()}return r},getTolerance:function(){return this._tolerance},getVoronoiCellPolygons:function(t){this.visitTriangles(new o,!0);for(var e=new F.default,n=this.getVertexUniqueEdges(!1),i=n.iterator();i.hasNext();){var r=i.next();e.add(this.getVoronoiCellPolygon(r,t))}return e},getVoronoiDiagram:function(t){var e=this.getVoronoiCellPolygons(t);return t.createGeometryCollection(v.default.toGeometryArray(e))},getTriangles:function(t){for(var e=this.getTriangleCoordinates(!1),n=new Array(e.size()).fill(null),i=0,r=e.iterator();r.hasNext();){var o=r.next();n[i++]=t.createPolygon(t.createLinearRing(o),null)}return t.createGeometryCollection(n)},insertSite:function(t){var e=this.locate(t);if(t.equals(e.orig(),this._tolerance)||t.equals(e.dest(),this._tolerance))return e;var n=this.makeEdge(e.orig(),t);f.default.splice(n,e);var i=n;do{n=this.connect(e,n.sym()),e=n.oPrev()}while(e.lNext()!==i);return i},locate:function(){if(1===arguments.length){if(arguments[0]instanceof T.default){var t=arguments[0];return this._locator.locate(t)}if(arguments[0]instanceof b.default){var e=arguments[0];return this._locator.locate(new T.default(e))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=this._locator.locate(new T.default(n));if(null===r)return null;var o=r;r.dest().getCoordinate().equals2D(n)&&(o=r.sym());var s=o;do{if(s.dest().getCoordinate().equals2D(i))return s;s=s.oNext()}while(s!==o);return null}},interfaces_:function(){return[]},getClass:function(){return r}}),r.getTriangleEdges=function(t,e){if(e[0]=t,e[1]=e[0].lNext(),e[2]=e[1].lNext(),e[2].lNext()!==e[0])throw new E.default("Edges do not form a triangle")},(0,P.default)(o.prototype,{visit:function(t){for(var e=t[0].orig().getCoordinate(),n=t[1].orig().getCoordinate(),i=t[2].orig().getCoordinate(),r=q.default.circumcentre(e,n,i),o=new T.default(r),s=0;s<3;s++)t[s].rot().setOrig(o)},interfaces_:function(){return[V.default]},getClass:function(){return o}}),(0,P.default)(s.prototype,{getTriangleEdges:function(){return this._triList},visit:function(t){this._triList.add(t.clone())},interfaces_:function(){return[V.default]},getClass:function(){return s}}),(0,P.default)(a.prototype,{visit:function(t){this._triList.add([t[0].orig(),t[1].orig(),t[2].orig()])},getTriangleVertices:function(){return this._triList},interfaces_:function(){return[V.default]},getClass:function(){return a}}),(0,P.default)(u.prototype,{checkTriangleSize:function(t){t.length>=2?g.default.toLineString(t[0],t[1]):t.length>=1&&g.default.toPoint(t[0])},visit:function(t){this._coordList.clear();for(var e=0;e<3;e++){var n=t[e].orig();this._coordList.add(n.getCoordinate())}if(this._coordList.size()>0){this._coordList.closeRing();var i=this._coordList.toCoordinateArray();if(4!==i.length)return null;this._triCoords.add(i)}},getTriangles:function(){return this._triCoords},interfaces_:function(){return[V.default]},getClass:function(){return u}}),r.TriangleCircumcentreVisitor=o,r.TriangleEdgesListVisitor=s,r.TriangleVertexListVisitor=a,r.TriangleCoordinatesVisitor=u,r.EDGE_COINCIDENCE_TOL_FACTOR=1e3},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._siteCoords=null,this._tolerance=0,this._subdiv=null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(19),s=i(o),a=n(13),u=i(a),l=n(68),f=i(l),c=n(6),d=i(c),h=n(25),_=i(h),p=n(124),g=i(p),m=n(125),v=i(m),y=n(0),b=i(y),x=n(97),E=i(x),L=n(20),w=i(L),M=n(1),P=i(M),I=n(8),C=i(I);(0,b.default)(r.prototype,{create:function(){if(null!==this._subdiv)return null;var t=r.envelope(this._siteCoords),e=r.toVertices(this._siteCoords);this._subdiv=new v.default(t,this._tolerance),new g.default(this._subdiv).insertSites(e)},setTolerance:function(t){this._tolerance=t},setSites:function(){if(arguments[0]instanceof u.default){var t=arguments[0];this._siteCoords=r.extractUniqueCoordinates(t)}else if((0,d.default)(arguments[0],_.default)){var e=arguments[0];this._siteCoords=r.unique(w.default.toCoordinateArray(e))}},getEdges:function(t){return this.create(),this._subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this._subdiv},getTriangles:function(t){return this.create(),this._subdiv.getTriangles(t)},interfaces_:function(){return[]},getClass:function(){return r}}),r.extractUniqueCoordinates=function(t){if(null===t)return new s.default;var e=t.getCoordinates();return r.unique(e)},r.envelope=function(t){for(var e=new C.default,n=t.iterator();n.hasNext();){var i=n.next();e.expandToInclude(i)}return e},r.unique=function(t){var e=w.default.copyDeep(t);return f.default.sort(e),new s.default(e,!1)},r.toVertices=function(t){for(var e=new P.default,n=t.iterator();n.hasNext();){var i=n.next();e.add(new E.default(i))}return e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function s(r,o,s,a){var l=0,f=0;if(null==r||(l=u(r,s))!==(f=u(o,s))||p(r,o)<0^s>0)do{a.point(0===l||3===l?t:n,l>1?i:e)}while((l=(l+s+4)%4)!==f);else a.point(o[0],o[1])}function u(i,r){return(0,o.abs)(i[0]-t)<o.epsilon?r>0?0:3:(0,o.abs)(i[0]-n)<o.epsilon?r>0?2:1:(0,o.abs)(i[1]-e)<o.epsilon?r>0?1:0:r>0?3:2}function f(t,e){return p(t.x,e.x)}function p(t,e){var n=u(t,1),i=u(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(o){function u(t,e){r(t,e)&&T.point(t,e)}function p(){for(var e=0,n=0,r=E.length;n<r;++n)for(var o,s,a=E[n],u=1,l=a.length,f=a[0],c=f[0],d=f[1];u<l;++u)o=c,s=d,f=a[u],c=f[0],d=f[1],s<=i?d>i&&(c-o)*(i-s)>(d-s)*(t-o)&&++e:d<=i&&(c-o)*(i-s)<(d-s)*(t-o)&&--e;return e}function g(){T=R,x=[],E=[],O=!0}function m(){var t=p(),e=O&&t,n=(x=(0,d.merge)(x)).length;(e||n)&&(o.polygonStart(),e&&(o.lineStart(),s(null,null,1,o),o.lineEnd()),n&&(0,c.default)(x,f,t,s,o),o.polygonEnd()),T=o,x=E=L=null}function v(){D.point=b,E&&E.push(L=[]),N=!0,S=!1,I=C=NaN}function y(){x&&(b(w,M),P&&S&&R.rejoin(),x.push(R.result())),D.point=u,S&&T.lineEnd()}function b(o,s){var a=r(o,s);if(E&&L.push([o,s]),N)w=o,M=s,P=a,N=!1,a&&(T.lineStart(),T.point(o,s));else if(a&&S)T.point(o,s);else{var u=[I=Math.max(_,Math.min(h,I)),C=Math.max(_,Math.min(h,C))],f=[o=Math.max(_,Math.min(h,o)),s=Math.max(_,Math.min(h,s))];(0,l.default)(u,f,t,e,n,i)?(S||(T.lineStart(),T.point(u[0],u[1])),T.point(f[0],f[1]),a||T.lineEnd(),O=!1):a&&(T.lineStart(),T.point(o,s),O=!1)}I=o,C=s,S=a}var x,E,L,w,M,P,I,C,S,N,O,T=o,R=(0,a.default)(),D={point:u,lineStart:v,lineEnd:y,polygonStart:g,polygonEnd:m};return D}}Object.defineProperty(e,"__esModule",{value:!0}),e.clipExtent=r,e.default=function(){var t,e,n,i=0,o=0,s=960,a=500;return n={stream:function(n){return t&&e===n?t:t=r(i,o,s,a)(e=n)},extent:function(r){return arguments.length?(i=+r[0][0],o=+r[0][1],s=+r[1][0],a=+r[1][1],t=e=null,n):[[i,o],[s,a]]}}};var o=n(5),s=n(209),a=i(s),u=n(453),l=i(u),f=n(210),c=i(f),d=n(128),h=1e9,_=-h},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(212);Object.defineProperty(e,"bisect",{enumerable:!0,get:function(){return i(r).default}}),Object.defineProperty(e,"bisectRight",{enumerable:!0,get:function(){return r.bisectRight}}),Object.defineProperty(e,"bisectLeft",{enumerable:!0,get:function(){return r.bisectLeft}});var o=n(59);Object.defineProperty(e,"ascending",{enumerable:!0,get:function(){return i(o).default}});var s=n(213);Object.defineProperty(e,"bisector",{enumerable:!0,get:function(){return i(s).default}});var a=n(454);Object.defineProperty(e,"cross",{enumerable:!0,get:function(){return i(a).default}});var u=n(455);Object.defineProperty(e,"descending",{enumerable:!0,get:function(){return i(u).default}});var l=n(215);Object.defineProperty(e,"deviation",{enumerable:!0,get:function(){return i(l).default}});var f=n(217);Object.defineProperty(e,"extent",{enumerable:!0,get:function(){return i(f).default}});var c=n(456);Object.defineProperty(e,"histogram",{enumerable:!0,get:function(){return i(c).default}});var d=n(459);Object.defineProperty(e,"thresholdFreedmanDiaconis",{enumerable:!0,get:function(){return i(d).default}});var h=n(460);Object.defineProperty(e,"thresholdScott",{enumerable:!0,get:function(){return i(h).default}});var _=n(221);Object.defineProperty(e,"thresholdSturges",{enumerable:!0,get:function(){return i(_).default}});var p=n(461);Object.defineProperty(e,"max",{enumerable:!0,get:function(){return i(p).default}});var g=n(462);Object.defineProperty(e,"mean",{enumerable:!0,get:function(){return i(g).default}});var m=n(463);Object.defineProperty(e,"median",{enumerable:!0,get:function(){return i(m).default}});var v=n(464);Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return i(v).default}});var y=n(222);Object.defineProperty(e,"min",{enumerable:!0,get:function(){return i(y).default}});var b=n(214);Object.defineProperty(e,"pairs",{enumerable:!0,get:function(){return i(b).default}});var x=n(465);Object.defineProperty(e,"permute",{enumerable:!0,get:function(){return i(x).default}});var E=n(129);Object.defineProperty(e,"quantile",{enumerable:!0,get:function(){return i(E).default}});var L=n(219);Object.defineProperty(e,"range",{enumerable:!0,get:function(){return i(L).default}});var w=n(466);Object.defineProperty(e,"scan",{enumerable:!0,get:function(){return i(w).default}});var M=n(467);Object.defineProperty(e,"shuffle",{enumerable:!0,get:function(){return i(M).default}});var P=n(468);Object.defineProperty(e,"sum",{enumerable:!0,get:function(){return i(P).default}});var I=n(220);Object.defineProperty(e,"ticks",{enumerable:!0,get:function(){return i(I).default}}),Object.defineProperty(e,"tickIncrement",{enumerable:!0,get:function(){return I.tickIncrement}}),Object.defineProperty(e,"tickStep",{enumerable:!0,get:function(){return I.tickStep}});var C=n(223);Object.defineProperty(e,"transpose",{enumerable:!0,get:function(){return i(C).default}});var S=n(216);Object.defineProperty(e,"variance",{enumerable:!0,get:function(){return i(S).default}});var N=n(469);Object.defineProperty(e,"zip",{enumerable:!0,get:function(){return i(N).default}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if(null==n&&(n=r.default),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,o=(i-1)*e,s=Math.floor(o),a=+n(t[s],s,t);return a+(+n(t[s+1],s+1,t)-a)*(o-s)}};var i=n(81),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t}},function(t,e,n){"use strict";function i(t,e){function n(t,e){var n=(0,r.sqrt)(a-2*o*(0,r.sin)(e))/o;return[n*(0,r.sin)(t*=o),u-n*(0,r.cos)(t)]}var i=(0,r.sin)(t),o=(i+(0,r.sin)(e))/2;if((0,r.abs)(o)<r.epsilon)return(0,s.cylindricalEqualAreaRaw)(t);var a=1+i*(2*o-i),u=(0,r.sqrt)(a)/o;return n.invert=function(t,e){var n=u-e;return[(0,r.atan2)(t,(0,r.abs)(n))/o*(0,r.sign)(n),(0,r.asin)((a-(t*t+n*n)*o*o)/(2*o))]},n}Object.defineProperty(e,"__esModule",{value:!0}),e.conicEqualAreaRaw=i,e.default=function(){return(0,o.conicProjection)(i).scale(155.424).center([0,33.6442])};var r=n(5),o=n(132),s=n(482)},function(t,e,n){"use strict";function i(t){var e=0,n=r.pi/3,i=(0,o.projectionMutator)(t),s=i(e,n);return s.parallels=function(t){return arguments.length?i(e=t[0]*r.radians,n=t[1]*r.radians):[e*r.degrees,n*r.degrees]},s}Object.defineProperty(e,"__esModule",{value:!0}),e.conicProjection=i;var r=n(5),o=n(35)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),(0,a.default)(n,t.stream(l.default));var s=l.default.result(),u=Math.min(i/(s[1][0]-s[0][0]),r/(s[1][1]-s[0][1])),f=+e[0][0]+(i-u*(s[1][0]+s[0][0]))/2,c=+e[0][1]+(r-u*(s[1][1]+s[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*u).translate([f,c])}function o(t,e,n){return r(t,[[0,0],e],n)}Object.defineProperty(e,"__esModule",{value:!0}),e.fitExtent=r,e.fitSize=o;var s=n(52),a=i(s),u=n(227),l=i(u)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){return[t,(0,s.log)((0,s.tan)((s.halfPi+e)/2))]}function o(t){function e(){var e=s.pi*c(),l=a((0,u.default)(a.rotate()).invert([0,0]));return h(null==_?[[l[0]-e,l[1]-e],[l[0]+e,l[1]+e]]:t===r?[[Math.max(l[0]-e,_),n],[Math.min(l[0]+e,i),o]]:[[_,Math.max(l[1]-e,n)],[i,Math.min(l[1]+e,o)]])}var n,i,o,a=(0,f.default)(t),l=a.center,c=a.scale,d=a.translate,h=a.clipExtent,_=null;return a.scale=function(t){return arguments.length?(c(t),e()):c()},a.translate=function(t){return arguments.length?(d(t),e()):d()},a.center=function(t){return arguments.length?(l(t),e()):l()},a.clipExtent=function(t){return arguments.length?(null==t?_=n=i=o=null:(_=+t[0][0],n=+t[0][1],i=+t[1][0],o=+t[1][1]),e()):null==_?null:[[_,n],[i,o]]},e()}Object.defineProperty(e,"__esModule",{value:!0}),e.mercatorRaw=r,e.default=function(){return o(r).scale(961/s.tau)},e.mercatorProjection=o;var s=n(5),a=n(99),u=i(a),l=n(35),f=i(l);r.invert=function(t,e){return[t,2*(0,s.atan)((0,s.exp)(e))-s.halfPi]}},function(t,e,n){"use strict";function i(t){if(!t)throw new Error("obj is required");var e=r(t);if(e.length>1&&(0,d.isNumber)(e[0])&&(0,d.isNumber)(e[1]))return e;throw new Error("Coordinate is not a valid Point")}function r(t){if(!t)throw new Error("obj is required");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return o(e),e;throw new Error("No valid coordinates")}function o(t){if(t.length>1&&(0,d.isNumber)(t[0])&&(0,d.isNumber)(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return o(t[0]);throw new Error("coordinates must only contain numbers")}function s(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}function a(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}function u(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var i=0;i<t.features.length;i++){var r=t.features[i];if(!r||"Feature"!==r.type||!r.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!r.geometry||r.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+r.geometry.type)}}function l(t){if(!t)throw new Error("geojson is required");if(void 0!==t.geometry)return t.geometry;if(t.coordinates||t.geometries)return t;throw new Error("geojson must be a valid Feature or Geometry Object")}function f(){throw new Error("invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType")}function c(t,e){if(!t)throw new Error((e||"geojson")+" is required");if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error((e||"geojson")+" is invalid")}Object.defineProperty(e,"__esModule",{value:!0}),e.getCoord=i,e.getCoords=r,e.containsNumber=o,e.geojsonType=s,e.featureOf=a,e.collectionOf=u,e.getGeom=l,e.getGeomType=f,e.getType=c;var d=n(28)},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},function(t,e,n){"use strict";var i=n(27),r=n(240),o=n(242),s=n(243),a=n(244),u=n(138),l="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(245);t.exports=function(t){return new Promise(function(e,f){var c=t.data,d=t.headers;i.isFormData(c)&&delete d["Content-Type"];var h=new XMLHttpRequest,_="onreadystatechange",p=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in h||a(t.url)||(h=new window.XDomainRequest,_="onload",p=!0,h.onprogress=function(){},h.ontimeout=function(){}),t.auth){var g=t.auth.username||"",m=t.auth.password||"";d.Authorization="Basic "+l(g+":"+m)}if(h.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,h[_]=function(){if(h&&(4===h.readyState||p)&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?s(h.getAllResponseHeaders()):null,i=t.responseType&&"text"!==t.responseType?h.response:h.responseText,o={data:i,status:1223===h.status?204:h.status,statusText:1223===h.status?"No Content":h.statusText,headers:n,config:t,request:h};r(e,f,o),h=null}},h.onerror=function(){f(u("Network Error",t,null,h)),h=null},h.ontimeout=function(){f(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",h)),h=null},i.isStandardBrowserEnv()){var v=n(246),y=(t.withCredentials||a(t.url))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;y&&(d[t.xsrfHeaderName]=y)}if("setRequestHeader"in h&&i.forEach(d,function(t,e){void 0===c&&"content-type"===e.toLowerCase()?delete d[e]:h.setRequestHeader(e,t)}),t.withCredentials&&(h.withCredentials=!0),t.responseType)try{h.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){h&&(h.abort(),f(t),h=null)}),void 0===c&&(c=null),h.send(c)})}},function(t,e,n){"use strict";var i=n(241);t.exports=function(t,e,n,r,o){var s=new Error(t);return i(s,e,n,r,o)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},function(t,e,n){"use strict";var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(i=window)}t.exports=i},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=n(60),o=(function(t){t&&t.__esModule}(r),function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()),s=n(83),a=n(143),u=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.handleSubmit,o=void 0===r?function(){}:r,a=n.searchLabel,u=void 0===a?"search":a,l=n.classNames,f=void 0===l?{}:l;i(this,t);var c=(0,s.createElement)("div",["geosearch",f.container].join(" ")),d=(0,s.createElement)("form",["",f.form].join(" "),c),h=(0,s.createElement)("input",["glass",f.input].join(" "),d);h.type="text",h.placeholder=u,h.addEventListener("input",function(t){e.onInput(t)},!1),h.addEventListener("keyup",function(t){e.onKeyUp(t)},!1),h.addEventListener("keypress",function(t){e.onKeyPress(t)},!1),h.addEventListener("focus",function(t){e.onFocus(t)},!1),h.addEventListener("blur",function(t){e.onBlur(t)},!1),this.elements={container:c,form:d,input:h},this.handleSubmit=o}return o(t,[{key:"onFocus",value:function(){(0,s.addClassName)(this.elements.form,"active")}},{key:"onBlur",value:function(){(0,s.removeClassName)(this.elements.form,"active")}},{key:"onSubmit",value:function(t){return new Promise(function(e,n){var i,r,o;return t.preventDefault(),t.stopPropagation(),i=this.elements,r=i.input,o=i.container,(0,s.removeClassName)(o,"error"),(0,s.addClassName)(o,"pending"),this.handleSubmit({query:r.value}).then(function(t){return(0,s.removeClassName)(o,"pending"),e()}.$asyncbind(this,n),n)}.$asyncbind(this))}},{key:"onInput",value:function(){var t=this.elements.container;this.hasError&&((0,s.removeClassName)(t,"error"),this.hasError=!1)}},{key:"onKeyUp",value:function(t){var e=this.elements,n=e.container,i=e.input;t.keyCode===a.ESCAPE_KEY&&((0,s.removeClassName)(n,"pending"),(0,s.removeClassName)(n,"active"),i.value="",document.body.focus(),document.body.blur())}},{key:"onKeyPress",value:function(t){t.keyCode===a.ENTER_KEY&&this.onSubmit(t)}},{key:"setQuery",value:function(t){this.elements.input.value=t}}]),t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=e.ENTER_KEY=13,r=e.ESCAPE_KEY=27,o=e.ARROW_DOWN_KEY=40,s=e.ARROW_UP_KEY=38,a=e.ARROW_LEFT_KEY=37,u=e.ARROW_RIGHT_KEY=39;e.SPECIAL_KEYS=[i,r,o,s,a,u]},function(t,e,n){"use strict";function i(t){var e=[1/0,1/0,-1/0,-1/0];return(0,r.coordEach)(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}Object.defineProperty(e,"__esModule",{value:!0});var r=n(62);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(271);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var r=n(287);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(341);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var s=n(343);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var a=n(348);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var u=n(349);Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})});var l=n(355);Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})});var f=n(360);Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}})});var c=n(361);Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})});var d=n(419);Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}})});var h=n(422);Object.keys(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}})});var _=n(429);Object.keys(_).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return _[t]}})});var p=n(444);Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2),s=i(o),a=n(0),u=i(a),l=n(147),f=i(l);(0,u.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.orientationIndex=function(t,e,n){var i=r.orientationIndexFilter(t,e,n);if(i<=1)return i;var o=f.default.valueOf(e.x).selfAdd(-t.x),s=f.default.valueOf(e.y).selfAdd(-t.y),a=f.default.valueOf(n.x).selfAdd(-e.x),u=f.default.valueOf(n.y).selfAdd(-e.y);return o.selfMultiply(u).selfSubtract(s.selfMultiply(a)).signum()},r.signOfDet2x2=function(t,e,n,i){return t.multiply(i).selfSubtract(e.multiply(n)).signum()},r.intersection=function(t,e,n,i){var r=f.default.valueOf(i.y).selfSubtract(n.y).selfMultiply(f.default.valueOf(e.x).selfSubtract(t.x)),o=f.default.valueOf(i.x).selfSubtract(n.x).selfMultiply(f.default.valueOf(e.y).selfSubtract(t.y)),a=r.subtract(o),u=f.default.valueOf(i.x).selfSubtract(n.x).selfMultiply(f.default.valueOf(t.y).selfSubtract(n.y)),l=f.default.valueOf(i.y).selfSubtract(n.y).selfMultiply(f.default.valueOf(t.x).selfSubtract(n.x)),c=u.subtract(l),d=c.selfDivide(a).doubleValue(),h=f.default.valueOf(t.x).selfAdd(f.default.valueOf(e.x).selfSubtract(t.x).selfMultiply(d)).doubleValue(),_=f.default.valueOf(e.x).selfSubtract(t.x).selfMultiply(f.default.valueOf(t.y).selfSubtract(n.y)),p=f.default.valueOf(e.y).selfSubtract(t.y).selfMultiply(f.default.valueOf(t.x).selfSubtract(n.x)),g=_.subtract(p),m=g.selfDivide(a).doubleValue(),v=f.default.valueOf(n.y).selfAdd(f.default.valueOf(i.y).selfSubtract(n.y).selfMultiply(m)).doubleValue();return new s.default(h,v)},r.orientationIndexFilter=function(t,e,n){var i=null,o=(t.x-n.x)*(e.y-n.y),s=(t.y-n.y)*(e.x-n.x),a=o-s;if(o>0){if(s<=0)return r.signum(a);i=o+s}else{if(!(o<0))return r.signum(a);if(s>=0)return r.signum(a);i=-o-s}var u=r.DP_SAFE_EPSILON*i;return a>=u||-a>=u?r.signum(a):2},r.signum=function(t){return t>0?1:t<0?-1:0},r.DP_SAFE_EPSILON=1e-15},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof r){var e=arguments[0];this.init(e)}else if("string"==typeof arguments[0]){var n=arguments[0];r.call(this,r.parse(n))}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.init(i,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(37),s=i(o),a=n(12),u=i(a),l=n(0),f=i(l),c=n(65),d=i(c),h=n(148),_=i(h),p=n(21),g=i(p),m=n(63),v=i(m),y=n(22),b=i(y);(0,f.default)(r.prototype,{le:function(t){return this._hi<t._hi||this._hi===t._hi&&this._lo<=t._lo},extractSignificantDigits:function(t,e){var n=this.abs(),i=r.magnitude(n._hi),o=r.TEN.pow(i);n=n.divide(o),n.gt(r.TEN)?(n=n.divide(r.TEN),i+=1):n.lt(r.ONE)&&(n=n.multiply(r.TEN),i-=1);for(var a=i+1,u=new s.default,l=r.MAX_PRINT_DIGITS-1,f=0;f<=l;f++){t&&f===a&&u.append(".");var c=Math.trunc(n._hi);if(c<0)break;var d=!1,h=0;c>9?(d=!0,h="9"):h="0"+c,u.append(h),n=n.subtract(r.valueOf(c)).multiply(r.TEN),d&&n.selfAdd(r.TEN);var _=!0,p=r.magnitude(n._hi);if(p<0&&Math.abs(p)>=l-f&&(_=!1),!_)break}return e[0]=i,u.toString()},sqr:function(){return this.multiply(this)},doubleValue:function(){return this._hi+this._lo},subtract:function(){if(arguments[0]instanceof r){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},equals:function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},isZero:function(){return 0===this._hi&&0===this._lo},selfSubtract:function(){if(arguments[0]instanceof r){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},getSpecialNumberString:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},min:function(t){return this.le(t)?this:t},selfDivide:function(){if(1===arguments.length){if(arguments[0]instanceof r){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],o=null,s=null,a=null,u=null,l=null,f=null,c=null,d=null;return l=this._hi/n,f=r.SPLIT*l,o=f-l,d=r.SPLIT*n,o=f-o,s=l-o,a=d-n,c=l*n,a=d-a,u=n-a,d=o*a-c+o*u+s*a+s*u,f=(this._hi-c-d+this._lo-l*i)/n,d=l+f,this._hi=d,this._lo=l-d+f,this}},dump:function(){return"DD<"+this._hi+", "+this._lo+">"},divide:function(){if(arguments[0]instanceof r){var t=arguments[0],e=null,n=null,i=null,o=null,s=null,a=null,l=null,f=null;s=this._hi/t._hi,a=r.SPLIT*s,e=a-s,f=r.SPLIT*t._hi,e=a-e,n=s-e,i=f-t._hi,l=s*t._hi,i=f-i,o=t._hi-i,f=e*i-l+e*o+n*i+n*o,a=(this._hi-l-f+this._lo-s*t._lo)/t._hi,f=s+a;return new r(f,s-f+a)}if("number"==typeof arguments[0]){var c=arguments[0];return u.default.isNaN(c)?r.createNaN():r.copy(this).selfDivide(c,0)}},ge:function(t){return this._hi>t._hi||this._hi===t._hi&&this._lo>=t._lo},pow:function(t){if(0===t)return r.valueOf(1);var e=new r(this),n=r.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2==1&&n.selfMultiply(e),(i/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},ceil:function(){if(this.isNaN())return r.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new r(t,e)},compareTo:function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},rint:function(){return this.isNaN()?this:this.add(.5).floor()},setValue:function(){if(arguments[0]instanceof r){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},max:function(t){return this.ge(t)?this:t},sqrt:function(){if(this.isZero())return r.valueOf(0);if(this.isNegative())return r.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=r.valueOf(e),i=this.subtract(n.sqr()),o=i._hi*(.5*t);return n.add(o)},selfAdd:function(){if(1===arguments.length){if(arguments[0]instanceof r){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,i=null,o=null,s=null,a=null,u=null;return o=this._hi+e,a=o-this._hi,s=o-a,s=e-a+(this._hi-s),u=s+this._lo,n=o+u,i=u+(o-n),this._hi=n+i,this._lo=i+(n-this._hi),this}}else if(2===arguments.length){var l=arguments[0],f=arguments[1],n=null,i=null,c=null,d=null,o=null,s=null,a=null,u=null;o=this._hi+l,c=this._lo+f,a=o-this._hi,u=c-this._lo,s=o-a,d=c-u,s=l-a+(this._hi-s),d=f-u+(this._lo-d),a=s+c,n=o+a,i=a+(o-n),a=d+i;var h=n+a,_=a+(n-h);return this._hi=h,this._lo=_,this}},selfMultiply:function(){if(1===arguments.length){if(arguments[0]instanceof r){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],o=null,s=null,a=null,u=null,l=null,f=null;l=r.SPLIT*this._hi,o=l-this._hi,f=r.SPLIT*n,o=l-o,s=this._hi-o,a=f-n,l=this._hi*n,a=f-a,u=n-a,f=o*a-l+o*u+s*a+s*u+(this._hi*i+this._lo*n);var c=l+f;o=l-c;var d=f+o;return this._hi=c,this._lo=d,this}},selfSqr:function(){return this.selfMultiply(this)},floor:function(){if(this.isNaN())return r.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new r(t,e)},negate:function(){return this.isNaN()?this:new r(-this._hi,-this._lo)},clone:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return null;throw t}},multiply:function(){if(arguments[0]instanceof r){var t=arguments[0];return t.isNaN()?r.createNaN():r.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return u.default.isNaN(e)?r.createNaN():r.copy(this).selfMultiply(e,0)}},isNaN:function(){return u.default.isNaN(this._hi)},intValue:function(){return Math.trunc(this._hi)},toString:function(){var t=r.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},toStandardNotation:function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),i=e[0]+1,o=n;if("."===n.charAt(0))o="0"+n;else if(i<0)o="0."+r.stringOfChar("0",-i)+n;else if(-1===n.indexOf(".")){var s=i-n.length,a=r.stringOfChar("0",s);o=n+a+".0"}return this.isNegative()?"-"+o:o},reciprocal:function(){var t=null,e=null,n=null,i=null,o=null,s=null,a=null,u=null;o=1/this._hi,s=r.SPLIT*o,t=s-o,u=r.SPLIT*this._hi,t=s-t,e=o-t,n=u-this._hi,a=o*this._hi,n=u-n,i=this._hi-n,u=t*n-a+t*i+e*n+e*i,s=(1-a-u-o*this._lo)/this._hi;var l=o+s;return new r(l,o-l+s)},toSciNotation:function(){if(this.isZero())return r.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),i=r.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new IllegalStateException("Found leading zero: "+n);var o="";n.length>1&&(o=n.substring(1));var s=n.charAt(0)+"."+o;return this.isNegative()?"-"+s+i:s+i},abs:function(){return this.isNaN()?r.NaN:this.isNegative()?this.negate():new r(this)},isPositive:function(){return this._hi>0||0===this._hi&&this._lo>0},lt:function(t){return this._hi<t._hi||this._hi===t._hi&&this._lo<t._lo},add:function(){if(arguments[0]instanceof r){var t=arguments[0];return r.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return r.copy(this).selfAdd(e)}},init:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof r){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this._hi=n,this._lo=i}},gt:function(t){return this._hi>t._hi||this._hi===t._hi&&this._lo>t._lo},isNegative:function(){return this._hi<0||0===this._hi&&this._lo<0},trunc:function(){return this.isNaN()?r.NaN:this.isPositive()?this.floor():this.ceil()},signum:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},interfaces_:function(){return[b.default,g.default,v.default]},getClass:function(){return r}}),r.sqr=function(t){return r.valueOf(t).selfMultiply(t)},r.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return r.parse(t)}if("number"==typeof arguments[0]){return new r(arguments[0])}},r.sqrt=function(t){return r.valueOf(t).sqrt()},r.parse=function(t){for(var e=0,n=t.length;_.default.isWhitespace(t.charAt(e));)e++;var i=!1;if(e<n){var o=t.charAt(e);"-"!==o&&"+"!==o||(e++,"-"===o&&(i=!0))}for(var s=new r,a=0,u=0,l=0;;){if(e>=n)break;var f=t.charAt(e);if(e++,_.default.isDigit(f)){var c=f-"0";s.selfMultiply(r.TEN),s.selfAdd(c),a++}else{if("."!==f){if("e"===f||"E"===f){var h=t.substring(e);try{l=d.default.parseInt(h)}catch(e){throw e instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+h+" in string "+t):e}break}throw new NumberFormatException("Unexpected character '"+f+"' at position "+e+" in string "+t)}u=a}}var p=s,g=a-u-l;if(0===g)p=s;else if(g>0){var m=r.TEN.pow(g);p=s.divide(m)}else if(g<0){var m=r.TEN.pow(-g);p=s.multiply(m)}return i?p.negate():p},r.createNaN=function(){return new r(u.default.NaN,u.default.NaN)},r.copy=function(t){return new r(t)},r.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),i=Math.trunc(Math.floor(n));return 10*Math.pow(10,i)<=e&&(i+=1),i},r.stringOfChar=function(t,e){for(var n=new s.default,i=0;i<e;i++)n.append(t);return n.toString()},r.PI=new r(3.141592653589793,1.2246467991473532e-16),r.TWO_PI=new r(6.283185307179586,2.4492935982947064e-16),r.PI_2=new r(1.5707963267948966,6.123233995736766e-17),r.E=new r(2.718281828459045,1.4456468917292502e-16),r.NaN=new r(u.default.NaN,u.default.NaN),r.EPS=1.23259516440783e-32,r.SPLIT=134217729,r.MAX_PRINT_DIGITS=32,r.TEN=r.valueOf(10),r.ONE=r.valueOf(1),r.SCI_NOT_EXPONENT_CHAR="E",r.SCI_NOT_ZERO="0.0E0"},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.isWhitespace=function(t){return t<=32&&t>=0||127==t},i.toUpperCase=function(t){return t.toUpperCase()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){this.geometryFactory=t||new u.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2),s=i(o),a=n(16),u=i(a),l=n(0),f=i(l),c={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};(0,f.default)(r.prototype,{read:function(t){var e,n,i;t=t.replace(/[\n\r]/g," ");var r=c.typeStr.exec(t);if(-1!==t.search("EMPTY")&&(r=c.emptyTypeStr.exec(t),r[2]=void 0),r&&(n=r[1].toLowerCase(),i=r[2],h[n]&&(e=h[n].apply(this,[i]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},write:function(t){return this.extractGeometry(t)},extractGeometry:function(t){var e=t.getGeometryType().toLowerCase();if(!d[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+d[e].apply(this,[t])+")"}});var d={coordinate:function(t){return t.x+" "+t.y},point:function(t){return d.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+d.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(d.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(d.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+d.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+d.linestring.apply(this,[t._shell])+")");for(var n=0,i=t._holes.length;n<i;++n)e.push("("+d.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+d.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},h={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(c.spaces);return this.geometryFactory.createPoint(new s.default(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(c.trimParens,"$1"),i.push(h.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(i)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(c.spaces),i.push(new s.default(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(i)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(c.spaces),i.push(new s.default(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(c.parenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(c.trimParens,"$1"),i.push(h.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(i)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,i,r,o=t.trim().split(c.parenComma),s=[],a=0,u=o.length;a<u;++a)e=o[a].replace(c.trimParens,"$1"),n=h.linestring.apply(this,[e]),i=this.geometryFactory.createLinearRing(n._points),0===a?r=i:s.push(i);return this.geometryFactory.createPolygon(r,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(c.doubleParenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(c.trimParens,"$1"),i.push(h.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(i)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();t=t.replace(/,\s*([A-Za-z])/g,"|$1");for(var e=t.trim().split("|"),n=[],i=0,r=e.length;i<r;++i)n.push(this.read(e[i]));return this.geometryFactory.createGeometryCollection(n)}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(6),s=i(o),a=n(0),u=i(a),l=n(40),f=i(l);(0,u.default)(r.prototype,{create:function(){if(1===arguments.length){if(arguments[0]instanceof Array){arguments[0]}else if((0,s.default)(arguments[0],f.default)){arguments[0]}}else if(2===arguments.length){arguments[0],arguments[1]}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype.get=function(){},i.prototype.put=function(){},i.prototype.size=function(){},i.prototype.values=function(){},i.prototype.entrySet=function(){}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(25),o=function(t){return t&&t.__esModule?t:{default:t}}(r);i.prototype=new o.default,i.prototype.contains=function(){}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(11),s=i(o),a=n(6),u=i(a),l=n(2),f=i(l),c=n(0),d=i(c),h=n(40),_=i(h),p=n(155),g=i(p);(0,d.default)(r.prototype,{countSegment:function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,i=e.x;return n>i&&(n=e.x,i=t.x),this._p.x>=n&&this._p.x<=i&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var r=t.x-this._p.x,o=t.y-this._p.y,s=e.x-this._p.x,a=e.y-this._p.y,u=g.default.signOfDet2x2(r,o,s,a);if(0===u)return this._isPointOnSegment=!0,null;a<o&&(u=-u),u>0&&this._crossingCount++}},isPointInPolygon:function(){return this.getLocation()!==s.default.EXTERIOR},getLocation:function(){return this._isPointOnSegment?s.default.BOUNDARY:this._crossingCount%2==1?s.default.INTERIOR:s.default.EXTERIOR},isOnSegment:function(){return this._isPointOnSegment},interfaces_:function(){return[]},getClass:function(){return r}}),r.locatePointInRing=function(){if(arguments[0]instanceof f.default&&(0,u.default)(arguments[1],_.default)){for(var t=arguments[0],e=arguments[1],n=new r(t),i=new f.default,o=new f.default,s=1;s<e.size();s++)if(e.getCoordinate(s,i),e.getCoordinate(s-1,o),n.countSegment(i,o),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof f.default&&arguments[1]instanceof Array){for(var a=arguments[0],l=arguments[1],n=new r(a),s=1;s<l.length;s++){var i=l[s],o=l[s-1];if(n.countSegment(i,o),n.isOnSegment())return n.getLocation()}return n.getLocation()}}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{interfaces_:function(){return[]},getClass:function(){return i}}),i.orientationIndex=function(t,e,n){var r=e.x-t.x,o=e.y-t.y,s=n.x-e.x,a=n.y-e.y;return i.signOfDet2x2(r,o,s,a)},i.signOfDet2x2=function(t,e,n,i){var r=null,o=null,s=null,a=0;if(r=1,0===t||0===i)return 0===e||0===n?0:e>0?n>0?-r:r:n>0?r:-r;if(0===e||0===n)return i>0?t>0?r:-r:t>0?-r:r;if(0<e?0<i?e<=i||(r=-r,o=t,t=n,n=o,o=e,e=i,i=o):e<=-i?(r=-r,n=-n,i=-i):(o=t,t=-n,n=o,o=e,e=-i,i=o):0<i?-e<=i?(r=-r,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=i,i=o):e>=i?(t=-t,e=-e,n=-n,i=-i):(r=-r,o=-t,t=-n,n=o,o=-e,e=-i,i=o),0<t){if(!(0<n))return r;if(!(t<=n))return r}else{if(0<n)return-r;if(!(t>=n))return-r;r=-r,t=-t,n=-n}for(;;){if(a+=1,s=Math.floor(n/t),n-=s*t,(i-=s*e)<0)return-r;if(i>e)return r;if(t>n+n){if(e<i+i)return r}else{if(e>i+i)return-r;n=t-n,i=e-i,r=-r}if(0===i)return 0===n?0:-r;if(0===n)return r;if(s=Math.floor(t/n),t-=s*n,(e-=s*i)<0)return r;if(e>i)return-r;if(n>t+t){if(i<e+e)return-r}else{if(i>e+e)return r;t=n-t,e=i-e,r=-r}if(0===e)return 0===t?0:r;if(0===t)return-r}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._matrix=null,0===arguments.length)this._matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(_.default.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var t=arguments[0];r.call(this),this.set(t)}else if(arguments[0]instanceof r){var e=arguments[0];r.call(this),this._matrix[u.default.INTERIOR][u.default.INTERIOR]=e._matrix[u.default.INTERIOR][u.default.INTERIOR],this._matrix[u.default.INTERIOR][u.default.BOUNDARY]=e._matrix[u.default.INTERIOR][u.default.BOUNDARY],this._matrix[u.default.INTERIOR][u.default.EXTERIOR]=e._matrix[u.default.INTERIOR][u.default.EXTERIOR],this._matrix[u.default.BOUNDARY][u.default.INTERIOR]=e._matrix[u.default.BOUNDARY][u.default.INTERIOR],this._matrix[u.default.BOUNDARY][u.default.BOUNDARY]=e._matrix[u.default.BOUNDARY][u.default.BOUNDARY],this._matrix[u.default.BOUNDARY][u.default.EXTERIOR]=e._matrix[u.default.BOUNDARY][u.default.EXTERIOR],this._matrix[u.default.EXTERIOR][u.default.INTERIOR]=e._matrix[u.default.EXTERIOR][u.default.INTERIOR],this._matrix[u.default.EXTERIOR][u.default.BOUNDARY]=e._matrix[u.default.EXTERIOR][u.default.BOUNDARY],this._matrix[u.default.EXTERIOR][u.default.EXTERIOR]=e._matrix[u.default.EXTERIOR][u.default.EXTERIOR]}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(37),s=i(o),a=n(11),u=i(a),l=n(7),f=i(l),c=n(0),d=i(c),h=n(41),_=i(h),p=n(63),g=i(p);(0,d.default)(r.prototype,{isIntersects:function(){return!this.isDisjoint()},isCovers:function(){return(r.isTrue(this._matrix[u.default.INTERIOR][u.default.INTERIOR])||r.isTrue(this._matrix[u.default.INTERIOR][u.default.BOUNDARY])||r.isTrue(this._matrix[u.default.BOUNDARY][u.default.INTERIOR])||r.isTrue(this._matrix[u.default.BOUNDARY][u.default.BOUNDARY]))&&this._matrix[u.default.EXTERIOR][u.default.INTERIOR]===_.default.FALSE&&this._matrix[u.default.EXTERIOR][u.default.BOUNDARY]===_.default.FALSE},isCoveredBy:function(){return(r.isTrue(this._matrix[u.default.INTERIOR][u.default.INTERIOR])||r.isTrue(this._matrix[u.default.INTERIOR][u.default.BOUNDARY])||r.isTrue(this._matrix[u.default.BOUNDARY][u.default.INTERIOR])||r.isTrue(this._matrix[u.default.BOUNDARY][u.default.BOUNDARY]))&&this._matrix[u.default.INTERIOR][u.default.EXTERIOR]===_.default.FALSE&&this._matrix[u.default.BOUNDARY][u.default.EXTERIOR]===_.default.FALSE},set:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),i=e%3;this._matrix[n][i]=_.default.toDimensionValue(t.charAt(e))}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this._matrix[r][o]=s}},isContains:function(){return r.isTrue(this._matrix[u.default.INTERIOR][u.default.INTERIOR])&&this._matrix[u.default.EXTERIOR][u.default.INTERIOR]===_.default.FALSE&&this._matrix[u.default.EXTERIOR][u.default.BOUNDARY]===_.default.FALSE},setAtLeast:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),i=e%3;this.setAtLeast(n,i,_.default.toDimensionValue(t.charAt(e)))}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this._matrix[r][o]<s&&(this._matrix[r][o]=s)}},setAtLeastIfValid:function(t,e,n){t>=0&&e>=0&&this.setAtLeast(t,e,n)},isWithin:function(){return r.isTrue(this._matrix[u.default.INTERIOR][u.default.INTERIOR])&&this._matrix[u.default.INTERIOR][u.default.EXTERIOR]===_.default.FALSE&&this._matrix[u.default.BOUNDARY][u.default.EXTERIOR]===_.default.FALSE},isTouches:function(t,e){return t>e?this.isTouches(e,t):(t===_.default.A&&e===_.default.A||t===_.default.L&&e===_.default.L||t===_.default.L&&e===_.default.A||t===_.default.P&&e===_.default.A||t===_.default.P&&e===_.default.L)&&(this._matrix[u.default.INTERIOR][u.default.INTERIOR]===_.default.FALSE&&(r.isTrue(this._matrix[u.default.INTERIOR][u.default.BOUNDARY])||r.isTrue(this._matrix[u.default.BOUNDARY][u.default.INTERIOR])||r.isTrue(this._matrix[u.default.BOUNDARY][u.default.BOUNDARY])))},isOverlaps:function(t,e){return t===_.default.P&&e===_.default.P||t===_.default.A&&e===_.default.A?r.isTrue(this._matrix[u.default.INTERIOR][u.default.INTERIOR])&&r.isTrue(this._matrix[u.default.INTERIOR][u.default.EXTERIOR])&&r.isTrue(this._matrix[u.default.EXTERIOR][u.default.INTERIOR]):t===_.default.L&&e===_.default.L&&(1===this._matrix[u.default.INTERIOR][u.default.INTERIOR]&&r.isTrue(this._matrix[u.default.INTERIOR][u.default.EXTERIOR])&&r.isTrue(this._matrix[u.default.EXTERIOR][u.default.INTERIOR]))},isEquals:function(t,e){return t===e&&(r.isTrue(this._matrix[u.default.INTERIOR][u.default.INTERIOR])&&this._matrix[u.default.INTERIOR][u.default.EXTERIOR]===_.default.FALSE&&this._matrix[u.default.BOUNDARY][u.default.EXTERIOR]===_.default.FALSE&&this._matrix[u.default.EXTERIOR][u.default.INTERIOR]===_.default.FALSE&&this._matrix[u.default.EXTERIOR][u.default.BOUNDARY]===_.default.FALSE)},toString:function(){for(var t=new s.default("123456789"),e=0;e<3;e++)for(var n=0;n<3;n++)t.setCharAt(3*e+n,_.default.toDimensionSymbol(this._matrix[e][n]));return t.toString()},setAll:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this._matrix[e][n]=t},get:function(t,e){return this._matrix[t][e]},transpose:function(){var t=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=t,t=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=t,t=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=t,this},matches:function(t){if(9!==t.length)throw new f.default("Should be length 9: "+t);for(var e=0;e<3;e++)for(var n=0;n<3;n++)if(!r.matches(this._matrix[e][n],t.charAt(3*e+n)))return!1;return!0},add:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this.setAtLeast(e,n,t.get(e,n))},isDisjoint:function(){return this._matrix[u.default.INTERIOR][u.default.INTERIOR]===_.default.FALSE&&this._matrix[u.default.INTERIOR][u.default.BOUNDARY]===_.default.FALSE&&this._matrix[u.default.BOUNDARY][u.default.INTERIOR]===_.default.FALSE&&this._matrix[u.default.BOUNDARY][u.default.BOUNDARY]===_.default.FALSE},isCrosses:function(t,e){return t===_.default.P&&e===_.default.L||t===_.default.P&&e===_.default.A||t===_.default.L&&e===_.default.A?r.isTrue(this._matrix[u.default.INTERIOR][u.default.INTERIOR])&&r.isTrue(this._matrix[u.default.INTERIOR][u.default.EXTERIOR]):t===_.default.L&&e===_.default.P||t===_.default.A&&e===_.default.P||t===_.default.A&&e===_.default.L?r.isTrue(this._matrix[u.default.INTERIOR][u.default.INTERIOR])&&r.isTrue(this._matrix[u.default.EXTERIOR][u.default.INTERIOR]):t===_.default.L&&e===_.default.L&&0===this._matrix[u.default.INTERIOR][u.default.INTERIOR]},interfaces_:function(){return[g.default]},getClass:function(){return r}}),r.matches=function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var t=arguments[0],e=arguments[1];return e===_.default.SYM_DONTCARE||(e===_.default.SYM_TRUE&&(t>=0||t===_.default.TRUE)||(e===_.default.SYM_FALSE&&t===_.default.FALSE||(e===_.default.SYM_P&&t===_.default.P||(e===_.default.SYM_L&&t===_.default.L||e===_.default.SYM_A&&t===_.default.A))))}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var n=arguments[0],i=arguments[1];return new r(n).matches(i)}},r.isTrue=function(t){return t>=0||t===_.default.TRUE}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(54),s=i(o),a=n(84),u=i(a),l=n(0),f=i(l),c=n(14),d=i(c);(0,f.default)(r.prototype,{next:function(){if(this._atStart)return this._atStart=!1,r.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new u.default;var t=this._parent.getGeometryN(this._index++);return t instanceof d.default?(this._subcollectionIterator=new r(t),this._subcollectionIterator.next()):t},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},interfaces_:function(){return[s.default]},getClass:function(){return r}}),r.isAtomic=function(t){return!(t instanceof d.default)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2),s=i(o),a=n(7),u=i(a);(0,i(n(0)).default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new u.default("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),i=Math.abs(e);return t>=0?e>=0?n>=i?0:1:n>=i?7:6:e>=0?n>=i?3:2:n>=i?4:5}if(arguments[0]instanceof s.default&&arguments[1]instanceof s.default){var o=arguments[0],a=arguments[1],l=a.x-o.x,f=a.y-o.y;if(0===l&&0===f)throw new u.default("Cannot compute the octant for two identical points "+o);return r.octant(l,f)}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(160),s=i(o),a=n(0),u=i(a),l=n(22),f=i(l);(0,u.default)(r.prototype,{getItem:function(){return this._item},getBounds:function(){return this._bounds},interfaces_:function(){return[s.default,f.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{getBounds:function(){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{insert:function(t,e){},remove:function(t,e){},query:function(){1===arguments.length?arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(309),s=i(o),a=n(0),u=i(a),l=n(65),f=i(l),c=n(1),d=i(c),h=n(51),_=i(h);(0,u.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.getChainStartIndices=function(t){var e=0,n=new d.default;n.add(new f.default(e));do{var i=r.findChainEnd(t,e);n.add(new f.default(i)),e=i}while(e<t.length-1);return r.toIntArray(n)},r.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=_.default.quadrant(t[n],t[n+1]),r=e+1;r<t.length;){if(!t[r-1].equals2D(t[r])){if(_.default.quadrant(t[r-1],t[r])!==i)break}r++}return r-1},r.getChains=function(){if(1===arguments.length){var t=arguments[0];return r.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=new d.default,o=r.getChainStartIndices(e),a=0;a<o.length-1;a++){var u=new s.default(e,o[a],o[a+1],n);i.add(u)}return i}},r.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._geometryFactory=null,this._shellList=new _.default;var t=arguments[0];this._geometryFactory=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(9),s=i(o),a=n(46),u=i(a),l=n(0),f=i(l),c=n(164),d=i(c),h=n(1),_=i(h),p=n(4),g=i(p),m=n(74),v=i(m);(0,f.default)(r.prototype,{sortShellsAndHoles:function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isHole()?n.add(r):e.add(r)}},computePolygons:function(t){for(var e=new _.default,n=t.iterator();n.hasNext();){var i=n.next(),r=i.toPolygon(this._geometryFactory);e.add(r)}return e},placeFreeHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(null===i.getShell()){var r=this.findEdgeRingContaining(i,t);if(null===r)throw new u.default("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(r)}}},buildMinimalEdgeRings:function(t,e,n){for(var i=new _.default,r=t.iterator();r.hasNext();){var o=r.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else i.add(o)}return i},containsPoint:function(t){for(var e=this._shellList.iterator();e.hasNext();){if(e.next().containsPoint(t))return!0}return!1},buildMaximalEdgeRings:function(t){for(var e=new _.default,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var r=new d.default(i,this._geometryFactory);e.add(r),r.setInResult()}}return e},placePolygonHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}},getPolygons:function(){return this.computePolygons(this._shellList)},findEdgeRingContaining:function(t,e){for(var n=t.getLinearRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,a=null,u=e.iterator();u.hasNext();){var l=u.next(),f=l.getLinearRing(),c=f.getEnvelopeInternal();null!==o&&(a=o.getLinearRing().getEnvelopeInternal());var d=!1;c.contains(i)&&s.default.isPointInRing(r,f.getCoordinates())&&(d=!0),d&&(null===o||a.contains(c))&&(o=l)}return o},findShell:function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,e++)}return g.default.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},add:function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];v.default.linkResultDirectedEdges(n);var i=this.buildMaximalEdgeRings(e),r=new _.default,o=this.buildMinimalEdgeRings(i,this._shellList,r);this.sortShellsAndHoles(o,this._shellList,r),this.placeFreeHoles(this._shellList,r)}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){var t=arguments[0],e=arguments[1];f.default.call(this,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(313),s=i(o),a=n(0),u=i(a),l=n(165),f=i(l),c=n(1),d=i(c);(0,i(n(3)).default)(r,f.default),(0,u.default)(r.prototype,{buildMinimalRings:function(){var t=new d.default,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new s.default(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},setEdgeRing:function(t,e){t.setEdgeRing(e)},linkDirectedEdgesForMinimalEdgeRings:function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},getNext:function(t){return t.getNext()},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new v.default,this._pts=new v.default,this._label=new g.default(s.default.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new v.default,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(11),s=i(o),a=n(9),u=i(a),l=n(18),f=i(l),c=n(46),d=i(c),h=n(0),_=i(h),p=n(29),g=i(p),m=n(1),v=i(m),y=n(4),b=i(y);(0,_.default)(r.prototype,{computeRing:function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=u.default.isCCW(this._ring.getCoordinates())},isIsolated:function(){return 1===this._label.getGeometryCount()},computePoints:function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new d.default("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new d.default("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var i=e.getLabel();b.default.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},getLinearRing:function(){return this._ring},getCoordinate:function(t){return this._pts.get(t)},computeMaxNodeDegree:function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode(),n=e.getEdges().getOutgoingDegree(this);n>this._maxNodeDegree&&(this._maxNodeDegree=n),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},addPoints:function(t,e,n){var i=t.getCoordinates();if(e){var r=1;n&&(r=0);for(var o=r;o<i.length;o++)this._pts.add(i[o])}else{var r=i.length-2;n&&(r=i.length-1);for(var o=r;o>=0;o--)this._pts.add(i[o])}},isHole:function(){return this._isHole},setInResult:function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},containsPoint:function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!u.default.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();){if(n.next().containsPoint(t))return!1}return!0},addHole:function(t){this._holes.add(t)},isShell:function(){return null===this._shell},getLabel:function(){return this._label},getEdges:function(){return this._edges},getMaxNodeDegree:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},getShell:function(){return this._shell},mergeLabel:function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=e.getLocation(n,f.default.RIGHT);if(i===s.default.NONE)return null;if(this._label.getLocation(n)===s.default.NONE)return this._label.setLocation(n,i),null}},setShell:function(t){this._shell=t,null!==t&&t.addHole(this)},toPolygon:function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(4),u=i(a);(0,s.default)(r.prototype,{setVisited:function(t){this._isVisited=t},setInResult:function(t){this._isInResult=t},isCovered:function(){return this._isCovered},isCoveredSet:function(){return this._isCoveredSet},setLabel:function(t){this._label=t},getLabel:function(){return this._label},setCovered:function(t){this._isCovered=t,this._isCoveredSet=!0},updateIM:function(t){u.default.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},isInResult:function(){return this._isInResult},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var t=arguments[0],e=arguments[1];if(u.default.call(this,t),this._isForward=e,e)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var n=t.getNumPoints()-1;this.init(t.getCoordinate(n),t.getCoordinate(n-1))}this.computeDirectedLabel()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(11),s=i(o),a=n(116),u=i(a),l=n(18),f=i(l),c=n(46),d=i(c),h=n(0),_=i(h),p=n(29),g=i(p);(0,i(n(3)).default)(r,u.default),(0,_.default)(r.prototype,{getNextMin:function(){return this._nextMin},getDepth:function(t){return this._depth[t]},setVisited:function(t){this._isVisited=t},computeDirectedLabel:function(){this._label=new g.default(this._edge.getLabel()),this._isForward||this._label.flip()},getNext:function(){return this._next},setDepth:function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new d.default("assigned depths do not match",this.getCoordinate());this._depth[t]=e},isInteriorAreaEdge:function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,f.default.LEFT)===s.default.INTERIOR&&this._label.getLocation(e,f.default.RIGHT)===s.default.INTERIOR||(t=!1);return t},setNextMin:function(t){this._nextMin=t},print:function(t){u.default.prototype.print.call(this,t),t.print(" "+this._depth[f.default.LEFT]+"/"+this._depth[f.default.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},setMinEdgeRing:function(t){this._minEdgeRing=t},isLineEdge:function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,s.default.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,s.default.EXTERIOR);return t&&e&&n},setEdgeRing:function(t){this._edgeRing=t},getMinEdgeRing:function(){return this._minEdgeRing},getDepthDelta:function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},setInResult:function(t){this._isInResult=t},getSym:function(){return this._sym},isForward:function(){return this._isForward},getEdge:function(){return this._edge},printEdge:function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},setSym:function(t){this._sym=t},setVisitedEdge:function(t){this.setVisited(t),this._sym.setVisited(t)},setEdgeDepths:function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;t===f.default.LEFT&&(i=-1);var r=f.default.opposite(t),o=n*i,s=e+o;this.setDepth(t,e),this.setDepth(r,s)},getEdgeRing:function(){return this._edgeRing},isInResult:function(){return this._isInResult},setNext:function(t){this._next=t},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return r}}),r.depthFactor=function(t,e){return t===s.default.EXTERIOR&&e===s.default.INTERIOR?1:t===s.default.INTERIOR&&e===s.default.EXTERIOR?-1:0}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._edgeMap=new w.default,this._edgeList=null,this._ptInAreaLocation=[u.default.NONE,u.default.NONE]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(37),s=i(o),a=n(11),u=i(a),l=n(18),f=i(l),c=n(46),d=i(c),h=n(0),_=i(h),p=n(24),g=i(p),m=n(169),v=i(m),y=n(1),b=i(y),x=n(4),E=i(x),L=n(38),w=i(L);(0,_.default)(r.prototype,{getNextCW:function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},propagateSideLabels:function(t){for(var e=u.default.NONE,n=this.iterator();n.hasNext();){var i=n.next(),r=i.getLabel();r.isArea(t)&&r.getLocation(t,f.default.LEFT)!==u.default.NONE&&(e=r.getLocation(t,f.default.LEFT))}if(e===u.default.NONE)return null;for(var o=e,n=this.iterator();n.hasNext();){var i=n.next(),r=i.getLabel();if(r.getLocation(t,f.default.ON)===u.default.NONE&&r.setLocation(t,f.default.ON,o),r.isArea(t)){var s=r.getLocation(t,f.default.LEFT),a=r.getLocation(t,f.default.RIGHT);if(a!==u.default.NONE){if(a!==o)throw new d.default("side location conflict",i.getCoordinate());s===u.default.NONE&&E.default.shouldNeverReachHere("found single null side (at "+i.getCoordinate()+")"),o=s}else E.default.isTrue(r.getLocation(t,f.default.LEFT)===u.default.NONE,"found single null side"),r.setLocation(t,f.default.RIGHT,o),r.setLocation(t,f.default.LEFT,o)}}},getCoordinate:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},print:function(t){g.default.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){e.next().print(t)}},isAreaLabelsConsistent:function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},checkAreaLabelsConsistent:function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,i=e.get(n).getLabel(),r=i.getLocation(t,f.default.LEFT);E.default.isTrue(r!==u.default.NONE,"Found unlabelled area edge");for(var o=r,s=this.iterator();s.hasNext();){var a=s.next(),l=a.getLabel();E.default.isTrue(l.isArea(t),"Found non-area edge");var c=l.getLocation(t,f.default.LEFT),d=l.getLocation(t,f.default.RIGHT);if(c===d)return!1;if(d!==o)return!1;o=c}return!0},findIndex:function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++){if(this._edgeList.get(e)===t)return e}return-1},iterator:function(){return this.getEdges().iterator()},getEdges:function(){return null===this._edgeList&&(this._edgeList=new b.default(this._edgeMap.values())),this._edgeList},getLocation:function(t,e,n){return this._ptInAreaLocation[t]===u.default.NONE&&(this._ptInAreaLocation[t]=v.default.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},toString:function(){var t=new s.default;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},computeEdgeEndLabels:function(t){for(var e=this.iterator();e.hasNext();){e.next().computeLabel(t)}},computeLabelling:function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var i=n.next(),r=i.getLabel(),o=0;o<2;o++)r.isLine(o)&&r.getLocation(o)===u.default.BOUNDARY&&(e[o]=!0);for(var n=this.iterator();n.hasNext();)for(var i=n.next(),r=i.getLabel(),o=0;o<2;o++)if(r.isAnyNull(o)){var s=u.default.NONE;if(e[o])s=u.default.EXTERIOR;else{var a=i.getCoordinate();s=this.getLocation(o,a,t)}r.setAllLocationsIfNull(o,s)}},getDegree:function(){return this._edgeMap.size()},insertEdgeEnd:function(t,e){this._edgeMap.put(t,e),this._edgeList=null},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._geom=null;var t=arguments[0];this._geom=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(11),s=i(o),a=n(9),u=i(a),l=n(17),f=i(l),c=n(170),d=i(c),h=n(0),_=i(h),p=n(157),g=i(p),m=n(14),v=i(m);(0,_.default)(r.prototype,{locate:function(t){return r.locate(t,this._geom)},interfaces_:function(){return[d.default]},getClass:function(){return r}}),r.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&u.default.isPointInRing(t,e.getCoordinates())},r.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!r.isPointInRing(t,n))return!1;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i);if(r.isPointInRing(t,o))return!1}return!0},r.containsPoint=function(t,e){if(e instanceof f.default)return r.containsPointInPolygon(t,e);if(e instanceof v.default)for(var n=new g.default(e);n.hasNext();){var i=n.next();if(i!==e&&r.containsPoint(t,i))return!0}return!1},r.locate=function(t,e){return e.isEmpty()?s.default.EXTERIOR:r.containsPoint(t,e)?s.default.INTERIOR:s.default.EXTERIOR}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{isTrivialIntersection:function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(i.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var o=t.getNumPoints()-1;if(0===e&&r===o||0===r&&e===o)return!0}}return!1},getProperIntersectionPoint:function(){return this._properIntersectionPoint},setIsDoneIfProperInt:function(t){this._isDoneWhenProperInt=t},hasProperInteriorIntersection:function(){return this._hasProperInterior},isBoundaryPointInternal:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next(),r=i.getCoordinate();if(t.isIntersection(r))return!0}return!1},hasProperIntersection:function(){return this._hasProper},hasIntersection:function(){return this._hasIntersection},isDone:function(){return this._isDone},isBoundaryPoint:function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},setBoundaryNodes:function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},addIntersections:function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},interfaces_:function(){return[]},getClass:function(){return i}}),i.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._min=c.default.POSITIVE_INFINITY,this._max=c.default.NEGATIVE_INFINITY}function o(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(30),a=i(s),u=n(2),l=i(u),f=n(12),c=i(f),d=n(0),h=i(d),_=n(53),p=i(_);(0,h.default)(r.prototype,{getMin:function(){return this._min},intersects:function(t,e){return!(this._min>e||this._max<t)},getMax:function(){return this._max},toString:function(){return a.default.toLineString(new l.default(this._min,0),new l.default(this._max,0))},interfaces_:function(){return[]},getClass:function(){return r}}),(0,h.default)(o.prototype,{compare:function(t,e){var n=t,i=e,r=(n._min+n._max)/2,o=(i._min+i._max)/2;return r<o?-1:r>o?1:0},interfaces_:function(){return[p.default]},getClass:function(){return o}}),r.NodeComparator=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._items=new f.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(57),s=i(o),a=n(0),u=i(a),l=n(1),f=i(l);(0,u.default)(r.prototype,{visitItem:function(t){this._items.add(t)},getItems:function(){return this._items},interfaces_:function(){return[s.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._edges=new f.default,this._ocaMap=new d.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(331),s=i(o),a=n(0),u=i(a),l=n(1),f=i(l),c=n(38),d=i(c);(0,u.default)(r.prototype,{print:function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var i=n.getCoordinates(),r=0;r<i.length;r++)r>0&&t.print(","),t.print(i[r].x+" "+i[r].y);t.println(")")}t.print(")  ")},addAll:function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},findEdgeIndex:function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},iterator:function(){return this._edges.iterator()},getEdges:function(){return this._edges},get:function(t){return this._edges.get(t)},findEqualEdge:function(t){var e=new s.default(t.getCoordinates());return this._ocaMap.get(e)},add:function(t){this._edges.add(t);var e=new s.default(t.getCoordinates());this._ocaMap.put(e,t)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._ring=null,this._tree=null,this._crossings=0,this._interval=new c.default;var t=arguments[0];this._ring=t,this.buildIndex()}function o(){a.default.apply(this),this.mcp=null,this.p=null;var t=arguments[0],e=arguments[1];this.mcp=t,this.p=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(176),a=i(s),u=n(334),l=i(u),f=n(91),c=i(f),d=n(12),h=i(d),_=n(0),p=i(_),g=n(162),m=i(g),v=n(20),y=i(v),b=n(155),x=i(b),E=n(8),L=i(E),w=n(3),M=i(w),P=n(338),I=i(P);(0,p.default)(r.prototype,{testLineSegment:function(t,e){var n=null,i=null,r=null,o=null,s=e.p0,a=e.p1;n=s.x-t.x,i=s.y-t.y,r=a.x-t.x,o=a.y-t.y,(i>0&&o<=0||o>0&&i<=0)&&0<x.default.signOfDet2x2(n,i,r,o)/(o-i)&&this._crossings++},buildIndex:function(){this._tree=new l.default;for(var t=y.default.removeRepeatedPoints(this._ring.getCoordinates()),e=m.default.getChains(t),n=0;n<e.size();n++){var i=e.get(n),r=i.getEnvelope();this._interval.min=r.getMinY(),this._interval.max=r.getMaxY(),this._tree.insert(this._interval,i)}},testMonotoneChain:function(t,e,n){n.select(t,e)},isInside:function(t){this._crossings=0;var e=new L.default(h.default.NEGATIVE_INFINITY,h.default.POSITIVE_INFINITY,t.y,t.y);this._interval.min=t.y,this._interval.max=t.y;for(var n=this._tree.query(this._interval),i=new o(this,t),r=n.iterator();r.hasNext();){var s=r.next();this.testMonotoneChain(e,i,s)}return this._crossings%2==1},interfaces_:function(){return[I.default]},getClass:function(){return r}}),(0,M.default)(o,a.default),(0,p.default)(o.prototype,{select:function(){if(1!==arguments.length)return a.default.prototype.select.apply(this,arguments);var t=arguments[0];this.mcp.testLineSegment(this.p,t)},interfaces_:function(){return[]},getClass:function(){return o}}),r.MCSelecter=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.tempEnv1=new f.default,this.selectedSegment=new u.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(15),u=i(a),l=n(8),f=i(l);(0,s.default)(r.prototype,{select:function(){if(1===arguments.length){arguments[0]}else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._items=new u.default,this._subnode=[null,null]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(1),u=i(a);(0,s.default)(r.prototype,{hasChildren:function(){for(var t=0;t<2;t++)if(null!==this._subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this._items);for(var e=0;e<2;e++)null!==this._subnode[e]&&this._subnode[e].addAllItems(t);return t},size:function(){for(var t=0,e=0;e<2;e++)null!==this._subnode[e]&&(t+=this._subnode[e].size());return t+this._items.size()},addAllItemsFromOverlapping:function(t,e){if(null!==t&&!this.isSearchMatch(t))return null;e.addAll(this._items),null!==this._subnode[0]&&this._subnode[0].addAllItemsFromOverlapping(t,e),null!==this._subnode[1]&&this._subnode[1].addAllItemsFromOverlapping(t,e)},hasItems:function(){return!this._items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,i=0;i<2;i++)if(null!==this._subnode[i]&&(n=this._subnode[i].remove(t,e))){this._subnode[i].isPrunable()&&(this._subnode[i]=null);break}return n||(n=this._items.remove(e))},getItems:function(){return this._items},depth:function(){for(var t=0,e=0;e<2;e++)if(null!==this._subnode[e]){var n=this._subnode[e].depth();n>t&&(t=n)}return t+1},nodeSize:function(){for(var t=0,e=0;e<2;e++)null!==this._subnode[e]&&(t+=this._subnode[e].nodeSize());return t+1},add:function(t){this._items.add(t)},interfaces_:function(){return[]},getClass:function(){return r}}),r.getSubnodeIndex=function(t,e){var n=-1;return t.min>=e&&(n=1),t.max<=e&&(n=0),n}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(120),u=i(a);(0,s.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.isZeroWidth=function(t,e){var n=e-t;if(0===n)return!0;var i=Math.max(Math.abs(t),Math.abs(e)),o=n/i;return u.default.exponent(o)<=r.MIN_BINARY_EXPONENT},r.MIN_BINARY_EXPONENT=-50},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._isMarked=!1;var t=arguments[0];u.default.call(this,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(180),u=i(a);(0,i(n(3)).default)(r,u.default),(0,s.default)(r.prototype,{mark:function(){this._isMarked=!0},setMark:function(t){this._isMarked=t},isMarked:function(){return this._isMarked},interfaces_:function(){return[]},getClass:function(){return r}}),r.setMarkBoth=function(t,e){t.setMark(e),t.sym().setMark(e)},r.isMarked=function(t){return t.isMarked()},r.setMark=function(t,e){t.setMark(e)},r.markBoth=function(t){t.mark(),t.sym().mark()},r.mark=function(t){t.mark()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._orig=null,this._sym=null,this._next=null;var t=arguments[0];this._orig=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(9),s=i(o),a=n(0),u=i(a),l=n(51),f=i(l),c=n(4),d=i(c);(0,u.default)(r.prototype,{find:function(t){var e=this;do{if(null===e)return null;if(e.dest().equals2D(t))return e;e=e.oNext()}while(e!==this);return null},dest:function(){return this._sym._orig},oNext:function(){return this._sym._next},insert:function(t){if(this.oNext()===this)return this.insertAfter(t),null;var e=this.compareTo(t),n=this;do{var i=n.oNext();if(i.compareTo(t)!==e||i===this)return n.insertAfter(t),null;n=i}while(n!==this);d.default.shouldNeverReachHere()},insertAfter:function(t){d.default.equals(this._orig,t.orig());var e=this.oNext();this._sym.setNext(t),t.sym().setNext(e)},degree:function(){var t=0,e=this;do{t++,e=e.oNext()}while(e!==this);return t},equals:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this._orig.equals2D(t)&&this._sym._orig.equals(e)}},deltaY:function(){return this._sym._orig.y-this._orig.y},sym:function(){return this._sym},prev:function(){return this._sym.next()._sym},compareAngularDirection:function(t){var e=this.deltaX(),n=this.deltaY(),i=t.deltaX(),r=t.deltaY();if(e===i&&n===r)return 0;var o=f.default.quadrant(e,n),a=f.default.quadrant(i,r);return o>a?1:o<a?-1:s.default.computeOrientation(t._orig,t.dest(),this.dest())},prevNode:function(){for(var t=this;2===t.degree();)if((t=t.prev())===this)return null;return t},compareTo:function(t){var e=t;return this.compareAngularDirection(e)},next:function(){return this._next},setSym:function(t){this._sym=t},orig:function(){return this._orig},toString:function(){return"HE("+this._orig.x+" "+this._orig.y+", "+this._sym._orig.x+" "+this._sym._orig.y+")"},setNext:function(t){this._next=t},init:function(t){this.setSym(t),t.setSym(this),this.setNext(t),t.setNext(this)},deltaX:function(){return this._sym._orig.x-this._orig.x},interfaces_:function(){return[]},getClass:function(){return r}}),r.init=function(t,e){if(null!==t._sym||null!==e._sym||null!==t._next||null!==e._next)throw new IllegalStateException("Edges are already initialized");return t.init(e),t},r.create=function(t,e){var n=new r(t),i=new r(e);return n.init(i),n}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._root=null,this._minExtent=1,this._root=new s.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(351),s=i(o),a=n(161),u=i(a),l=n(0),f=i(l),c=n(1),d=i(c),h=n(173),_=i(h),p=n(22),g=i(p),m=n(8),v=i(m);(0,f.default)(r.prototype,{size:function(){return null!==this._root?this._root.size():0},insert:function(t,e){this.collectStats(t);var n=r.ensureExtent(t,this._minExtent);this._root.insert(n,e)},query:function(){if(1===arguments.length){var t=arguments[0],e=new _.default;return this.query(t,e),e.getItems()}if(2===arguments.length){var n=arguments[0],i=arguments[1];this._root.visit(n,i)}},queryAll:function(){var t=new d.default;return this._root.addAllItems(t),t},remove:function(t,e){var n=r.ensureExtent(t,this._minExtent);return this._root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this._minExtent&&e>0&&(this._minExtent=e);var n=t.getHeight();n<this._minExtent&&n>0&&(this._minExtent=n)},depth:function(){return null!==this._root?this._root.depth():0},isEmpty:function(){return null===this._root},interfaces_:function(){return[u.default,g.default]},getClass:function(){return r}}),r.ensureExtent=function(t,e){var n=t.getMinX(),i=t.getMaxX(),r=t.getMinY(),o=t.getMaxY();return n!==i&&r!==o?t:(n===i&&(n-=e/2,i=n+e/2),r===o&&(r-=e/2,o=r+e/2),new v.default(n,i,r,o))},r.serialVersionUID=-0x678b60c967a25400},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._items=new u.default,this._subnode=new Array(4).fill(null)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(1),u=i(a),l=n(22),f=i(l);(0,s.default)(r.prototype,{hasChildren:function(){for(var t=0;t<4;t++)if(null!==this._subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this._items);for(var e=0;e<4;e++)null!==this._subnode[e]&&this._subnode[e].addAllItems(t);return t},getNodeCount:function(){for(var t=0,e=0;e<4;e++)null!==this._subnode[e]&&(t+=this._subnode[e].size());return t+1},size:function(){for(var t=0,e=0;e<4;e++)null!==this._subnode[e]&&(t+=this._subnode[e].size());return t+this._items.size()},addAllItemsFromOverlapping:function(t,e){if(!this.isSearchMatch(t))return null;e.addAll(this._items);for(var n=0;n<4;n++)null!==this._subnode[n]&&this._subnode[n].addAllItemsFromOverlapping(t,e)},visitItems:function(t,e){for(var n=this._items.iterator();n.hasNext();)e.visitItem(n.next())},hasItems:function(){return!this._items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,i=0;i<4;i++)if(null!==this._subnode[i]&&(n=this._subnode[i].remove(t,e))){this._subnode[i].isPrunable()&&(this._subnode[i]=null);break}return n||(n=this._items.remove(e))},visit:function(t,e){if(!this.isSearchMatch(t))return null;this.visitItems(t,e);for(var n=0;n<4;n++)null!==this._subnode[n]&&this._subnode[n].visit(t,e)},getItems:function(){return this._items},depth:function(){for(var t=0,e=0;e<4;e++)if(null!==this._subnode[e]){var n=this._subnode[e].depth();n>t&&(t=n)}return t+1},isEmpty:function(){var t=!0;this._items.isEmpty()||(t=!1);for(var e=0;e<4;e++)null!==this._subnode[e]&&(this._subnode[e].isEmpty()||(t=!1));return t},add:function(t){this._items.add(t)},interfaces_:function(){return[f.default]},getClass:function(){return r}}),r.getSubnodeIndex=function(t,e,n){var i=-1;return t.getMinX()>=e&&(t.getMinY()>=n&&(i=3),t.getMaxY()<=n&&(i=1)),t.getMaxX()<=e&&(t.getMinY()>=n&&(i=2),t.getMaxY()<=n&&(i=0)),i}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){this.geometryFactory=t||new u.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2),s=i(o),a=n(16),u=i(a),l=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];(0,i(n(0)).default)(r.prototype,{read:function(t){var e=void 0;e="string"==typeof t?JSON.parse(t):t;var n=e.type;if(!f[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==l.indexOf(n)?f[n].apply(this,[e.coordinates]):"GeometryCollection"===n?f[n].apply(this,[e.geometries]):f[n].apply(this,[e])},write:function(t){var e=t.getGeometryType();if(!c[e])throw new Error("Geometry is not supported");return c[e].apply(this,[t])}});var f={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var i=t.geometry.type;if(!f[i])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=f.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(new s.default(i[0],i[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new s.default(t[0],t[1]),new s.default(t[2],t[1]),new s.default(t[2],t[3]),new s.default(t[0],t[3]),new s.default(t[0],t[1])])},Point:function(t){var e=new s.default(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(f.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=f.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(f.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=f.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),i=[],r=1;r<t.length;++r){var o=t[r],s=f.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);i.push(a)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(f.Polygon.apply(this,[i]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(this.read(i))}return this.geometryFactory.createGeometryCollection(e)}},c={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:c.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=c.Point.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),i=0;i<n.length;++i){var r=n[i];e.push(c.coordinate.apply(this,[r]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=c.LineString.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=c.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var i=0;i<t._holes.length;++i){var r=t._holes[i],o=c.LineString.apply(this,[r]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=c.Polygon.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=i.getGeometryType();e.push(c[r].apply(this,[i]))}return{type:"GeometryCollection",geometries:e}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];r.call(this,t,e,0,0)}else if(4===arguments.length){var n=arguments[0],i=arguments[1];arguments[2],arguments[3];this._noder=n,this._scaleFactor=i,this._isScaled=!this.isIntegerPrecision()}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(6),s=i(o),a=n(25),u=i(a),l=n(113),f=i(l),c=n(2),d=i(c),h=n(73),_=i(h),p=n(0),g=i(p),m=n(24),v=i(m),y=n(20),b=i(y),x=n(1),E=i(x);(0,g.default)(r.prototype,{rescale:function(){if((0,s.default)(arguments[0],u.default))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.rescale(n.getCoordinates())}else if(arguments[0]instanceof Array){var i=arguments[0];2===i.length&&(new d.default(i[0]),new d.default(i[1]));for(var e=0;e<i.length;e++)i[e].x=i[e].x/this._scaleFactor+this._offsetX,i[e].y=i[e].y/this._scaleFactor+this._offsetY;2===i.length&&i[0].equals2D(i[1])&&v.default.out.println(i)}},scale:function(){if((0,s.default)(arguments[0],u.default)){for(var t=arguments[0],e=new E.default,n=t.iterator();n.hasNext();){var i=n.next();e.add(new _.default(this.scale(i.getCoordinates()),i.getData()))}return e}if(arguments[0]instanceof Array){for(var r=arguments[0],o=new Array(r.length).fill(null),n=0;n<r.length;n++)o[n]=new d.default(Math.round((r[n].x-this._offsetX)*this._scaleFactor),Math.round((r[n].y-this._offsetY)*this._scaleFactor),r[n].z);return b.default.removeRepeatedPoints(o)}},isIntegerPrecision:function(){return 1===this._scaleFactor},getNodedSubstrings:function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},computeNodes:function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},interfaces_:function(){return[f.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._comps=null;var t=arguments[0];this._comps=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(17),s=i(o),a=n(0),u=i(a),l=n(14),f=i(l),c=n(1),d=i(c),h=n(42),_=i(h);(0,u.default)(r.prototype,{filter:function(t){t instanceof s.default&&this._comps.add(t)},interfaces_:function(){return[_.default]},getClass:function(){return r}}),r.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return r.getPolygons(t,new d.default)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof s.default?n.add(e):e instanceof f.default&&e.apply(new r(n)),n}}},function(t,e,n){"use strict";function i(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var t=arguments[0],e=arguments[1];i.call(this,t,i.INSIDE_AREA,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this._component=n,this._segIndex=r,this._pt=o}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{isInsideArea:function(){return this._segIndex===i.INSIDE_AREA},getCoordinate:function(){return this._pt},getGeometryComponent:function(){return this._component},getSegmentIndex:function(){return this._segIndex},interfaces_:function(){return[]},getClass:function(){return i}}),i.INSIDE_AREA=-1},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._edges=new s.default,this._dirEdges=new s.default,this._nodeMap=new d.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(49),s=i(o),a=n(95),u=i(a),l=n(0),f=i(l),c=n(392),d=i(c),h=n(78),_=i(h),p=n(1),g=i(p),m=n(96),v=i(m);(0,f.default)(r.prototype,{findNodesOfDegree:function(t){for(var e=new g.default,n=this.nodeIterator();n.hasNext();){var i=n.next();i.getDegree()===t&&e.add(i)}return e},dirEdgeIterator:function(){return this._dirEdges.iterator()},edgeIterator:function(){return this._edges.iterator()},remove:function(){if(arguments[0]instanceof v.default){var t=arguments[0];this.remove(t.getDirEdge(0)),this.remove(t.getDirEdge(1)),this._edges.remove(t),t.remove()}else if(arguments[0]instanceof _.default){var e=arguments[0],n=e.getSym();null!==n&&n.setSym(null),e.getFromNode().remove(e),e.remove(),this._dirEdges.remove(e)}else if(arguments[0]instanceof u.default){for(var i=arguments[0],r=i.getOutEdges().getEdges(),o=r.iterator();o.hasNext();){var s=o.next(),n=s.getSym();null!==n&&this.remove(n),this._dirEdges.remove(s);var a=s.getEdge();null!==a&&this._edges.remove(a)}this._nodeMap.remove(i.getCoordinate()),i.remove()}},findNode:function(t){return this._nodeMap.find(t)},getEdges:function(){return this._edges},nodeIterator:function(){return this._nodeMap.iterator()},contains:function(){if(arguments[0]instanceof v.default){var t=arguments[0];return this._edges.contains(t)}if(arguments[0]instanceof _.default){var e=arguments[0];return this._dirEdges.contains(e)}},add:function(){if(arguments[0]instanceof u.default){var t=arguments[0];this._nodeMap.add(t)}else if(arguments[0]instanceof v.default){var e=arguments[0];this._edges.add(e),this.add(e.getDirEdge(0)),this.add(e.getDirEdge(1))}else if(arguments[0]instanceof _.default){var n=arguments[0];this._dirEdges.add(n)}},getNodes:function(){return this._nodeMap.values()},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._factory=null,this._deList=new I.default,this._lowestEdge=null,this._ring=null,this._ringPts=null,this._holes=null,this._shell=null,this._isHole=null,this._isProcessed=!1,this._isIncludedSet=!1,this._isIncluded=!1;var t=arguments[0];this._factory=t}function o(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(9),a=i(s),u=n(19),l=i(u),f=n(30),c=i(f),d=n(70),h=i(d),_=n(122),p=i(_),g=n(32),m=i(g),v=n(0),y=i(v),b=n(104),x=i(b),E=n(24),L=i(E),w=n(20),M=i(w),P=n(1),I=i(P),C=n(53),S=i(C),N=n(4),O=i(N);(0,y.default)(r.prototype,{isIncluded:function(){return this._isIncluded},getCoordinates:function(){if(null===this._ringPts){for(var t=new l.default,e=this._deList.iterator();e.hasNext();){var n=e.next(),i=n.getEdge();r.addEdge(i.getLine().getCoordinates(),n.getEdgeDirection(),t)}this._ringPts=t.toCoordinateArray()}return this._ringPts},isIncludedSet:function(){return this._isIncludedSet},isValid:function(){return this.getCoordinates(),!(this._ringPts.length<=3)&&(this.getRing(),p.default.isValid(this._ring))},build:function(t){var e=t;do{this.add(e),e.setRing(this),e=e.getNext(),O.default.isTrue(null!==e,"found null DE in ring"),O.default.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t)},isOuterHole:function(){return!!this._isHole&&!this.hasShell()},getPolygon:function(){var t=null;if(null!==this._holes){t=new Array(this._holes.size()).fill(null);for(var e=0;e<this._holes.size();e++)t[e]=this._holes.get(e)}return this._factory.createPolygon(this._ring,t)},isHole:function(){return this._isHole},isProcessed:function(){return this._isProcessed},addHole:function(){if(arguments[0]instanceof m.default){var t=arguments[0];null===this._holes&&(this._holes=new I.default),this._holes.add(t)}else if(arguments[0]instanceof r){var e=arguments[0];e.setShell(this);var n=e.getRing();null===this._holes&&(this._holes=new I.default),this._holes.add(n)}},setIncluded:function(t){this._isIncluded=t,this._isIncludedSet=!0},getOuterHole:function(){if(this.isHole())return null;for(var t=0;t<this._deList.size();t++){var e=this._deList.get(t),n=e.getSym().getRing();if(n.isOuterHole())return n}return null},computeHole:function(){var t=this.getRing();this._isHole=a.default.isCCW(t.getCoordinates())},hasShell:function(){return null!==this._shell},isOuterShell:function(){return null!==this.getOuterHole()},getLineString:function(){return this.getCoordinates(),this._factory.createLineString(this._ringPts)},toString:function(){return c.default.toLineString(new h.default(this.getCoordinates()))},getShell:function(){return this.isHole()?this._shell:this},add:function(t){this._deList.add(t)},getRing:function(){if(null!==this._ring)return this._ring;this.getCoordinates(),this._ringPts.length<3&&L.default.out.println(this._ringPts);try{this._ring=this._factory.createLinearRing(this._ringPts)}catch(t){if(!(t instanceof x.default))throw t;L.default.out.println(this._ringPts)}return this._ring},updateIncluded:function(){if(this.isHole())return null;for(var t=0;t<this._deList.size();t++){var e=this._deList.get(t),n=e.getSym().getRing().getShell();if(null!==n&&n.isIncludedSet())return this.setIncluded(!n.isIncluded()),null}},setShell:function(t){this._shell=t},setProcessed:function(t){this._isProcessed=t},interfaces_:function(){return[]},getClass:function(){return r}}),r.findDirEdgesInRing=function(t){var e=t,n=new I.default;do{n.add(e),e=e.getNext(),O.default.isTrue(null!==e,"found null DE in ring"),O.default.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t);return n},r.addEdge=function(t,e,n){if(e)for(var i=0;i<t.length;i++)n.add(t[i],!1);else for(var i=t.length-1;i>=0;i--)n.add(t[i],!1)},r.findEdgeRingContaining=function(t,e){for(var n=t.getRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,s=null,u=e.iterator();u.hasNext();){var l=u.next(),f=l.getRing(),c=f.getEnvelopeInternal();if(!c.equals(i)&&c.contains(i)){r=M.default.ptNotInList(n.getCoordinates(),f.getCoordinates());var d=!1;a.default.isPointInRing(r,f.getCoordinates())&&(d=!0),d&&(null===o||s.contains(c))&&(o=l,s=o.getRing().getEnvelopeInternal())}}return o},(0,y.default)(o.prototype,{compare:function(t,e){var n=t,i=e;return n.getRing().getEnvelope().compareTo(i.getRing().getEnvelope())},interfaces_:function(){return[S.default]},getClass:function(){return o}}),r.EnvelopeComparator=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._li=new f.default,this._geomGraph=null,this._nodeGraph=new s.default,this._invalidPoint=null;var t=arguments[0];this._geomGraph=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(400),s=i(o),a=n(0),u=i(a),l=n(23),f=i(l);(0,u.default)(r.prototype,{isNodeEdgeAreaLabelsConsistent:function(){for(var t=this._nodeGraph.getNodeIterator();t.hasNext();){var e=t.next();if(!e.getEdges().isAreaLabelsConsistent(this._geomGraph))return this._invalidPoint=e.getCoordinate().copy(),!1}return!0},getInvalidPoint:function(){return this._invalidPoint},hasDuplicateRings:function(){for(var t=this._nodeGraph.getNodeIterator();t.hasNext();)for(var e=t.next(),n=e.getEdges().iterator();n.hasNext();){var i=n.next();if(i.getEdgeEnds().size()>1)return this._invalidPoint=i.getEdge().getCoordinate(0),!0}return!1},isNodeConsistentArea:function(){var t=this._geomGraph.computeSelfNodes(this._li,!0,!0);return t.hasProperIntersection()?(this._invalidPoint=t.getProperIntersectionPoint(),!1):(this._nodeGraph.build(this._geomGraph),this.isNodeEdgeAreaLabelsConsistent())},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(116),s=i(o),a=n(0),u=i(a),l=n(29),f=i(l),c=n(1),d=i(c);(0,u.default)(r.prototype,{createEdgeEndForNext:function(t,e,n,i){var r=n.segmentIndex+1;if(r>=t.getNumPoints()&&null===i)return null;var o=t.getCoordinate(r);null!==i&&i.segmentIndex===n.segmentIndex&&(o=i.coord);var a=new s.default(t,n.coord,o,new f.default(t.getLabel()));e.add(a)},createEdgeEndForPrev:function(t,e,n,i){var r=n.segmentIndex;if(0===n.dist){if(0===r)return null;r--}var o=t.getCoordinate(r);null!==i&&i.segmentIndex>=r&&(o=i.coord);var a=new f.default(t.getLabel());a.flip();var u=new s.default(t,n.coord,o,a);e.add(u)},computeEdgeEnds:function(){if(1===arguments.length){for(var t=arguments[0],e=new d.default,n=t;n.hasNext();){var i=n.next();this.computeEdgeEnds(i,e)}return e}if(2===arguments.length){var r=arguments[0],o=arguments[1],s=r.getEdgeIntersectionList();s.addEndpoints();var a=s.iterator(),u=null,l=null;if(!a.hasNext())return null;var f=a.next();do{u=l,l=f,f=null,a.hasNext()&&(f=a.next()),null!==l&&(this.createEdgeEndForPrev(r,o,l,u),this.createEdgeEndForNext(r,o,l,f))}while(null!==l)}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){_.default.apply(this)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(401),s=i(o),a=n(0),u=i(a),l=n(403),f=i(l),c=n(3),d=i(c),h=n(117),_=i(h);(0,d.default)(r,_.default),(0,u.default)(r.prototype,{createNode:function(t){return new f.default(t,new s.default)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new E.default)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(185),s=i(o),a=n(89),u=i(a),l=n(13),f=i(l),c=n(6),d=i(c),h=n(16),_=i(h),p=n(0),g=i(p),m=n(123),v=i(m),y=n(43),b=i(y),x=n(1),E=i(x),L=n(36),w=i(L);(0,g.default)(r.prototype,{reduceToGeometries:function(t){for(var e=new E.default,n=t.iterator();n.hasNext();){var i=n.next(),r=null;(0,d.default)(i,w.default)?r=this.unionTree(i):i instanceof f.default&&(r=i),e.add(r)}return e},extractByEnvelope:function(t,e,n){for(var i=new E.default,r=0;r<e.getNumGeometries();r++){var o=e.getGeometryN(r);o.getEnvelopeInternal().intersects(t)?i.add(o):n.add(o)}return this._geomFactory.buildGeometry(i)},unionOptimized:function(t,e){var n=t.getEnvelopeInternal(),i=e.getEnvelopeInternal();if(!n.intersects(i)){return v.default.combine(t,e)}if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var r=n.intersection(i);return this.unionUsingEnvelopeIntersection(t,e,r)},union:function(){if(null===this._inputPolys)throw new IllegalStateException("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new u.default(r.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var i=t.itemsTree();return this.unionTree(i)},binaryUnion:function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];if(i-n<=1){var o=r.getGeometry(e,n);return this.unionSafe(o,null)}if(i-n==2)return this.unionSafe(r.getGeometry(e,n),r.getGeometry(e,n+1));var s=Math.trunc((i+n)/2),o=this.binaryUnion(e,n,s),a=this.binaryUnion(e,s,i);return this.unionSafe(o,a)}},repeatedUnion:function(t){for(var e=null,n=t.iterator();n.hasNext();){var i=n.next();e=null===e?i.copy():e.union(i)}return e},unionSafe:function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},unionActual:function(t,e){return r.restrictToPolygons(t.union(e))},unionTree:function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},unionUsingEnvelopeIntersection:function(t,e,n){var i=new E.default,r=this.extractByEnvelope(n,t,i),o=this.extractByEnvelope(n,e,i),s=this.unionActual(r,o);return i.add(s),v.default.combine(i)},bufferUnion:function(){if(1===arguments.length){var t=arguments[0],e=t.get(0).getFactory(),n=e.buildGeometry(t),i=n.buffer(0);return i}if(2===arguments.length){var r=arguments[0],o=arguments[1],e=r.getFactory(),n=e.createGeometryCollection([r,o]),i=n.buffer(0);return i}},interfaces_:function(){return[]},getClass:function(){return r}}),r.restrictToPolygons=function(t){if((0,d.default)(t,b.default))return t;var e=s.default.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(_.default.toPolygonArray(e))},r.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},r.union=function(t){return new r(t).union()},r.STRTREE_NODE_CAPACITY=4},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._pointGeom=null,this._otherGeom=null,this._geomFact=null;var t=arguments[0],e=arguments[1];this._pointGeom=t,this._otherGeom=e,this._geomFact=e.getFactory()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(72),s=i(o),a=n(11),u=i(a),l=n(50),f=i(l),c=n(0),d=i(c),h=n(123),_=i(h),p=n(20),g=i(p);(0,d.default)(r.prototype,{union:function(){for(var t=new s.default,e=new f.default,n=0;n<this._pointGeom.getNumGeometries();n++){var i=this._pointGeom.getGeometryN(n),r=i.getCoordinate();t.locate(r,this._otherGeom)===u.default.EXTERIOR&&e.add(r)}if(0===e.size())return this._otherGeom;var o=null,a=g.default.toCoordinateArray(e);return o=1===a.length?this._geomFact.createPoint(a[0]):this._geomFact.createMultiPointFromCoords(a),_.default.combine(o,this._otherGeom)},interfaces_:function(){return[]},getClass:function(){return r}}),r.union=function(t,e){return new r(t,e).union()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._index=new a.default}function o(){this._querySeg=null,this._items=new p.default;var t=arguments[0];this._querySeg=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(181),a=i(s),u=n(57),l=i(u),f=n(0),c=i(f),d=n(15),h=i(d),_=n(1),p=i(_),g=n(8),m=i(g),v=n(195),y=i(v);(0,c.default)(r.prototype,{remove:function(t){this._index.remove(new m.default(t.p0,t.p1),t)},add:function(){if(arguments[0]instanceof y.default)for(var t=arguments[0],e=t.getSegments(),n=0;n<e.length;n++){var i=e[n];this.add(i)}else if(arguments[0]instanceof h.default){var r=arguments[0];this._index.insert(new m.default(r.p0,r.p1),r)}},query:function(t){var e=new m.default(t.p0,t.p1),n=new o(t);return this._index.query(e,n),n.getItems()},interfaces_:function(){return[]},getClass:function(){return r}}),(0,c.default)(o.prototype,{visitItem:function(t){var e=t;m.default.intersects(e.p0,e.p1,this._querySeg.p0,this._querySeg.p1)&&this._items.add(t)},getItems:function(){return this._items},interfaces_:function(){return[l.default]},getClass:function(){return o}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._parentLine=null,this._segs=null,this._resultSegs=new f.default,this._minimumSize=null,1===arguments.length){var t=arguments[0];r.call(this,t,2)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._parentLine=e,this._minimumSize=n,this.init()}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(428),u=i(a),l=n(1),f=i(l);(0,s.default)(r.prototype,{addToResult:function(t){this._resultSegs.add(t)},asLineString:function(){return this._parentLine.getFactory().createLineString(r.extractCoordinates(this._resultSegs))},getResultSize:function(){var t=this._resultSegs.size();return 0===t?0:t+1},getParent:function(){return this._parentLine},getSegment:function(t){return this._segs[t]},getParentCoordinates:function(){return this._parentLine.getCoordinates()},getMinimumSize:function(){return this._minimumSize},asLinearRing:function(){return this._parentLine.getFactory().createLinearRing(r.extractCoordinates(this._resultSegs))},getSegments:function(){return this._segs},init:function(){var t=this._parentLine.getCoordinates();this._segs=new Array(t.length-1).fill(null);for(var e=0;e<t.length-1;e++){var n=new u.default(t[e],t[e+1],this._parentLine,e);this._segs[e]=n}},getResultCoordinates:function(){return r.extractCoordinates(this._resultSegs)},interfaces_:function(){return[]},getClass:function(){return r}}),r.extractCoordinates=function(t){for(var e=new Array(t.size()+1).fill(null),n=null,i=0;i<t.size();i++)n=t.get(i),e[i]=n.p0;return e[e.length-1]=n.p1,e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._isOnConstraint=null,this._constraint=null;var t=arguments[0];u.default.call(this,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(97),u=i(a);(0,i(n(3)).default)(r,u.default),(0,s.default)(r.prototype,{getConstraint:function(){return this._constraint},setOnConstraint:function(t){this._isOnConstraint=t},merge:function(t){t._isOnConstraint&&(this._isOnConstraint=!0,this._constraint=t._constraint)},isOnConstraint:function(){return this._isOnConstraint},setConstraint:function(t){this._isOnConstraint=!0,this._constraint=t},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._rot=null,this._vertex=null,this._next=null,this._data=null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(30),s=i(o),a=n(0),u=i(a),l=n(15),f=i(l);(0,u.default)(r.prototype,{equalsNonOriented:function(t){return!!this.equalsOriented(t)||!!this.equalsOriented(t.sym())},toLineSegment:function(){return new f.default(this._vertex.getCoordinate(),this.dest().getCoordinate())},dest:function(){return this.sym().orig()},oNext:function(){return this._next},equalsOriented:function(t){return!(!this.orig().getCoordinate().equals2D(t.orig().getCoordinate())||!this.dest().getCoordinate().equals2D(t.dest().getCoordinate()))},dNext:function(){return this.sym().oNext().sym()},lPrev:function(){return this._next.sym()},rPrev:function(){return this.sym().oNext()},rot:function(){return this._rot},oPrev:function(){return this._rot._next._rot},sym:function(){return this._rot._rot},setOrig:function(t){this._vertex=t},lNext:function(){return this.invRot().oNext().rot()},getLength:function(){return this.orig().getCoordinate().distance(this.dest().getCoordinate())},invRot:function(){return this._rot.sym()},setDest:function(t){this.sym().setOrig(t)},setData:function(t){this._data=t},getData:function(){return this._data},delete:function(){this._rot=null},orig:function(){return this._vertex},rNext:function(){return this._rot._next.invRot()},toString:function(){var t=this._vertex.getCoordinate(),e=this.dest().getCoordinate();return s.default.toLineString(t,e)},isLive:function(){return null!==this._rot},getPrimary:function(){return this.orig().getCoordinate().compareTo(this.dest().getCoordinate())<=0?this:this.sym()},dPrev:function(){return this.invRot().oNext().invRot()},setNext:function(t){this._next=t},interfaces_:function(){return[]},getClass:function(){return r}}),r.makeEdge=function(t,e){var n=new r,i=new r,o=new r,s=new r;n._rot=i,i._rot=o,o._rot=s,s._rot=n,n.setNext(n),i.setNext(s),o.setNext(o),s.setNext(i);var a=n;return a.setOrig(t),a.setDest(e),a},r.swap=function(t){var e=t.oPrev(),n=t.sym().oPrev();r.splice(t,e),r.splice(t.sym(),n),r.splice(t,e.lNext()),r.splice(t.sym(),n.lNext()),t.setOrig(e.dest()),t.setDest(n.dest())},r.splice=function(t,e){var n=t.oNext().rot(),i=e.oNext().rot(),r=e.oNext(),o=t.oNext(),s=i.oNext(),a=n.oNext();t.setNext(r),e.setNext(o),n.setNext(s),i.setNext(a)},r.connect=function(t,e){var n=r.makeEdge(t.dest(),e.orig());return r.splice(n,t.lNext()),r.splice(n.sym(),e),n}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._subdiv=null,this._lastEdge=null;var t=arguments[0];this._subdiv=t,this.init()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(436),u=i(a);(0,s.default)(r.prototype,{init:function(){this._lastEdge=this.findEdge()},locate:function(t){this._lastEdge.isLive()||this.init();var e=this._subdiv.locateFromEdge(t,this._lastEdge);return this._lastEdge=e,e},findEdge:function(){return this._subdiv.getEdges().iterator().next()},interfaces_:function(){return[u.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._ls=null,this._data=null,2===arguments.length){var t=arguments[0],e=arguments[1];this._ls=new f.default(t,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];this._ls=new f.default(n,i),this._data=o}else if(6===arguments.length){var a=arguments[0],u=arguments[1],l=arguments[2],c=arguments[3],d=arguments[4],h=arguments[5];r.call(this,new s.default(a,u,l),new s.default(c,d,h))}else if(7===arguments.length){var _=arguments[0],p=arguments[1],g=arguments[2],m=arguments[3],v=arguments[4],y=arguments[5],b=arguments[6];r.call(this,new s.default(_,p,g),new s.default(m,v,y),b)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2),s=i(o),a=n(0),u=i(a),l=n(15),f=i(l);(0,u.default)(r.prototype,{getLineSegment:function(){return this._ls},getEndZ:function(){return this._ls.getCoordinate(1).z},getStartZ:function(){return this._ls.getCoordinate(0).z},intersection:function(t){return this._ls.intersection(t.getLineSegment())},getStart:function(){return this._ls.getCoordinate(0)},getEnd:function(){return this._ls.getCoordinate(1)},getEndY:function(){return this._ls.getCoordinate(1).y},getStartX:function(){return this._ls.getCoordinate(0).x},equalsTopo:function(t){return this._ls.equalsTopo(t.getLineSegment())},getStartY:function(){return this._ls.getCoordinate(0).y},setData:function(t){this._data=t},getData:function(){return this._data},getEndX:function(){return this._ls.getCoordinate(1).x},toString:function(){return this._ls.toString()},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t,this.checkGeometryType()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(10),s=i(o),a=n(7),u=i(a),l=n(98),f=i(l),c=n(0),d=i(c),h=n(201),_=i(h),p=n(202),g=i(p),m=n(203),v=i(m),y=n(31),b=i(y);(0,d.default)(r.prototype,{clampIndex:function(t){var e=t.clone();return e.clamp(this._linearGeom),e},project:function(t){return _.default.indexOf(this._linearGeom,t)},checkGeometryType:function(){if(!(this._linearGeom instanceof s.default||this._linearGeom instanceof b.default))throw new u.default("Input geometry must be linear")},extractPoint:function(){if(1===arguments.length){return arguments[0].getCoordinate(this._linearGeom)}if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.toLowest(this._linearGeom);return n.getSegment(this._linearGeom).pointAlongOffset(n.getSegmentFraction(),e)}},isValidIndex:function(t){return t.isValid(this._linearGeom)},getEndIndex:function(){return f.default.getEndLocation(this._linearGeom)},getStartIndex:function(){return new f.default},indexOfAfter:function(t,e){return _.default.indexOfAfter(this._linearGeom,t,e)},extractLine:function(t,e){return v.default.extract(this._linearGeom,t,e)},indexOf:function(t){return _.default.indexOf(this._linearGeom,t)},indicesOf:function(t){return g.default.indicesOf(this._linearGeom,t)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(79),s=i(o),a=n(98),u=i(a),l=n(12),f=i(l),c=n(0),d=i(c),h=n(15),_=i(h),p=n(4),g=i(p);(0,d.default)(r.prototype,{indexOf:function(t){return this.indexOfFromStart(t,null)},indexOfFromStart:function(t,e){for(var n=f.default.MAX_VALUE,i=0,r=0,o=-1,a=new _.default,l=new s.default(this._linearGeom);l.hasNext();l.next())if(!l.isEndOfLine()){a.p0=l.getSegmentStart(),a.p1=l.getSegmentEnd();var c=a.distance(t),d=a.segmentFraction(t),h=l.getComponentIndex(),p=l.getVertexIndex();c<n&&(null===e||e.compareLocationValues(h,p,d)<0)&&(i=h,r=p,o=d,n=c)}return n===f.default.MAX_VALUE?new u.default(e):new u.default(i,r,o)},indexOfAfter:function(t,e){if(null===e)return this.indexOf(t);var n=u.default.getEndLocation(this._linearGeom);if(n.compareTo(e)<=0)return n;var i=this.indexOfFromStart(t,e);return g.default.isTrue(i.compareTo(e)>=0,"computed location is before specified minimum location"),i},interfaces_:function(){return[]},getClass:function(){return r}}),r.indexOf=function(t,e){return new r(t).indexOf(e)},r.indexOfAfter=function(t,e,n){return new r(t).indexOfAfter(e,n)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(201),u=i(a);(0,s.default)(r.prototype,{indicesOf:function(t){var e=t.getGeometryN(0).getCoordinateN(0),n=t.getGeometryN(t.getNumGeometries()-1),i=n.getCoordinateN(n.getNumPoints()-1),r=new u.default(this._linearGeom),o=new Array(2).fill(null);return o[0]=r.indexOf(e),0===t.getLength()?o[1]=o[0].clone():o[1]=r.indexOfAfter(i,o[0]),o},interfaces_:function(){return[]},getClass:function(){return r}}),r.indicesOf=function(t,e){return new r(t).indicesOf(e)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._line=null;var t=arguments[0];this._line=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(10),s=i(o),a=n(19),u=i(a),l=n(79),f=i(l),c=n(0),d=i(c),h=n(4),_=i(h),p=n(204),g=i(p),m=n(31),v=i(m);(0,d.default)(r.prototype,{computeLinear:function(t,e){var n=new g.default(this._line.getFactory());n.setFixInvalidLines(!0),t.isVertex()||n.add(t.getCoordinate(this._line));for(var i=new f.default(this._line,t);i.hasNext()&&!(e.compareLocationValues(i.getComponentIndex(),i.getVertexIndex(),0)<0);i.next()){var r=i.getSegmentStart();n.add(r),i.isEndOfLine()&&n.endLine()}return e.isVertex()||n.add(e.getCoordinate(this._line)),n.getGeometry()},computeLine:function(t,e){var n=this._line.getCoordinates(),i=new u.default,r=t.getSegmentIndex();t.getSegmentFraction()>0&&(r+=1);var o=e.getSegmentIndex();1===e.getSegmentFraction()&&(o+=1),o>=n.length&&(o=n.length-1),t.isVertex()||i.add(t.getCoordinate(this._line));for(var s=r;s<=o;s++)i.add(n[s]);e.isVertex()||i.add(e.getCoordinate(this._line)),i.size()<=0&&i.add(t.getCoordinate(this._line));var a=i.toCoordinateArray();return a.length<=1&&(a=[a[0],a[0]]),this._line.getFactory().createLineString(a)},extract:function(t,e){return e.compareTo(t)<0?this.reverse(this.computeLinear(e,t)):this.computeLinear(t,e)},reverse:function(t){return t instanceof s.default?t.reverse():t instanceof v.default?t.reverse():(_.default.shouldNeverReachHere("non-linear geometry encountered"),null)},interfaces_:function(){return[]},getClass:function(){return r}}),r.extract=function(t,e,n){return new r(t).extract(e,n)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._geomFact=null,this._lines=new d.default,this._coordList=null,this._ignoreInvalidLines=!1,this._fixInvalidLines=!1,this._lastPt=null;var t=arguments[0];this._geomFact=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(19),s=i(o),a=n(7),u=i(a),l=n(0),f=i(l),c=n(1),d=i(c);(0,f.default)(r.prototype,{getGeometry:function(){return this.endLine(),this._geomFact.buildGeometry(this._lines)},getLastCoordinate:function(){return this._lastPt},endLine:function(){if(null===this._coordList)return null;if(this._ignoreInvalidLines&&this._coordList.size()<2)return this._coordList=null,null;var t=this._coordList.toCoordinateArray(),e=t;this._fixInvalidLines&&(e=this.validCoordinateSequence(t)),this._coordList=null;var n=null;try{n=this._geomFact.createLineString(e)}catch(t){if(!(t instanceof u.default))throw t;if(!this._ignoreInvalidLines)throw t}null!==n&&this._lines.add(n)},setFixInvalidLines:function(t){this._fixInvalidLines=t},add:function(){if(1===arguments.length){var t=arguments[0];this.add(t,!0)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];null===this._coordList&&(this._coordList=new s.default),this._coordList.add(e,n),this._lastPt=e}},setIgnoreInvalidLines:function(t){this._ignoreInvalidLines=t},validCoordinateSequence:function(t){return t.length>=2?t:[t[0],t[0]]},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(79),s=i(o),a=n(98),u=i(a);(0,i(n(0)).default)(r.prototype,{getLength:function(t){for(var e=0,n=new s.default(this._linearGeom);n.hasNext();){if(!n.isEndOfLine()){var i=n.getSegmentStart(),r=n.getSegmentEnd(),o=r.distance(i);if(t.getComponentIndex()===n.getComponentIndex()&&t.getSegmentIndex()===n.getVertexIndex())return e+o*t.getSegmentFraction();e+=o}n.next()}return e},resolveHigher:function(t){if(!t.isEndpoint(this._linearGeom))return t;var e=t.getComponentIndex();if(e>=this._linearGeom.getNumGeometries()-1)return t;do{e++}while(e<this._linearGeom.getNumGeometries()-1&&0===this._linearGeom.getGeometryN(e).getLength());return new u.default(e,0,0)},getLocation:function(){if(1===arguments.length){var t=arguments[0];return this.getLocation(t,!0)}if(2===arguments.length){var e=arguments[0],n=arguments[1],i=e;e<0&&(i=this._linearGeom.getLength()+e);var r=this.getLocationForward(i);return n?r:this.resolveHigher(r)}},getLocationForward:function(t){if(t<=0)return new u.default;for(var e=0,n=new s.default(this._linearGeom);n.hasNext();){if(n.isEndOfLine()){if(e===t){var i=n.getComponentIndex(),r=n.getVertexIndex();return new u.default(i,r,0)}}else{var o=n.getSegmentStart(),a=n.getSegmentEnd(),l=a.distance(o);if(e+l>t){var f=(t-e)/l,i=n.getComponentIndex(),r=n.getVertexIndex();return new u.default(i,r,f)}e+=l}n.next()}return u.default.getEndLocation(this._linearGeom)},interfaces_:function(){return[]},getClass:function(){return r}}),r.getLength=function(t,e){return new r(t).getLength(e)},r.getLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new r(t);return n.getLocation(e)}if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],n=new r(i);return n.getLocation(o,s)}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){E.point=s}function o(){a(u,l)}function s(t,e){E.point=a,u=t,l=e,t*=p.radians,e*=p.radians,f=t,c=(0,p.cos)(e=e/2+p.quarterPi),d=(0,p.sin)(e)}function a(t,e){t*=p.radians,e*=p.radians,e=e/2+p.quarterPi;var n=t-f,i=n>=0?1:-1,r=i*n,o=(0,p.cos)(e),s=(0,p.sin)(e),a=d*s,u=c*o+a*(0,p.cos)(r),l=a*i*(0,p.sin)(r);b.add((0,p.atan2)(l,u)),f=t,c=o,d=s}Object.defineProperty(e,"__esModule",{value:!0}),e.areaStream=e.areaRingSum=void 0,e.default=function(t){return x.reset(),(0,y.default)(t,E),2*x};var u,l,f,c,d,h=n(58),_=i(h),p=n(5),g=n(47),m=i(g),v=n(52),y=i(v),b=e.areaRingSum=(0,_.default)(),x=(0,_.default)(),E=e.areaStream={point:m.default,lineStart:m.default,lineEnd:m.default,polygonStart:function(){b.reset(),E.lineStart=r,E.lineEnd=o},polygonEnd:function(){var t=+b;x.add(t<0?p.tau+t:t),this.lineStart=this.lineEnd=this.point=m.default},sphere:function(){x.add(p.tau)}}},function(t,e,n){"use strict";function i(t,e,n,i,s,a){if(n){var l=(0,u.cos)(e),f=(0,u.sin)(e),c=i*n;null==s?(s=e+i*u.tau,a=e-c/2):(s=r(l,s),a=r(l,a),(i>0?s<a:s>a)&&(s+=i*u.tau));for(var d,h=s;i>0?h>a:h<a;h-=c)d=(0,o.spherical)([l,-f*(0,u.cos)(h),-f*(0,u.sin)(h)]),t.point(d[0],d[1])}}function r(t,e){e=(0,o.cartesian)(e),e[0]-=t,(0,o.cartesianNormalizeInPlace)(e);var n=(0,u.acos)(-e[1]);return((-e[2]<0?-n:n)+u.tau-u.epsilon)%u.tau}Object.defineProperty(e,"__esModule",{value:!0}),e.circleStream=i,e.default=function(){function t(t,e){n.push(t=r(t,e)),t[0]*=u.degrees,t[1]*=u.degrees}function e(){var t=o.apply(this,arguments),e=s.apply(this,arguments)*u.radians,a=f.apply(this,arguments)*u.radians;return n=[],r=(0,l.rotateRadians)(-t[0]*u.radians,-t[1]*u.radians,0).invert,i(c,e,a,1),t={type:"Polygon",coordinates:[n]},n=r=null,t}var n,r,o=(0,a.default)([0,0]),s=(0,a.default)(90),f=(0,a.default)(6),c={point:t};return e.center=function(t){return arguments.length?(o="function"==typeof t?t:(0,a.default)([+t[0],+t[1]]),e):o},e.radius=function(t){return arguments.length?(s="function"==typeof t?t:(0,a.default)(+t),e):s},e.precision=function(t){return arguments.length?(f="function"==typeof t?t:(0,a.default)(+t),e):f},e};var o=n(80),s=n(452),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=n(5),l=n(99)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:r.default,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}};var i=n(47),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";function i(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function r(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,o,a){var u,l,f=[],c=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],o=t[e];if((0,s.default)(r,o)){for(a.lineStart(),u=0;u<e;++u)a.point((r=t[u])[0],r[1]);return void a.lineEnd()}f.push(n=new i(r,t,null,!0)),c.push(n.o=new i(r,null,n,!1)),f.push(n=new i(o,t,null,!1)),c.push(n.o=new i(o,null,n,!0))}}),f.length){for(c.sort(e),r(f),r(c),u=0,l=c.length;u<l;++u)c[u].e=n=!n;for(var d,h,_=f[0];;){for(var p=_,g=!0;p.v;)if((p=p.n)===_)return;d=p.z,a.lineStart();do{if(p.v=p.o.v=!0,p.e){if(g)for(u=0,l=d.length;u<l;++u)a.point((h=d[u])[0],h[1]);else o(p.x,p.n.x,1,a);p=p.n}else{if(g)for(d=p.p.z,u=d.length-1;u>=0;--u)a.point((h=d[u])[0],h[1]);else o(p.x,p.p.x,-1,a);p=p.p}p=p.o,d=p.z,g=!g}while(!p.v);a.lineEnd()}}};var o=n(211),s=function(t){return t&&t.__esModule?t:{default:t}}(o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(0,i.abs)(t[0]-e[0])<i.epsilon&&(0,i.abs)(t[1]-e[1])<i.epsilon};var i=n(5)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.bisectLeft=e.bisectRight=void 0;var r=n(59),o=i(r),s=n(213),a=i(s),u=(0,a.default)(o.default),l=e.bisectRight=u.right;e.bisectLeft=u.left;e.default=l},function(t,e,n){"use strict";function i(t){return function(e,n){return(0,o.default)(t(e),n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return 1===t.length&&(t=i(t)),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}};var r=n(59),o=function(t){return t&&t.__esModule?t:{default:t}}(r)},function(t,e,n){"use strict";function i(t,e){return[t,e]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){null==e&&(e=i);for(var n=0,r=t.length-1,o=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(o,o=t[++n]);return s},e.pair=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(0,r.default)(t,e);return n?Math.sqrt(n):n};var i=n(216),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,i,o=t.length,s=0,a=-1,u=0,l=0;if(null==e)for(;++a<o;)isNaN(n=(0,r.default)(t[a]))||(i=n-u,u+=i/++s,l+=i*(n-u));else for(;++a<o;)isNaN(n=(0,r.default)(e(t[a],a,t)))||(i=n-u,u+=i/++s,l+=i*(n-u));if(s>1)return l/(s-1)};var i=n(81),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,i,r,o=t.length,s=-1;if(null==e){for(;++s<o;)if(null!=(n=t[s])&&n>=n)for(i=r=n;++s<o;)null!=(n=t[s])&&(i>n&&(i=n),r<n&&(r=n))}else for(;++s<o;)if(null!=(n=e(t[s],s,t))&&n>=n)for(i=r=n;++s<o;)null!=(n=e(t[s],s,t))&&(i>n&&(i=n),r<n&&(r=n));return[i,r]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Array.prototype;e.slice=i.slice,e.map=i.map},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o}},function(t,e,n){"use strict";function i(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),u=i/Math.pow(10,r);return r>=0?(u>=o?10:u>=s?5:u>=a?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(u>=o?10:u>=s?5:u>=a?2:1)}function r(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),u=i/r;return u>=o?r*=10:u>=s?r*=5:u>=a&&(r*=2),e<t?-r:r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r,o,s,a,u=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(a=i(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),s=new Array(o=Math.ceil(e-t+1));++u<o;)s[u]=(t+u)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),s=new Array(o=Math.ceil(t-e+1));++u<o;)s[u]=(t-u)/a;return r&&s.reverse(),s},e.tickIncrement=i,e.tickStep=r;var o=Math.sqrt(50),s=Math.sqrt(10),a=Math.sqrt(2)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&i>n&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&i>n&&(i=n);return i}},function(t,e,n){"use strict";function i(t){return t.length}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!(s=t.length))return[];for(var e=-1,n=(0,o.default)(t,i),r=new Array(n);++e<n;)for(var s,a=-1,u=r[e]=new Array(s);++a<s;)u[a]=t[a][e];return r};var r=n(222),o=function(t){return t&&t.__esModule?t:{default:t}}(r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=e[0],i=e[1],r=[(0,s.sin)(n),-(0,s.cos)(n),0],u=0,l=0;a.reset();for(var f=0,c=t.length;f<c;++f)if(h=(d=t[f]).length)for(var d,h,_=d[h-1],p=_[0],g=_[1]/2+s.quarterPi,m=(0,s.sin)(g),v=(0,s.cos)(g),y=0;y<h;++y,p=x,m=L,v=w,_=b){var b=d[y],x=b[0],E=b[1]/2+s.quarterPi,L=(0,s.sin)(E),w=(0,s.cos)(E),M=x-p,P=M>=0?1:-1,I=P*M,C=I>s.pi,S=m*L;if(a.add((0,s.atan2)(S*P*(0,s.sin)(I),v*w+S*(0,s.cos)(I))),u+=C?M+P*s.tau:M,C^p>=n^x>=n){var N=(0,o.cartesianCross)((0,o.cartesian)(_),(0,o.cartesian)(b));(0,o.cartesianNormalizeInPlace)(N);var O=(0,o.cartesianCross)(r,N);(0,o.cartesianNormalizeInPlace)(O);var T=(C^M>=0?-1:1)*(0,s.asin)(O[2]);(i>T||i===T&&(N[0]||N[1]))&&(l+=C^M>=0?1:-1)}}return(u<-s.epsilon||u<s.epsilon&&a<-s.epsilon)^1&l};var i=n(58),r=function(t){return t&&t.__esModule?t:{default:t}}(i),o=n(80),s=n(5),a=(0,r.default)()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return o[0]=t,o[1]=e,(0,r.default)(s)};var i=n(226),r=function(t){return t&&t.__esModule?t:{default:t}}(i),o=[null,null],s={type:"LineString",coordinates:o}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){y.point=s,y.lineEnd=o}function o(){y.point=y.lineEnd=p.default}function s(t,e){t*=h.radians,e*=h.radians,u=t,l=(0,h.sin)(e),f=(0,h.cos)(e),y.point=a}function a(t,e){t*=h.radians,e*=h.radians;var n=(0,h.sin)(e),i=(0,h.cos)(e),r=(0,h.abs)(t-u),o=(0,h.cos)(r),s=(0,h.sin)(r),a=i*s,c=f*n-l*i*o,d=l*n+f*i*o;v.add((0,h.atan2)((0,h.sqrt)(a*a+c*c),d)),u=t,l=n,f=i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return v.reset(),(0,m.default)(t,y),+v};var u,l,f,c=n(58),d=i(c),h=n(5),_=n(47),p=i(_),g=n(52),m=i(g),v=(0,d.default)(),y={sphere:p.default,point:p.default,lineStart:r,lineEnd:p.default,polygonStart:p.default,polygonEnd:p.default}},function(t,e,n){"use strict";function i(t,e){t<s&&(s=t),t>u&&(u=t),e<a&&(a=e),e>l&&(l=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(47),o=function(t){return t&&t.__esModule?t:{default:t}}(r),s=1/0,a=s,u=-s,l=u,f={point:i,lineStart:o.default,lineEnd:o.default,polygonStart:o.default,polygonEnd:o.default,result:function(){var t=[[s,a],[u,l]];return u=l=-(a=s=1/0),t}};e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return(0,r.default)().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var i=n(131),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return t.length>1}function o(t,e){return((t=t.x)[0]<0?t[1]-f.halfPi-f.epsilon:f.halfPi-t[1])-((e=e.x)[0]<0?e[1]-f.halfPi-f.epsilon:f.halfPi-e[1])}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i){return function(s,u){function f(e,n){var i=s(e,n);t(e=i[0],n=i[1])&&u.point(e,n)}function c(t,e){var n=s(t,e);E.point(n[0],n[1])}function _(){I.point=c,E.lineStart()}function p(){I.point=f,E.lineEnd()}function g(t,e){x.push([t,e]);var n=s(t,e);M.point(n[0],n[1])}function m(){M.lineStart(),x=[]}function v(){g(x[0][0],x[0][1]),M.lineEnd();var t,e,n,i,o=M.clean(),s=w.result(),a=s.length;if(x.pop(),y.push(x),x=null,a)if(1&o){if(n=s[0],(e=n.length-1)>0){for(P||(u.polygonStart(),P=!0),u.lineStart(),t=0;t<e;++t)u.point((i=n[t])[0],i[1]);u.lineEnd()}}else a>1&&2&o&&s.push(s.pop().concat(s.shift())),b.push(s.filter(r))}var y,b,x,E=e(u),L=s.invert(i[0],i[1]),w=(0,a.default)(),M=e(w),P=!1,I={point:f,lineStart:_,lineEnd:p,polygonStart:function(){I.point=g,I.lineStart=m,I.lineEnd=v,b=[],y=[]},polygonEnd:function(){I.point=f,I.lineStart=_,I.lineEnd=p,b=(0,h.merge)(b);var t=(0,d.default)(y,L);b.length?(P||(u.polygonStart(),P=!0),(0,l.default)(b,o,t,n,u)):t&&(P||(u.polygonStart(),P=!0),u.lineStart(),n(null,null,1,u),u.lineEnd()),P&&(u.polygonEnd(),P=!1),b=y=null},sphere:function(){u.polygonStart(),u.lineStart(),n(null,null,1,u),u.lineEnd(),u.polygonEnd()}};return I}};var s=n(209),a=i(s),u=n(210),l=i(u),f=n(5),c=n(224),d=i(c),h=n(128)},function(t,e,n){"use strict";function i(t,e){return[t,e]}Object.defineProperty(e,"__esModule",{value:!0}),e.equirectangularRaw=i,e.default=function(){return(0,o.default)(i).scale(152.63)};var r=n(35),o=function(t){return t&&t.__esModule?t:{default:t}}(r);i.invert=i},function(t,e,n){"use strict";(function(t){var n,i;/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */
(function(){var r,o,s,a,u,l,f,c,d,h,_,p,g,m,v,y,b,x,E,L,w,M,P,I,C,S,N,O,T,R,D,A,k,j,F,z,G,B,q,U,V,H,Y,Z,X,W,K,J,$,Q,tt,et,nt,it,rt,ot,st,at,ut,lt,ft,ct,dt,ht,_t,pt,gt,mt,vt,yt,bt,xt,Et,Lt,wt,Mt,Pt,It,Ct,St,Nt,Ot=[].slice;Pt=function(){var t,e,n,i,r;for(t={},r="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),i=0,e=r.length;i<e;i++)n=r[i],t["[object "+n+"]"]=n.toLowerCase();return function(e){var n;return n=Object.prototype.toString.call(e),t[n]||"object"}}(),K=function(t,e,n){return null==e&&(e=0),null==n&&(n=1),t<e&&(t=e),t>n&&(t=n),t},It=function(t){return t.length>=3?[].slice.call(t):t[0]},w=function(t){var e,n;for(t._clipped=!1,t._unclipped=t.slice(0),e=n=0;n<3;e=++n)e<3?((t[e]<0||t[e]>255)&&(t._clipped=!0),t[e]<0&&(t[e]=0),t[e]>255&&(t[e]=255)):3===e&&(t[e]<0&&(t[e]=0),t[e]>1&&(t[e]=1));return t._clipped||delete t._unclipped,t},a=Math.PI,xt=Math.round,P=Math.cos,O=Math.floor,ot=Math.pow,J=Math.log,Lt=Math.sin,wt=Math.sqrt,m=Math.atan2,tt=Math.max,g=Math.abs,f=2*a,u=a/3,o=a/180,l=180/a,L=function(){return arguments[0]instanceof r?arguments[0]:function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,arguments,function(){})},L.default=L,p=[],void 0!==t&&null!==t&&null!=t.exports&&(t.exports=L),n=[],void 0!==(i=function(){return L}.apply(e,n))&&(t.exports=i),L.version="1.3.4",_={},d=[],h=!1,r=function(){function t(){var t,e,n,i,r,o,s,a,u;for(o=this,e=[],a=0,i=arguments.length;a<i;a++)null!=(t=arguments[a])&&e.push(t);if(e.length>1&&(s=e[e.length-1]),null!=_[s])o._rgb=w(_[s](It(e.slice(0,-1))));else{for(h||(d=d.sort(function(t,e){return e.p-t.p}),h=!0),u=0,r=d.length;u<r&&(n=d[u],!(s=n.test.apply(n,e)));u++);s&&(o._rgb=w(_[s].apply(_,e)))}null==o._rgb&&console.warn("unknown format: "+e),null==o._rgb&&(o._rgb=[0,0,0]),3===o._rgb.length&&o._rgb.push(1)}return t.prototype.toString=function(){return this.hex()},t.prototype.clone=function(){return L(me._rgb)},t}(),L._input=_,/**
  	ColorBrewer colors for chroma.js
  
  	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
  	Pennsylvania State University.
  
  	Licensed under the Apache License, Version 2.0 (the "License"); 
  	you may not use this file except in compliance with the License.
  	You may obtain a copy of the License at	
  	http://www.apache.org/licenses/LICENSE-2.0
  
  	Unless required by applicable law or agreed to in writing, software distributed
  	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
  	CONDITIONS OF ANY KIND, either express or implied. See the License for the
  	specific language governing permissions and limitations under the License.
  
      @preserve
   */
L.brewer=x={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var t,e;e=[];for(t in x)e.push(x[t.toLowerCase()]=x[t])}(),Ct={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},L.colors=Ct,H=function(){var t,e,n,i,r,o,a,u,l;return e=It(arguments),r=e[0],t=e[1],n=e[2],u=(r+16)/116,a=isNaN(t)?u:u+t/500,l=isNaN(n)?u:u-n/200,u=s.Yn*Y(u),a=s.Xn*Y(a),l=s.Zn*Y(l),o=Nt(3.2404542*a-1.5371385*u-.4985314*l),i=Nt(-.969266*a+1.8760108*u+.041556*l),n=Nt(.0556434*a-.2040259*u+1.0572252*l),[o,i,n,e.length>3?e[3]:1]},Nt=function(t){return 255*(t<=.00304?12.92*t:1.055*ot(t,1/2.4)-.055)},Y=function(t){return t>s.t1?t*t*t:s.t2*(t-s.t0)},s={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ht=function(){var t,e,n,i,r,o,s,a;return i=It(arguments),n=i[0],e=i[1],t=i[2],r=vt(n,e,t),o=r[0],s=r[1],a=r[2],[116*s-16,500*(o-s),200*(s-a)]},yt=function(t){return(t/=255)<=.04045?t/12.92:ot((t+.055)/1.055,2.4)},St=function(t){return t>s.t3?ot(t,1/3):t/s.t2+s.t0},vt=function(){var t,e,n,i,r,o,a;return i=It(arguments),n=i[0],e=i[1],t=i[2],n=yt(n),e=yt(e),t=yt(t),r=St((.4124564*n+.3575761*e+.1804375*t)/s.Xn),o=St((.2126729*n+.7151522*e+.072175*t)/s.Yn),a=St((.0193339*n+.119192*e+.9503041*t)/s.Zn),[r,o,a]},L.lab=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,Ot.call(arguments).concat(["lab"]),function(){})},_.lab=H,r.prototype.lab=function(){return ht(this._rgb)},v=function(t){var e,n,i,r,o,s,a,u,l,f,c;return t=function(){var e,n,i;for(i=[],n=0,e=t.length;n<e;n++)r=t[n],i.push(L(r));return i}(),2===t.length?(l=function(){var e,n,i;for(i=[],n=0,e=t.length;n<e;n++)r=t[n],i.push(r.lab());return i}(),o=l[0],s=l[1],e=function(t){var e,n;return n=function(){var n,i;for(i=[],e=n=0;n<=2;e=++n)i.push(o[e]+t*(s[e]-o[e]));return i}(),L.lab.apply(L,n)}):3===t.length?(f=function(){var e,n,i;for(i=[],n=0,e=t.length;n<e;n++)r=t[n],i.push(r.lab());return i}(),o=f[0],s=f[1],a=f[2],e=function(t){var e,n;return n=function(){var n,i;for(i=[],e=n=0;n<=2;e=++n)i.push((1-t)*(1-t)*o[e]+2*(1-t)*t*s[e]+t*t*a[e]);return i}(),L.lab.apply(L,n)}):4===t.length?(c=function(){var e,n,i;for(i=[],n=0,e=t.length;n<e;n++)r=t[n],i.push(r.lab());return i}(),o=c[0],s=c[1],a=c[2],u=c[3],e=function(t){var e,n;return n=function(){var n,i;for(i=[],e=n=0;n<=2;e=++n)i.push((1-t)*(1-t)*(1-t)*o[e]+3*(1-t)*(1-t)*t*s[e]+3*(1-t)*t*t*a[e]+t*t*t*u[e]);return i}(),L.lab.apply(L,n)}):5===t.length&&(n=v(t.slice(0,3)),i=v(t.slice(2,5)),e=function(t){return t<.5?n(2*t):i(2*(t-.5))}),e},L.bezier=function(t){var e;return e=v(t),e.scale=function(){return L.scale(e)},e},L.cubehelix=function(t,e,n,i,r){var o,s,a;return null==t&&(t=300),null==e&&(e=-1.5),null==n&&(n=1),null==i&&(i=1),null==r&&(r=[0,1]),o=0,"array"===Pt(r)?s=r[1]-r[0]:(s=0,r=[r,r]),a=function(a){var u,l,c,d,h,_,p,g,m;return u=f*((t+120)/360+e*a),p=ot(r[0]+s*a,i),_=0!==o?n[0]+a*o:n,l=_*p*(1-p)/2,d=P(u),m=Lt(u),g=p+l*(-.14861*d+1.78277*m),h=p+l*(-.29227*d-.90649*m),c=p+l*(1.97294*d),L(w([255*g,255*h,255*c]))},a.start=function(e){return null==e?t:(t=e,a)},a.rotations=function(t){return null==t?e:(e=t,a)},a.gamma=function(t){return null==t?i:(i=t,a)},a.hue=function(t){return null==t?n:(n=t,"array"===Pt(n)?0===(o=n[1]-n[0])&&(n=n[1]):o=0,a)},a.lightness=function(t){return null==t?r:("array"===Pt(t)?(r=t,s=t[1]-t[0]):(r=[t,t],s=0),a)},a.scale=function(){return L.scale(a)},a.hue(n),a},L.random=function(){var t,e,n;for(e="0123456789abcdef",t="#",n=0;n<6;++n)t+=e.charAt(O(16*Math.random()));return new r(t)},p=[],F=function(t,e,n,i){var r,o,s,a;for(null==n&&(n=.5),null==i&&(i="rgb"),"object"!==Pt(t)&&(t=L(t)),"object"!==Pt(e)&&(e=L(e)),s=0,o=p.length;s<o;s++)if(r=p[s],i===r[0]){a=r[1](t,e,n,i);break}if(null==a)throw"color mode "+i+" is not supported";return a.alpha(t.alpha()+n*(e.alpha()-t.alpha()))},L.interpolate=F,r.prototype.interpolate=function(t,e,n){return F(this,t,e,n)},L.mix=F,r.prototype.mix=r.prototype.interpolate,_.rgb=function(){var t,e,n,i;e=It(arguments),n=[];for(t in e)i=e[t],n.push(i);return n},L.rgb=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,Ot.call(arguments).concat(["rgb"]),function(){})},r.prototype.rgb=function(t){return null==t&&(t=!0),t?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},r.prototype.rgba=function(t){return null==t&&(t=!0),t?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},d.push({p:3,test:function(t){var e;return e=It(arguments),"array"===Pt(e)&&3===e.length?"rgb":4===e.length&&"number"===Pt(e[3])&&e[3]>=0&&e[3]<=1?"rgb":void 0}}),_.lrgb=_.rgb,B=function(t,e,n,i){var o,s;return o=t._rgb,s=e._rgb,new r(wt(ot(o[0],2)*(1-n)+ot(s[0],2)*n),wt(ot(o[1],2)*(1-n)+ot(s[1],2)*n),wt(ot(o[2],2)*(1-n)+ot(s[2],2)*n),i)},c=function(t){var e,n,i,o,s,a;for(n=1/t.length,a=[0,0,0,0],o=0,i=t.length;o<i;o++)e=t[o],s=e._rgb,a[0]+=ot(s[0],2)*n,a[1]+=ot(s[1],2)*n,a[2]+=ot(s[2],2)*n,a[3]+=s[3]*n;return a[0]=wt(a[0]),a[1]=wt(a[1]),a[2]=wt(a[2]),new r(a)},p.push(["lrgb",B]),L.average=function(t,e){var n,i,r,o,s,u,l,f,d,h,_,p,g;if(null==e&&(e="rgb"),d=t.length,t=t.map(function(t){return L(t)}),l=t.splice(0,1)[0],"lrgb"===e)return c(t);p=l.get(e),o=[],s=0,u=0;for(f in p)p[f]=p[f]||0,o.push(isNaN(p[f])?0:1),"h"!==e.charAt(f)||isNaN(p[f])||(n=p[f]/180*a,s+=P(n),u+=Lt(n));for(i=l.alpha(),_=0,h=t.length;_<h;_++){r=t[_],g=r.get(e),i+=r.alpha();for(f in p)isNaN(g[f])||(p[f]+=g[f],o[f]+=1,"h"===e.charAt(f)&&(n=p[f]/180*a,s+=P(n),u+=Lt(n)))}for(f in p)if(p[f]=p[f]/o[f],"h"===e.charAt(f)){for(n=m(u/o[f],s/o[f])/a*180;n<0;)n+=360;for(;n>=360;)n-=360;p[f]=n}return L(p,e).alpha(i/d)},R=function(t){var e,n,i,r,o,s;if(t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),s=parseInt(t,16),r=s>>16,i=s>>8&255,n=255&s,[r,i,n,1];if(t.match(/^#?([A-Fa-f0-9]{8})$/))return 9===t.length&&(t=t.substr(1)),s=parseInt(t,16),r=s>>24&255,i=s>>16&255,n=s>>8&255,e=xt((255&s)/255*100)/100,[r,i,n,e];if(null!=_.css&&(o=_.css(t)))return o;throw"unknown color: "+t},lt=function(t,e){var n,i,r,o,s,a,u;return null==e&&(e="rgb"),s=t[0],r=t[1],i=t[2],n=t[3],s=Math.round(s),r=Math.round(r),i=Math.round(i),u=s<<16|r<<8|i,a="000000"+u.toString(16),a=a.substr(a.length-6),o="0"+xt(255*n).toString(16),o=o.substr(o.length-2),"#"+function(){switch(e.toLowerCase()){case"rgba":return a+o;case"argb":return o+a;default:return a}}()},_.hex=function(t){return R(t)},L.hex=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,Ot.call(arguments).concat(["hex"]),function(){})},r.prototype.hex=function(t){return null==t&&(t="rgb"),lt(this._rgb,t)},d.push({p:4,test:function(t){if(1===arguments.length&&"string"===Pt(t))return"hex"}}),k=function(){var t,e,n,i,r,o,s,a,u,l,f,c,d,h;if(t=It(arguments),r=t[0],f=t[1],s=t[2],0===f)u=i=e=255*s;else{for(h=[0,0,0],n=[0,0,0],d=s<.5?s*(1+f):s+f-s*f,c=2*s-d,r/=360,h[0]=r+1/3,h[1]=r,h[2]=r-1/3,o=a=0;a<=2;o=++a)h[o]<0&&(h[o]+=1),h[o]>1&&(h[o]-=1),6*h[o]<1?n[o]=c+6*(d-c)*h[o]:2*h[o]<1?n[o]=d:3*h[o]<2?n[o]=c+(d-c)*(2/3-h[o])*6:n[o]=c;l=[xt(255*n[0]),xt(255*n[1]),xt(255*n[2])],u=l[0],i=l[1],e=l[2]}return t.length>3?[u,i,e,t[3]]:[u,i,e]},ct=function(t,e,n){var i,r,o,s,a;return void 0!==t&&t.length>=3&&(s=t,t=s[0],e=s[1],n=s[2]),t/=255,e/=255,n/=255,o=Math.min(t,e,n),tt=Math.max(t,e,n),r=(tt+o)/2,tt===o?(a=0,i=Number.NaN):a=r<.5?(tt-o)/(tt+o):(tt-o)/(2-tt-o),t===tt?i=(e-n)/(tt-o):e===tt?i=2+(n-t)/(tt-o):n===tt&&(i=4+(t-e)/(tt-o)),i*=60,i<0&&(i+=360),[i,a,r]},L.hsl=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,Ot.call(arguments).concat(["hsl"]),function(){})},_.hsl=k,r.prototype.hsl=function(){return ct(this._rgb)},j=function(){var t,e,n,i,r,o,s,a,u,l,f,c,d,h,_,p,g,m;if(t=It(arguments),r=t[0],p=t[1],m=t[2],m*=255,0===p)u=i=e=m;else switch(360===r&&(r=0),r>360&&(r-=360),r<0&&(r+=360),r/=60,o=O(r),n=r-o,s=m*(1-p),a=m*(1-p*n),g=m*(1-p*(1-n)),o){case 0:l=[m,g,s],u=l[0],i=l[1],e=l[2];break;case 1:f=[a,m,s],u=f[0],i=f[1],e=f[2];break;case 2:c=[s,m,g],u=c[0],i=c[1],e=c[2];break;case 3:d=[s,a,m],u=d[0],i=d[1],e=d[2];break;case 4:h=[g,s,m],u=h[0],i=h[1],e=h[2];break;case 5:_=[m,s,a],u=_[0],i=_[1],e=_[2]}return[u,i,e,t.length>3?t[3]:1]},dt=function(){var t,e,n,i,r,o,s,a,u;return s=It(arguments),o=s[0],n=s[1],t=s[2],r=Math.min(o,n,t),tt=Math.max(o,n,t),e=tt-r,u=tt/255,0===tt?(i=Number.NaN,a=0):(a=e/tt,o===tt&&(i=(n-t)/e),n===tt&&(i=2+(t-o)/e),t===tt&&(i=4+(o-n)/e),(i*=60)<0&&(i+=360)),[i,a,u]},L.hsv=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,Ot.call(arguments).concat(["hsv"]),function(){})},_.hsv=j,r.prototype.hsv=function(){return dt(this._rgb)},it=function(t){var e,n,i;return"number"===Pt(t)&&t>=0&&t<=16777215?(i=t>>16,n=t>>8&255,e=255&t,[i,n,e,1]):(console.warn("unknown num color: "+t),[0,0,0,1])},gt=function(){var t,e,n,i;return i=It(arguments),n=i[0],e=i[1],t=i[2],(n<<16)+(e<<8)+t},L.num=function(t){return new r(t,"num")},r.prototype.num=function(t){return null==t&&(t="rgb"),gt(this._rgb,t)},_.num=it,d.push({p:1,test:function(t){if(1===arguments.length&&"number"===Pt(t)&&t>=0&&t<=16777215)return"num"}}),T=function(){var t,e,n,i,r,o,s,a,u,l,f,c,d,h,_,p,g,m,v,y;if(n=It(arguments),a=n[0],r=n[1],e=n[2],r/=100,s=s/100*255,t=255*r,0===r)c=s=i=e;else switch(360===a&&(a=0),a>360&&(a-=360),a<0&&(a+=360),a/=60,u=O(a),o=a-u,l=e*(1-r),f=l+t*(1-o),v=l+t*o,y=l+t,u){case 0:d=[y,v,l],c=d[0],s=d[1],i=d[2];break;case 1:h=[f,y,l],c=h[0],s=h[1],i=h[2];break;case 2:_=[l,y,v],c=_[0],s=_[1],i=_[2];break;case 3:p=[l,f,y],c=p[0],s=p[1],i=p[2];break;case 4:g=[v,l,y],c=g[0],s=g[1],i=g[2];break;case 5:m=[y,l,f],c=m[0],s=m[1],i=m[2]}return[c,s,i,n.length>3?n[3]:1]},ut=function(){var t,e,n,i,r,o,s,a,u;return u=It(arguments),a=u[0],r=u[1],e=u[2],s=Math.min(a,r,e),tt=Math.max(a,r,e),i=tt-s,n=100*i/255,t=s/(255-i)*100,0===i?o=Number.NaN:(a===tt&&(o=(r-e)/i),r===tt&&(o=2+(e-a)/i),e===tt&&(o=4+(a-r)/i),(o*=60)<0&&(o+=360)),[o,n,t]},L.hcg=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,Ot.call(arguments).concat(["hcg"]),function(){})},_.hcg=T,r.prototype.hcg=function(){return ut(this._rgb)},I=function(t){var e,n,i,r,o,s,a,u;if(t=t.toLowerCase(),null!=L.colors&&L.colors[t])return R(L.colors[t]);if(o=t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(a=o.slice(1,4),r=s=0;s<=2;r=++s)a[r]=+a[r];a[3]=1}else if(o=t.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(a=o.slice(1,5),r=u=0;u<=3;r=++u)a[r]=+a[r];else if(o=t.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(a=o.slice(1,4),r=e=0;e<=2;r=++e)a[r]=xt(2.55*a[r]);a[3]=1}else if(o=t.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(a=o.slice(1,5),r=n=0;n<=2;r=++n)a[r]=xt(2.55*a[r]);a[3]=+a[3]}else(o=t.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(i=o.slice(1,4),i[1]*=.01,i[2]*=.01,a=k(i),a[3]=1):(o=t.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(i=o.slice(1,4),i[1]*=.01,i[2]*=.01,a=k(i),a[3]=+o[4]);return a},at=function(t){var e;return e=t[3]<1?"rgba":"rgb","rgb"===e?e+"("+t.slice(0,3).map(xt).join(",")+")":"rgba"===e?e+"("+t.slice(0,3).map(xt).join(",")+","+t[3]+")":void 0},bt=function(t){return xt(100*t)/100},A=function(t,e){var n;return n=e<1?"hsla":"hsl",t[0]=bt(t[0]||0),t[1]=bt(100*t[1])+"%",t[2]=bt(100*t[2])+"%","hsla"===n&&(t[3]=e),n+"("+t.join(",")+")"},_.css=function(t){return I(t)},L.css=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,Ot.call(arguments).concat(["css"]),function(){})},r.prototype.css=function(t){return null==t&&(t="rgb"),"rgb"===t.slice(0,3)?at(this._rgb):"hsl"===t.slice(0,3)?A(this.hsl(),this.alpha()):void 0},_.named=function(t){return R(Ct[t])},d.push({p:5,test:function(t){if(1===arguments.length&&null!=Ct[t])return"named"}}),r.prototype.name=function(t){var e,n;arguments.length&&(Ct[t]&&(this._rgb=R(Ct[t])),this._rgb[3]=1),e=this.hex();for(n in Ct)if(e===Ct[n])return n;return e},Z=function(){var t,e,n,i;return i=It(arguments),n=i[0],t=i[1],e=i[2],e*=o,[n,P(e)*t,Lt(e)*t]},X=function(){var t,e,n,i,r,o,s,a,u,l,f;return n=It(arguments),a=n[0],r=n[1],s=n[2],l=Z(a,r,s),t=l[0],e=l[1],i=l[2],f=H(t,e,i),u=f[0],o=f[1],i=f[2],[u,o,i,n.length>3?n[3]:1]},V=function(){var t,e,n,i,r,o;return o=It(arguments),r=o[0],t=o[1],e=o[2],n=wt(t*t+e*e),i=(m(e,t)*l+360)%360,0===xt(1e4*n)&&(i=Number.NaN),[r,n,i]},_t=function(){var t,e,n,i,r,o,s;return o=It(arguments),r=o[0],n=o[1],e=o[2],s=ht(r,n,e),i=s[0],t=s[1],e=s[2],V(i,t,e)},L.lch=function(){var t;return t=It(arguments),new r(t,"lch")},L.hcl=function(){var t;return t=It(arguments),new r(t,"hcl")},_.lch=X,_.hcl=function(){var t,e,n,i;return i=It(arguments),e=i[0],t=i[1],n=i[2],X([n,t,e])},r.prototype.lch=function(){return _t(this._rgb)},r.prototype.hcl=function(){return _t(this._rgb).reverse()},st=function(t){var e,n,i,r,o,s,a,u,l;return null==t&&(t="rgb"),u=It(arguments),a=u[0],r=u[1],e=u[2],a/=255,r/=255,e/=255,o=1-Math.max(a,Math.max(r,e)),i=o<1?1/(1-o):0,n=(1-a-o)*i,s=(1-r-o)*i,l=(1-e-o)*i,[n,s,l,o]},M=function(){var t,e,n,i,r,o,s,a,u;return e=It(arguments),i=e[0],s=e[1],u=e[2],o=e[3],t=e.length>4?e[4]:1,1===o?[0,0,0,t]:(a=i>=1?0:255*(1-i)*(1-o),r=s>=1?0:255*(1-s)*(1-o),n=u>=1?0:255*(1-u)*(1-o),[a,r,n,t])},_.cmyk=function(){return M(It(arguments))},L.cmyk=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,Ot.call(arguments).concat(["cmyk"]),function(){})},r.prototype.cmyk=function(){return st(this._rgb)},_.gl=function(){var t,e,n,i,r;for(i=function(){var t,n;t=It(arguments),n=[];for(e in t)r=t[e],n.push(r);return n}.apply(this,arguments),t=n=0;n<=2;t=++n)i[t]*=255;return i},L.gl=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,Ot.call(arguments).concat(["gl"]),function(){})},r.prototype.gl=function(){var t;return t=this._rgb,[t[0]/255,t[1]/255,t[2]/255,t[3]]},pt=function(t,e,n){var i;return i=It(arguments),t=i[0],e=i[1],n=i[2],t=$(t),e=$(e),n=$(n),.2126*t+.7152*e+.0722*n},$=function(t){return t/=255,t<=.03928?t/12.92:ot((t+.055)/1.055,2.4)},U=function(t,e,n,i){var o,s;return o=t._rgb,s=e._rgb,new r(o[0]+n*(s[0]-o[0]),o[1]+n*(s[1]-o[1]),o[2]+n*(s[2]-o[2]),i)},p.push(["rgb",U]),r.prototype.luminance=function(t,e){var n,i,r,o;return null==e&&(e="rgb"),arguments.length?(0===t?this._rgb=[0,0,0,this._rgb[3]]:1===t?this._rgb=[255,255,255,this._rgb[3]]:(i=1e-7,r=20,o=function(n,s){var a,u;return u=n.interpolate(s,.5,e),a=u.luminance(),Math.abs(t-a)<i||!r--?u:a>t?o(n,u):o(u,s)},n=pt(this._rgb),this._rgb=(n>t?o(L("black"),this):o(this,L("white"))).rgba()),this):pt(this._rgb)},Mt=function(t){var e,n,i,r;return r=t/100,r<66?(i=255,n=-155.25485562709179-.44596950469579133*(n=r-2)+104.49216199393888*J(n),e=r<20?0:.8274096064007395*(e=r-10)-254.76935184120902+115.67994401066147*J(e)):(i=351.97690566805693+.114206453784165*(i=r-55)-40.25366309332127*J(i),n=325.4494125711974+.07943456536662342*(n=r-50)-28.0852963507957*J(n),e=255),[i,n,e]},mt=function(){var t,e,n,i,r,o,s,a;for(o=It(arguments),r=o[0],o[1],t=o[2],i=1e3,n=4e4,e=.4;n-i>e;)a=.5*(n+i),s=Mt(a),s[2]/s[0]>=t/r?n=a:i=a;return xt(a)},L.temperature=L.kelvin=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,Ot.call(arguments).concat(["temperature"]),function(){})},_.temperature=_.kelvin=_.K=Mt,r.prototype.temperature=function(){return mt(this._rgb)},r.prototype.kelvin=r.prototype.temperature,L.contrast=function(t,e){var n,i,o,s;return"string"!==(o=Pt(t))&&"number"!==o||(t=new r(t)),"string"!==(s=Pt(e))&&"number"!==s||(e=new r(e)),n=t.luminance(),i=e.luminance(),n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)},L.distance=function(t,e,n){var i,o,s,a,u,l,f;null==n&&(n="lab"),"string"!==(u=Pt(t))&&"number"!==u||(t=new r(t)),"string"!==(l=Pt(e))&&"number"!==l||(e=new r(e)),s=t.get(n),a=e.get(n),f=0;for(o in s)i=(s[o]||0)-(a[o]||0),f+=i*i;return Math.sqrt(f)},L.deltaE=function(t,e,n,i){var o,s,u,l,f,c,d,h,_,p,v,y,b,x,E,L,w,M,I,C,S,N,O,T,R,D,A;for(null==n&&(n=1),null==i&&(i=1),"string"!==(w=Pt(t))&&"number"!==w||(t=new r(t)),"string"!==(M=Pt(e))&&"number"!==M||(e=new r(e)),I=t.lab(),o=I[0],u=I[1],f=I[2],C=e.lab(),s=C[0],l=C[1],c=C[2],d=wt(u*u+f*f),h=wt(l*l+c*c),O=o<16?.511:.040975*o/(1+.01765*o),S=.0638*d/(1+.0131*d)+.638,L=d<1e-6?0:180*m(f,u)/a;L<0;)L+=360;for(;L>=360;)L-=360;return T=L>=164&&L<=345?.56+g(.2*P(a*(L+168)/180)):.36+g(.4*P(a*(L+35)/180)),_=d*d*d*d,E=wt(_/(_+1900)),N=S*(E*T+1-E),x=o-s,b=d-h,v=u-l,y=f-c,p=v*v+y*y-b*b,R=x/(n*O),D=b/(i*S),A=N,wt(R*R+D*D+p/(A*A))},r.prototype.get=function(t){var e,n,i,r,o,s;return i=this,o=t.split("."),r=o[0],e=o[1],s=i[r](),e?(n=r.indexOf(e),n>-1?s[n]:console.warn("unknown channel "+e+" in mode "+r)):s},r.prototype.set=function(t,e){var n,i,r,o,s,a;if(r=this,s=t.split("."),o=s[0],n=s[1],n)if(a=r[o](),(i=o.indexOf(n))>-1)if("string"===Pt(e))switch(e.charAt(0)){case"+":case"-":a[i]+=+e;break;case"*":a[i]*=+e.substr(1);break;case"/":a[i]/=+e.substr(1);break;default:a[i]=+e}else a[i]=e;else console.warn("unknown channel "+n+" in mode "+o);else a=e;return L(a,o).alpha(r.alpha())},r.prototype.clipped=function(){return this._rgb._clipped||!1},r.prototype.alpha=function(t){return arguments.length?L.rgb([this._rgb[0],this._rgb[1],this._rgb[2],t]):this._rgb[3]},r.prototype.darken=function(t){var e,n;return null==t&&(t=1),n=this,e=n.lab(),e[0]-=s.Kn*t,L.lab(e).alpha(n.alpha())},r.prototype.brighten=function(t){return null==t&&(t=1),this.darken(-t)},r.prototype.darker=r.prototype.darken,r.prototype.brighter=r.prototype.brighten,r.prototype.saturate=function(t){var e,n;return null==t&&(t=1),n=this,e=n.lch(),e[1]+=t*s.Kn,e[1]<0&&(e[1]=0),L.lch(e).alpha(n.alpha())},r.prototype.desaturate=function(t){return null==t&&(t=1),this.saturate(-t)},r.prototype.premultiply=function(){var t,e;return e=this.rgb(),t=this.alpha(),L(e[0]*t,e[1]*t,e[2]*t,t)},y=function(t,e,n){if(!y[n])throw"unknown blend mode "+n;return y[n](t,e)},b=function(t){return function(e,n){var i,r;return i=L(n).rgb(),r=L(e).rgb(),L(t(i,r),"rgb")}},N=function(t){return function(e,n){var i,r,o;for(o=[],i=r=0;r<=3;i=++r)o[i]=t(e[i],n[i]);return o}},nt=function(t,e){return t},et=function(t,e){return t*e/255},C=function(t,e){return t>e?e:t},W=function(t,e){return t>e?t:e},Et=function(t,e){return 255*(1-(1-t/255)*(1-e/255))},rt=function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},E=function(t,e){return 255*(1-(1-e/255)/(t/255))},S=function(t,e){return 255===t?255:(t=e/255*255/(1-t/255),t>255?255:t)},y.normal=b(N(nt)),y.multiply=b(N(et)),y.screen=b(N(Et)),y.overlay=b(N(rt)),y.darken=b(N(C)),y.lighten=b(N(W)),y.dodge=b(N(S)),y.burn=b(N(E)),L.blend=y,L.analyze=function(t){var e,n,i,r;for(i={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},n=0,e=t.length;n<e;n++)null==(r=t[n])||isNaN(r)||(i.values.push(r),i.sum+=r,r<i.min&&(i.min=r),r>i.max&&(i.max=r),i.count+=1);return i.domain=[i.min,i.max],i.limits=function(t,e){return L.limits(i,t,e)},i},L.scale=function(t,e){var n,i,r,o,s,a,u,l,f,c,d,h,_,p,g,m,v,y,b,x;return l="rgb",f=L("#ccc"),_=0,!1,s=[0,1],h=[],d=[0,0],n=!1,r=[],c=!1,u=0,a=1,o=!1,i={},p=!0,b=function(t){var e,n,i,o,s,a;if(null==t&&(t=["#fff","#000"]),null!=t&&"string"===Pt(t)&&null!=L.brewer&&(t=L.brewer[t]||L.brewer[t.toLowerCase()]||t),"array"===Pt(t)){for(t=t.slice(0),e=i=0,o=t.length-1;0<=o?i<=o:i>=o;e=0<=o?++i:--i)n=t[e],"string"===Pt(n)&&(t[e]=L(n));for(h.length=0,e=a=0,s=t.length-1;0<=s?a<=s:a>=s;e=0<=s?++a:--a)h.push(e/(t.length-1))}return y(),r=t},m=function(t){var e,i;if(null!=n){for(i=n.length-1,e=0;e<i&&t>=n[e];)e++;return e-1}return 0},x=function(t){return t},function(t){var e,i,r,o,s;return s=t,n.length>2&&(o=n.length-1,e=m(t),r=n[0]+(n[1]-n[0])*(0+.5*_),i=n[o-1]+(n[o]-n[o-1])*(1-.5*_),s=u+(n[e]+.5*(n[e+1]-n[e])-r)/(i-r)*(a-u)),s},v=function(t,e){var o,s,c,_,g,v,y,b;if(null==e&&(e=!1),isNaN(t))return f;if(e?b=t:n&&n.length>2?(o=m(t),b=o/(n.length-2),b=d[0]+b*(1-d[0]-d[1])):a!==u?(b=(t-u)/(a-u),b=d[0]+b*(1-d[0]-d[1]),b=Math.min(1,Math.max(0,b))):b=1,e||(b=x(b)),_=Math.floor(1e4*b),p&&i[_])s=i[_];else{if("array"===Pt(r))for(c=g=0,y=h.length-1;0<=y?g<=y:g>=y;c=0<=y?++g:--g){if(v=h[c],b<=v){s=r[c];break}if(b>=v&&c===h.length-1){s=r[c];break}if(b>v&&b<h[c+1]){b=(b-v)/(h[c+1]-v),s=L.interpolate(r[c],r[c+1],b,l);break}}else"function"===Pt(r)&&(s=r(b));p&&(i[_]=s)}return s},y=function(){return i={}},b(t),g=function(t){var e;return e=L(v(t)),c&&e[c]?e[c]():e},g.classes=function(t){var e;return null!=t?("array"===Pt(t)?(n=t,s=[t[0],t[t.length-1]]):(e=L.analyze(s),n=0===t?[e.min,e.max]:L.limits(e,"e",t)),g):n},g.domain=function(t){var e,n,i,o,l,f,c;if(!arguments.length)return s;if(u=t[0],a=t[t.length-1],h=[],i=r.length,t.length===i&&u!==a)for(l=0,o=t.length;l<o;l++)n=t[l],h.push((n-u)/(a-u));else for(e=c=0,f=i-1;0<=f?c<=f:c>=f;e=0<=f?++c:--c)h.push(e/(i-1));return s=[u,a],g},g.mode=function(t){return arguments.length?(l=t,y(),g):l},g.range=function(t,e){return b(t,e),g},g.out=function(t){return c=t,g},g.spread=function(t){return arguments.length?(_=t,g):_},g.correctLightness=function(t){return null==t&&(t=!0),o=t,y(),x=o?function(t){var e,n,i,r,o,s,a,u,l;for(e=v(0,!0).lab()[0],n=v(1,!0).lab()[0],a=e>n,i=v(t,!0).lab()[0],o=e+(n-e)*t,r=i-o,u=0,l=1,s=20;Math.abs(r)>.01&&s-- >0;)!function(){a&&(r*=-1),r<0?(u=t,t+=.5*(l-t)):(l=t,t+=.5*(u-t)),i=v(t,!0).lab()[0],r=i-o}();return t}:function(t){return t},g},g.padding=function(t){return null!=t?("number"===Pt(t)&&(t=[t,t]),d=t,g):d},g.colors=function(e,i){var o,a,u,l,f,c,d,h;if(arguments.length<2&&(i="hex"),f=[],0===arguments.length)f=r.slice(0);else if(1===e)f=[g(.5)];else if(e>1)a=s[0],o=s[1]-a,f=function(){c=[];for(var t=0;0<=e?t<e:t>e;0<=e?t++:t--)c.push(t);return c}.apply(this).map(function(t){return g(a+t/(e-1)*o)});else{if(t=[],d=[],n&&n.length>2)for(u=h=1,l=n.length;1<=l?h<l:h>l;u=1<=l?++h:--h)d.push(.5*(n[u-1]+n[u]));else d=s;f=d.map(function(t){return g(t)})}return L[i]&&(f=f.map(function(t){return t[i]()})),f},g.cache=function(t){return null!=t?p=t:p},g},null==L.scales&&(L.scales={}),L.scales.cool=function(){return L.scale([L.hsl(180,1,.9),L.hsl(250,.7,.4)])},L.scales.hot=function(){return L.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},L.analyze=function(t,e,n){var i,r,o,s,a,u,l;if(a={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),i=function(t){null==t||isNaN(t)||(a.values.push(t),a.sum+=t,t<a.min&&(a.min=t),t>a.max&&(a.max=t),a.count+=1)},l=function(t,r){if(n(t,r))return i(null!=e&&"function"===Pt(e)?e(t):null!=e&&"string"===Pt(e)||"number"===Pt(e)?t[e]:t)},"array"===Pt(t))for(s=0,o=t.length;s<o;s++)u=t[s],l(u);else for(r in t)u=t[r],l(u,r);return a.domain=[a.min,a.max],a.limits=function(t,e){return L.limits(a,t,e)},a},L.limits=function(t,e,n){var i,r,o,s,a,u,l,f,c,d,h,_,p,m,v,y,b,x,E,w,M,P,I,C,S,N,T,R,D,A,k,j,F,z,G,B,q,U,V,H,Y,Z,X,W,K,$,Q,et,nt,it,rt,st,at,ut,lt;if(null==e&&(e="equal"),null==n&&(n=7),"array"===Pt(t)&&(t=L.analyze(t)),S=t.min,tt=t.max,t.sum,ut=t.values.sort(function(t,e){return t-e}),1===n)return[S,tt];if(I=[],"c"===e.substr(0,1)&&(I.push(S),I.push(tt)),"e"===e.substr(0,1)){for(I.push(S),w=k=1,G=n-1;1<=G?k<=G:k>=G;w=1<=G?++k:--k)I.push(S+w/n*(tt-S));I.push(tt)}else if("l"===e.substr(0,1)){if(S<=0)throw"Logarithmic scales are only possible for values > 0";for(N=Math.LOG10E*J(S),C=Math.LOG10E*J(tt),I.push(S),w=lt=1,B=n-1;1<=B?lt<=B:lt>=B;w=1<=B?++lt:--lt)I.push(ot(10,N+w/n*(C-N)));I.push(tt)}else if("q"===e.substr(0,1)){for(I.push(S),w=i=1,Z=n-1;1<=Z?i<=Z:i>=Z;w=1<=Z?++i:--i)j=(ut.length-1)*w/n,F=O(j),F===j?I.push(ut[F]):(z=j-F,I.push(ut[F]*(1-z)+ut[F+1]*z));I.push(tt)}else if("k"===e.substr(0,1)){for(R=ut.length,m=new Array(R),x=new Array(n),it=!0,D=0,y=null,y=[],y.push(S),w=r=1,X=n-1;1<=X?r<=X:r>=X;w=1<=X?++r:--r)y.push(S+w/n*(tt-S));for(y.push(tt);it;){for(M=o=0,W=n-1;0<=W?o<=W:o>=W;M=0<=W?++o:--o)x[M]=0;for(w=s=0,K=R-1;0<=K?s<=K:s>=K;w=0<=K?++s:--s){for(at=ut[w],T=Number.MAX_VALUE,M=a=0,$=n-1;0<=$?a<=$:a>=$;M=0<=$?++a:--a)(E=g(y[M]-at))<T&&(T=E,v=M);x[v]++,m[w]=v}for(A=new Array(n),M=u=0,Q=n-1;0<=Q?u<=Q:u>=Q;M=0<=Q?++u:--u)A[M]=null;for(w=l=0,et=R-1;0<=et?l<=et:l>=et;w=0<=et?++l:--l)b=m[w],null===A[b]?A[b]=ut[w]:A[b]+=ut[w];for(M=f=0,nt=n-1;0<=nt?f<=nt:f>=nt;M=0<=nt?++f:--f)A[M]*=1/x[M];for(it=!1,M=c=0,q=n-1;0<=q?c<=q:c>=q;M=0<=q?++c:--c)if(A[M]!==y[w]){it=!0;break}y=A,D++,D>200&&(it=!1)}for(P={},M=d=0,U=n-1;0<=U?d<=U:d>=U;M=0<=U?++d:--d)P[M]=[];for(w=h=0,V=R-1;0<=V?h<=V:h>=V;w=0<=V?++h:--h)b=m[w],P[b].push(ut[w]);for(rt=[],M=_=0,H=n-1;0<=H?_<=H:_>=H;M=0<=H?++_:--_)rt.push(P[M][0]),rt.push(P[M][P[M].length-1]);for(rt=rt.sort(function(t,e){return t-e}),I.push(rt[0]),w=p=1,Y=rt.length-1;p<=Y;w=p+=2)st=rt[w],isNaN(st)||-1!==I.indexOf(st)||I.push(st)}return I},D=function(t,e,n){var i,r,o,s;return i=It(arguments),t=i[0],e=i[1],n=i[2],isNaN(t)&&(t=0),t/=360,t<1/3?(r=(1-e)/3,s=(1+e*P(f*t)/P(u-f*t))/3,o=1-(r+s)):t<2/3?(t-=1/3,s=(1-e)/3,o=(1+e*P(f*t)/P(u-f*t))/3,r=1-(s+o)):(t-=2/3,o=(1-e)/3,r=(1+e*P(f*t)/P(u-f*t))/3,s=1-(o+r)),s=K(n*s*3),o=K(n*o*3),r=K(n*r*3),[255*s,255*o,255*r,i.length>3?i[3]:1]},ft=function(){var t,e,n,i,r,o,s,a;return s=It(arguments),o=s[0],e=s[1],t=s[2],f=2*Math.PI,o/=255,e/=255,t/=255,r=Math.min(o,e,t),i=(o+e+t)/3,a=1-r/i,0===a?n=0:(n=(o-e+(o-t))/2,n/=Math.sqrt((o-e)*(o-e)+(o-t)*(e-t)),n=Math.acos(n),t>e&&(n=f-n),n/=f),[360*n,a,i]},L.hsi=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(r,Ot.call(arguments).concat(["hsi"]),function(){})},_.hsi=D,r.prototype.hsi=function(){return ft(this._rgb)},z=function(t,e,n,i){var r,o,s,a,u,l,f,c,d,h,_,p;return"hsl"===i?(_=t.hsl(),p=e.hsl()):"hsv"===i?(_=t.hsv(),p=e.hsv()):"hcg"===i?(_=t.hcg(),p=e.hcg()):"hsi"===i?(_=t.hsi(),p=e.hsi()):"lch"!==i&&"hcl"!==i||(i="hcl",_=t.hcl(),p=e.hcl()),"h"===i.substr(0,1)&&(s=_[0],d=_[1],l=_[2],a=p[0],h=p[1],f=p[2]),isNaN(s)||isNaN(a)?isNaN(s)?isNaN(a)?o=Number.NaN:(o=a,1!==l&&0!==l||"hsv"===i||(c=h)):(o=s,1!==f&&0!==f||"hsv"===i||(c=d)):(r=a>s&&a-s>180?a-(s+360):a<s&&s-a>180?a+360-s:a-s,o=s+n*r),null==c&&(c=d+n*(h-d)),u=l+n*(f-l),L[i](o,c,u)},p=p.concat(function(){var t,e,n,i;for(n=["hsv","hsl","hsi","hcl","lch","hcg"],i=[],e=0,t=n.length;e<t;e++)Q=n[e],i.push([Q,z]);return i}()),q=function(t,e,n,i){var r,o;return r=t.num(),o=e.num(),L.num(r+(o-r)*n,"num")},p.push(["num",q]),G=function(t,e,n,i){var o,s;return o=t.lab(),s=e.lab(),new r(o[0]+n*(s[0]-o[0]),o[1]+n*(s[1]-o[1]),o[2]+n*(s[2]-o[2]),i)},p.push(["lab",G])}).call(void 0)}).call(e,n(501)(t))},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t){function e(t,e){if("Polygon"===e.geometry.type)return(0,M.default)(t,e);if("MultiPolygon"===e.geometry.type)for(var n=e.geometry.coordinates,i=0;i<n.length;i++){var r={geometry:{type:"Polygon",coordinates:n[i]}};if((0,M.default)(t,r))return!0}return!1}var n=u.toGeoJSON(),i=new p.default.geoJson(t);k.addLayer(i),n.features.forEach(function(n){e(t,n)&&(n.properties._selected=!0)})}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=t.toGeoJSON();u.setStyle(function(t){var e=t.properties._selected||t.properties._hovered;return{color:e?T:R,dashArray:"3 3",weight:e?2:0}});var n=e.features.filter(function(t){return t.properties._selected||t.properties._hovered});(0,O.populateReadouts)(n),document.querySelector("#stat-cbgs").innerHTML=n.length}var a=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();n(233),n(234);var u,l,f,c,d=n(235),h=i(d),_=n(254),p=i(_),g=n(255),m=(i(g),n(256)),v=(i(m),n(257)),y=n(28),b=n(269),x=i(b),E=n(494),L=i(E),w=n(495),M=i(w),P=n(498),I=i(P),C=n(500),S=i(C),N=n(502),O=n(503),T="#444",R="#000",D={"btn-sd-county":{files:{polygons:"data/sd_cbgs_latest_attributes_normed6.geojson",stations:"data/sd-rail-stations-buffered.geojson",ces:"data/ces-tracts.geojson"},center:[32.7157,-117.11],zoom:12},"btn-sm-county":{files:{polygons:"data/san-mateo-with-data_normed6.geojson",stations:"data/stations-san-mateo.geojson",ces:"data/ces-tracts.geojson"},center:[37.56,-122.313],zoom:12}},A=p.default.map("map").setView([32.7157,-117.11],12);p.default.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw",{maxZoom:18,attribution:"",id:"mapbox.streets"}).addTo(A);var k=new p.default.FeatureGroup;A.addLayer(k);var j={edit:{featureGroup:k,edit:!1},draw:{polygon:!0,circle:!1,circlemarker:!1,rectangle:!1}},F=new p.default.Control.Draw(j);A.addControl(F);var z=new v.EsriProvider,G=new v.GeoSearchControl({provider:z,style:"bar"});A.addControl(G),$("#modal-directions").modal("show");var B=D["btn-sd-county"];A.setView(B.center,B.zoom);var q=[B.files.polygons,B.files.stations,B.files.ces];h.default.all(q.map(h.default.get)).then(function(t){var e=a(t,3),n=e[0],i=e[1],d=e[2],h=n.data.features;O.PROPERTY_ORDER.forEach(function(t){var e=h.map(O.property_config[t].summarizer).filter(function(t){return!isNaN(t)&&isFinite(t)}).filter(function(t){return t>0}),n=Math.min.apply(Math,r(e)),i=Math.max.apply(Math,r(e)),o=e.reduce(function(t,e){return t+e},0)/e.length;O.property_config[t].range={min:n,max:i,avg:o}}),u=new S.default(n.data,{property:O.property_config.vmt.summarizer,style:function(t){return{color:t.properties._selected?T:R,weight:t.properties._selected?2:0,opacity:1,fillOpacity:.4}},onEachFeature:function(t,e){e.on("mouseover",function(e){t.properties._hovered=!0,s()}),e.on("mouseout",function(e){delete t.properties._hovered,s()})}}).addTo(A);var _=JSON.parse(JSON.stringify(i.data));_.features=_.features.map(function(t){return(0,L.default)((0,y.polygon)(t.geometry.coordinates))}),f=p.default.geoJSON(_,{pointToLayer:function(t,e){return p.default.circleMarker(e,{radius:3,color:"$444",fillOpacity:1})}}).addTo(A),l=p.default.geoJSON(i.data,{style:function(t){var e={weight:3,fillOpacity:0};return 83===t.properties.F02||"INTEGRATED"===t.properties.FINAL_TYPO?e.color="SeaGreen":"TRANSITIONING"===t.properties.FINAL_TYPO?e.color="rgb(255, 195, 0)":e.color="Crimson",e},onEachFeature:function(t,e){e.on("click",function(){return o(t)});t.properties.FULL_NAME,function(t){t.charAt(0).toUpperCase(),t.slice(1).toLowerCase()}(t.properties.FINAL_TYPO)}}).addTo(A);var g=new p.default.StripePattern({angle:45,weight:4,color:"black",opacity:1});g.addTo(A),c=p.default.geoJSON(d.data,{style:{fillPattern:g,fillOpacity:.3,opacity:0},interactive:!1}).addTo(A);var m={position:"topright"};p.default.control.layers([],{"Livability Attributes":u,"Rail Transit Station .5 Mile Buffers":l,"Rail Transit Stations":f,"Disadvantage Communities":c},m).addTo(A)}),$(".dropdown-menu a").click(function(){$("#btn-label").text(this.text);var t=O.property_config[this.id],e=t.summarizer,n=t.range,i=t.invert,r=n.max;i?u.setProperty(function(t){return r-e(t)},!0):u.setProperty(e,!0)}),A.on(p.default.Draw.Event.DELETESTOP,function(t){u.eachLayer(function(t){delete t.feature.properties._selected}),u.setStyle(function(t){return{color:R,weight:0}}),(0,O.clearReadouts)(),document.querySelector("#stat-cbgs").innerHTML=0}),A.on(p.default.Draw.Event.CREATED,function(t){var e=void 0,n=t.layer,i=t.layerType,r={units:"miles"};if("marker"===i){var a=[n._latlng.lng,n._latlng.lat];e=(0,I.default)(a,.5,r)}else if("circle"===i){var a=[n._latlng.lng,n._latlng.lat];e=(0,I.default)(a,.5,r)}else if("polyline"===i){var a=n._latlngs.map(function(t){return[t.lng,t.lat]});e=(0,x.default)((0,y.lineString)(a),.5,r)}else{var a=n._latlngs.map(function(t){return t.map(function(t){return[t.lng,t.lat]})});a[0].push(a[0][0]),e=(0,y.polygon)(a)}o(e),s()}),$("#download-csv").on("click",function(){var t=u.toGeoJSON(),e=t.features.filter(function(t){return t.properties._selected});if(0==e.length)return void alert("Select features first!");var n=e.map(function(t){var e=t.properties.GEOIDCLEAN||t.properties.GEOID;return O.PROPERTY_ORDER.reduce(function(e,n){var i=O.property_config[n],r=i.attribute,o=i.name;return r?(e[o]=t.properties[r]||"NA",e):e},{FIPS:e})});(0,N.exportCSVFile)(n)})},function(t,e){},function(t,e){},function(t,e,n){"use strict";t.exports=n(236)},function(t,e,n){"use strict";function i(t){var e=new s(t),n=o(s.prototype.request,e);return r.extend(n,s.prototype,e),r.extend(n,e),n}var r=n(27),o=n(136),s=n(238),a=n(101),u=i(a);u.Axios=s,u.create=function(t){return i(r.merge(a,t))},u.Cancel=n(140),u.CancelToken=n(252),u.isCancel=n(139),u.all=function(t){return Promise.all(t)},u.spread=n(253),t.exports=u,t.exports.default=u},function(t,e,n){"use strict";function i(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&i(t.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(i(t)||r(t)||!!t._isBuffer)}},function(t,e,n){"use strict";function i(t){this.defaults=t,this.interceptors={request:new s,response:new s}}var r=n(101),o=n(27),s=n(247),a=n(248);i.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),t=o.merge(r,this.defaults,{method:"get"},t),t.method=t.method.toLowerCase();var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},o.forEach(["delete","get","head","options"],function(t){i.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){i.prototype[t]=function(e,n,i){return this.request(o.merge(i||{},{method:t,url:e,data:n}))}}),t.exports=i},function(t,e,n){"use strict";var i=n(27);t.exports=function(t,e){i.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})}},function(t,e,n){"use strict";var i=n(138);t.exports=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t}},function(t,e,n){"use strict";function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var r=n(27);t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var s=[];r.forEach(e,function(t,e){null!==t&&void 0!==t&&(r.isArray(t)&&(e+="[]"),r.isArray(t)||(t=[t]),r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))}))}),o=s.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},function(t,e,n){"use strict";var i=n(27),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,s={};return t?(i.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=i.trim(t.substr(0,o)).toLowerCase(),n=i.trim(t.substr(o+1)),e){if(s[e]&&r.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}}),s):s}},function(t,e,n){"use strict";var i=n(27);t.exports=i.isStandardBrowserEnv()?function(){function t(t){var e=t;return n&&(r.setAttribute("href",e),e=r.href),r.setAttribute("href",e),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}var e,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");return e=t(window.location.href),function(n){var r=i.isString(n)?t(n):n;return r.protocol===e.protocol&&r.host===e.host}}():function(){return function(){return!0}}()},function(t,e,n){"use strict";function i(){this.message="String contains an invalid character"}function r(t){for(var e,n,r=String(t),s="",a=0,u=o;r.charAt(0|a)||(u="=",a%1);s+=u.charAt(63&e>>8-a%1*8)){if((n=r.charCodeAt(a+=.75))>255)throw new i;e=e<<8|n}return s}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",t.exports=r},function(t,e,n){"use strict";var i=n(27);t.exports=i.isStandardBrowserEnv()?function(){return{write:function(t,e,n,r,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(r)&&a.push("path="+r),i.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(t,e,n){"use strict";function i(){this.handlers=[]}var r=n(27);i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},function(t,e,n){"use strict";function i(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var r=n(27),o=n(249),s=n(139),a=n(101),u=n(250),l=n(251);t.exports=function(t){return i(t),t.baseURL&&!u(t.url)&&(t.url=l(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return i(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return s(e)||(i(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var i=n(27);t.exports=function(t,e,n){return i.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}var r=n(140);i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";var i,r,o,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};/* @preserve
 * Leaflet 1.2.0, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2017 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function(n,a){"object"===s(e)&&void 0!==t?a(e):(r=[e],i=a,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o))}(0,function(t){function e(t){var e,n,i,r;for(n=1,i=arguments.length;n<i;n++){r=arguments[n];for(e in r)t[e]=r[e]}return t}function n(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}function i(t){return t._leaflet_id=t._leaflet_id||++pe,t._leaflet_id}function r(t,e,n){var i,r,o,s;return s=function(){i=!1,r&&(o.apply(n,r),r=!1)},o=function(){i?r=arguments:(t.apply(n,arguments),setTimeout(s,e),i=!0)}}function o(t,e,n){var i=e[1],r=e[0],o=i-r;return t===i&&n?t:((t-r)%o+o)%o+r}function a(){return!1}function u(t,e){var n=Math.pow(10,e||5);return Math.round(t*n)/n}function l(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function f(t){return l(t).split(/\s+/)}function c(t,e){t.hasOwnProperty("options")||(t.options=t.options?_e(t.options):{});for(var n in e)t.options[n]=e[n];return t.options}function d(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}function h(t,e){return t.replace(ge,function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i})}function _(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function p(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}function g(t){var e=+new Date,n=Math.max(0,16-(e-ye));return ye=e+n,window.setTimeout(t,n)}function m(t,e,i){if(!i||be!==g)return be.call(window,n(t,e));t.call(e)}function v(t){t&&xe.call(window,t)}function y(){}function b(t){if(L&&L.Mixin){t=me(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}function x(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}function E(t,e,n){return t instanceof x?t:me(t)?new x(t[0],t[1]):void 0===t||null===t?t:"object"===(void 0===t?"undefined":s(t))&&"x"in t&&"y"in t?new x(t.x,t.y):new x(t,e,n)}function w(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function M(t,e){return!t||t instanceof w?t:new w(t,e)}function P(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function I(t,e){return t instanceof P?t:new P(t,e)}function C(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function S(t,e,n){return t instanceof C?t:me(t)&&"object"!==s(t[0])?3===t.length?new C(t[0],t[1],t[2]):2===t.length?new C(t[0],t[1]):null:void 0===t||null===t?t:"object"===(void 0===t?"undefined":s(t))&&"lat"in t?new C(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new C(t,e,n)}function N(t,e,n,i){if(me(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function O(t,e,n,i){return new N(t,e,n,i)}function T(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function R(t,e){var n,i,r,o,s,a,u="";for(n=0,r=t.length;n<r;n++){for(s=t[n],i=0,o=s.length;i<o;i++)a=s[i],u+=(i?"L":"M")+a.x+" "+a.y;u+=e?ln?"z":"x":""}return u||"M0 0"}function D(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}function A(t,e,n,i){return"touchstart"===e?j(t,n,i):"touchmove"===e?q(t,n,i):"touchend"===e&&U(t,n,i),this}function k(t,e,n){var i=t["_leaflet_"+e+n];return"touchstart"===e?t.removeEventListener(dn,i,!1):"touchmove"===e?t.removeEventListener(hn,i,!1):"touchend"===e&&(t.removeEventListener(_n,i,!1),t.removeEventListener(pn,i,!1)),this}function j(t,e,i){var r=n(function(t){if("mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(gn.indexOf(t.target.tagName)<0))return;Q(t)}B(t,e)});t["_leaflet_touchstart"+i]=r,t.addEventListener(dn,r,!1),vn||(document.documentElement.addEventListener(dn,F,!0),document.documentElement.addEventListener(hn,z,!0),document.documentElement.addEventListener(_n,G,!0),document.documentElement.addEventListener(pn,G,!0),vn=!0)}function F(t){mn[t.pointerId]=t,yn++}function z(t){mn[t.pointerId]&&(mn[t.pointerId]=t)}function G(t){delete mn[t.pointerId],yn--}function B(t,e){t.touches=[];for(var n in mn)t.touches.push(mn[n]);t.changedTouches=[t],e(t)}function q(t,e,n){var i=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&B(t,e)};t["_leaflet_touchmove"+n]=i,t.addEventListener(hn,i,!1)}function U(t,e,n){var i=function(t){B(t,e)};t["_leaflet_touchend"+n]=i,t.addEventListener(_n,i,!1),t.addEventListener(pn,i,!1)}function V(t,e,n){function i(t){var e;if(nn){if(!je||"mouse"===t.pointerType)return;e=yn}else e=t.touches.length;if(!(e>1)){var n=Date.now(),i=n-(o||n);s=t.touches?t.touches[0]:t,a=i>0&&i<=u,o=n}}function r(t){if(a&&!s.cancelBubble){if(nn){if(!je||"mouse"===t.pointerType)return;var n,i,r={};for(i in s)n=s[i],r[i]=n&&n.bind?n.bind(s):n;s=r}s.type="dblclick",e(s),o=null}}var o,s,a=!1,u=250;return t[En+bn+n]=i,t[En+xn+n]=r,t[En+"dblclick"+n]=e,t.addEventListener(bn,i,!1),t.addEventListener(xn,r,!1),t.addEventListener("dblclick",e,!1),this}function H(t,e){var n=t[En+bn+e],i=t[En+xn+e],r=t[En+"dblclick"+e];return t.removeEventListener(bn,n,!1),t.removeEventListener(xn,i,!1),je||t.removeEventListener("dblclick",r,!1),this}function Y(t,e,n,i){if("object"===(void 0===e?"undefined":s(e)))for(var r in e)X(t,r,e[r],n);else{e=f(e);for(var o=0,a=e.length;o<a;o++)X(t,e[o],n,i)}return this}function Z(t,e,n,i){if("object"===(void 0===e?"undefined":s(e)))for(var r in e)W(t,r,e[r],n);else if(e){e=f(e);for(var o=0,a=e.length;o<a;o++)W(t,e[o],n,i)}else{for(var u in t[Ln])W(t,u,t[Ln][u]);delete t[Ln]}return this}function X(t,e,n,r){var o=e+i(n)+(r?"_"+i(r):"");if(t[Ln]&&t[Ln][o])return this;var s=function(e){return n.call(r||t,e||window.event)},a=s;nn&&0===e.indexOf("touch")?A(t,e,s,o):!rn||"dblclick"!==e||!V||nn&&qe?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",s,!1):"mouseenter"===e||"mouseleave"===e?(s=function(e){e=e||window.event,ot(t,e)&&a(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",s,!1)):("click"===e&&ze&&(s=function(t){st(t,a)}),t.addEventListener(e,s,!1)):"attachEvent"in t&&t.attachEvent("on"+e,s):V(t,s,o),t[Ln]=t[Ln]||{},t[Ln][o]=s}function W(t,e,n,r){var o=e+i(n)+(r?"_"+i(r):""),s=t[Ln]&&t[Ln][o];if(!s)return this;nn&&0===e.indexOf("touch")?k(t,e,o):rn&&"dblclick"===e&&H?H(t,o):"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",s,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s),t[Ln][o]=null}function K(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,rt(t),this}function J(t){return X(t,"mousewheel",K),this}function $(t){return Y(t,"mousedown touchstart dblclick",K),X(t,"click",it),this}function Q(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function tt(t){return Q(t),K(t),this}function et(t,e){if(!e)return new x(t.clientX,t.clientY);var n=e.getBoundingClientRect();return new x(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)}function nt(t){return je?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/wn:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function it(t){Mn[t.type]=!0}function rt(t){var e=Mn[t.type];return Mn[t.type]=!1,e}function ot(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}function st(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=Ce&&n-Ce;if(i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated)return void tt(t);Ce=n,e(t)}function at(t){return"string"==typeof t?document.getElementById(t):t}function ut(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function lt(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function ft(t){var e=t.parentNode;e&&e.removeChild(t)}function ct(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function dt(t){var e=t.parentNode;e.lastChild!==t&&e.appendChild(t)}function ht(t){var e=t.parentNode;e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function _t(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=vt(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function pt(t,e){if(void 0!==t.classList)for(var n=f(e),i=0,r=n.length;i<r;i++)t.classList.add(n[i]);else if(!_t(t,e)){var o=vt(t);mt(t,(o?o+" ":"")+e)}}function gt(t,e){void 0!==t.classList?t.classList.remove(e):mt(t,l((" "+vt(t)+" ").replace(" "+e+" "," ")))}function mt(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function vt(t){return void 0===t.className.baseVal?t.className:t.className.baseVal}function yt(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&bt(t,e)}function bt(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}function xt(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function Et(t,e,n){var i=e||new x(0,0);t.style[In]=(Xe?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function Lt(t,e){t._leaflet_pos=e,Je?Et(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function wt(t){return t._leaflet_pos||new x(0,0)}function Mt(){Y(window,"dragstart",Q)}function Pt(){Z(window,"dragstart",Q)}function It(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Ct(),On=t,Tn=t.style.outline,t.style.outline="none",Y(window,"keydown",Ct))}function Ct(){On&&(On.style.outline=Tn,On=void 0,Tn=void 0,Z(window,"keydown",Ct))}function St(t,e){return new An(t,e)}function Nt(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=At(t,n),t=Rt(t,n)}function Ot(t,e,n){return Math.sqrt(Gt(t,e,n,!0))}function Tt(t,e,n){return Gt(t,e,n)}function Rt(t,e){var n=t.length,i=("undefined"==typeof Uint8Array?"undefined":s(Uint8Array))!==void 0+""?Uint8Array:Array,r=new i(n);r[0]=r[n-1]=1,Dt(t,r,e,0,n-1);var o,a=[];for(o=0;o<n;o++)r[o]&&a.push(t[o]);return a}function Dt(t,e,n,i,r){var o,s,a,u=0;for(s=i+1;s<=r-1;s++)(a=Gt(t[s],t[i],t[r],!0))>u&&(o=s,u=a);u>n&&(e[o]=1,Dt(t,e,n,i,o),Dt(t,e,n,o,r))}function At(t,e){for(var n=[t[0]],i=1,r=0,o=t.length;i<o;i++)zt(t[i],t[r])>e&&(n.push(t[i]),r=i);return r<o-1&&n.push(t[o-1]),n}function kt(t,e,n,i,r){var o,s,a,u=i?Yn:Ft(t,n),l=Ft(e,n);for(Yn=l;;){if(!(u|l))return[t,e];if(u&l)return!1;o=u||l,s=jt(t,e,o,n,r),a=Ft(s,n),o===u?(t=s,u=a):(e=s,l=a)}}function jt(t,e,n,i,r){var o,s,a=e.x-t.x,u=e.y-t.y,l=i.min,f=i.max;return 8&n?(o=t.x+a*(f.y-t.y)/u,s=f.y):4&n?(o=t.x+a*(l.y-t.y)/u,s=l.y):2&n?(o=f.x,s=t.y+u*(f.x-t.x)/a):1&n&&(o=l.x,s=t.y+u*(l.x-t.x)/a),new x(o,s,r)}function Ft(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function zt(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function Gt(t,e,n,i){var r,o=e.x,s=e.y,a=n.x-o,u=n.y-s,l=a*a+u*u;return l>0&&(r=((t.x-o)*a+(t.y-s)*u)/l,r>1?(o=n.x,s=n.y):r>0&&(o+=a*r,s+=u*r)),a=t.x-o,u=t.y-s,i?a*a+u*u:new x(o,s)}function Bt(t){return!me(t[0])||"object"!==s(t[0][0])&&void 0!==t[0][0]}function qt(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Bt(t)}function Ut(t,e,n){var i,r,o,s,a,u,l,f,c,d=[1,4,2,8];for(r=0,l=t.length;r<l;r++)t[r]._code=Ft(t[r],e);for(s=0;s<4;s++){for(f=d[s],i=[],r=0,l=t.length,o=l-1;r<l;o=r++)a=t[r],u=t[o],a._code&f?u._code&f||(c=jt(u,a,f,e,n),c._code=Ft(c,e),i.push(c)):(u._code&f&&(c=jt(u,a,f,e,n),c._code=Ft(c,e),i.push(c)),i.push(a));t=i}return t}function Vt(t){return new di(t)}function Ht(t,e){return new pi(t,e)}function Yt(t,e){return new mi(t,e)}function Zt(t,e,n){return new vi(t,e,n)}function Xt(t,e){return new yi(t,e)}function Wt(t,e){return new bi(t,e)}function Kt(t,e){var n,i,r,o,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,u=[],l=e&&e.pointToLayer,f=e&&e.coordsToLatLng||Jt;if(!a&&!s)return null;switch(s.type){case"Point":return n=f(a),l?l(t,n):new pi(n);case"MultiPoint":for(r=0,o=a.length;r<o;r++)n=f(a[r]),u.push(l?l(t,n):new pi(n));return new fi(u);case"LineString":case"MultiLineString":return i=$t(a,"LineString"===s.type?0:1,f),new yi(i,e);case"Polygon":case"MultiPolygon":return i=$t(a,"Polygon"===s.type?1:2,f),new bi(i,e);case"GeometryCollection":for(r=0,o=s.geometries.length;r<o;r++){var c=Kt({geometry:s.geometries[r],type:"Feature",properties:t.properties},e);c&&u.push(c)}return new fi(u);default:throw new Error("Invalid GeoJSON object.")}}function Jt(t){return new C(t[1],t[0],t[2])}function $t(t,e,n){for(var i,r=[],o=0,s=t.length;o<s;o++)i=e?$t(t[o],e-1,n):(n||Jt)(t[o]),r.push(i);return r}function Qt(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[u(t.lng,e),u(t.lat,e),u(t.alt,e)]:[u(t.lng,e),u(t.lat,e)]}function te(t,e,n,i){for(var r=[],o=0,s=t.length;o<s;o++)r.push(e?te(t[o],e-1,n,i):Qt(t[o],i));return!e&&n&&r.push(r[0]),r}function ee(t,n){return t.feature?e({},t.feature,{geometry:n}):ne(n)}function ne(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}function ie(t,e){return new xi(t,e)}function re(t,e,n){return new Pi(t,e,n)}function oe(t){return new Ti(t)}function se(t){return new Ri(t)}function ae(t,e){return new Di(t,e)}function ue(t,e){return new Ai(t,e)}function le(t){return un?new ji(t):null}function fe(t){return ln||fn?new Bi(t):null}function ce(t,e){return new qi(t,e)}function de(){return window.L=Ki,this}var he=Object.freeze;Object.freeze=function(t){return t};var _e=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),pe=0,ge=/\{ *([\w_\-]+) *\}/g,me=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},ve="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",ye=0,be=window.requestAnimationFrame||p("RequestAnimationFrame")||g,xe=window.cancelAnimationFrame||p("CancelAnimationFrame")||p("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)},Ee=(Object.freeze||Object)({freeze:he,extend:e,create:_e,bind:n,lastId:pe,stamp:i,throttle:r,wrapNum:o,falseFn:a,formatNum:u,trim:l,splitWords:f,setOptions:c,getParamString:d,template:h,isArray:me,indexOf:_,emptyImageUrl:ve,requestFn:be,cancelFn:xe,requestAnimFrame:m,cancelAnimFrame:v});y.extend=function(t){var n=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=n.__super__=this.prototype,r=_e(i);r.constructor=n,n.prototype=r;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&"__super__"!==o&&(n[o]=this[o]);return t.statics&&(e(n,t.statics),delete t.statics),t.includes&&(b(t.includes),e.apply(null,[r].concat(t.includes)),delete t.includes),r.options&&(t.options=e(_e(r.options),t.options)),e(r,t),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},n},y.include=function(t){return e(this.prototype,t),this},y.mergeOptions=function(t){return e(this.prototype.options,t),this},y.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var Le={on:function(t,e,n){if("object"===(void 0===t?"undefined":s(t)))for(var i in t)this._on(i,t[i],e);else{t=f(t);for(var r=0,o=t.length;r<o;r++)this._on(t[r],e,n)}return this},off:function(t,e,n){if(t)if("object"===(void 0===t?"undefined":s(t)))for(var i in t)this._off(i,t[i],e);else{t=f(t);for(var r=0,o=t.length;r<o;r++)this._off(t[r],e,n)}else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var r={fn:e,ctx:n},o=i,s=0,a=o.length;s<a;s++)if(o[s].fn===e&&o[s].ctx===n)return;o.push(r)},_off:function(t,e,n){var i,r,o;if(this._events&&(i=this._events[t])){if(!e){for(r=0,o=i.length;r<o;r++)i[r].fn=a;return void delete this._events[t]}if(n===this&&(n=void 0),i)for(r=0,o=i.length;r<o;r++){var s=i[r];if(s.ctx===n&&s.fn===e)return s.fn=a,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(r,1)}}},fire:function(t,n,i){if(!this.listens(t,i))return this;var r=e({},n,{type:t,target:this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var u=o[s];u.fn.call(u.ctx||this,r)}this._firingCount--}}return i&&this._propagateEvent(r),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,i){if("object"===(void 0===t?"undefined":s(t))){for(var r in t)this.once(r,t[r],e);return this}var o=n(function(){this.off(t,e,i).off(t,o,i)},this);return this.on(t,e,i).on(t,o,i)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[i(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[i(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,e({layer:t.target},t),!0)}};Le.addEventListener=Le.on,Le.removeEventListener=Le.clearAllEventListeners=Le.off,Le.addOneTimeEventListener=Le.once,Le.fireEvent=Le.fire,Le.hasEventListeners=Le.listens;var we=y.extend(Le);x.prototype={clone:function(){return new x(this.x,this.y)},add:function(t){return this.clone()._add(E(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(E(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new x(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new x(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(t){t=E(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=E(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=E(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},w.prototype={extend:function(t){return t=E(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new x((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new x(this.min.x,this.max.y)},getTopRight:function(){return new x(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return t="number"==typeof t[0]||t instanceof x?E(t):M(t),t instanceof w?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=M(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>=e.x&&i.x<=n.x,s=r.y>=e.y&&i.y<=n.y;return o&&s},overlaps:function(t){t=M(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>e.x&&i.x<n.x,s=r.y>e.y&&i.y<n.y;return o&&s},isValid:function(){return!(!this.min||!this.max)}},P.prototype={extend:function(t){var e,n,i=this._southWest,r=this._northEast;if(t instanceof C)e=t,n=t;else{if(!(t instanceof P))return t?this.extend(S(t)||I(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||r?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new C(e.lat,e.lng),this._northEast=new C(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new P(new C(e.lat-i,e.lng-r),new C(n.lat+i,n.lng+r))},getCenter:function(){return new C((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new C(this.getNorth(),this.getWest())},getSouthEast:function(){return new C(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof C||"lat"in t?S(t):I(t);var e,n,i=this._southWest,r=this._northEast;return t instanceof P?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=r.lat&&e.lng>=i.lng&&n.lng<=r.lng},intersects:function(t){t=I(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>=e.lat&&i.lat<=n.lat,s=r.lng>=e.lng&&i.lng<=n.lng;return o&&s},overlaps:function(t){t=I(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>e.lat&&i.lat<n.lat,s=r.lng>e.lng&&i.lng<n.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=I(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},C.prototype={equals:function(t,e){return!!t&&(t=S(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+u(this.lat,t)+", "+u(this.lng,t)+")"},distanceTo:function(t){return Pe.distance(this,S(t))},wrap:function(){return Pe.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return I([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new C(this.lat,this.lng,this.alt)}};var Me={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new w(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?o(t.lng,this.wrapLng,!0):t.lng;return new C(this.wrapLat?o(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,r=e.lng-n.lng;if(0===i&&0===r)return t;var o=t.getSouthWest(),s=t.getNorthEast();return new P(new C(o.lat-i,o.lng-r),new C(s.lat-i,s.lng-r))}},Pe=e({},Me,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,o=Math.sin(i)*Math.sin(r)+Math.cos(i)*Math.cos(r)*Math.cos((e.lng-t.lng)*n);return this.R*Math.acos(Math.min(o,1))}}),Ie={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=Math.sin(i*e);return new x(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new C((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return new w([-t,-t],[t,t])}()};N.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new x((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var Ce,Se,Ne,Oe,Te=e({},Pe,{code:"EPSG:3857",projection:Ie,transformation:function(){var t=.5/(Math.PI*Ie.R);return O(t,.5,-t,.5)}()}),Re=e({},Te,{code:"EPSG:900913"}),De=document.documentElement.style,Ae="ActiveXObject"in window,ke=Ae&&!document.addEventListener,je="msLaunchUri"in navigator&&!("documentMode"in document),Fe=D("webkit"),ze=D("android"),Ge=D("android 2")||D("android 3"),Be=!!window.opera,qe=D("chrome"),Ue=D("gecko")&&!Fe&&!Be&&!Ae,Ve=!qe&&D("safari"),He=D("phantom"),Ye="OTransition"in De,Ze=0===navigator.platform.indexOf("Win"),Xe=Ae&&"transition"in De,We="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ge,Ke="MozPerspective"in De,Je=!window.L_DISABLE_3D&&(Xe||We||Ke)&&!Ye&&!He,$e="undefined"!=typeof orientation||D("mobile"),Qe=$e&&Fe,tn=$e&&We,en=!window.PointerEvent&&window.MSPointerEvent,nn=!(!window.PointerEvent&&!en),rn=!window.L_NO_TOUCH&&(nn||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),on=$e&&Be,sn=$e&&Ue,an=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,un=function(){return!!document.createElement("canvas").getContext}(),ln=!(!document.createElementNS||!T("svg").createSVGRect),fn=!ln&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"===s(e.adj)}catch(t){return!1}}(),cn=(Object.freeze||Object)({ie:Ae,ielt9:ke,edge:je,webkit:Fe,android:ze,android23:Ge,opera:Be,chrome:qe,gecko:Ue,safari:Ve,phantom:He,opera12:Ye,win:Ze,ie3d:Xe,webkit3d:We,gecko3d:Ke,any3d:Je,mobile:$e,mobileWebkit:Qe,mobileWebkit3d:tn,msPointer:en,pointer:nn,touch:rn,mobileOpera:on,mobileGecko:sn,retina:an,canvas:un,svg:ln,vml:fn}),dn=en?"MSPointerDown":"pointerdown",hn=en?"MSPointerMove":"pointermove",_n=en?"MSPointerUp":"pointerup",pn=en?"MSPointerCancel":"pointercancel",gn=["INPUT","SELECT","OPTION"],mn={},vn=!1,yn=0,bn=en?"MSPointerDown":nn?"pointerdown":"touchstart",xn=en?"MSPointerUp":nn?"pointerup":"touchend",En="_leaflet_",Ln="_leaflet_events",wn=Ze&&qe?2*window.devicePixelRatio:Ue?window.devicePixelRatio:1,Mn={},Pn=(Object.freeze||Object)({on:Y,off:Z,stopPropagation:K,disableScrollPropagation:J,disableClickPropagation:$,preventDefault:Q,stop:tt,getMousePosition:et,getWheelDelta:nt,fakeStop:it,skipped:rt,isExternalTarget:ot,addListener:Y,removeListener:Z}),In=xt(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),Cn=xt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Sn="webkitTransition"===Cn||"OTransition"===Cn?Cn+"End":"transitionend";if("onselectstart"in document)Se=function(){Y(window,"selectstart",Q)},Ne=function(){Z(window,"selectstart",Q)};else{var Nn=xt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Se=function(){if(Nn){var t=document.documentElement.style;Oe=t[Nn],t[Nn]="none"}},Ne=function(){Nn&&(document.documentElement.style[Nn]=Oe,Oe=void 0)}}var On,Tn,Rn=(Object.freeze||Object)({TRANSFORM:In,TRANSITION:Cn,TRANSITION_END:Sn,get:at,getStyle:ut,create:lt,remove:ft,empty:ct,toFront:dt,toBack:ht,hasClass:_t,addClass:pt,removeClass:gt,setClass:mt,getClass:vt,setOpacity:yt,testProp:xt,setTransform:Et,setPosition:Lt,getPosition:wt,disableTextSelection:Se,enableTextSelection:Ne,disableImageDrag:Mt,enableImageDrag:Pt,preventOutline:It,restoreOutline:Ct}),Dn=we.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=wt(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=m(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),Lt(this._el,n),this.fire("step")},_complete:function(){v(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),An=we.extend({options:{crs:Te,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=c(this,e),this._initContainer(t),this._initLayout(),this._onResize=n(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(S(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=Cn&&Je&&!on&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Y(this._proxy,Sn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,i){if(n=void 0===n?this._zoom:this._limitZoom(n),t=this._limitCenter(S(t),n,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i){void 0!==i.animate&&(i.zoom=e({animate:i.animate},i.zoom),i.pan=e({animate:i.animate,duration:i.duration},i.pan));if(this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,i.zoom):this._tryAnimatedPan(t,i.pan))return clearTimeout(this._sizeTimer),this}return this._resetView(t,n),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Je?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Je?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),o=t instanceof x?t:this.latLngToContainerPoint(t),s=o.subtract(r).multiplyBy(1-1/i),a=this.containerPointToLatLng(r.add(s));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():I(t);var n=E(e.paddingTopLeft||e.padding||[0,0]),i=E(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(i));if((r="number"==typeof e.maxZoom?Math.min(e.maxZoom,r):r)===1/0)return{center:t.getCenter(),zoom:r};var o=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),r),a=this.project(t.getNorthEast(),r);return{center:this.unproject(s.add(a).divideBy(2).add(o),r),zoom:r}},fitBounds:function(t,e){if(t=I(t),!t.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=E(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Dn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){pt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){function i(t){var e=t?-1:1,n=t?g:p,i=g*g-p*p+e*b*b*v*v,r=2*n*b*v,o=i/r,s=Math.sqrt(o*o+1)-o;return s<1e-9?-18:Math.log(s)}function r(t){return(Math.exp(t)-Math.exp(-t))/2}function o(t){return(Math.exp(t)+Math.exp(-t))/2}function s(t){return r(t)/o(t)}function a(t){return p*(o(x)/o(x+y*t))}function u(t){return p*(o(x)*s(x+y*t)-r(x))/b}function l(t){return 1-Math.pow(1-t,1.5)}function f(){var n=(Date.now()-E)/w,i=l(n)*L;n<=1?(this._flyToFrame=m(f,this),this._move(this.unproject(c.add(d.subtract(c).multiplyBy(u(i)/v)),_),this.getScaleZoom(p/a(i),_),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}if(n=n||{},!1===n.animate||!Je)return this.setView(t,e,n);this._stop();var c=this.project(this.getCenter()),d=this.project(t),h=this.getSize(),_=this._zoom;t=S(t),e=void 0===e?_:e;var p=Math.max(h.x,h.y),g=p*this.getZoomScale(_,e),v=d.distanceTo(c)||1,y=1.42,b=y*y,x=i(0),E=Date.now(),L=(i(1)-x)/y,w=n.duration?1e3*n.duration:1e3*L*.8;return this._moveStart(!0),f.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=I(t),t.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){return this.options.minZoom=t,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(t):this},setMaxZoom:function(t){return this.options.maxZoom=t,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,I(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},!0===t?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=i.divideBy(2).round(),s=r.divideBy(2).round(),a=o.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=n(this._handleGeolocationResponse,this),r=n(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,r,t):navigator.geolocation.getCurrentPosition(i,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new C(e,n),r=i.toBounds(t.coords.accuracy),o=this._locateOptions;if(o.setView){var s=this.getBoundsZoom(r);this.setView(i,o.maxZoom?Math.min(s,o.maxZoom):s)}var a={latlng:i,bounds:r,timestamp:t.timestamp};for(var u in t.coords)"number"==typeof t.coords[u]&&(a[u]=t.coords[u]);this.fire("locationfound",a)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}ft(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ft(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i=lt("div",n,e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new P(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=I(t),n=E(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),u=this.getSize().subtract(n),l=M(this.project(a,i),this.project(s,i)).getSize(),f=Je?this.options.zoomSnap:1,c=u.x/l.x,d=u.y/l.y,h=e?Math.max(c,d):Math.min(c,d);return i=this.getScaleZoom(h,i),f&&(i=Math.round(i/(f/100))*(f/100),i=e?Math.ceil(i/f)*f:Math.floor(i/f)*f),Math.max(r,Math.min(o,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new x(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new w(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(S(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(E(t),e)},layerPointToLatLng:function(t){var e=E(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(S(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(S(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(I(t))},distance:function(t,e){return this.options.crs.distance(S(t),S(e))},containerPointToLayerPoint:function(t){return E(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return E(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(E(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(S(t)))},mouseEventToContainerPoint:function(t){return et(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=at(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Y(e,"scroll",this._onScroll,this),this._containerId=i(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Je,pt(t,"leaflet-container"+(rn?" leaflet-touch":"")+(an?" leaflet-retina":"")+(ke?" leaflet-oldie":"")+(Ve?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ut(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Lt(this._mapPane,new x(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(pt(t.markerPane,"leaflet-zoom-hide"),pt(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){Lt(this._mapPane,new x(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t){return t&&this.fire("zoomstart"),this.fire("movestart")},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return v(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Lt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[i(this._container)]=this;var e=t?Z:Y;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Je&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){v(this._resizeRequest),this._resizeRequest=m(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,r=[],o="mouseout"===e||"mouseover"===e,s=t.target||t.srcElement,a=!1;s;){if((n=this._targets[i(s)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(o&&!ot(s,t))break;if(r.push(n),o)break}if(s===this._container)break;s=s.parentNode}return r.length||a||o||!ot(s,t)||(r=[this]),r},_handleDOMEvent:function(t){if(this._loaded&&!rt(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e||It(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,i){if("click"===t.type){var r=e({},t);r.type="preclick",this._fireDOMEvent(r,r.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,n)),i.length)){var o=i[0];"contextmenu"===n&&o.listens(n,!0)&&Q(t);var s={originalEvent:t};if("keypress"!==t.type){var a=o.options&&"icon"in o.options;s.containerPoint=a?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=a?o.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var u=0;u<i.length;u++)if(i[u].fire(n,s,!0),s.originalEvent._stopped||!1===i[u].options.bubblingMouseEvents&&-1!==_(this._mouseEvents,n))return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return wt(this._mapPane)||new x(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return M([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),r=this.getSize().divideBy(2),o=new w(i.subtract(r),i.add(r)),s=this._getBoundsOffset(o,n,e);return s.round().equals([0,0])?t:this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new w(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=M(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=i.min.subtract(t.min),o=i.max.subtract(t.max);return new x(this._rebound(r.x,-o.x),this._rebound(r.y,-o.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=Je?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){gt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._floor();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=lt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=In,n=this._proxy.style[e];Et(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();Et(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ft(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r))&&(m(function(){this._moveStart(!0)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,i,r){i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:r}),setTimeout(n(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(gt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),m(function(){this._moveEnd(!0)},this))}}),kn=y.extend({options:{position:"topright"},initialize:function(t){c(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return pt(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this},remove:function(){return this._map?(ft(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),jn=function(t){return new kn(t)};An.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,r){var o=n+t+" "+n+r;e[t+r]=lt("div",o,i)}var e=this._controlCorners={},n="leaflet-",i=this._controlContainer=lt("div",n+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ft(this._controlCorners[t]);ft(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Fn=kn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){c(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var i in t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return kn.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(i(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){pt(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(pt(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):gt(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return gt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=lt("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),$(e),J(e);var i=this._form=lt("form",t+"-list");n&&(this._map.on("click",this.collapse,this),ze||Y(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=this._layersLink=lt("a",t+"-toggle",e);r.href="#",r.title="Layers",rn?(Y(r,"click",tt),Y(r,"click",this.expand,this)):Y(r,"focus",this.expand,this),n||this.expand(),this._baseLayersList=lt("div",t+"-base",i),this._separator=lt("div",t+"-separator",i),this._overlaysList=lt("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&i(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(n(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ct(this._baseLayersList),ct(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&r>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(i(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?(e=document.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers",r),this._layerControlInputs.push(e),e.layerId=i(t.layer),Y(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var s=document.createElement("div");return n.appendChild(s),s.appendChild(e),s.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||r.push(e);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])||this._map.addLayer(i[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),zn=function(t,e,n){return new Fn(t,e,n)},Gn=kn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=lt("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,r){var o=lt("a",n,i);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),$(o),Y(o,"click",tt),Y(o,"click",r,this),Y(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";gt(this._zoomInButton,e),gt(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&pt(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&pt(this._zoomInButton,e)}});An.mergeOptions({zoomControl:!0}),An.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Gn,this.addControl(this.zoomControl))});var Bn=function(t){return new Gn(t)},qn=kn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=lt("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=lt("div",e,n)),t.imperial&&(this._iScale=lt("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,r=3.2808399*t;r>5280?(e=r/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),Un=function(t){return new qn(t)},Vn=kn.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){c(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=lt("div","leaflet-control-attribution"),$(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});An.mergeOptions({attributionControl:!0}),An.addInitHook(function(){this.options.attributionControl&&(new Vn).addTo(this)});var Hn=function(t){return new Vn(t)};kn.Layers=Fn,kn.Zoom=Gn,kn.Scale=qn,kn.Attribution=Vn,jn.layers=zn,jn.zoom=Bn,jn.scale=Un,jn.attribution=Hn;var Yn,Zn=y.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),Xn={Events:Le},Wn=rn?"touchstart mousedown":"mousedown",Kn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Jn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},$n=we.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){c(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Y(this._dragStartTarget,Wn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&($n._dragging===this&&this.finishDrag(),Z(this._dragStartTarget,Wn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!_t(this._element,"leaflet-zoom-anim")&&!($n._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||($n._dragging=this,this._preventOutline&&It(this._element),Mt(),Se(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new x(e.clientX,e.clientY),Y(document,Jn[t.type],this._onMove,this),Y(document,Kn[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new x(e.clientX,e.clientY),i=n.subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(Q(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=wt(this._element).subtract(i),pt(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,v(this._animRequest),this._lastEvent=t,this._animRequest=m(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Lt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){gt(document.body,"leaflet-dragging"),this._lastTarget&&(gt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in Jn)Z(document,Jn[t],this._onMove,this),Z(document,Kn[t],this._onUp,this);Pt(),Ne(),this._moved&&this._moving&&(v(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,$n._dragging=!1}}),Qn=(Object.freeze||Object)({simplify:Nt,pointToSegmentDistance:Ot,closestPointOnSegment:Tt,clipSegment:kt,_getEdgeIntersection:jt,_getBitCode:Ft,_sqClosestPointOnSegment:Gt,isFlat:Bt,_flat:qt}),ti=(Object.freeze||Object)({clipPolygon:Ut}),ei={project:function(t){return new x(t.lng,t.lat)},unproject:function(t){return new C(t.y,t.x)},bounds:new w([-180,-90],[180,90])},ni={R:6378137,R_MINOR:6356752.314245179,bounds:new w([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),s=o*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),o/2);return i=-n*Math.log(Math.max(a,1e-10)),new x(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),s=Math.exp(-t.y/i),a=Math.PI/2-2*Math.atan(s),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)e=o*Math.sin(a),e=Math.pow((1-e)/(1+e),o/2),l=Math.PI/2-2*Math.atan(s*e)-a,a+=l;return new C(a*n,t.x*n/i)}},ii=(Object.freeze||Object)({LonLat:ei,Mercator:ni,SphericalMercator:Ie}),ri=e({},Pe,{code:"EPSG:3395",projection:ni,transformation:function(){var t=.5/(Math.PI*ni.R);return O(t,.5,-t,.5)}()}),oi=e({},Pe,{code:"EPSG:4326",projection:ei,transformation:O(1/180,1,-1/180,.5)}),si=e({},Me,{projection:ei,transformation:O(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});Me.Earth=Pe,Me.EPSG3395=ri,Me.EPSG3857=Te,Me.EPSG900913=Re,Me.EPSG4326=oi,Me.Simple=si;var ai=we.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[i(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[i(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});An.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=i(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=i(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&i(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){t=t?me(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[i(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=i(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ui=ai.extend({initialize:function(t){this._layers={};var e,n;if(t)for(e=0,n=t.length;e<n;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){for(var t in this._layers)this.removeLayer(this._layers[t]);return this},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,i);return this},onAdd:function(t){for(var e in this._layers)t.addLayer(this._layers[e])},onRemove:function(t){for(var e in this._layers)t.removeLayer(this._layers[e])},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return i(t)}}),li=function(t){return new ui(t)},fi=ui.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),ui.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),ui.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new P;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),ci=function(t){return new fi(t)},di=y.extend({initialize:function(t){c(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var r=E(i),o=E("shadow"===e&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return an&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),hi=di.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return hi.imagePath||(hi.imagePath=this._detectIconPath()),(this.options.imagePath||hi.imagePath)+di.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=lt("div","leaflet-default-icon-path",document.body),e=ut(t,"background-image")||ut(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,"")}}),_i=Zn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new $n(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),pt(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&gt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var e=this._marker,n=e._shadow,i=wt(e._icon),r=e._map.layerPointToLatLng(i);n&&Lt(n,i),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),pi=ai.extend({options:{icon:new hi,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(t,e){c(this,e),this._latlng=S(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=S(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),t.alt&&(n.alt=t.alt)),pt(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=t.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(pt(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ft(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ft(this._shadow),this._shadow=null},_setPos:function(t){Lt(this._icon,t),this._shadow&&Lt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),_i)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new _i(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;yt(this._icon,t),this._shadow&&yt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),gi=ai.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return c(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(rn?10:0)}}),mi=gi.extend({options:{fill:!0,radius:10},initialize:function(t,e){c(this,e),this._latlng=S(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=S(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return gi.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new w(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),vi=mi.extend({initialize:function(t,n,i){if("number"==typeof n&&(n=e({},i,{radius:n})),c(this,n),this._latlng=S(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new P(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:gi.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===Pe.distance){var r=Math.PI/180,o=this._mRadius/Pe.R/r,s=n.project([e+o,t]),a=n.project([e-o,t]),u=s.add(a).divideBy(2),l=n.unproject(u).lat,f=Math.acos((Math.cos(o*r)-Math.sin(e*r)*Math.sin(l*r))/(Math.cos(e*r)*Math.cos(l*r)))/r;(isNaN(f)||0===f)&&(f=o/Math.cos(Math.PI/180*e)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(f)?0:Math.max(Math.round(u.x-n.project([l,t-f]).x),1),this._radiusY=Math.max(Math.round(u.y-s.y),1)}else{var c=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(c).x}this._updateBounds()}}),yi=gi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){c(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,r=null,o=Gt,s=0,a=this._parts.length;s<a;s++)for(var u=this._parts[s],l=1,f=u.length;l<f;l++){e=u[l-1],n=u[l];var c=o(t,e,n,!0);c<i&&(i=c,r=o(t,e,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,s,a=this._rings[0],u=a.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,i=0;t<u-1;t++)if(r=a[t],o=a[t+1],n=r.distanceTo(o),(i+=n)>e)return s=(i-e)/n,this._map.layerPointToLatLng([o.x-s*(o.x-r.x),o.y-s*(o.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=S(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new P,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Bt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=Bt(t),i=0,r=t.length;i<r;i++)n?(e[i]=S(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new w;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new x(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(n),t.max._add(n),this._pxBounds=t)},_projectLatlngs:function(t,e,n){var i,r,o=t[0]instanceof C,s=t.length;if(o){for(r=[],i=0;i<s;i++)r[i]=this._map.latLngToLayerPoint(t[i]),n.extend(r[i]);e.push(r)}else for(i=0;i<s;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);var e,n,i,r,o,s,a,u=this._parts;for(e=0,i=0,r=this._rings.length;e<r;e++)for(a=this._rings[e],n=0,o=a.length;n<o-1;n++)(s=kt(a[n],a[n+1],t,n,!0))&&(u[i]=u[i]||[],u[i].push(s[0]),s[1]===a[n+1]&&n!==o-2||(u[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=Nt(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,r,o,s,a,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(a=this._parts[n],i=0,s=a.length,r=s-1;i<s;r=i++)if((e||0!==i)&&Ot(t,a[r],a[i])<=u)return!0;return!1}});yi._flat=qt;var bi=yi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,s,a,u,l=this._rings[0],f=l.length;if(!f)return null;for(o=s=a=0,t=0,e=f-1;t<f;e=t++)n=l[t],i=l[e],r=n.y*i.x-i.y*n.x,s+=(n.x+i.x)*r,a+=(n.y+i.y)*r,o+=3*r;return u=0===o?l[0]:[s/o,a/o],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=yi.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof C&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){yi.prototype._setLatLngs.call(this,t),Bt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Bt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new x(e,e);if(t=new w(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);for(var i,r=0,o=this._rings.length;r<o;r++)i=Ut(this._rings[r],t,!0),i.length&&this._parts.push(i)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,r,o,s,a,u,l=!1;if(!this._pxBounds.contains(t))return!1;for(r=0,a=this._parts.length;r<a;r++)for(e=this._parts[r],o=0,u=e.length,s=u-1;o<u;s=o++)n=e[o],i=e[s],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(l=!l);return l||yi.prototype._containsPoint.call(this,t,!0)}}),xi=fi.extend({initialize:function(t,e){c(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,r=me(t)?t:t.features;if(r){for(e=0,n=r.length;e<n;e++)i=r[e],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var s=Kt(t,o);return s?(s.feature=ne(t),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),Ei={toGeoJSON:function(t){return ee(this,{type:"Point",coordinates:Qt(this.getLatLng(),t)})}};pi.include(Ei),vi.include(Ei),mi.include(Ei),yi.include({toGeoJSON:function(t){var e=!Bt(this._latlngs),n=te(this._latlngs,e?1:0,!1,t);return ee(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}}),bi.include({toGeoJSON:function(t){var e=!Bt(this._latlngs),n=e&&!Bt(this._latlngs[0]),i=te(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),ee(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),ui.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)}),ee(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer(function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(n)i.push(r.geometry);else{var o=ne(r);"FeatureCollection"===o.type?i.push.apply(i,o.features):i.push(o)}}}),n?ee(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var Li=ie,wi=ai.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=I(e),c(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ft(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&dt(this._image),this},bringToBack:function(){return this._map&&ht(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=I(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=lt("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":"")+(this.options.className||""));t.onselectstart=a,t.onmousemove=a,t.onload=n(this.fire,this,"load"),t.onerror=n(this._overlayOnError,this,"error"),this.options.crossOrigin&&(t.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),t.src=this._url,t.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Et(this._image,n,e)},_reset:function(){var t=this._image,e=new w(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();Lt(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){yt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Mi=function(t,e,n){return new wi(t,e,n)},Pi=wi.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:lt("video");if(e.class=e.class||"",e.class+="leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""),e.onselectstart=a,e.onmousemove=a,e.onloadeddata=n(this.fire,this,"load"),!t){me(this._url)||(this._url=[this._url]),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var i=0;i<this._url.length;i++){var r=lt("source");r.src=this._url[i],e.appendChild(r)}}}}),Ii=ai.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){c(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&yt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&yt(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(yt(this._container,0),this._removeTimeout=setTimeout(n(ft,void 0,this._container),200)):ft(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=S(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&dt(this._container),this},bringToBack:function(){return this._map&&ht(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=E(this.options.offset),n=this._getAnchor();this._zoomAnimated?Lt(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}}),Ci=Ii.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Ii.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof gi||this._source.on("preclick",K))},onRemove:function(t){Ii.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof gi||this._source.off("preclick",K))},getEvents:function(){var t=Ii.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=lt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=lt("div",t+"-content-wrapper",e);if(this._contentNode=lt("div",t+"-content",n),$(n),J(this._contentNode),Y(n,"contextmenu",K),this._tipContainer=lt("div",t+"-tip-container",e),this._tip=lt("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=lt("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",Y(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,r=this.options.maxHeight;r&&i>r?(e.height=r+"px",pt(t,"leaflet-popup-scrolled")):gt(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();Lt(this._container,e.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(ut(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,r=new x(this._containerLeft,-n-this._containerBottom);r._add(wt(this._container));var o=t.layerPointToContainerPoint(r),s=E(this.options.autoPanPadding),a=E(this.options.autoPanPaddingTopLeft||s),u=E(this.options.autoPanPaddingBottomRight||s),l=t.getSize(),f=0,c=0;o.x+i+u.x>l.x&&(f=o.x+i-l.x+u.x),o.x-f-a.x<0&&(f=o.x-a.x),o.y+n+u.y>l.y&&(c=o.y+n-l.y+u.y),o.y-c-a.y<0&&(c=o.y-a.y),(f||c)&&t.fire("autopanstart").panBy([f,c])}},_onCloseButtonClick:function(t){this._close(),tt(t)},_getAnchor:function(){return E(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Si=function(t,e){return new Ci(t,e)};An.mergeOptions({closePopupOnClick:!0}),An.include({openPopup:function(t,e,n){return t instanceof Ci||(t=new Ci(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),ai.include({bindPopup:function(t,e){return t instanceof Ci?(c(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new Ci(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof ai||(e=t,t=this),t instanceof fi)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(this._popup&&this._map){if(tt(t),e instanceof gi)return void this.openPopup(t.layer||t.target,t.latlng);this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Ni=Ii.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Ii.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Ii.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Ii.prototype.getEvents.call(this);return rn&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=lt("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),r=e.layerPointToContainerPoint(t),o=this.options.direction,s=n.offsetWidth,a=n.offsetHeight,u=E(this.options.offset),l=this._getAnchor();"top"===o?t=t.add(E(-s/2+u.x,-a+u.y+l.y,!0)):"bottom"===o?t=t.subtract(E(s/2-u.x,-u.y,!0)):"center"===o?t=t.subtract(E(s/2+u.x,a/2-l.y+u.y,!0)):"right"===o||"auto"===o&&r.x<i.x?(o="right",t=t.add(E(u.x+l.x,l.y-a/2+u.y,!0))):(o="left",t=t.subtract(E(s+l.x-u.x,a/2-l.y-u.y,!0))),gt(n,"leaflet-tooltip-right"),gt(n,"leaflet-tooltip-left"),gt(n,"leaflet-tooltip-top"),gt(n,"leaflet-tooltip-bottom"),pt(n,"leaflet-tooltip-"+o),Lt(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&yt(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return E(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Oi=function(t,e){return new Ni(t,e)};An.include({openTooltip:function(t,e,n){return t instanceof Ni||(t=new Ni(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),ai.include({bindTooltip:function(t,e){return t instanceof Ni?(c(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new Ni(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),rn&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof ai||(e=t,t=this),t instanceof fi)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(pt(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(gt(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Ti=di.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=E(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});di.Default=hi;var Ri=ai.extend({options:{tileSize:256,opacity:1,updateWhenIdle:$e,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){c(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ft(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(dt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ht(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=r(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof x?t:new x(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),r=0,o=n.length;r<o;r++)e=n[r].style.zIndex,n[r]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ke){yt(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var o=Math.min(1,(t-r.loaded)/200);yt(r.el,o),o<1?e=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(v(this._fadeFrame),this._fadeFrame=m(this._updateOpacity,this))}},_onOpaqueTile:a,_initContainer:function(){this._container||(this._container=lt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(ft(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],r=this._map;return i||(i=this._levels[t]={},i.el=lt("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,r.getCenter(),r.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:a,_onRemoveLevel:a,_onCreateLevel:a,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)return void this._removeAllTiles();for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ft(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(t,e,n,i){var r=Math.floor(t/2),o=Math.floor(e/2),s=n-1,a=new x(+r,+o);a.z=+s;var u=this._tileCoordsToKey(a),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),s>i&&this._retainParent(r,o,s,i))},_retainChildren:function(t,e,n,i){for(var r=2*t;r<2*t+2;r++)for(var o=2*e;o<2*e+2;o++){var s=new x(r,o);s.z=n+1;var a=this._tileCoordsToKey(s),u=this._tiles[a];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<i&&this._retainChildren(r,o,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var r=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom)&&(r=void 0);var o=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!o||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();Je?Et(t.el,r,i):Lt(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*i);return new w(r.subtract(o),r.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(i),o=r.getCenter(),s=[],a=this.options.keepBuffer,u=new w(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var f=this._tiles[l].coords;f.z===this._tileZoom&&u.contains(new x(f.x,f.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)return void this._setView(t,n);for(var c=r.min.y;c<=r.max.y;c++)for(var d=r.min.x;d<=r.max.x;d++){var h=new x(d,c);h.z=this._tileZoom,this._isValidTile(h)&&(this._tiles[this._tileCoordsToKey(h)]||s.push(h))}if(s.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var _=document.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],_);this._level.el.appendChild(_)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return I(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToBounds:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),r=i.add(n),o=e.unproject(i,t.z),s=e.unproject(r,t.z),a=new P(o,s);return this.options.noWrap||e.wrapLatLngBounds(a),a},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new x(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(ft(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){pt(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=a,t.onmousemove=a,ke&&this.options.opacity<1&&yt(t,this.options.opacity),ze&&!Ge&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var i=this._getTilePos(t),r=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),n(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&m(n(this._tileReady,this,t,null,o)),Lt(o,i),this._tiles[r]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,i){if(this._map){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var r=this._tileCoordsToKey(t);i=this._tiles[r],i&&(i.loaded=+new Date,this._map._fadeAnimated?(yt(i.el,0),v(this._fadeFrame),this._fadeFrame=m(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(pt(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ke||!this._map._fadeAnimated?m(this._pruneTiles,this):setTimeout(n(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new x(this._wrapX?o(t.x,this._wrapX):t.x,this._wrapY?o(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new w(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),Di=Ri.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,e=c(this,e),e.detectRetina&&an&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),ze||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return Y(i,"load",n(this._tileOnLoad,this,e,i)),Y(i,"error",n(this._tileOnError,this,e,i)),this.options.crossOrigin&&(i.crossOrigin=""),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(t),i},getTileUrl:function(t){var n={r:an?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=i),n["-y"]=i}return h(this._url,e(n,this.options))},_tileOnLoad:function(t,e){ke?setTimeout(n(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.src!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,i=this.options.zoomOffset;return n&&(t=e-t),t+i},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=a,e.onerror=a,e.complete||(e.src=ve,ft(e)))}}),Ai=Di.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var i=e({},this.defaultWmsParams);for(var r in n)r in this.options||(i[r]=n[r]);n=c(this,n),i.width=i.height=n.tileSize*(n.detectRetina&&an?2:1),this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Di.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToBounds(t),n=this._crs.project(e.getNorthWest()),i=this._crs.project(e.getSouthEast()),r=(this._wmsVersion>=1.3&&this._crs===oi?[i.y,n.x,n.y,i.x]:[n.x,i.y,i.x,n.y]).join(","),o=Di.prototype.getTileUrl.call(this,t);return o+d(this.wmsParams,o,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+r},setParams:function(t,n){return e(this.wmsParams,t),n||this.redraw(),this}});Di.WMS=Ai,ae.wms=ue;var ki=ai.extend({options:{padding:.1},initialize:function(t){c(this,t),i(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=wt(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),s=this._map.project(t,e),a=s.subtract(o),u=r.multiplyBy(-n).add(i).add(r).subtract(a);Je?Et(this._container,u,n):Lt(this._container,u)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new w(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ji=ki.extend({getEvents:function(){var t=ki.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ki.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Y(t,"mousemove",r(this._onMouseMove,32,this),this),Y(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Y(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){delete this._ctx,ft(this._container),Z(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},ki.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=an?2:1;Lt(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",an&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ki.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[i(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[L.stamp(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e,n=t.options.dashArray.split(","),i=[];for(e=0;e<n.length;e++)i.push(Number(n[e]));t.options._dashArray=i}},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||m(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new w,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,r,o,s=t._parts,a=s.length,u=this._ctx;if(a){for(this._drawnLayers[t._leaflet_id]=t,u.beginPath(),n=0;n<a;n++){for(i=0,r=s[n].length;i<r;i++)o=s[n][i],u[i?"lineTo":"moveTo"](o.x,o.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=t._radius,r=(t._radiusY||i)/i;this._drawnLayers[t._leaflet_id]=t,1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(e.x,e.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)e=r.layer,e.options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(n=e);n&&(it(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(gt(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var n,i,r=this._drawFirst;r;r=r.next)n=r.layer,n.options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(pt(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order,n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))},_bringToBack:function(t){var e=t._order,n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}),Fi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),zi={_initContainer:function(){this._container=lt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ki.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Fi("shape");pt(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Fi("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[i(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;ft(e),t.removeInteractiveTarget(e),delete this._layers[i(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,r=t._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(e||(e=t._stroke=Fi("stroke")),r.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=me(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(r.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=Fi("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){dt(t._container)},_bringToBack:function(t){ht(t._container)}},Gi=fn?Fi:T,Bi=ki.extend({getEvents:function(){var t=ki.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=Gi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Gi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ft(this._container),Z(this._container),delete this._container,delete this._rootGroup},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){ki.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),Lt(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Gi("path");t.options.className&&pt(e,t.options.className),t.options.interactive&&pt(e,"leaflet-interactive"),this._updateStyle(t),this._layers[i(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ft(t._path),t.removeInteractiveTarget(t._path),delete this._layers[i(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,R(t._parts,e))},_updateCircle:function(t){var e=t._point,n=t._radius,i=t._radiusY||n,r="a"+n+","+i+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){dt(t._path)},_bringToBack:function(t){ht(t._path)}});fn&&Bi.include(zi),An.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&le()||fe()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=Bi&&fe({pane:t})||ji&&le({pane:t}),this._paneRenderers[t]=e),e}});var qi=bi.extend({initialize:function(t,e){bi.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=I(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});Bi.create=Gi,Bi.pointsToPath=R,xi.geometryToLayer=Kt,xi.coordsToLatLng=Jt,xi.coordsToLatLngs=$t,xi.latLngToCoords=Qt,xi.latLngsToCoords=te,xi.getFeature=ee,xi.asFeature=ne,An.mergeOptions({boxZoom:!0});var Ui=Zn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Y(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Z(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ft(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Se(),Mt(),this._startPoint=this._map.mouseEventToContainerPoint(t),Y(document,{contextmenu:tt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=lt("div","leaflet-zoom-box",this._container),pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new w(this._point,this._startPoint),n=e.getSize();Lt(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ft(this._box),gt(this._container,"leaflet-crosshair")),Ne(),Pt(),Z(document,{contextmenu:tt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(n(this._resetState,this),0);var e=new P(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});An.addInitHook("addHandler","boxZoom",Ui),An.mergeOptions({doubleClickZoom:!0});var Vi=Zn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});An.addInitHook("addHandler","doubleClickZoom",Vi),An.mergeOptions({dragging:!0,inertia:!Ge,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Hi=Zn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new $n(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){gt(this._map._container,"leaflet-grab"),gt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=I(this._map.options.maxBounds);this._offsetLimit=M(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),e-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,s=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=r.multiplyBy(s/o),u=a.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,u),f=a.multiplyBy(l/u),c=l/(n.inertiaDeceleration*s),d=f.multiplyBy(-c/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),m(function(){e.panBy(d,{duration:c,easeLinearity:s,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});An.addInitHook("addHandler","dragging",Hi),An.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Yi=Zn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Y(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Z(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;e<n;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;e<n;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;e<n;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;e<n;e++)i[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;e<n;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;e<n;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){Y(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Z(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys){if(i._panAnim&&i._panAnim._inProgress)return;e=this._panKeys[n],t.shiftKey&&(e=E(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup)return;i.closePopup()}tt(t)}}});An.addInitHook("addHandler","keyboard",Yi),An.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Zi=Zn.extend({addHooks:function(){Y(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Z(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=nt(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var r=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(n(this._performZoom,this),r),tt(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,s=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});An.addInitHook("addHandler","scrollWheelZoom",Zi),An.mergeOptions({tap:!0,tapTolerance:15});var Xi=Zn.extend({addHooks:function(){Y(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Z(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Q(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new x(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&pt(i,"leaflet-active"),this._holdTimeout=setTimeout(n(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),Y(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Z(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&gt(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new x(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});rn&&!nn&&An.addInitHook("addHandler","tap",Xi),An.mergeOptions({touchZoom:rn&&!Ge,bounceAtZoomLimits:!0});var Wi=Zn.extend({addHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),Y(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){gt(this._map._container,"leaflet-touch-zoom"),Z(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Y(document,"touchmove",this._onTouchMove,this),Y(document,"touchend",this._onTouchEnd,this),Q(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),o=i.distanceTo(r)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=i._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0),this._moved=!0),v(this._animRequest);var a=n(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=m(a,this,!0),Q(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);this._zooming=!1,v(this._animRequest),Z(document,"touchmove",this._onTouchMove),Z(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});An.addInitHook("addHandler","touchZoom",Wi),An.BoxZoom=Ui,An.DoubleClickZoom=Vi,An.Drag=Hi,An.Keyboard=Yi,An.ScrollWheelZoom=Zi,An.Tap=Xi,An.TouchZoom=Wi;var Ki=window.L;window.L=t,Object.freeze=he,t.version="1.2.0",t.noConflict=de,t.Control=kn,t.control=jn,t.Browser=cn,t.Evented=we,t.Mixin=Xn,t.Util=Ee,t.Class=y,t.Handler=Zn,t.extend=e,t.bind=n,t.stamp=i,t.setOptions=c,t.DomEvent=Pn,t.DomUtil=Rn,t.PosAnimation=Dn,t.Draggable=$n,t.LineUtil=Qn,t.PolyUtil=ti,t.Point=x,t.point=E,t.Bounds=w,t.bounds=M,t.Transformation=N,t.transformation=O,t.Projection=ii,t.LatLng=C,t.latLng=S,t.LatLngBounds=P,t.latLngBounds=I,t.CRS=Me,t.GeoJSON=xi,t.geoJSON=ie,t.geoJson=Li,t.Layer=ai,t.LayerGroup=ui,t.layerGroup=li,t.FeatureGroup=fi,t.featureGroup=ci,t.ImageOverlay=wi,t.imageOverlay=Mi,t.VideoOverlay=Pi,t.videoOverlay=re,t.DivOverlay=Ii,t.Popup=Ci,t.popup=Si,t.Tooltip=Ni,t.tooltip=Oi,t.Icon=di,t.icon=Vt,t.DivIcon=Ti,t.divIcon=oe,t.Marker=pi,t.marker=Ht,t.TileLayer=Di,t.tileLayer=ae,t.GridLayer=Ri,t.gridLayer=se,t.SVG=Bi,t.svg=fe,t.Renderer=ki,t.Canvas=ji,t.canvas=le,t.Path=gi,t.CircleMarker=mi,t.circleMarker=Yt,t.Circle=vi,t.circle=Zt,t.Polyline=yi,t.polyline=Xt,t.Polygon=bi,t.polygon=Wt,t.Rectangle=qi,t.rectangle=ce,t.Map=An,t.map=St})},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e,n){function r(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}L.drawVersion="0.4.13",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(t,e){this._map=t,this._container=t._container,this._overlayPane=t._panes.overlayPane,this._popupPane=t._panes.popupPane,e&&e.shapeOptions&&(e.shapeOptions=L.Util.extend({},this.options.shapeOptions,e.shapeOptions)),L.setOptions(this,e);var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(L.DomUtil.disableTextSelection(),t.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(t){L.setOptions(this,t)},_fireCreatedEvent:function(t){this._map.fire(L.Draw.Event.CREATED,{layer:t,layerType:this.type})},_cancelDrawing:function(t){27===t.keyCode&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(t,e){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,e&&e.drawError&&(e.drawError=L.Util.extend({},this.options.drawError,e.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var t=this._markers.pop(),e=this._poly,n=e.getLatLngs(),i=n.splice(-1,1)[0];this._poly.setLatLngs(n),this._markerGroup.removeLayer(t),e.getLatLngs().length<2&&this._map.removeLayer(e),this._vertexChanged(i,!1)}},addVertex:function(t){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(t))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(t)),this._poly.addLatLng(t),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),this._vertexChanged(t,!0)},completeShape:function(){this._markers.length<=1||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var t=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),e=this._poly.newLatLngIntersects(t[t.length-1]);if(!this.options.allowIntersection&&e||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent),n=this._map.layerPointToLatLng(e);this._currentLatLng=n,this._updateTooltip(n),this._updateGuide(e),this._mouseMarker.setLatLng(n),L.DomEvent.preventDefault(t.originalEvent)},_vertexChanged:function(t,e){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(t,e),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(t){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(t),this._clickHandled=!0,this._disableNewMarkers();var e=t.originalEvent,n=e.clientX,i=e.clientY;this._startPoint.call(this,n,i)}},_startPoint:function(t,e){this._mouseDownOrigin=L.point(t,e)},_onMouseUp:function(t){var e=t.originalEvent,n=e.clientX,i=e.clientY;this._endPoint.call(this,n,i,t),this._clickHandled=null},_endPoint:function(e,n,i){if(this._mouseDownOrigin){var r=L.point(e,n).distanceTo(this._mouseDownOrigin),o=this._calculateFinishDistance(i.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(i.latlng),this._finishShape()):o<10&&L.Browser.touch?this._finishShape():Math.abs(r)<9*(t.devicePixelRatio||1)&&this.addVertex(i.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(t){var e,n,i=t.originalEvent;!i.touches||!i.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(e=i.touches[0].clientX,n=i.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,e,n),this._endPoint.call(this,e,n,t),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(t){var e;if(this._markers.length>0){var n;if(this.type===L.Draw.Polyline.TYPE)n=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;n=this._markers[0]}var i=this._map.latLngToContainerPoint(n.getLatLng()),r=new L.Marker(t,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),o=this._map.latLngToContainerPoint(r.getLatLng());e=i.distanceTo(o)}else e=1/0;return e},_updateFinishHandler:function(){var t=this._markers.length;t>1&&this._markers[t-1].on("click",this._finishShape,this),t>2&&this._markers[t-2].off("click",this._finishShape,this)},_createMarker:function(t){var e=new L.Marker(t,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(e),e},_updateGuide:function(t){var e=this._markers?this._markers.length:0;e>0&&(t=t||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[e-1].getLatLng()),t))},_updateTooltip:function(t){var e=this._getTooltipText();t&&this._tooltip.updatePosition(t),this._errorShown||this._tooltip.updateContent(e)},_drawGuide:function(t,e){var n,i,r,o=Math.floor(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))),s=this.options.guidelineDistance,a=this.options.maxGuideLineLength,u=o>a?o-a:s;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));u<o;u+=this.options.guidelineDistance)n=u/o,i={x:Math.floor(t.x*(1-n)+n*e.x),y:Math.floor(t.y*(1-n)+n*e.y)},r=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),r.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(r,i)},_updateGuideColor:function(t){if(this._guidesContainer)for(var e=0,n=this._guidesContainer.childNodes.length;e<n;e++)this._guidesContainer.childNodes[e].style.backgroundColor=t},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var t,e,n=this.options.showLength;return L.Browser.touch&&(n=!1),0===this._markers.length?t={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(e=n?this._getMeasurementString():"",t=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:e}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:e}),t},_updateRunningMeasure:function(t,e){var n,i,r=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(n=r-(e?2:1),i=L.GeometryUtil.isVersion07x()?t.distanceTo(this._markers[n].getLatLng())*(this.options.factor||1):this._map.distance(t,this._markers[n].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=i*(e?1:-1))},_getMeasurementString:function(){var t,e=this._currentLatLng,n=this._markers[this._markers.length-1].getLatLng();return t=L.GeometryUtil.isVersion07x()?n&&e&&e.distanceTo?this._measurementRunningTotal+e.distanceTo(n)*(this.options.factor||1):this._measurementRunningTotal||0:n&&e?this._measurementRunningTotal+this._map.distance(e,n)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(t,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var t=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(t,e){L.Draw.Polyline.prototype.initialize.call(this,t,e),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var t=this._markers.length;1===t&&this._markers[0].on("click",this._finishShape,this),t>2&&(this._markers[t-1].on("dblclick",this._finishShape,this),t>3&&this._markers[t-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var t,e;return 0===this._markers.length?t=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(t=L.drawLocal.draw.handlers.polygon.tooltip.cont,e=this._getMeasurementString()):(t=L.drawLocal.draw.handlers.polygon.tooltip.end,e=this._getMeasurementString()),{text:t,subtext:e}},_getMeasurementString:function(){var t=this._area,e="";return t||this.options.showLength?(this.options.showLength&&(e=L.Draw.Polyline.prototype._getMeasurementString.call(this)),t&&(e+="<br>"+L.GeometryUtil.readableArea(t,this.options.metric,this.options.precision)),e):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(t,e){var n;!this.options.allowIntersection&&this.options.showArea&&(n=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(n)),L.Draw.Polyline.prototype._vertexChanged.call(this,t,e)},_cleanUpShape:function(){var t=this._markers.length;t>0&&(this._markers[0].off("click",this._finishShape,this),t>2&&this._markers[t-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(t,e){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),e.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(e,"mouseup",this._onMouseUp,this),L.DomEvent.off(e,"touchend",this._onMouseUp,this),e.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(t){this._isDrawing=!0,this._startLatLng=t.latlng,L.DomEvent.on(e,"mouseup",this._onMouseUp,this).on(e,"touchend",this._onMouseUp,this).preventDefault(t.originalEvent)},_onMouseMove:function(t){var e=t.latlng;this._tooltip.updatePosition(e),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(e))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,showArea:!0,clickable:!0},metric:!0},initialize:function(t,e){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,t,e)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(t){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!r(t.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(t){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,t)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,t),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var t=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,t)},_getTooltipText:function(){var t,e,n,i=L.Draw.SimpleShape.prototype._getTooltipText.call(this),r=this._shape,o=this.options.showArea;return r&&(t=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),e=L.GeometryUtil.geodesicArea(t),n=o?L.GeometryUtil.readableArea(e,this.options.metric):""),{text:i.text,subtext:n}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(t,e){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._marker&&(this._marker.off("click",this._onClick,this),this._map.off("click",this._onClick,this).off("click",this._onTouch,this).removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(t){var e=t.latlng;this._tooltip.updatePosition(e),this._mouseMarker.setLatLng(e),this._marker?(e=this._mouseMarker.getLatLng(),this._marker.setLatLng(e)):(this._marker=this._createMarker(e),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(t){return new L.Marker(t,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(t){this._onMouseMove(t),this._onClick()},_fireCreatedEvent:function(){var t=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(t,e){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,t,e)},_fireCreatedEvent:function(){var t=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)},_createMarker:function(t){return new L.CircleMarker(t,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(t,e){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,t,e)},_drawShape:function(t){if(L.GeometryUtil.isVersion07x())var e=this._startLatLng.distanceTo(t);else var e=this._map.distance(this._startLatLng,t);this._shape?this._shape.setRadius(e):(this._shape=new L.Circle(this._startLatLng,e,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var t=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,t)},_onMouseMove:function(t){var e,n=t.latlng,i=this.options.showRadius,r=this.options.metric;if(this._tooltip.updatePosition(n),this._isDrawing){this._drawShape(n),e=this._shape.getRadius().toFixed(1);var o="";i&&(o=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(e,r,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:o})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(t,e){this._marker=t,L.setOptions(this,e)},addHooks:function(){var t=this._marker;t.dragging.enable(),t.on("dragend",this._onDragEnd,t),this._toggleMarkerHighlight()},removeHooks:function(){var t=this._marker;t.dragging.disable(),t.off("dragend",this._onDragEnd,t),this._toggleMarkerHighlight()},_onDragEnd:function(t){var e=t.target;e.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:e})},_toggleMarkerHighlight:function(){var t=this._marker._icon;t&&(t.style.display="none",L.DomUtil.hasClass(t,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(t,"leaflet-edit-marker-selected"),this._offsetMarker(t,-4)):(L.DomUtil.addClass(t,"leaflet-edit-marker-selected"),this._offsetMarker(t,4)),t.style.display="")},_offsetMarker:function(t,e){var n=parseInt(t.style.marginTop,10)-e,i=parseInt(t.style.marginLeft,10)-e;t.style.marginTop=n+"px",t.style.marginLeft=i+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(t){this.latlngs=[t._latlngs],t._holes&&(this.latlngs=this.latlngs.concat(t._holes)),this._poly=t,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(t){for(var e=0;e<this._verticesHandlers.length;e++)t(this._verticesHandlers[e])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(t){t.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(t){t.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(t){t.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var t=0;t<this.latlngs.length;t++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[t],this._poly.options.poly))},_updateLatLngs:function(t){this.latlngs=[t.layer._latlngs],t.layer._holes&&(this.latlngs=this.latlngs.concat(t.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(t,e,n){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=t,n&&n.drawError&&(n.drawError=L.Util.extend({},this.options.drawError,n.drawError)),this._latlngs=e,L.setOptions(this,n)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var t=this._poly,e=t._path;t instanceof L.Polygon||(t.options.fill=!1,t.options.editing&&(t.options.editing.fill=!1)),e&&t.options.editing.className&&(t.options.original.className&&t.options.original.className.split(" ").forEach(function(t){L.DomUtil.removeClass(e,t)}),t.options.editing.className.split(" ").forEach(function(t){L.DomUtil.addClass(e,t)})),t.setStyle(t.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var t=this._poly,e=t._path;e&&t.options.editing.className&&(t.options.editing.className.split(" ").forEach(function(t){L.DomUtil.removeClass(e,t)}),t.options.original.className&&t.options.original.className.split(" ").forEach(function(t){L.DomUtil.addClass(e,t)})),t.setStyle(t.options.original),t._map&&(t._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var t,e,n,i,r=this._defaultShape();for(t=0,n=r.length;t<n;t++)i=this._createMarker(r[t],t),i.on("click",this._onMarkerClick,this),this._markers.push(i);var o,s;for(t=0,e=n-1;t<n;e=t++)(0!==t||L.Polygon&&this._poly instanceof L.Polygon)&&(o=this._markers[e],s=this._markers[t],this._createMiddleMarker(o,s),this._updatePrevNext(o,s))},_createMarker:function(t,e){var n=new L.Marker.Touch(t,{draggable:!0,icon:this.options.icon});return n._origLatLng=t,n._index=e,n.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(n),n},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var t=this._defaultShape(),e=[].splice.apply(t,arguments);return this._poly._convertLatLngs(t,!0),this._poly.redraw(),e},_removeMarker:function(t){var e=t._index;this._markerGroup.removeLayer(t),this._markers.splice(e,1),this._spliceLatLngs(e,1),this._updateIndexes(e,-1),t.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(t){var e=t.target,n=this._poly;if(L.extend(e._origLatLng,e._latlng),e._middleLeft&&e._middleLeft.setLatLng(this._getMiddleLatLng(e._prev,e)),e._middleRight&&e._middleRight.setLatLng(this._getMiddleLatLng(e,e._next)),n.options.poly){var i=n._map._editTooltip;if(!n.options.poly.allowIntersection&&n.intersects()){var r=n.options.color;n.setStyle({color:this.options.drawError.color}),0!==L.version.indexOf("0.7")&&e.dragging._draggable._onUp(t),this._onMarkerClick(t),i&&i.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){n.setStyle({color:r}),i&&i.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(t){var e=L.Polygon&&this._poly instanceof L.Polygon?4:3,n=t.target;this._defaultShape().length<e||(this._removeMarker(n),this._updatePrevNext(n._prev,n._next),n._middleLeft&&this._markerGroup.removeLayer(n._middleLeft),n._middleRight&&this._markerGroup.removeLayer(n._middleRight),n._prev&&n._next?this._createMiddleMarker(n._prev,n._next):n._prev?n._next||(n._prev._middleRight=null):n._next._middleLeft=null,this._fireEdit())},_onTouchMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent.touches[0]),n=this._map.layerPointToLatLng(e),i=t.target;L.extend(i._origLatLng,n),i._middleLeft&&i._middleLeft.setLatLng(this._getMiddleLatLng(i._prev,i)),i._middleRight&&i._middleRight.setLatLng(this._getMiddleLatLng(i,i._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(t,e){this._markerGroup.eachLayer(function(n){n._index>t&&(n._index+=e)})},_createMiddleMarker:function(t,e){var n,i,r,o=this._getMiddleLatLng(t,e),s=this._createMarker(o);s.setOpacity(.6),t._middleRight=e._middleLeft=s,i=function(){s.off("touchmove",i,this);var r=e._index;s._index=r,s.off("click",n,this).on("click",this._onMarkerClick,this),o.lat=s.getLatLng().lat,o.lng=s.getLatLng().lng,this._spliceLatLngs(r,0,o),this._markers.splice(r,0,s),s.setOpacity(1),this._updateIndexes(r,1),e._index++,this._updatePrevNext(t,s),this._updatePrevNext(s,e),this._poly.fire("editstart")},r=function(){s.off("dragstart",i,this),s.off("dragend",r,this),s.off("touchmove",i,this),this._createMiddleMarker(t,s),this._createMiddleMarker(s,e)},n=function(){i.call(this),r.call(this),this._fireEdit()},s.on("click",n,this).on("dragstart",i,this).on("dragend",r,this).on("touchmove",i,this),this._markerGroup.addLayer(s)},_updatePrevNext:function(t,e){t&&(t._next=e),e&&(e._prev=t)},_getMiddleLatLng:function(t,e){var n=this._poly._map,i=n.project(t.getLatLng()),r=n.project(e.getLatLng());return n.unproject(i._add(r)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(t,e){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=t,L.Util.setOptions(this,e)},addHooks:function(){var t=this._shape;this._shape._map&&(this._map=this._shape._map,t.setStyle(t.options.editing),t._map&&(this._map=t._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var t=this._shape;if(t.setStyle(t.options.original),t._map){this._unbindMarker(this._moveMarker);for(var e=0,n=this._resizeMarkers.length;e<n;e++)this._unbindMarker(this._resizeMarkers[e]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(t,e){var n=new L.Marker.Touch(t,{draggable:!0,icon:e,zIndexOffset:10});return this._bindMarker(n),this._markerGroup.addLayer(n),n},_bindMarker:function(t){t.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(t){t.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(t){t.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(t){var e=t.target,n=e.getLatLng();e===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(t){t.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(t){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,t),"function"==typeof this._getCorners){var e=this._getCorners(),n=t.target,i=n._cornerIndex;n.setOpacity(0),this._oppositeCorner=e[(i+2)%4],this._toggleCornerMarkers(0,i)}this._shape.fire("editstart")},_onTouchMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent.touches[0]),n=this._map.layerPointToLatLng(e);return t.target===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),!1},_onTouchEnd:function(t){t.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var t=this._shape.getBounds(),e=t.getCenter();this._moveMarker=this._createMarker(e,this.options.moveIcon)},_createResizeMarker:function(){var t=this._getCorners();this._resizeMarkers=[];for(var e=0,n=t.length;e<n;e++)this._resizeMarkers.push(this._createMarker(t[e],this.options.resizeIcon)),this._resizeMarkers[e]._cornerIndex=e},_onMarkerDragStart:function(t){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,t);var e=this._getCorners(),n=t.target,i=n._cornerIndex;this._oppositeCorner=e[(i+2)%4],this._toggleCornerMarkers(0,i)},_onMarkerDragEnd:function(t){var e,n,i=t.target;i===this._moveMarker&&(e=this._shape.getBounds(),n=e.getCenter(),i.setLatLng(n)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,t)},_move:function(t){for(var e,n=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),i=this._shape.getBounds(),r=i.getCenter(),o=[],s=0,a=n.length;s<a;s++)e=[n[s].lat-r.lat,n[s].lng-r.lng],o.push([t.lat+e[0],t.lng+e[1]]);this._shape.setLatLngs(o),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(t){var e;this._shape.setBounds(L.latLngBounds(t,this._oppositeCorner)),e=this._shape.getBounds(),this._moveMarker.setLatLng(e.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var t=this._shape.getBounds();return[t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]},_toggleCornerMarkers:function(t){for(var e=0,n=this._resizeMarkers.length;e<n;e++)this._resizeMarkers[e].setOpacity(t)},_repositionCornerMarkers:function(){for(var t=this._getCorners(),e=0,n=this._resizeMarkers.length;e<n;e++)this._resizeMarkers[e].setLatLng(t[e])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var t=this._shape.getLatLng();this._moveMarker=this._createMarker(t,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(t){if(this._resizeMarkers.length){var e=this._getResizeMarkerPoint(t);this._resizeMarkers[0].setLatLng(e)}this._shape.setLatLng(t),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var t=this._shape.getLatLng(),e=this._getResizeMarkerPoint(t);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(e,this.options.resizeIcon))},_getResizeMarkerPoint:function(t){var e=this._shape._radius*Math.cos(Math.PI/4),n=this._map.project(t);return this._map.unproject([n.x+e,n.y-e])},_resize:function(t){var e=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=e.distanceTo(t):radius=this._map.distance(e,t),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart),L.DomEvent.off(this._container,"touchend",this._onTouchEnd),L.DomEvent.off(this._container,"touchmove",this._onTouchMove),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDowm",this._onTouchStart),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave))},_touchEvent:function(t,e){var n={};if(void 0!==t.touches){if(!t.touches.length)return;n=t.touches[0]}else{if("touch"!==t.pointerType)return;if(n=t,!this._filterClick(t))return}var i=this._map.mouseEventToContainerPoint(n),r=this._map.mouseEventToLayerPoint(n),o=this._map.layerPointToLatLng(r);this._map.fire(e,{latlng:o,layerPoint:r,containerPoint:i,pageX:n.pageX,pageY:n.pageY,originalEvent:t})},_filterClick:function(t){var e=t.timeStamp||t.originalEvent.timeStamp,n=L.DomEvent._lastClick&&e-L.DomEvent._lastClick;return n&&n>100&&n<500||t.target._simulatedClick&&!t._simulated?(L.DomEvent.stop(t),!1):(L.DomEvent._lastClick=e,!0)},_onTouchStart:function(t){this._map._loaded&&this._touchEvent(t,"touchstart")},_onTouchEnd:function(t){this._map._loaded&&this._touchEvent(t,"touchend")},_onTouchCancel:function(t){if(this._map._loaded){var e="touchcancel";this._detectIE()&&(e="pointercancel"),this._touchEvent(t,e)}},_onTouchLeave:function(t){this._map._loaded&&this._touchEvent(t,"touchleave")},_onTouchMove:function(t){this._map._loaded&&this._touchEvent(t,"touchmove")},_detectIE:function(){var e=t.navigator.userAgent,n=e.indexOf("MSIE ");if(n>0)return parseInt(e.substring(n+5,e.indexOf(".",n)),10);if(e.indexOf("Trident/")>0){var i=e.indexOf("rv:");return parseInt(e.substring(i+3,e.indexOf(".",i)),10)}var r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?e.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):e.concat(["touchcancel"]),L.DomUtil.addClass(t,"leaflet-clickable"),L.DomEvent.on(t,"click",this._onMouseClick,this),L.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var n=0;n<e.length;n++)L.DomEvent.on(t,e[n],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var e=t.navigator.userAgent,n=e.indexOf("MSIE ");if(n>0)return parseInt(e.substring(n+5,e.indexOf(".",n)),10);if(e.indexOf("Trident/")>0){var i=e.indexOf("rv:");return parseInt(e.substring(i+3,e.indexOf(".",i)),10)}var r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}}),L.LatLngUtil={cloneLatLngs:function(t){for(var e=[],n=0,i=t.length;n<i;n++)Array.isArray(t[n])?e.push(L.LatLngUtil.cloneLatLngs(t[n])):e.push(this.cloneLatLng(t[n]));return e},cloneLatLng:function(t){return L.latLng(t.lat,t.lng)}},function(){var t={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(t){var e,n,i=t.length,r=0,o=Math.PI/180;if(i>2){for(var s=0;s<i;s++)e=t[s],n=t[(s+1)%i],r+=(n.lng-e.lng)*o*(2+Math.sin(e.lat*o)+Math.sin(n.lat*o));r=6378137*r*6378137/2}return Math.abs(r)},formattedNumber:function(t,e){var n=parseFloat(t).toFixed(e),i=L.drawLocal.format&&L.drawLocal.format.numeric,r=i&&i.delimiters,o=r&&r.thousands,s=r&&r.decimal;if(o||s){var a=n.split(".");n=o?a[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+o):a[0],s=s||".",a.length>1&&(n=n+s+a[1])}return n},readableArea:function(e,n,r){var o,s,r=L.Util.extend({},t,r);return n?(s=["ha","m"],type=void 0===n?"undefined":i(n),"string"===type?s=[n]:"boolean"!==type&&(s=n),o=e>=1e6&&-1!==s.indexOf("km")?L.GeometryUtil.formattedNumber(1e-6*e,r.km)+" km²":e>=1e4&&-1!==s.indexOf("ha")?L.GeometryUtil.formattedNumber(1e-4*e,r.ha)+" ha":L.GeometryUtil.formattedNumber(e,r.m)+" m²"):(e/=.836127,o=e>=3097600?L.GeometryUtil.formattedNumber(e/3097600,r.mi)+" mi²":e>=4840?L.GeometryUtil.formattedNumber(e/4840,r.ac)+" acres":L.GeometryUtil.formattedNumber(e,r.yd)+" yd²"),o},readableDistance:function(e,n,i,r,o){var s,o=L.Util.extend({},t,o);switch(n?"string"==typeof n?n:"metric":i?"feet":r?"nauticalMile":"yards"){case"metric":s=e>1e3?L.GeometryUtil.formattedNumber(e/1e3,o.km)+" km":L.GeometryUtil.formattedNumber(e,o.m)+" m";break;case"feet":e*=3.28083,s=L.GeometryUtil.formattedNumber(e,o.ft)+" ft";break;case"nauticalMile":e*=.53996,s=L.GeometryUtil.formattedNumber(e/1e3,o.nm)+" nm";break;case"yards":default:e*=1.09361,s=e>1760?L.GeometryUtil.formattedNumber(e/1760,o.mi)+" miles":L.GeometryUtil.formattedNumber(e,o.yd)+" yd"}return s},isVersion07x:function(){var t=L.version.split(".");return 0===parseInt(t[0],10)&&7===parseInt(t[1],10)}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(t,e,n,i){return this._checkCounterclockwise(t,n,i)!==this._checkCounterclockwise(e,n,i)&&this._checkCounterclockwise(t,e,n)!==this._checkCounterclockwise(t,e,i)},_checkCounterclockwise:function(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}}),L.Polyline.include({intersects:function(){var t,e,n,i=this._getProjectedPoints(),r=i?i.length:0;if(this._tooFewPointsForIntersection())return!1;for(t=r-1;t>=3;t--)if(e=i[t-1],n=i[t],this._lineSegmentsIntersectsRange(e,n,t-2))return!0;return!1},newLatLngIntersects:function(t,e){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(t),e)},newPointIntersects:function(t,e){var n=this._getProjectedPoints(),i=n?n.length:0,r=n?n[i-1]:null,o=i-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(r,t,o,e?1:0)},_tooFewPointsForIntersection:function(t){var e=this._getProjectedPoints(),n=e?e.length:0;return n+=t||0,!e||n<=3},_lineSegmentsIntersectsRange:function(t,e,n,i){var r,o,s=this._getProjectedPoints();i=i||0;for(var a=n;a>i;a--)if(r=s[a-1],o=s[a],L.LineUtil.segmentsIntersect(t,e,r,o))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var t=[],e=this._defaultShape(),n=0;n<e.length;n++)t.push(this._map.latLngToLayerPoint(e[n]));return t}}),L.Polygon.include({intersects:function(){var t,e,n,i,r=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(t=r.length,e=r[0],n=r[t-1],i=t-2,this._lineSegmentsIntersectsRange(n,e,i,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(t){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,t);var e;this._toolbars={},L.DrawToolbar&&this.options.draw&&(e=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=e,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(e=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=e,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(t){var e,n=L.DomUtil.create("div","leaflet-draw"),i=!1;for(var r in this._toolbars)this._toolbars.hasOwnProperty(r)&&(e=this._toolbars[r].addToolbar(t))&&(i||(L.DomUtil.hasClass(e,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(e.childNodes[0],"leaflet-draw-toolbar-top"),i=!0),n.appendChild(e));return n},onRemove:function(){for(var t in this._toolbars)this._toolbars.hasOwnProperty(t)&&this._toolbars[t].removeToolbar()},setDrawingOptions:function(t){for(var e in this._toolbars)this._toolbars[e]instanceof L.DrawToolbar&&this._toolbars[e].setOptions(t)},_toolbarEnabled:function(t){var e=t.target;for(var n in this._toolbars)this._toolbars[n]!==e&&this._toolbars[n].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(t){L.setOptions(this,t),this._modes={},this._actionButtons=[],this._activeMode=null;var e=L.version.split(".");1===parseInt(e[0],10)&&parseInt(e[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(t){var e,n=L.DomUtil.create("div","leaflet-draw-section"),i=0,r=this._toolbarClass||"",o=this.getModeHandlers(t);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=t,e=0;e<o.length;e++)o[e].enabled&&this._initModeHandler(o[e].handler,this._toolbarContainer,i++,r,o[e].title);if(i)return this._lastButtonIndex=--i,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),n.appendChild(this._toolbarContainer),n.appendChild(this._actionsContainer),n},removeToolbar:function(){for(var t in this._modes)this._modes.hasOwnProperty(t)&&(this._disposeButton(this._modes[t].button,this._modes[t].handler.enable,this._modes[t].handler),this._modes[t].handler.disable(),this._modes[t].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var e=0,n=this._actionButtons.length;e<n;e++)this._disposeButton(this._actionButtons[e].button,this._actionButtons[e].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(t,e,n,i,r){var o=t.type;this._modes[o]={},this._modes[o].handler=t,this._modes[o].button=this._createButton({type:o,title:r,className:i+"-"+o,container:e,callback:this._modes[o].handler.enable,context:this._modes[o].handler}),this._modes[o].buttonIndex=n,this._modes[o].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!t.MSStream},_createButton:function(t){var e=L.DomUtil.create("a",t.className||"",t.container),n=L.DomUtil.create("span","sr-only",t.container);e.href="#",e.appendChild(n),t.title&&(e.title=t.title,n.innerHTML=t.title),t.text&&(e.innerHTML=t.text,n.innerHTML=t.text);var i=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(e,"click",L.DomEvent.stopPropagation).on(e,"mousedown",L.DomEvent.stopPropagation).on(e,"dblclick",L.DomEvent.stopPropagation).on(e,"touchstart",L.DomEvent.stopPropagation).on(e,"click",L.DomEvent.preventDefault).on(e,i,t.callback,t.context),e},_disposeButton:function(t,e){var n=this._detectIOS()?"touchstart":"click";L.DomEvent.off(t,"click",L.DomEvent.stopPropagation).off(t,"mousedown",L.DomEvent.stopPropagation).off(t,"dblclick",L.DomEvent.stopPropagation).off(t,"touchstart",L.DomEvent.stopPropagation).off(t,"click",L.DomEvent.preventDefault).off(t,n,e)},_handlerActivated:function(t){this.disable(),this._activeMode=this._modes[t.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(t){var e,n,i,r,o=this._actionsContainer,s=this.getActions(t),a=s.length;for(n=0,i=this._actionButtons.length;n<i;n++)this._disposeButton(this._actionButtons[n].button,this._actionButtons[n].callback);for(this._actionButtons=[];o.firstChild;)o.removeChild(o.firstChild);for(var u=0;u<a;u++)"enabled"in s[u]&&!s[u].enabled||(e=L.DomUtil.create("li","",o),r=this._createButton({title:s[u].title,text:s[u].text,container:e,callback:s[u].callback,context:s[u].context}),this._actionButtons.push({button:r,callback:s[u].callback}))},_showActionsToolbar:function(){var t=this._activeMode.buttonIndex,e=this._lastButtonIndex,n=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=n+"px",0===t&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),t===e&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(t){this._map=t,this._popupPane=t._panes.popupPane,this._visible=!1,this._container=t.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(t){return this._container?(t.subtext=t.subtext||"",0!==t.subtext.length||this._singleLineLabel?t.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(t.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+t.subtext+"</span><br />":"")+"<span>"+t.text+"</span>",t.text||t.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(t){var e=this._map.latLngToLayerPoint(t),n=this._container;return this._container&&(this._visible&&(n.style.visibility="inherit"),L.DomUtil.setPosition(n,e)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(t){for(var e in this.options)this.options.hasOwnProperty(e)&&t[e]&&(t[e]=L.extend({},this.options[e],t[e]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,t)},getModeHandlers:function(t){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(t,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(t,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(t,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(t,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(t,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(t,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(t){return[{enabled:t.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:t.completeShape,context:t},{enabled:t.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:t.deleteLastVertex,context:t},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(t){L.setOptions(this,t);for(var e in this._modes)this._modes.hasOwnProperty(e)&&t.hasOwnProperty(e)&&this._modes[e].handler.setOptions(t[e])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(t){t.edit&&(void 0===t.edit.selectedPathOptions&&(t.edit.selectedPathOptions=this.options.edit.selectedPathOptions),t.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,t.edit.selectedPathOptions)),t.remove&&(t.remove=L.extend({},this.options.remove,t.remove)),t.poly&&(t.poly=L.extend({},this.options.poly,t.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,t),this._selectedFeatureCount=0},getModeHandlers:function(t){var e=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(t,{featureGroup:e,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(t,{featureGroup:e}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(t){var e=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return t.removeAllLayers&&e.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),e},addToolbar:function(t){var e=L.Toolbar.prototype.addToolbar.call(this,t);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),e},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var t,e=this.options.featureGroup,n=0!==e.getLayers().length;this.options.edit&&(t=this._modes[L.EditToolbar.Edit.TYPE].button,n?L.DomUtil.removeClass(t,"leaflet-disabled"):L.DomUtil.addClass(t,"leaflet-disabled"),t.setAttribute("title",n?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(t=this._modes[L.EditToolbar.Delete.TYPE].button,n?L.DomUtil.removeClass(t,"leaflet-disabled"):L.DomUtil.addClass(t,"leaflet-disabled"),t.setAttribute("title",n?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(t,e){if(L.Handler.prototype.initialize.call(this,t),L.setOptions(this,e),this._featureGroup=e.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(t.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),t._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(t){this._revertLayer(t)},this)},save:function(){var t=new L.LayerGroup;this._featureGroup.eachLayer(function(e){e.edited&&(t.addLayer(e),e.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:t})},_backupLayer:function(t){var e=L.Util.stamp(t);this._uneditedLayerProps[e]||(t instanceof L.Polyline||t instanceof L.Polygon||t instanceof L.Rectangle?this._uneditedLayerProps[e]={latlngs:L.LatLngUtil.cloneLatLngs(t.getLatLngs())}:t instanceof L.Circle?this._uneditedLayerProps[e]={latlng:L.LatLngUtil.cloneLatLng(t.getLatLng()),radius:t.getRadius()}:(t instanceof L.Marker||t instanceof L.CircleMarker)&&(this._uneditedLayerProps[e]={latlng:L.LatLngUtil.cloneLatLng(t.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(t){var e=L.Util.stamp(t);t.edited=!1,this._uneditedLayerProps.hasOwnProperty(e)&&(t instanceof L.Polyline||t instanceof L.Polygon||t instanceof L.Rectangle?t.setLatLngs(this._uneditedLayerProps[e].latlngs):t instanceof L.Circle?(t.setLatLng(this._uneditedLayerProps[e].latlng),t.setRadius(this._uneditedLayerProps[e].radius)):(t instanceof L.Marker||t instanceof L.CircleMarker)&&t.setLatLng(this._uneditedLayerProps[e].latlng),t.fire("revert-edited",{layer:t}))},_enableLayerEdit:function(t){var e,n,i=t.layer||t.target||t;this._backupLayer(i),this.options.poly&&(n=L.Util.extend({},this.options.poly),i.options.poly=n),this.options.selectedPathOptions&&(e=L.Util.extend({},this.options.selectedPathOptions),e.maintainColor&&(e.color=i.options.color,e.fillColor=i.options.fillColor),i.options.original=L.extend({},i.options),i.options.editing=e),i instanceof L.Marker?(i.editing&&i.editing.enable(),i.dragging.enable(),i.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):i.editing.enable()},_disableLayerEdit:function(t){var e=t.layer||t.target||t;e.edited=!1,e.editing&&e.editing.disable(),delete e.options.editing,delete e.options.original,this._selectedPathOptions&&(e instanceof L.Marker?this._toggleMarkerHighlight(e):(e.setStyle(e.options.previousOptions),delete e.options.previousOptions)),e instanceof L.Marker?(e.dragging.disable(),e.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):e.editing.disable()},_onMouseMove:function(t){this._tooltip.updatePosition(t.latlng)},_onMarkerDragEnd:function(t){var e=t.target;e.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:e})},_onTouchMove:function(t){var e=t.originalEvent.changedTouches[0],n=this._map.mouseEventToLayerPoint(e),i=this._map.layerPointToLatLng(n);t.target.setLatLng(i)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(t,e){if(L.Handler.prototype.initialize.call(this,t),L.Util.setOptions(this,e),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(t.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(t){this._deletableLayers.addLayer(t),t.fire("revert-deleted",{layer:t})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(t){this._removeLayer({layer:t})},this),this.save()},_enableLayerDelete:function(t){(t.layer||t.target||t).on("click",this._removeLayer,this)},_disableLayerDelete:function(t){var e=t.layer||t.target||t;e.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(e)},_removeLayer:function(t){var e=t.layer||t.target||t;this._deletableLayers.removeLayer(e),this._deletedLayers.addLayer(e),e.fire("deleted")},_onMouseMove:function(t){this._tooltip.updatePosition(t.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})}(window,document)},function(t,e,n){"use strict";!function(t,e){L.Pattern=L.Class.extend({includes:[L.Mixin.Events],options:{x:0,y:0,width:8,height:8,patternUnits:"userSpaceOnUse",patternContentUnits:"userSpaceOnUse"},_addShapes:L.Util.falseFn,_update:L.Util.falseFn,initialize:function(t){this._shapes={},L.setOptions(this,t)},onAdd:function(t){this._map=t.target?t.target:t,this._map._initDefRoot(),this._initDom();for(var e in this._shapes)this._shapes[e].onAdd(this);this._addShapes(),this._addDom(),this.redraw(),this.getEvents&&this._map.on(this.getEvents(),this),this.fire("add"),this._map.fire("patternadd",{pattern:this})},onRemove:function(){this._removeDom()},redraw:function(){if(this._map){this._update();for(var t in this._shapes)this._shapes[t].redraw()}return this},setStyle:function(t){return L.setOptions(this,t),this._map&&(this._updateStyle(),this.redraw()),this},addTo:function(t){return t.addPattern(this),this},remove:function(){return this.removeFrom(this._map)},removeFrom:function(t){return t&&t.removePattern(this),this}}),L.Map.addInitHook(function(){this._patterns={}}),L.Map.include({addPattern:function(t){var e=L.stamp(t);return this._patterns[e]?t:(this._patterns[e]=t,this.whenReady(t.onAdd,t),this)},removePattern:function(t){var e=L.stamp(t);return this._patterns[e]?(this._loaded&&t.onRemove(this),t.getEvents&&this.off(t.getEvents(),t),delete this._patterns[e],this._loaded&&(this.fire("patternremove",{pattern:t}),t.fire("remove")),t._map=null,this):this},hasPattern:function(t){return!!t&&L.stamp(t)in this._patterns}}),L.Pattern.SVG_NS="http://www.w3.org/2000/svg",L.Pattern=L.Pattern.extend({_createElement:function(t){return e.createElementNS(L.Pattern.SVG_NS,t)},_initDom:function(){this._dom=this._createElement("pattern"),this.options.className&&L.DomUtil.addClass(this._dom,this.options.className),this._updateStyle()},_addDom:function(){this._map._defRoot.appendChild(this._dom)},_removeDom:function(){L.DomUtil.remove(this._dom)},_updateStyle:function(){var t=this._dom,e=this.options;if(t){if(t.setAttribute("id",L.stamp(this)),t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("width",e.width),t.setAttribute("height",e.height),t.setAttribute("patternUnits",e.patternUnits),t.setAttribute("patternContentUnits",e.patternContentUnits),e.patternTransform||e.angle){var n=e.patternTransform?e.patternTransform+" ":"";n+=e.angle?"rotate("+e.angle+") ":"",t.setAttribute("patternTransform",n)}else t.removeAttribute("patternTransform");for(var i in this._shapes)this._shapes[i]._updateStyle()}}}),L.Map.include({_initDefRoot:function(){if(!this._defRoot)if("function"==typeof this.getRenderer){var t=this.getRenderer(this);this._defRoot=L.Pattern.prototype._createElement("defs"),t._container.appendChild(this._defRoot)}else this._pathRoot||this._initPathRoot(),this._defRoot=L.Pattern.prototype._createElement("defs"),this._pathRoot.appendChild(this._defRoot)}}),L.SVG?L.SVG.include({_superUpdateStyle:L.SVG.prototype._updateStyle,_updateStyle:function(t){this._superUpdateStyle(t),t.options.fill&&t.options.fillPattern&&t._path.setAttribute("fill","url(#"+L.stamp(t.options.fillPattern)+")")}}):L.Path.include({_superUpdateStyle:L.Path.prototype._updateStyle,_updateStyle:function(){this._superUpdateStyle(),this.options.fill&&this.options.fillPattern&&this._path.setAttribute("fill","url(#"+L.stamp(this.options.fillPattern)+")")}}),L.StripePattern=L.Pattern.extend({options:{weight:4,spaceWeight:4,color:"#000000",spaceColor:"#ffffff",opacity:1,spaceOpacity:0},_addShapes:function(){this._stripe=new L.PatternPath({stroke:!0,weight:this.options.weight,color:this.options.color,opacity:this.options.opacity}),this._space=new L.PatternPath({stroke:!0,weight:this.options.spaceWeight,color:this.options.spaceColor,opacity:this.options.spaceOpacity}),this.addShape(this._stripe),this.addShape(this._space),this._update()},_update:function(){this._stripe.options.d="M0 "+this._stripe.options.weight/2+" H "+this.options.width,this._space.options.d="M0 "+(this._stripe.options.weight+this._space.options.weight/2)+" H "+this.options.width},setStyle:L.Pattern.prototype.setStyle}),L.stripePattern=function(t){return new L.StripePattern(t)},L.PatternShape=L.Class.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",fillOpacity:.2,fillRule:"evenodd"},initialize:function(t){L.setOptions(this,t)},onAdd:function(t){this._pattern=t,this._pattern._dom&&(this._initDom(),this._addDom())},addTo:function(t){return t.addShape(this),this},redraw:function(){return this._pattern&&this._updateShape(),this},setStyle:function(t){return L.setOptions(this,t),this._pattern&&this._updateStyle(),this},setShape:function(t){this.options=L.extend({},this.options,t),this._updateShape()}}),L.Pattern.include({addShape:function(t){var e=L.stamp(t);return this._shapes[e]?t:(this._shapes[e]=t,void t.onAdd(this))}}),L.PatternShape.SVG_NS="http://www.w3.org/2000/svg",L.PatternShape=L.PatternShape.extend({_createElement:function(t){return e.createElementNS(L.PatternShape.SVG_NS,t)},_initDom:L.Util.falseFn,_updateShape:L.Util.falseFn,_initDomElement:function(t){this._dom=this._createElement(t),this.options.className&&L.DomUtil.addClass(this._dom,this.options.className),this._updateStyle()},_addDom:function(){this._pattern._dom.appendChild(this._dom)},_updateStyle:function(){var t=this._dom,e=this.options;t&&(e.stroke?(t.setAttribute("stroke",e.color),t.setAttribute("stroke-opacity",e.opacity),t.setAttribute("stroke-width",e.weight),t.setAttribute("stroke-linecap",e.lineCap),t.setAttribute("stroke-linejoin",e.lineJoin),e.dashArray?t.setAttribute("stroke-dasharray",e.dashArray):t.removeAttribute("stroke-dasharray"),e.dashOffset?t.setAttribute("stroke-dashoffset",e.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),e.fill?(e.fillPattern?t.setAttribute("fill","url(#"+L.stamp(e.fillPattern)+")"):t.setAttribute("fill",e.fillColor||e.color),t.setAttribute("fill-opacity",e.fillOpacity),t.setAttribute("fill-rule",e.fillRule||"evenodd")):t.setAttribute("fill","none"),t.setAttribute("pointer-events",e.pointerEvents||(e.interactive?"visiblePainted":"none")))}}),L.PatternPath=L.PatternShape.extend({_initDom:function(){this._initDomElement("path")},_updateShape:function(){this._dom&&this._dom.setAttribute("d",this.options.d)}}),L.PatternCircle=L.PatternShape.extend({options:{x:0,y:0,radius:0},_initDom:function(){this._initDomElement("circle")},_updateShape:function(){this._dom&&(this._dom.setAttribute("cx",this.options.x),this._dom.setAttribute("cy",this.options.y),this._dom.setAttribute("r",this.options.radius))}}),L.PatternRect=L.PatternShape.extend({options:{x:0,y:0,width:10,height:10},_initDom:function(){this._initDomElement("rect")},_updateShape:function(){this._dom&&(this._dom.setAttribute("x",this.options.x),this._dom.setAttribute("y",this.options.y),this._dom.setAttribute("width",this.options.width),this._dom.setAttribute("height",this.options.height),this.options.rx&&this._dom.setAttribute("rx",this.options.rx),this.options.ry&&this._dom.setAttribute("ry",this.options.ry))}})}(window,document)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(258);Object.defineProperty(e,"GeoSearchControl",{enumerable:!0,get:function(){return i(r).default}});var o=n(142);Object.defineProperty(e,"SearchElement",{enumerable:!0,get:function(){return i(o).default}});var s=n(265);Object.defineProperty(e,"BingProvider",{enumerable:!0,get:function(){return i(s).default}});var a=n(266);Object.defineProperty(e,"EsriProvider",{enumerable:!0,get:function(){return i(a).default}});var u=n(267);Object.defineProperty(e,"GoogleProvider",{enumerable:!0,get:function(){return i(u).default}});var l=n(268);Object.defineProperty(e,"OpenStreetMapProvider",{enumerable:!0,get:function(){return i(l).default}});var f=n(61);Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return i(f).default}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(!L||!L.Control||!L.Control.extend)throw new Error("Leaflet must be loaded before instantiating the GeoSearch control");for(var t=L.Control.extend(v),e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return new(Function.prototype.bind.apply(t,[null].concat(n)))}Object.defineProperty(e,"__esModule",{value:!0});var o=n(60),s=(i(o),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t});e.default=r;var a=n(263),u=i(a),l=n(142),f=i(l),c=n(264),d=i(c),h=n(83),_=n(143),p=function(){return{position:"topleft",style:"button",showMarker:!0,showPopup:!1,popupFormat:function(t){return""+t.result.label},marker:{icon:new L.Icon.Default,draggable:!1},maxMarkers:1,retainZoomLevel:!1,animateZoom:!0,searchLabel:"Enter address",notFoundMessage:"Sorry, that address could not be found.",messageHideDelay:3e3,zoomLevel:18,classNames:{container:"leaflet-bar leaflet-control leaflet-control-geosearch",button:"leaflet-bar-part leaflet-bar-part-single",resetButton:"reset",msgbox:"leaflet-bar message",form:"",input:""},autoComplete:!0,autoCompleteDelay:250,autoClose:!1,keepResult:!1}},g={},m=["dragging","touchZoom","doubleClickZoom","scrollWheelZoom","boxZoom","keyboard"],v={initialize:function(t){var e=this;this.markers=new L.FeatureGroup,this.handlersDisabled=!1,this.options=s({},p(),t);var n=this.options,i=n.style,r=n.classNames,o=n.searchLabel,a=n.autoComplete,l=n.autoCompleteDelay;"button"!==i&&(this.options.classNames.container+=" "+t.style),this.searchElement=new f.default(s({},this.options,{handleSubmit:function(t){return e.onSubmit(t)}}));var c=this.searchElement.elements,_=c.container,g=c.form,m=c.input,v=(0,h.createElement)("a",r.button,_);v.title=o,v.href="#",v.addEventListener("click",function(t){e.onClick(t)},!1);var y=(0,h.createElement)("a",r.resetButton,g);y.innerHTML="X",v.href="#",y.addEventListener("click",function(){e.clearResults(null,!0)},!1),a&&(this.resultList=new d.default({handleClick:function(t){var n=t.result;m.value=n.label,e.onSubmit({query:n.label,data:n})}}),g.appendChild(this.resultList.elements.container),m.addEventListener("keyup",(0,u.default)(function(t){return e.autoSearch(t)},l),!0),m.addEventListener("keydown",function(t){return e.selectResult(t)},!0),m.addEventListener("keydown",function(t){return e.clearResults(t,!0)},!0)),g.addEventListener("mouseenter",function(t){return e.disableHandlers(t)},!0),g.addEventListener("mouseleave",function(t){return e.restoreHandlers(t)},!0),this.elements={button:v,resetButton:y}},onAdd:function(t){var e=this.options,n=e.showMarker,i=e.style;if(this.map=t,n&&this.markers.addTo(t),"bar"===i){var r=this.searchElement.elements.form,o=t.getContainer().querySelector(".leaflet-control-container"),s=(0,h.createElement)("div","leaflet-control-geosearch bar");s.appendChild(r),o.appendChild(s),this.elements.container=s}return this.searchElement.elements.container},onRemove:function(){var t=this.elements.container;return t&&t.remove(),this},onClick:function(t){t.preventDefault();var e=this.searchElement.elements,n=e.container,i=e.input;n.classList.contains("active")?((0,h.removeClassName)(n,"active"),this.clearResults()):((0,h.addClassName)(n,"active"),i.focus())},disableHandlers:function(t){var e=this,n=this.searchElement.elements.form;this.handlersDisabled||t&&t.target!==n||(this.handlersDisabled=!0,m.forEach(function(t){e.map[t]&&(g[t]=e.map[t].enabled(),e.map[t].disable())}))},restoreHandlers:function(t){var e=this,n=this.searchElement.elements.form;!this.handlersDisabled||t&&t.target!==n||(this.handlersDisabled=!1,m.forEach(function(t){g[t]&&e.map[t].enable()}))},selectResult:function(t){if([_.ENTER_KEY,_.ARROW_DOWN_KEY,_.ARROW_UP_KEY].includes(t.keyCode)){t.preventDefault();var e=this.searchElement.elements.input,n=this.resultList;if(t.keyCode===_.ENTER_KEY){var i=n.select(n.selected);return void this.onSubmit({query:e.value,data:i})}var r=n.count()-1;if(!(r<0)){var o="ArrowDown"===t.code?1+~~n.selected:~~n.selected-1,s=o<0?r:o>r?0:o,a=n.select(s);e.value=a.label}}},clearResults:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t||t.keyCode===_.ESCAPE_KEY){var n=this.searchElement.elements.input,i=this.options,r=i.keepResult,o=i.autoComplete;!e&&r||(n.value="",this.markers.clearLayers()),o&&this.resultList.clear()}},autoSearch:function(t){return new Promise(function(e,n){function i(){return e()}var r,o,s;return _.SPECIAL_KEYS.includes(t.keyCode)?e():(r=t.target.value,o=this.options.provider,r.length?o.search({query:r}).then(function(t){return s=t,this.resultList.render(s),i.call(this)}.$asyncbind(this,n),n):(this.resultList.clear(),i.call(this)))}.$asyncbind(this))},onSubmit:function(t){return new Promise(function(e,n){var i,r;return i=this.options.provider,i.search(t).then(function(n){return r=n,r&&r.length>0&&this.showResult(r[0],t),e()}.$asyncbind(this,n),n)}.$asyncbind(this))},showResult:function(t,e){var n=e.query,i=this.options.autoClose,r=Object.keys(this.markers._layers);r.length>=this.options.maxMarkers&&this.markers.removeLayer(r[0]);var o=this.addMarker(t,n);this.centerMap(t),this.map.fireEvent("geosearch/showlocation",{location:t,marker:o}),i&&this.closeResults()},closeResults:function(){var t=this.searchElement.elements.container;t.classList.contains("active")&&(0,h.removeClassName)(t,"active"),this.restoreHandlers(),this.clearResults()},addMarker:function(t,e){var n=this,i=this.options,r=i.marker,o=i.showPopup,s=i.popupFormat,a=new L.Marker([t.y,t.x],r),u=t.label;return"function"==typeof s&&(u=s({query:e,result:t})),a.bindPopup(u),this.markers.addLayer(a),o&&a.openPopup(),r.draggable&&a.on("dragend",function(t){n.map.fireEvent("geosearch/marker/dragend",{location:a.getLatLng(),event:t})}),a},centerMap:function(t){var e=this.options,n=e.retainZoomLevel,i=e.animateZoom,r=new L.LatLngBounds(t.bounds),o=r.isValid()?r:this.markers.getBounds();!n&&r.isValid()?this.map.fitBounds(o,{animate:i}):this.map.setView(o.getCenter(),this.getZoom(),{animate:i})},getZoom:function(){var t=this.options,e=t.retainZoomLevel,n=t.zoomLevel;return e?this.map.getZoom():n}}},function(t,e,n){"use strict";(function(e,n){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){function r(t){if(t){var e=this;t(function(t){e.resolve(t)},function(t){e.reject(t)})}}function o(t,e){if("function"==typeof t.y)try{var n=t.y.call(void 0,e);t.p.resolve(n)}catch(e){t.p.reject(e)}else t.p.resolve(e)}function s(t,e){if("function"==typeof t.n)try{var n=t.n.call(void 0,e);t.p.resolve(n)}catch(e){t.p.reject(e)}else t.p.reject(e)}t=t||"object"===(void 0===e?"undefined":i(e))&&e.nextTick||"function"==typeof n&&n||function(t){setTimeout(t,0)};var a=function(){function e(){for(;n.length-i;){try{n[i]()}catch(t){}n[i++]=void 0,i===r&&(n.splice(0,r),i=0)}}var n=[],i=0,r=1024;return function(r){n.push(r),n.length-i==1&&t(e)}}();return r.prototype={resolve:function(t){if(void 0===this.state){if(t===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var e=this;if(t&&("function"==typeof t||"object"===(void 0===t?"undefined":i(t))))try{var n=0,r=t.then;if("function"==typeof r)return void r.call(t,function(t){n++||e.resolve(t)},function(t){n++||e.reject(t)})}catch(t){return void(n||this.reject(t))}this.state=o,this.v=t,e.c&&a(function(){for(var n=0,i=e.c.length;n<i;n++)o(e.c[n],t)})}},reject:function(t){if(void 0===this.state){this.state=s,this.v=t;var e=this.c;e&&a(function(){for(var n=0,i=e.length;n<i;n++)s(e[n],t)})}},then:function(t,e){var n=new r,i={y:t,n:e,p:n};if(void 0===this.state)this.c?this.c.push(i):this.c=[i];else{var o=this.state,s=this.v;a(function(){o(i,s)})}return n}},r.resolve=function(t){if(t&&t instanceof r)return t;var e=new r;return e.resolve(t),e},r.reject=function(t){if(t&&t instanceof r)return t;var e=new r;return e.reject(t),e},r.version="2.3.3-nodent",r}}).call(e,n(102),n(260).setImmediate)},function(t,e,n){"use strict";function i(t,e){this._id=t,this._clearFn=e}var r=Function.prototype.apply;e.setTimeout=function(){return new i(r.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(r.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(261),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){"use strict";(function(t,e){!function(t,n){function i(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return l[u]=i,a(u),u++}function r(t){delete l[t]}function o(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}function s(t){if(f)setTimeout(s,0,t);else{var e=l[t];if(e){f=!0;try{o(e)}finally{r(t),f=!1}}}}if(!t.setImmediate){var a,u=1,l={},f=!1,c=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?function(){a=function(t){e.nextTick(function(){s(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&s(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),a=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){s(t.data)},a=function(e){t.port2.postMessage(e)}}():c&&"onreadystatechange"in c.createElement("script")?function(){var t=c.documentElement;a=function(e){var n=c.createElement("script");n.onreadystatechange=function(){s(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){a=function(t){setTimeout(s,0,t)}}(),d.setImmediate=i,d.clearImmediate=r}}("undefined"==typeof self?void 0===t?void 0:t:self)}).call(e,n(141),n(102))},function(t,e,n){"use strict";t.exports=function(){function t(t){return t&&t instanceof Object&&"function"==typeof t.then}function e(n,i,r){try{var o=r?r(i):i;if(n===o)return n.reject(new TypeError("Promise resolution loop"));t(o)?o.then(function(t){e(n,t)},function(t){n.reject(t)}):n.resolve(o)}catch(t){n.reject(t)}}function n(t){}function i(t,e){this.resolve=t,this.reject=e}function r(){}function o(n,i){var o=new r;try{this._resolver(function(r){return t(r)?r.then(n,i):e(o,r,n)},function(t){e(o,t,i)})}catch(t){e(o,t,i)}return o}function s(t){this._resolver=t,this.then=o}return r.prototype={resolve:n,reject:n,then:i},s.resolve=function(t){return s.isThenable(t)?t:{then:function(e){return e(t)}}},s.isThenable=t,s}},function(t,e,n){"use strict";(function(e){function n(t,e,n){function r(e){var n=p,i=g;return p=g=void 0,w=e,v=t.apply(i,n)}function o(t){return w=t,y=setTimeout(f,e),M?r(t):v}function a(t){var n=t-b,i=t-w,r=e-n;return P?E(r,m-i):r}function l(t){var n=t-b,i=t-w;return void 0===b||n>=e||n<0||P&&i>=m}function f(){var t=L();if(l(t))return c(t);y=setTimeout(f,a(t))}function c(t){return y=void 0,I&&p?r(t):(p=g=void 0,v)}function d(){void 0!==y&&clearTimeout(y),w=0,p=b=g=y=void 0}function h(){return void 0===y?v:c(L())}function _(){var t=L(),n=l(t);if(p=arguments,g=this,b=t,n){if(void 0===y)return o(b);if(P)return y=setTimeout(f,e),r(b)}return void 0===y&&(y=setTimeout(f,e)),v}var p,g,m,v,y,b,w=0,M=!1,P=!1,I=!0;if("function"!=typeof t)throw new TypeError(u);return e=s(e)||0,i(n)&&(M=!!n.leading,P="maxWait"in n,m=P?x(s(n.maxWait)||0,e):m,I="trailing"in n?!!n.trailing:I),_.cancel=d,_.flush=h,_}function i(t){var e=void 0===t?"undefined":a(t);return!!t&&("object"==e||"function"==e)}function r(t){return!!t&&"object"==(void 0===t?"undefined":a(t))}function o(t){return"symbol"==(void 0===t?"undefined":a(t))||r(t)&&b.call(t)==f}function s(t){if("number"==typeof t)return t;if(o(t))return l;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(c,"");var n=h.test(t);return n||_.test(t)?p(t.slice(2),n?2:8):d.test(t)?l:+t}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u="Expected a function",l=NaN,f="[object Symbol]",c=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,_=/^0o[0-7]+$/i,p=parseInt,g="object"==(void 0===e?"undefined":a(e))&&e&&e.Object===Object&&e,m="object"==("undefined"==typeof self?"undefined":a(self))&&self&&self.Object===Object&&self,v=g||m||Function("return this")(),y=Object.prototype,b=y.toString,x=Math.max,E=Math.min,L=function(){return v.Date.now()};t.exports=n}).call(e,n(141))},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(83),s=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.join(" ").trim()},a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.handleClick,r=void 0===n?function(){}:n,a=e.classNames,l=void 0===a?{}:a;i(this,t),u.call(this),this.props={handleClick:r,classNames:l},this.selected=-1;var f=(0,o.createElement)("div",s("results",l.container)),c=(0,o.createElement)("div",s(l.item));f.addEventListener("click",this.onClick,!0),this.elements={container:f,resultItem:c}}return r(t,[{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.elements,n=e.container,i=e.resultItem;this.clear(),t.forEach(function(t,e){var r=i.cloneNode(!0);r.setAttribute("data-key",e),r.innerHTML=t.label,n.appendChild(r)}),t.length>0&&(0,o.addClassName)(n,"active"),this.results=t}},{key:"select",value:function(t){var e=this.elements.container;return Array.from(e.children).forEach(function(e,n){return n===t?(0,o.addClassName)(e,"active"):(0,o.removeClassName)(e,"active")}),this.selected=t,this.results[t]}},{key:"count",value:function(){return this.results?this.results.length:0}},{key:"clear",value:function(){var t=this.elements.container;for(this.selected=-1;t.lastChild;)t.removeChild(t.lastChild);(0,o.removeClassName)(t,"active")}}]),t}(),u=function(){var t=this;this.onClick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.target,i=t.props.handleClick,r=t.elements.container;if(n.parentNode===r&&n.hasAttribute("data-key")){var o=n.getAttribute("data-key");i({result:t.results[o]})}}};e.default=a},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":a(e))&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":a(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(e,"__esModule",{value:!0});var u=n(60),l=(i(u),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=n(61),d=i(c),h=n(83),_=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),f(e,[{key:"endpoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.query,n=t.protocol,i=t.jsonp,r=this.options.params;return n+"//dev.virtualearth.net/REST/v1/Locations?"+this.getParamString(l({},r,{query:e,jsonp:i}))}},{key:"parse",value:function(t){var e=t.data;return 0===e.resourceSets.length?[]:e.resourceSets[0].resources.map(function(t){return{x:t.point.coordinates[1],y:t.point.coordinates[0],label:t.address.formattedAddress,bounds:[[t.bbox[0],t.bbox[1]],[t.bbox[2],t.bbox[3]]],raw:t}})}},{key:"search",value:function(t){return new Promise(function(e,n){var i,r,o,s,a;return i=t.query,r=~location.protocol.indexOf("http")?location.protocol:"https:",o="BING_JSONP_CB_"+Date.now(),s=this.endpoint({query:i,protocol:r,jsonp:o}),(0,h.createScriptElement)(s,o).then(function(t){return a=t,e(this.parse({data:a}))}.$asyncbind(this,n),n)}.$asyncbind(this))}}]),e}(d.default);e.default=_},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":s(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":s(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(61),f=function(t){return t&&t.__esModule?t:{default:t}}(l),c=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),u(e,[{key:"endpoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.query,n=t.protocol,i=this.options.params;return n+"//geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/find?"+this.getParamString(a({},i,{f:"json",text:e}))}},{key:"parse",value:function(t){return t.data.locations.map(function(t){return{x:t.feature.geometry.x,y:t.feature.geometry.y,label:t.name,bounds:[[t.extent.ymin,t.extent.xmin],[t.extent.ymax,t.extent.xmax]],raw:t}})}}]),e}(f.default);e.default=c},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":s(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":s(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(61),f=function(t){return t&&t.__esModule?t:{default:t}}(l),c=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),u(e,[{key:"endpoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.query,n=t.protocol,i=this.options.params,r=this.getParamString(a({},i,{address:e}));return(i&&i.key?"https:":n)+"//maps.googleapis.com/maps/api/geocode/json?"+r}},{key:"parse",value:function(t){return t.data.results.map(function(t){return{x:t.geometry.location.lng,y:t.geometry.location.lat,label:t.formatted_address,bounds:[[t.geometry.viewport.southwest.lat,t.geometry.viewport.southwest.lng],[t.geometry.viewport.northeast.lat,t.geometry.viewport.northeast.lng]],raw:t}})}}]),e}(f.default);e.default=c},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":a(e))&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":a(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(e,"__esModule",{value:!0});var u=n(60),l=(i(u),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=n(61),d=i(c),h=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),f(e,[{key:"endpoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.query,n=this.options.params;return"https://nominatim.openstreetmap.org/search?"+this.getParamString(l({},n,{format:"json",q:e}))}},{key:"endpointReverse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,n=this.options.params;return"https://nominatim.openstreetmap.org/reverse?"+this.getParamString(l({},n,{format:"json",osm_id:e.raw.osm_id,osm_type:this.translateOsmType(e.raw.osm_type)}))}},{key:"parse",value:function(t){return t.data.map(function(t){return{x:t.lon,y:t.lat,label:t.display_name,bounds:[[parseFloat(t.boundingbox[0]),parseFloat(t.boundingbox[2])],[parseFloat(t.boundingbox[1]),parseFloat(t.boundingbox[3])]],raw:t}})}},{key:"search",value:function(t){return new Promise(function(e,n){var i,r,o,s,a,u;return i=t.query,r=t.data,o=~location.protocol.indexOf("http")?location.protocol:"https:",s=r?this.endpointReverse({data:r,protocol:o}):this.endpoint({query:i,protocol:o}),fetch(s).then(function(t){return a=t,a.json().then(function(t){return u=t,e(this.parse({data:r?[u]:u}))}.$asyncbind(this,n),n)}.$asyncbind(this,n),n)}.$asyncbind(this))}},{key:"translateOsmType",value:function(t){return"node"===t?"N":"way"===t?"W":"relation"===t?"R":""}}]),e}(d.default);e.default=h},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){n=n||{};var i=n.units,r=n.steps||64;if(!t)throw new Error("geojson is required");if("object"!==(void 0===n?"undefined":f(n)))throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(r<=0)throw new Error("steps must be greater than 0");r=r||64,i=i||"kilometers";var s=[];switch(t.type){case"GeometryCollection":return(0,m.geomEach)(t,function(t){var n=o(t,e,i,r);n&&s.push(n)}),(0,y.featureCollection)(s);case"FeatureCollection":return(0,m.featureEach)(t,function(t){var n=o(t,e,i,r);n&&(0,m.featureEach)(n,function(t){t&&s.push(t)})}),(0,y.featureCollection)(s)}return o(t,e,i,r)}function o(t,e,n,i){var r=t.properties||{},f="Feature"===t.type?t.geometry:t;if("GeometryCollection"===f.type){var c=[];return(0,m.geomEach)(t,function(t){var r=o(t,e,n,i);r&&c.push(r)}),(0,y.featureCollection)(c)}var d,h=(0,_.default)(t),v=h[1]>50&&h[3]>50;d=v?{type:f.type,coordinates:a(f.coordinates,l(f))}:(0,g.toMercator)(f);var b=new p.GeoJSONReader,x=b.read(d),E=(0,y.radiansToLength)((0,y.lengthToRadians)(e,n),"meters"),L=p.BufferOp.bufferOp(x,E);if(L=(new p.GeoJSONWriter).write(L),!s(L.coordinates)){var w;return w=v?{type:L.type,coordinates:u(L.coordinates,l(f))}:(0,g.toWgs84)(L),w.geometry?w:(0,y.feature)(w,r)}}function s(t){return Array.isArray(t[0])?s(t[0]):isNaN(t[0])}function a(t,e){return"object"!==f(t[0])?e(t):t.map(function(t){return a(t,e)})}function u(t,e){return"object"!==f(t[0])?e.invert(t):t.map(function(t){return u(t,e)})}function l(t){var e=(0,d.default)(t).geometry.coordinates.reverse(),n=e.map(function(t){return-t});return(0,v.geoTransverseMercator)().center(e).rotate(n).scale(y.earthRadius)}Object.defineProperty(e,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=n(270),d=i(c),h=n(144),_=i(h),p=n(145),g=n(447),m=n(62),v=n(449),y=n(28);e.default=r},function(t,e,n){"use strict";function i(t,e){var n=(0,o.default)(t),i=(n[0]+n[2])/2,r=(n[1]+n[3])/2;return(0,s.point)([i,r],e)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(144),o=function(t){return t&&t.__esModule?t:{default:t}}(r),s=n(28);e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PrecisionModel=e.IntersectionMatrix=e.Dimension=e.MultiPolygon=e.MultiLineString=e.MultiPoint=e.GeometryCollection=e.Polygon=e.LinearRing=e.LineString=e.Point=e.Geometry=e.GeometryFactory=e.LineSegment=e.Envelope=e.CoordinateList=e.Coordinate=void 0;var r=n(2),o=i(r),s=n(19),a=i(s),u=n(8),l=i(u),f=n(15),c=i(f),d=n(16),h=i(d),_=n(13),p=i(_),g=n(26),m=i(g),v=n(10),y=i(v),b=n(32),x=i(b),E=n(17),L=i(E),w=n(14),M=i(w),P=n(44),I=i(P),C=n(31),S=i(C),N=n(33),O=i(N),T=n(41),R=i(T),D=n(156),A=i(D),k=n(56),j=i(k);e.Coordinate=o.default,e.CoordinateList=a.default,e.Envelope=l.default,e.LineSegment=c.default,e.GeometryFactory=h.default,e.Geometry=p.default,e.Point=m.default,e.LineString=y.default,e.LinearRing=x.default,e.Polygon=L.default,e.GeometryCollection=M.default,e.MultiPoint=I.default,e.MultiLineString=S.default,e.MultiPolygon=O.default,e.Dimension=R.default,e.IntersectionMatrix=A.default,e.PrecisionModel=j.default},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{interfaces_:function(){return[]},getClass:function(){return i}}),i.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(0===arguments.length)u.default.call(this);else if(1===arguments.length){var t=arguments[0];u.default.call(this,t)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(48),u=i(a);(0,i(n(3)).default)(r,u.default),(0,s.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){this.message=t||""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype=new Error,i.prototype.name="IndexOutOfBoundsException"},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new f.default,this._intPt[1]=new f.default,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(37),s=i(o),a=n(30),u=i(a),l=n(2),f=i(l),c=n(0),d=i(c),h=n(4),_=i(h);(0,d.default)(r.prototype,{getIndexAlongSegment:function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},getTopologySummary:function(){var t=new s.default;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},computeIntersection:function(t,e,n,i){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=i,this._result=this.computeIntersect(t,e,n,i)},getIntersectionNum:function(){return this._result},computeIntLineIndex:function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0],e=this.getEdgeDistance(t,0),n=this.getEdgeDistance(t,1);e>n?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},isProper:function(){return this.hasIntersection()&&this._isProper},setPrecisionModel:function(t){this._precisionModel=t},isInteriorIntersection:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},getIntersection:function(t){return this._intPt[t]},isEndPoint:function(){return this.hasIntersection()&&!this._isProper},hasIntersection:function(){return this._result!==r.NO_INTERSECTION},getEdgeDistance:function(t,e){return r.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},isCollinear:function(){return this._result===r.COLLINEAR_INTERSECTION},toString:function(){return u.default.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+u.default.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},getEndpoint:function(t,e){return this._inputLines[t][e]},isIntersection:function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},getIntersectionAlongSegment:function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},interfaces_:function(){return[]},getClass:function(){return r}}),r.computeEdgeDistance=function(t,e,n){var i=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=i>r?i:r;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);o=i>r?s:a,0!==o||t.equals(e)||(o=Math.max(s,a))}return _.default.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},r.nonRobustComputeEdgeDistance=function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=Math.sqrt(i*i+r*r);return _.default.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},r.DONT_INTERSECT=0,r.DO_INTERSECT=1,r.COLLINEAR=2,r.NO_INTERSECTION=0,r.POINT_INTERSECTION=1,r.COLLINEAR_INTERSECTION=2},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(151),o=function(t){return t&&t.__esModule?t:{default:t}}(r);i.prototype=new o.default},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(152),o=function(t){return t&&t.__esModule?t:{default:t}}(r);i.prototype=new o.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(279),s=i(o),a=n(280),u=i(a),l=n(281),f=i(l),c=n(0),d=i(c),h=n(24),_=i(h),p=n(1),g=i(p),m=n(282),v=i(m),y=n(4),b=i(y),x=n(283),E=i(x),L=n(284),w=i(L);(0,d.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.chars=function(t,e){for(var n=new Array(e).fill(null),i=0;i<e;i++)n[i]=t;return new String(n)},r.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new v.default,n=new s.default(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var i=arguments[0],o=arguments[1],a="",l=new u.default(r.getStackTrace(i)),f=new w.default(l),c=0;c<o;c++)try{a+=f.readLine()+r.NEWLINE}catch(t){if(!(t instanceof E.default))throw t;b.default.shouldNeverReachHere()}return a}},r.split=function(t,e){for(var n=e.length,i=new g.default,r=""+t,o=r.indexOf(e);o>=0;){var s=r.substring(0,o);i.add(s),r=r.substring(o+n),o=r.indexOf(e)}r.length>0&&i.add(r);for(var a=new Array(i.size()).fill(null),u=0;u<a.length;u++)a[u]=i.get(u);return a},r.toString=function(){if(1===arguments.length){var t=arguments[0];return r.SIMPLE_ORDINATE_FORMAT.format(t)}},r.spaces=function(t){return r.chars(" ",t)},r.NEWLINE=_.default.getProperty("line.separator"),r.SIMPLE_ORDINATE_FORMAT=new f.default("0.#")},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(150),s=i(o),a=n(6),u=i(a),l=n(70),f=i(l),c=n(0),d=i(c),h=n(40),_=i(h),p=n(22),g=i(p);(0,d.default)(r.prototype,{readResolve:function(){return r.instance()},create:function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new f.default(t)}if((0,u.default)(arguments[0],_.default)){var e=arguments[0];return new f.default(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return i>3&&(i=3),i<2?new f.default(n):new f.default(n,i)}},interfaces_:function(){return[s.default,g.default]},getClass:function(){return r}}),r.instance=function(){return r.instanceObject},r.serialVersionUID=-0x38e49fa6cf6f2e00,r.instanceObject=new r},function(t,e,n){"use strict";function i(t,e){return t===e||t!==t&&e!==e}function r(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}function o(t){return this.has(t)&&(this._keys.splice(m,1),this._values.splice(m,1),this._itp.forEach(function(t){m<t[0]&&t[0]--})),m>-1}function s(t){return this.has(t)?this._values[m]:void 0}function a(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!==e||0===e)for(m=t.length;m--&&!i(t[m],e););else m=t.indexOf(e);return m>-1}function u(t){return a.call(this,this._keys,t)}function l(t,e){return this.has(t)?this._values[m]=e:this._values[this._keys.push(t)-1]=e,this}function f(){(this._keys||0).length=this._values.length=0}function c(){return _(this._itp,this._keys)}function d(){return _(this._itp,this._values)}function h(){return _(this._itp,this._keys,this._values)}function _(t,e,n){var i=[0],r=!1;return t.push(i),{next:function(){var o,s=i[0];return!r&&s<e.length?(o=n?[e[s],n[s]]:e[s],i[0]++):(r=!0,t.splice(t.indexOf(i),1)),{done:r,value:o}}}}function p(){return this._values.length}function g(t,e){for(var n=this.entries();;){var i=n.next();if(i.done)break;t.call(e,i.value[1],i.value[0],this)}}Object.defineProperty(e,"__esModule",{value:!0});var m,v=Object.defineProperty;e.default=function(t,e){function n(t){if(!this||this.constructor!==n)return new n(t);this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,t&&r.call(this,t)}return e||v(t,"size",{get:p}),t.constructor=n,n.prototype=t,n}({delete:o,has:u,get:s,set:l,keys:c,values:d,entries:h,forEach:g,clear:f})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.MinimumDiameter=e.MinimumBoundingCircle=e.MCPointInRing=e.RobustLineIntersector=e.InteriorPointPoint=e.InteriorPointLine=e.InteriorPointArea=e.ConvexHull=e.CGAlgorithms=e.Centroid=void 0;var r=n(288),o=i(r),s=n(9),a=i(s),u=n(110),l=i(u),f=n(291),c=i(f),d=n(332),h=i(d),_=n(333),p=i(_),g=n(23),m=i(g),v=n(175),y=i(v),b=n(339),x=i(b),E=n(340),L=i(E);e.Centroid=o.default,e.CGAlgorithms=a.default,e.ConvexHull=l.default,e.InteriorPointArea=c.default,e.InteriorPointLine=h.default,e.InteriorPointPoint=p.default,e.RobustLineIntersector=m.default,e.MCPointInRing=y.default,e.MinimumBoundingCircle=x.default,e.MinimumDiameter=L.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._areaBasePt=null,this._triangleCent3=new d.default,this._areasum2=0,this._cg3=new d.default,this._lineCentSum=new d.default,this._totalLength=0,this._ptCount=0,this._ptCentSum=new d.default;var t=arguments[0];this._areaBasePt=null,this.add(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(10),s=i(o),a=n(9),u=i(a),l=n(13),f=i(l),c=n(2),d=i(c),h=n(26),_=i(h),p=n(17),g=i(p),m=n(0),v=i(m),y=n(14),b=i(y);(0,v.default)(r.prototype,{addPoint:function(t){this._ptCount+=1,this._ptCentSum.x+=t.x,this._ptCentSum.y+=t.y},setBasePoint:function(t){null===this._areaBasePt&&(this._areaBasePt=t)},addLineSegments:function(t){for(var e=0,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);if(0!==i){e+=i;var r=(t[n].x+t[n+1].x)/2;this._lineCentSum.x+=i*r;var o=(t[n].y+t[n+1].y)/2;this._lineCentSum.y+=i*o}}this._totalLength+=e,0===e&&t.length>0&&this.addPoint(t[0])},addHole:function(t){for(var e=u.default.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this._areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},getCentroid:function(){var t=new d.default;if(Math.abs(this._areasum2)>0)t.x=this._cg3.x/3/this._areasum2,t.y=this._cg3.y/3/this._areasum2;else if(this._totalLength>0)t.x=this._lineCentSum.x/this._totalLength,t.y=this._lineCentSum.y/this._totalLength;else{if(!(this._ptCount>0))return null;t.x=this._ptCentSum.x/this._ptCount,t.y=this._ptCentSum.y/this._ptCount}return t},addShell:function(t){t.length>0&&this.setBasePoint(t[0]);for(var e=!u.default.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this._areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},addTriangle:function(t,e,n,i){var o=i?1:-1;r.centroid3(t,e,n,this._triangleCent3);var s=r.area2(t,e,n);this._cg3.x+=o*s*this._triangleCent3.x,this._cg3.y+=o*s*this._triangleCent3.y,this._areasum2+=o*s},add:function(){if(arguments[0]instanceof g.default){var t=arguments[0];this.addShell(t.getExteriorRing().getCoordinates());for(var e=0;e<t.getNumInteriorRing();e++)this.addHole(t.getInteriorRingN(e).getCoordinates())}else if(arguments[0]instanceof f.default){var n=arguments[0];if(n.isEmpty())return null;if(n instanceof _.default)this.addPoint(n.getCoordinate());else if(n instanceof s.default)this.addLineSegments(n.getCoordinates());else if(n instanceof g.default){var i=n;this.add(i)}else if(n instanceof b.default)for(var r=n,e=0;e<r.getNumGeometries();e++)this.add(r.getGeometryN(e))}},interfaces_:function(){return[]},getClass:function(){return r}}),r.area2=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y)},r.centroid3=function(t,e,n,i){return i.x=t.x+e.x+n.x,i.y=t.y+e.y+n.y,null},r.getCentroid=function(t){return new r(t).getCentroid()}},function(t,e,n){"use strict";function i(t){this.message=t||""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype=new Error,i.prototype.name="EmptyStackException"},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.treeSet=new s.default,this.list=new d.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(50),s=i(o),a=n(55),u=i(a),l=n(0),f=i(l),c=n(1),d=i(c);(0,f.default)(r.prototype,{filter:function(t){this.treeSet.contains(t)||(this.list.add(t),this.treeSet.add(t))},getCoordinates:function(){var t=new Array(this.list.size()).fill(null);return this.list.toArray(t)},interfaces_:function(){return[u.default]},getClass:function(){return r}}),r.filterCoordinates=function(t){for(var e=new r,n=0;n<t.length;n++)e.filter(t[n]);return e.getCoordinates()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._factory=null,this._interiorPoint=null,this._maxWidth=0;var t=arguments[0];this._factory=t.getFactory(),this.add(t)}function o(){this._poly=null,this._centreY=null,this._hiY=p.default.MAX_VALUE,this._loY=-p.default.MAX_VALUE;var t=arguments[0];this._poly=t,this._hiY=t.getEnvelopeInternal().getMaxY(),this._loY=t.getEnvelopeInternal().getMinY(),this._centreY=r.avg(this._loY,this._hiY)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(13),a=i(s),u=n(2),l=i(u),f=n(17),c=i(f),d=n(86),h=i(d),_=n(12),p=i(_),g=n(0),m=i(g),v=n(14),y=i(v),b=n(45),x=i(b);(0,m.default)(r.prototype,{addPolygon:function(t){if(t.isEmpty())return null;var e=null,n=0,i=this.horizontalBisector(t);if(0===i.getLength())n=0,e=i.getCoordinate();else{var o=h.default.overlayOp(i,t,x.default.INTERSECTION),s=this.widestGeometry(o);n=s.getEnvelopeInternal().getWidth(),e=r.centre(s.getEnvelopeInternal())}(null===this._interiorPoint||n>this._maxWidth)&&(this._interiorPoint=e,this._maxWidth=n)},getInteriorPoint:function(){return this._interiorPoint},widestGeometry:function(){if(arguments[0]instanceof y.default){var t=arguments[0];if(t.isEmpty())return t;for(var e=t.getGeometryN(0),n=1;n<t.getNumGeometries();n++)t.getGeometryN(n).getEnvelopeInternal().getWidth()>e.getEnvelopeInternal().getWidth()&&(e=t.getGeometryN(n));return e}if(arguments[0]instanceof a.default){var i=arguments[0];return i instanceof y.default?this.widestGeometry(i):i}},horizontalBisector:function(t){var e=t.getEnvelopeInternal(),n=o.getBisectorY(t);return this._factory.createLineString([new l.default(e.getMinX(),n),new l.default(e.getMaxX(),n)])},add:function(t){if(t instanceof c.default)this.addPolygon(t);else if(t instanceof y.default)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))},interfaces_:function(){return[]},getClass:function(){return r}}),r.centre=function(t){return new l.default(r.avg(t.getMinX(),t.getMaxX()),r.avg(t.getMinY(),t.getMaxY()))},r.avg=function(t,e){return(t+e)/2},(0,m.default)(o.prototype,{updateInterval:function(t){t<=this._centreY?t>this._loY&&(this._loY=t):t>this._centreY&&t<this._hiY&&(this._hiY=t)},getBisectorY:function(){this.process(this._poly.getExteriorRing());for(var t=0;t<this._poly.getNumInteriorRing();t++)this.process(this._poly.getInteriorRingN(t));return r.avg(this._hiY,this._loY)},process:function(t){for(var e=t.getCoordinateSequence(),n=0;n<e.size();n++){var i=e.getY(n);this.updateInterval(i)}},interfaces_:function(){return[]},getClass:function(){return o}}),o.getBisectorY=function(t){return new o(t).getBisectorY()},r.SafeBisectorFinder=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null;var t=arguments[0],e=arguments[1];this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(293),s=i(o),a=n(0),u=i(a),l=n(24),f=i(l),c=n(295),d=i(c),h=n(45),_=i(h);(0,u.default)(r.prototype,{selfSnap:function(t){return new s.default(t).snapTo(t,this._snapTolerance)},removeCommonBits:function(t){this._cbr=new d.default,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},prepareResult:function(t){return this._cbr.addCommonBits(t),t},getResultGeometry:function(t){var e=this.snap(this._geom),n=_.default.overlayOp(e[0],e[1],t);return this.prepareResult(n)},checkValid:function(t){t.isValid()||f.default.out.println("Snapped geometry is invalid")},computeSnapTolerance:function(){this._snapTolerance=s.default.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},snap:function(t){var e=this.removeCommonBits(t);return s.default.snap(e[0],e[1],this._snapTolerance)},interfaces_:function(){return[]},getClass:function(){return r}}),r.overlayOp=function(t,e,n){return new r(t,e).getResultGeometry(n)},r.union=function(t,e){return r.overlayOp(t,e,_.default.UNION)},r.intersection=function(t,e){return r.overlayOp(t,e,_.default.INTERSECTION)},r.symDifference=function(t,e){return r.overlayOp(t,e,_.default.SYMDIFFERENCE)},r.difference=function(t,e){return r.overlayOp(t,e,_.default.DIFFERENCE)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._srcGeom=null;var t=arguments[0];this._srcGeom=t}function o(){if(l.default.apply(this),this._snapTolerance=null,this._snapPts=null,this._isSelfSnap=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._snapTolerance=t,this._snapPts=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._snapTolerance=n,this._snapPts=i,this._isSelfSnap=r}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(50),a=i(s),u=n(87),l=i(u),f=n(6),c=i(f),d=n(12),h=i(d),_=n(0),p=i(_),g=n(294),m=i(g),v=n(56),y=i(v),b=n(43),x=i(b),E=n(3),L=i(E);(0,p.default)(r.prototype,{snapTo:function(t,e){return new o(e,this.extractTargetCoordinates(t)).transform(this._srcGeom)},snapToSelf:function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),i=new o(t,n,!0),r=i.transform(this._srcGeom),s=r;return e&&(0,c.default)(s,x.default)&&(s=r.buffer(0)),s},computeSnapTolerance:function(t){return this.computeMinimumSegmentLength(t)/10},extractTargetCoordinates:function(t){for(var e=new a.default,n=t.getCoordinates(),i=0;i<n.length;i++)e.add(n[i]);return e.toArray(new Array(0).fill(null))},computeMinimumSegmentLength:function(t){for(var e=h.default.MAX_VALUE,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);i<e&&(e=i)}return e},interfaces_:function(){return[]},getClass:function(){return r}}),r.snap=function(t,e,n){var i=new Array(2).fill(null),o=new r(t);i[0]=o.snapTo(e,n);var s=new r(e);return i[1]=s.snapTo(i[0],n),i},r.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=r.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===y.default.FIXED){var i=1/n.getScale()*2/1.415;i>e&&(e=i)}return e}if(2===arguments.length){var o=arguments[0],s=arguments[1];return Math.min(r.computeOverlaySnapTolerance(o),r.computeOverlaySnapTolerance(s))}},r.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*r.SNAP_PRECISION_FACTOR},r.snapToSelf=function(t,e,n){return new r(t).snapToSelf(e,n)},r.SNAP_PRECISION_FACTOR=1e-9,(0,L.default)(o,l.default),(0,p.default)(o.prototype,{snapLine:function(t,e){var n=new m.default(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),i=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(i)},interfaces_:function(){return[]},getClass:function(){return o}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new g.default,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof s.default&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];r.call(this,t.getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this._srcPts=n,this._isClosed=r.isClosed(n),this._snapTolerance=i}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(10),s=i(o),a=n(19),u=i(a),l=n(2),f=i(l),c=n(12),d=i(c),h=n(0),_=i(h),p=n(15),g=i(p);(0,_.default)(r.prototype,{snapVertices:function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),i=0;i<n;i++){var r=t.get(i),o=this.findSnapForVertex(r,e);null!==o&&(t.set(i,new f.default(o)),0===i&&this._isClosed&&t.set(t.size()-1,new f.default(o)))}},findSnapForVertex:function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},snapTo:function(t){var e=new u.default(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},snapSegments:function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var i=0;i<n;i++){var r=e[i],o=this.findSegmentIndexToSnap(r,t);o>=0&&t.add(o+1,new f.default(r),!1)}},findSegmentIndexToSnap:function(t,e){for(var n=d.default.MAX_VALUE,i=-1,r=0;r<e.size()-1;r++){if(this._seg.p0=e.get(r),this._seg.p1=e.get(r+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,i=r)}return i},setAllowSnappingToSourceVertices:function(t){this._allowSnappingToSourceVertices=t},interfaces_:function(){return[]},getClass:function(){return r}}),r.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._commonCoord=null,this._ccFilter=new o}function o(){this._commonBitsX=new u.default,this._commonBitsY=new u.default}function s(){this.trans=null;var t=arguments[0];this.trans=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=n(296),u=i(a),l=n(55),f=i(l),c=n(2),d=i(c),h=n(0),_=i(h),p=n(69),g=i(p);(0,_.default)(r.prototype,{addCommonBits:function(t){var e=new s(this._commonCoord);t.apply(e),t.geometryChanged()},removeCommonBits:function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new d.default(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new s(e);return t.apply(n),t.geometryChanged(),t},getCommonCoordinate:function(){return this._commonCoord},add:function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},interfaces_:function(){return[]},getClass:function(){return r}}),(0,_.default)(o.prototype,{filter:function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},getCommonCoordinate:function(){return new d.default(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},interfaces_:function(){return[f.default]},getClass:function(){return o}}),(0,_.default)(s.prototype,{filter:function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,i=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,i)},isDone:function(){return!1},isGeometryChanged:function(){return!0},interfaces_:function(){return[g.default]},getClass:function(){return s}}),r.CommonCoordinateFilter=o,r.Translater=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(12),s=i(o);(0,i(n(0)).default)(r.prototype,{getCommon:function(){return s.default.longBitsToDouble(this._commonBits)},add:function(t){var e=s.default.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=r.signExpBits(this._commonBits),this._isFirst=!1,null):r.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=r.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=r.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},toString:function(){if(1===arguments.length){var t=arguments[0],e=s.default.longBitsToDouble(t),n=Long.toBinaryString(t),i="0000000000000000000000000000000000000000000000000000000000000000"+n,r=i.substring(i.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+e+" ]"}},interfaces_:function(){return[]},getClass:function(){return r}}),r.getBit=function(t,e){return 0!=(t&1<<e)?1:0},r.signExpBits=function(t){return t>>52},r.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},r.numCommonMostSigMantissaBits=function(t,e){for(var n=0,i=52;i>=0;i--){if(r.getBit(t,i)!==r.getBit(e,i))return n;n++}return 52}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._nv=null;var t=arguments[0];this._nv=new f.default(r.toSegmentStrings(t))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(298),s=i(o),a=n(0),u=i(a),l=n(299),f=i(l),c=n(1),d=i(c);(0,u.default)(r.prototype,{checkValid:function(){this._nv.checkValid()},interfaces_:function(){return[]},getClass:function(){return r}}),r.toSegmentStrings=function(t){for(var e=new d.default,n=t.iterator();n.hasNext();){var i=n.next();e.add(new s.default(i.getCoordinates(),i))}return e},r.checkValid=function(t){new r(t).checkValid()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(30),s=i(o),a=n(70),u=i(a),l=n(158),f=i(l),c=n(0),d=i(c),h=n(111),_=i(h);(0,d.default)(r.prototype,{getCoordinates:function(){return this._pts},size:function(){return this._pts.length},getCoordinate:function(t){return this._pts[t]},isClosed:function(){return this._pts[0].equals(this._pts[this._pts.length-1])},getSegmentOctant:function(t){return t===this._pts.length-1?-1:f.default.octant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this._data=t},getData:function(){return this._data},toString:function(){return s.default.toLineString(new u.default(this._pts))},interfaces_:function(){return[_.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._li=new _.default,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(30),s=i(o),a=n(88),u=i(a),l=n(46),f=i(l),c=n(0),d=i(c),h=n(23),_=i(h),p=n(311),g=i(p);(0,d.default)(r.prototype,{execute:function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},getIntersections:function(){return this._segInt.getIntersections()},isValid:function(){return this.execute(),this._isValid},setFindAllIntersections:function(t){this._findAllIntersections=t},checkInteriorIntersections:function(){this._isValid=!0,this._segInt=new g.default(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new u.default;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},checkValid:function(){if(this.execute(),!this._isValid)throw new f.default(this.getErrorMessage(),this._segInt.getInteriorIntersection())},getErrorMessage:function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+s.default.toLineString(t[0],t[1])+" and "+s.default.toLineString(t[2],t[3])},interfaces_:function(){return[]},getClass:function(){return r}}),r.computeIntersections=function(t){var e=new r(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._size=null,this._items=null,this._size=0,this._items=new u.default,this._items.add(null)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(1),u=i(a);(0,s.default)(r.prototype,{poll:function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},size:function(){return this._size},reorder:function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&(e=2*t,e!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},clear:function(){this._size=0,this._items.clear()},isEmpty:function(){return 0===this._size},add:function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(7),s=i(o),a=n(112),u=i(a),l=n(0),f=i(l),c=n(21),d=i(c);(0,f.default)(r.prototype,{expandToQueue:function(t,e){var n=r.isComposite(this._boundable1),i=r.isComposite(this._boundable2);if(n&&i)return r.area(this._boundable1)>r.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(i)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new s.default("neither boundable is composite")},isLeaves:function(){return!(r.isComposite(this._boundable1)||r.isComposite(this._boundable2))},compareTo:function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},expand:function(t,e,n,i){for(var o=t.getChildBoundables(),s=o.iterator();s.hasNext();){var a=s.next(),u=new r(a,e,this._itemDistance);u.getDistance()<i&&n.add(u)}},getBoundable:function(t){return 0===t?this._boundable1:this._boundable2},getDistance:function(){return this._distance},distance:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},interfaces_:function(){return[d.default]},getClass:function(){return r}}),r.area=function(t){return t.getBounds().getArea()},r.isComposite=function(t){return t instanceof u.default}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._root=null,this._built=!1,this._itemBoundables=new y.default,this._nodeCapacity=null,0===arguments.length)r.call(this,r.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];L.default.isTrue(t>1,"Node capacity must be greater than 1"),this._nodeCapacity=t}}function o(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(159),a=i(s),u=n(6),l=i(u),f=n(57),c=i(f),d=n(112),h=i(d),_=n(0),p=i(_),g=n(39),m=i(g),v=n(1),y=i(v),b=n(22),x=i(b),E=n(4),L=i(E),w=n(36),M=i(w);(0,p.default)(r.prototype,{getNodeCapacity:function(){return this._nodeCapacity},lastNode:function(t){return t.get(t.size()-1)},size:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=arguments[0],e=0,n=t.getChildBoundables().iterator();n.hasNext();){var i=n.next();i instanceof h.default?e+=this.size(i):i instanceof a.default&&(e+=1)}return e}},removeItem:function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof a.default&&r.getItem()===e&&(n=r)}return null!==n&&(t.getChildBoundables().remove(n),!0)},itemsTree:function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new y.default:t}if(1===arguments.length){for(var e=arguments[0],n=new y.default,i=e.getChildBoundables().iterator();i.hasNext();){var r=i.next();if(r instanceof h.default){var o=this.itemsTree(r);null!==o&&n.add(o)}else r instanceof a.default?n.add(r.getItem()):L.default.shouldNeverReachHere()}return n.size()<=0?null:n}},insert:function(t,e){L.default.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new a.default(t,e))},boundablesAtLevel:function(){if(1===arguments.length){var t=arguments[0],e=new y.default;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(L.default.isTrue(n>-2),i.getLevel()===n)return r.add(i),null;for(var o=i.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof h.default?this.boundablesAtLevel(n,s,r):(L.default.isTrue(s instanceof a.default),-1===n&&r.add(s))}return null}},query:function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new y.default;return this.isEmpty()?e:(this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e)}if(2===arguments.length){var n=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,i)}else if(3===arguments.length)if((0,l.default)(arguments[2],c.default)&&arguments[0]instanceof Object&&arguments[1]instanceof h.default)for(var r=arguments[0],o=arguments[1],s=arguments[2],u=o.getChildBoundables(),f=0;f<u.size();f++){var d=u.get(f);this.getIntersectsOp().intersects(d.getBounds(),r)&&(d instanceof h.default?this.query(r,d,s):d instanceof a.default?s.visitItem(d.getItem()):L.default.shouldNeverReachHere())}else if((0,l.default)(arguments[2],M.default)&&arguments[0]instanceof Object&&arguments[1]instanceof h.default)for(var _=arguments[0],p=arguments[1],g=arguments[2],u=p.getChildBoundables(),f=0;f<u.size();f++){var d=u.get(f);this.getIntersectsOp().intersects(d.getBounds(),_)&&(d instanceof h.default?this.query(_,d,g):d instanceof a.default?g.add(d.getItem()):L.default.shouldNeverReachHere())}},build:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},getRoot:function(){return this.build(),this._root},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=this.removeItem(i,r);if(o)return!0;for(var s=null,a=i.getChildBoundables().iterator();a.hasNext();){var u=a.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&(u instanceof h.default&&(o=this.remove(n,u,r)))){s=u;break}}return null!==s&&s.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(s),o}},createHigherLevels:function(t,e){L.default.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},depth:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=arguments[0],e=0,n=t.getChildBoundables().iterator();n.hasNext();){var i=n.next();if(i instanceof h.default){var r=this.depth(i);r>e&&(e=r)}}return e+1}},createParentBoundables:function(t,e){L.default.isTrue(!t.isEmpty());var n=new y.default;n.add(this.createNode(e));var i=new y.default(t);m.default.sort(i,this.getComparator());for(var r=i.iterator();r.hasNext();){var o=r.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},isEmpty:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},interfaces_:function(){return[x.default]},getClass:function(){return r}}),r.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},r.IntersectsOp=o,r.serialVersionUID=-0x35ef64c82d4c5400,r.DEFAULT_NODE_CAPACITY=10},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{distance:function(t,e){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._nodeMap=new I.default,this._edge=null;var t=arguments[0];this._edge=t}function o(){this._nodeList=null,this._edge=null,this._nodeIt=null,this._currNode=null,this._nextNode=null,this._currSegIndex=0;var t=arguments[0];this._nodeList=t,this._edge=t.getEdge(),this._nodeIt=t.iterator(),this.readNextNode()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(19),a=i(s),u=n(305),l=i(u),f=n(54),c=i(f),d=n(2),h=i(d),_=n(73),p=i(_),g=n(0),m=i(g),v=n(65),y=i(v),b=n(1),x=i(b),E=n(48),L=i(E),w=n(4),M=i(w),P=n(38),I=i(P);(0,m.default)(r.prototype,{getSplitCoordinates:function(){var t=new a.default;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next();this.addEdgeCoordinates(n,i,t),n=i}return t.toCoordinateArray()},addCollapsedNodes:function(){var t=new x.default;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();){e.next().print(t)}},findCollapsesFromExistingVertices:function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),i=(this._edge.getCoordinate(e+1),this._edge.getCoordinate(e+2));n.equals2D(i)&&t.add(new y.default(e+1))}},addEdgeCoordinates:function(t,e,n){var i=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),o=e.isInterior()||!e.coord.equals2D(r);o||i--;n.add(new h.default(t.coord),!1);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)n.add(this._edge.getCoordinate(s));o&&n.add(new h.default(e.coord))},iterator:function(){return this._nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},findCollapseIndex:function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var i=e.segmentIndex-t.segmentIndex;return e.isInterior()||i--,1===i&&(n[0]=t.segmentIndex+1,!0)},findCollapsesFromInsertedNodes:function(t){for(var e=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next();this.findCollapseIndex(i,r,e)&&t.add(new y.default(e[0])),i=r}},getEdge:function(){return this._edge},addEndpoints:function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new h.default(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return r&&(o[s]=new h.default(e.coord)),new p.default(o,this._edge.getData())},add:function(t,e){var n=new l.default(this._edge,t,e,this._edge.getSegmentOctant(e)),i=this._nodeMap.get(n);return null!==i?(M.default.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this._nodeMap.put(n,n),n)},checkSplitEdgesCorrectness:function(t){var e=this._edge.getCoordinates(),n=t.get(0),i=n.getCoordinate(0);if(!i.equals2D(e[0]))throw new L.default("bad split edge start point at "+i);var r=t.get(t.size()-1),o=r.getCoordinates(),s=o[o.length-1];if(!s.equals2D(e[e.length-1]))throw new L.default("bad split edge end point at "+s)},interfaces_:function(){return[]},getClass:function(){return r}}),(0,m.default)(o.prototype,{next:function(){return null===this._currNode?(this._currNode=this._nextNode,this._currSegIndex=this._currNode.segmentIndex,this.readNextNode(),this._currNode):null===this._nextNode?null:this._nextNode.segmentIndex===this._currNode.segmentIndex?(this._currNode=this._nextNode,this._currSegIndex=this._currNode.segmentIndex,this.readNextNode(),this._currNode):(this._nextNode.segmentIndex,this._currNode.segmentIndex,null)},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){return null!==this._nextNode},readNextNode:function(){this._nodeIt.hasNext()?this._nextNode=this._nodeIt.next():this._nextNode=null},interfaces_:function(){return[c.default]},getClass:function(){return o}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._segString=t,this.coord=new s.default(e),this.segmentIndex=n,this._segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2),s=i(o),a=n(0),u=i(a),l=n(306),f=i(l),c=n(21),d=i(c);(0,u.default)(r.prototype,{getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},compareTo:function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:f.default.compare(this._segmentOctant,this.coord,e.coord)},isEndPoint:function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},isInterior:function(){return this._isInterior},interfaces_:function(){return[d.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(4),u=i(a);(0,s.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.relativeSign=function(t,e){return t<e?-1:t>e?1:0},r.compare=function(t,e,n){if(e.equals2D(n))return 0;var i=r.relativeSign(e.x,n.x),o=r.relativeSign(e.y,n.y);switch(t){case 0:return r.compareValue(i,o);case 1:return r.compareValue(o,i);case 2:return r.compareValue(o,-i);case 3:return r.compareValue(-i,o);case 4:return r.compareValue(-i,-o);case 5:return r.compareValue(-o,-i);case 6:return r.compareValue(-o,i);case 7:return r.compareValue(i,-o)}return u.default.shouldNeverReachHere("invalid octant value"),0},r.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(111),u=i(a);(0,s.default)(r.prototype,{addIntersection:function(t,e){},interfaces_:function(){return[u.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.tempEnv1=new f.default,this.tempEnv2=new f.default,this._overlapSeg1=new u.default,this._overlapSeg2=new u.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(15),u=i(a),l=n(8),f=i(l);(0,s.default)(r.prototype,{overlap:function(){if(2===arguments.length){arguments[0],arguments[1]}else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];t.getLineSegment(e,this._overlapSeg1),n.getLineSegment(i,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(8),u=i(a);(0,s.default)(r.prototype,{getLineSegment:function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},computeSelect:function(t,e,n,i){var r=this._pts[e],o=this._pts[n];if(i.tempEnv1.init(r,o),n-e==1)return i.select(this,e),null;if(!t.intersects(i.tempEnv1))return null;var s=Math.trunc((e+n)/2);e<s&&this.computeSelect(t,e,s,i),s<n&&this.computeSelect(t,s,n,i)},getCoordinates:function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},computeOverlaps:function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},setId:function(t){this._id=t},select:function(t,e){this.computeSelect(t,this._start,this._end,e)},getEnvelope:function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new u.default(t,e)}return this._env},getEndIndex:function(){return this._end},getStartIndex:function(){return this._start},getContext:function(){return this._context},getId:function(){return this._id},computeOverlapsInternal:function(t,e,n,i,r,o){var s=this._pts[t],a=this._pts[e],u=n._pts[i],l=n._pts[r];if(e-t==1&&r-i==1)return o.overlap(this,t,n,i),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var f=Math.trunc((t+e)/2),c=Math.trunc((i+r)/2);t<f&&(i<c&&this.computeOverlapsInternal(t,f,n,i,c,o),c<r&&this.computeOverlapsInternal(t,f,n,c,r,o)),f<e&&(i<c&&this.computeOverlapsInternal(f,e,n,i,c,o),c<r&&this.computeOverlapsInternal(f,e,n,c,r,o))},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(113),s=i(o);(0,i(n(0)).default)(r.prototype,{setSegmentIntersector:function(t){this._segInt=t},interfaces_:function(){return[s.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new f.default,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(114),u=i(a),l=n(1),f=i(l);(0,s.default)(r.prototype,{getInteriorIntersection:function(){return this._interiorIntersection},setCheckEndSegmentsOnly:function(t){this._isCheckEndSegmentsOnly=t},getIntersectionSegments:function(){return this._intSegments},count:function(){return this._intersectionCount},getIntersections:function(){return this._intersections},setFindAllIntersections:function(t){this._findAllIntersections=t},setKeepIntersections:function(t){this._keepIntersections=t},processIntersections:function(t,e,n,i){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===i)return null;if(this._isCheckEndSegmentsOnly){if(!(this.isEndSegment(t,e)||this.isEndSegment(n,i)))return null}var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=r,this._intSegments[1]=o,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},isEndSegment:function(t,e){return 0===e||e>=t.size()-2},hasIntersection:function(){return null!==this._interiorIntersection},isDone:function(){return!this._findAllIntersections&&null!==this._interiorIntersection},interfaces_:function(){return[u.default]},getClass:function(){return r}}),r.createAllIntersectionsFinder=function(t){var e=new r(t);return e.setFindAllIntersections(!0),e},r.createAnyIntersectionFinder=function(t){return new r(t)},r.createIntersectionCounter=function(t){var e=new r(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._mapOp=null;var t=arguments[0];this._mapOp=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(16),s=i(o),a=n(0),u=i(a),l=n(1),f=i(l);(0,u.default)(r.prototype,{map:function(t){for(var e=new f.default,n=0;n<t.getNumGeometries();n++){var i=this._mapOp.map(t.getGeometryN(n));i.isEmpty()||e.add(i)}return t.getFactory().createGeometryCollection(s.default.toGeometryArray(e))},interfaces_:function(){return[]},getClass:function(){return r}}),r.map=function(t,e){return new r(e).map(t)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){var t=arguments[0],e=arguments[1];u.default.call(this,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(165),u=i(a);(0,i(n(3)).default)(r,u.default),(0,s.default)(r.prototype,{setEdgeRing:function(t,e){t.setMinEdgeRing(e)},getNext:function(t){return t.getNextMin()},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.init(1),this.location[f.default.ON]=e}else if(arguments[0]instanceof r){var n=arguments[0];if(this.init(n.location.length),null!==n)for(var i=0;i<this.location.length;i++)this.location[i]=n.location[i]}}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.init(3),this.location[f.default.ON]=o,this.location[f.default.LEFT]=s,this.location[f.default.RIGHT]=a}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(37),s=i(o),a=n(11),u=i(a),l=n(18),f=i(l);(0,i(n(0)).default)(r.prototype,{setAllLocations:function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},isNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==u.default.NONE)return!1;return!0},setAllLocationsIfNull:function(t){for(var e=0;e<this.location.length;e++)this.location[e]===u.default.NONE&&(this.location[e]=t)},isLine:function(){return 1===this.location.length},merge:function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[f.default.ON]=this.location[f.default.ON],e[f.default.LEFT]=u.default.NONE,e[f.default.RIGHT]=u.default.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===u.default.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},getLocations:function(){return this.location},flip:function(){if(this.location.length<=1)return null;var t=this.location[f.default.LEFT];this.location[f.default.LEFT]=this.location[f.default.RIGHT],this.location[f.default.RIGHT]=t},toString:function(){var t=new s.default;return this.location.length>1&&t.append(u.default.toLocationSymbol(this.location[f.default.LEFT])),t.append(u.default.toLocationSymbol(this.location[f.default.ON])),this.location.length>1&&t.append(u.default.toLocationSymbol(this.location[f.default.RIGHT])),t.toString()},setLocations:function(t,e,n){this.location[f.default.ON]=t,this.location[f.default.LEFT]=e,this.location[f.default.RIGHT]=n},get:function(t){return t<this.location.length?this.location[t]:u.default.NONE},isArea:function(){return this.location.length>1},isAnyNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===u.default.NONE)return!0;return!1},setLocation:function(){if(1===arguments.length){var t=arguments[0];this.setLocation(f.default.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},init:function(t){this.location=new Array(t).fill(null),this.setAllLocations(u.default.NONE)},isEqualOnSide:function(t,e){return this.location[e]===t.location[e]},allPositionsEqual:function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new u.default,this._resultLineList=new u.default;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(1),u=i(a),l=n(4),f=i(l),c=n(45),d=i(c);(0,s.default)(r.prototype,{collectLines:function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},labelIsolatedLine:function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},build:function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},collectLineEdge:function(t,e,n){var i=t.getLabel(),r=t.getEdge();t.isLineEdge()&&(t.isVisited()||!d.default.isResultOfOp(i,e)||r.isCovered()||(n.add(r),t.setVisitedEdge(!0)))},findCoveredLineEdges:function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();){t.next().getEdges().findCoveredLineEdges()}for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getEdge();if(n.isLineEdge()&&!i.isCoveredSet()){var r=this._op.isCoveredByA(n.getCoordinate());i.setCovered(r)}}},labelIsolatedLines:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(i.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},buildLines:function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),i=(n.getLabel(),this._geometryFactory.createLineString(n.getCoordinates()));this._resultLineList.add(i),n.setInResult(!0)}},collectBoundaryTouchEdge:function(t,e,n){var i=t.getLabel();return t.isLineEdge()?null:t.isVisited()?null:t.isInteriorAreaEdge()?null:t.getEdge().isInResult()?null:(f.default.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(d.default.isResultOfOp(i,e)&&e===d.default.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._op=null,this._geometryFactory=null,this._resultPointList=new u.default;var t=arguments[0],e=arguments[1];arguments[2];this._op=t,this._geometryFactory=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(1),u=i(a),l=n(45),f=i(l);(0,s.default)(r.prototype,{filterCoveredNodeToPoint:function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},extractNonCoveredResultNodes:function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!n.isInResult()&&(!n.isIncidentEdgeInResult()&&(0===n.getEdges().getDegree()||t===f.default.INTERSECTION))){var i=n.getLabel();f.default.isResultOfOp(i,t)&&this.filterCoveredNodeToPoint(n)}}},build:function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){_.default.apply(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(11),s=i(o),a=n(18),u=i(a),l=n(46),f=i(l),c=n(0),d=i(c),h=n(168),_=i(h),p=n(24),g=i(p),m=n(29),v=i(m),y=n(1),b=i(y),x=n(51),E=i(x),L=n(4),w=i(L);(0,i(n(3)).default)(r,_.default),(0,d.default)(r.prototype,{linkResultDirectedEdges:function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,i=0;i<this._resultAreaEdgeList.size();i++){var r=this._resultAreaEdgeList.get(i),o=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new f.default("no outgoing dirEdge found",this.getCoordinate());w.default.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},insert:function(t){var e=t;this.insertEdgeEnd(e,e)},getRightmostEdge:function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var i=t.get(e-1),r=n.getQuadrant(),o=i.getQuadrant();return E.default.isNorthern(r)&&E.default.isNorthern(o)?n:E.default.isNorthern(r)||E.default.isNorthern(o)?0!==n.getDy()?n:0!==i.getDy()?i:(w.default.shouldNeverReachHere("found two horizontal edges incident on node"),null):i},print:function(t){g.default.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},getResultAreaEdges:function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new b.default;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},updateLabelling:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();i.setAllLocationsIfNull(0,t.getLocation(0)),i.setAllLocationsIfNull(1,t.getLocation(1))}},linkAllDirectedEdges:function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var i=this._edgeList.get(n),r=i.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=i}e.setNext(t)},computeDepths:function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=(t.getLabel(),t.getDepth(u.default.LEFT)),i=t.getDepth(u.default.RIGHT),r=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,r)!==i)throw new f.default("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[0],s=arguments[1],a=arguments[2],l=a,c=o;c<s;c++){var d=this._edgeList.get(c);d.getLabel(),d.setEdgeDepths(u.default.RIGHT,l),l=d.getDepth(u.default.LEFT)}return l}},mergeSymLabels:function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},linkMinimalDirectedEdges:function(t){for(var e=null,n=null,i=this._SCANNING_FOR_INCOMING,r=this._resultAreaEdgeList.size()-1;r>=0;r--){var o=this._resultAreaEdgeList.get(r),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),i){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,i=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),i=this._SCANNING_FOR_INCOMING}}i===this._LINKING_TO_OUTGOING&&(w.default.isTrue(null!==e,"found null for first outgoing dirEdge"),w.default.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},getOutgoingDegree:function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();){var n=e.next();n.isInResult()&&t++}return t}if(1===arguments.length){for(var i=arguments[0],t=0,e=this.iterator();e.hasNext();){var n=e.next();n.getEdgeRing()===i&&t++}return t}},getLabel:function(){return this._label},findCoveredLineEdges:function(){for(var t=s.default.NONE,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=s.default.INTERIOR;break}if(i.isInResult()){t=s.default.EXTERIOR;break}}}if(t===s.default.NONE)return null;for(var r=t,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();n.isLineEdge()?n.getEdge().setCovered(r===s.default.INTERIOR):(n.isInResult()&&(r=s.default.EXTERIOR),i.isInResult()&&(r=s.default.INTERIOR))}},computeLabelling:function(t){_.default.prototype.computeLabelling.call(this,t),this._label=new v.default(s.default.NONE);for(var e=this.iterator();e.hasNext();)for(var n=e.next(),i=n.getEdge(),r=i.getLabel(),o=0;o<2;o++){var a=r.getLocation(o);a!==s.default.INTERIOR&&a!==s.default.BOUNDARY||this._label.setLocation(o,s.default.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){d.default.apply(this),this.events=new b.default,this.nOverlaps=null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(6),s=i(o),a=n(319),u=i(a),l=n(320),f=i(l),c=n(321),d=i(c),h=n(0),_=i(h),p=n(39),g=i(p),m=n(171),v=i(m),y=n(1),b=i(y),x=n(3),E=i(x),L=n(36),w=i(L);(0,E.default)(r,d.default),(0,_.default)(r.prototype,{prepareEvents:function(){g.default.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},computeIntersections:function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof v.default&&(0,s.default)(arguments[0],w.default)&&(0,s.default)(arguments[1],w.default)){var i=arguments[0],r=arguments[1],o=arguments[2];this.addEdges(i,i),this.addEdges(r,r),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&(0,s.default)(arguments[0],w.default)&&arguments[1]instanceof v.default){var a=arguments[0],u=arguments[1],l=arguments[2];l?this.addEdges(a,null):this.addEdges(a),this.computeIntersections(u)}},addEdge:function(t,e){for(var n=t.getMonotoneChainEdge(),i=n.getStartIndexes(),r=0;r<i.length-1;r++){var o=new u.default(n,r),s=new f.default(e,n.getMinX(r),o);this.events.add(s),this.events.add(new f.default(n.getMaxX(r),s))}},processOverlaps:function(t,e,n,i){for(var r=n.getObject(),o=t;o<e;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(r.computeIntersections(a,i),this.nOverlaps++)}}},addEdges:function(){if(1===arguments.length)for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.addEdge(n,n)}else if(2===arguments.length)for(var i=arguments[0],r=arguments[1],e=i.iterator();e.hasNext();){var n=e.next();this.addEdge(n,r)}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{computeIntersections:function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var t=arguments[0],e=arguments[1];this._eventType=r.DELETE,this._xValue=t,this._insertEvent=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];this._eventType=r.INSERT,this._label=n,this._xValue=i,this._obj=o}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(21),u=i(a);(0,s.default)(r.prototype,{isDelete:function(){return this._eventType===r.DELETE},setDeleteEventIndex:function(t){this._deleteEventIndex=t},getObject:function(){return this._obj},compareTo:function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},getInsertEvent:function(){return this._insertEvent},isInsert:function(){return this._eventType===r.INSERT},isSameLabel:function(t){return null!==this._label&&this._label===t._label},getDeleteEventIndex:function(){return this._deleteEventIndex},interfaces_:function(){return[u.default]},getClass:function(){return r}}),r.INSERT=1,r.DELETE=2},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._index=null;var t=arguments[0];if(!(0,u.default)(t,E.default))throw new f.default("Argument must be Polygonal");this._index=new s(t)}function o(){this._counter=null;var t=arguments[0];this._counter=t}function s(){this._index=new v.default;var t=arguments[0];this.init(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=n(6),u=i(a),l=n(7),f=i(l),c=n(57),d=i(c),h=n(170),_=i(h),p=n(0),g=i(p),m=n(323),v=i(m),y=n(15),b=i(y),x=n(43),E=i(x),L=n(77),w=i(L),M=n(173),P=i(M),I=n(154),C=i(I);(0,g.default)(r.prototype,{locate:function(t){var e=new C.default(t),n=new o(e);return this._index.query(t.y,t.y,n),e.getLocation()},interfaces_:function(){return[_.default]},getClass:function(){return r}}),(0,g.default)(o.prototype,{visitItem:function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},interfaces_:function(){return[d.default]},getClass:function(){return o}}),(0,g.default)(s.prototype,{init:function(t){for(var e=w.default.getLines(t),n=e.iterator();n.hasNext();){var i=n.next(),r=i.getCoordinates();this.addLine(r)}},addLine:function(t){for(var e=1;e<t.length;e++){var n=new b.default(t[e-1],t[e]),i=Math.min(n.p0.y,n.p1.y),r=Math.max(n.p0.y,n.p1.y);this._index.insert(i,r,n)}},query:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new P.default;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._index.query(i,r,o)}},interfaces_:function(){return[]},getClass:function(){return s}}),r.SegmentVisitor=o,r.IntervalIndexedGeometry=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._leaves=new v.default,this._root=null,this._level=0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(30),s=i(o),a=n(2),u=i(a),l=n(324),f=i(l),c=n(0),d=i(c),h=n(39),_=i(h),p=n(24),g=i(p),m=n(1),v=i(m),y=n(325),b=i(y);(0,d.default)(r.prototype,{buildTree:function(){_.default.sort(this._leaves,new IntervalRTreeNode.NodeComparator);for(var t=this._leaves,e=null,n=new v.default;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},insert:function(t,e,n){if(null!==this._root)throw new IllegalStateException("Index cannot be added to once it has been queried");this._leaves.add(new f.default(t,e,n))},query:function(t,e,n){this.init(),this._root.query(t,e,n)},buildRoot:function(){if(null!==this._root)return null;this._root=this.buildTree()},printNode:function(t){g.default.out.println(s.default.toLineString(new u.default(t._min,this._level),new u.default(t._max,this._level)))},init:function(){if(null!==this._root)return null;this.buildRoot()},buildLevel:function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var i=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(i);else{var r=new b.default(t.get(n),t.get(n+1));e.add(r)}}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){s.default.apply(this),this._item=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._min=t,this._max=e,this._item=n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(172),s=i(o),a=n(0),u=i(a);(0,i(n(3)).default)(r,s.default),(0,u.default)(r.prototype,{query:function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){s.default.apply(this),this._node1=null,this._node2=null;var t=arguments[0],e=arguments[1];this._node1=t,this._node2=e,this.buildExtent(this._node1,this._node2)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(172),s=i(o),a=n(0),u=i(a);(0,i(n(3)).default)(r,s.default),(0,u.default)(r.prototype,{buildExtent:function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},query:function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._nodeMap=new g.default,this.edge=null;var t=arguments[0];this.edge=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(327),s=i(o),a=n(2),u=i(a),l=n(0),f=i(l),c=n(29),d=i(c),h=n(90),_=i(h),p=n(38),g=i(p);(0,f.default)(r.prototype,{print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();){e.next().print(t)}},iterator:function(){return this._nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},addEndpoints:function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.pts[e.segmentIndex],r=e.dist>0||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new u.default(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return r&&(o[s]=e.coord),new _.default(o,new d.default(this.edge._label))},add:function(t,e,n){var i=new s.default(t,e,n),r=this._nodeMap.get(i);return null!==r?r:(this._nodeMap.put(i,i),i)},isIntersection:function(t){for(var e=this.iterator();e.hasNext();){if(e.next().coord.equals(t))return!0}return!1},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new s.default(t),this.segmentIndex=e,this.dist=n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2),s=i(o),a=n(0),u=i(a),l=n(21),f=i(l);(0,u.default)(r.prototype,{getSegmentIndex:function(){return this.segmentIndex},getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},compareTo:function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},isEndPoint:function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},toString:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},getDistance:function(){return this.dist},compare:function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},interfaces_:function(){return[f.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new f.default,this.env2=new f.default;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new u.default;this.startIndex=e.getChainStartIndices(this.pts)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(329),u=i(a),l=n(8),f=i(l);(0,s.default)(r.prototype,{getCoordinates:function(){return this.pts},getMaxX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},getMinX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},computeIntersectsForChain:function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],i)}else if(6===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4],l=arguments[5],f=this.pts[r],c=this.pts[o],d=s.pts[a],h=s.pts[u];if(o-r==1&&u-a==1)return l.addIntersections(this.e,r,s.e,a),null;if(this.env1.init(f,c),this.env2.init(d,h),!this.env1.intersects(this.env2))return null;var _=Math.trunc((r+o)/2),p=Math.trunc((a+u)/2);r<_&&(a<p&&this.computeIntersectsForChain(r,_,s,a,p,l),p<u&&this.computeIntersectsForChain(r,_,s,p,u,l)),_<o&&(a<p&&this.computeIntersectsForChain(_,o,s,a,p,l),p<u&&this.computeIntersectsForChain(_,o,s,p,u,l))}},getStartIndexes:function(){return this.startIndex},computeIntersects:function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(n,t,i,e)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(65),u=i(a),l=n(1),f=i(l),c=n(51),d=i(c);(0,s.default)(r.prototype,{getChainStartIndices:function(t){var e=0,n=new f.default;n.add(new u.default(e));do{var i=this.findChainEnd(t,e);n.add(new u.default(i)),e=i}while(e<t.length-1);return r.toIntArray(n)},findChainEnd:function(t,e){for(var n=d.default.quadrant(t[e],t[e+1]),i=e+1;i<t.length;){if(d.default.quadrant(t[i-1],t[i])!==n)break;i++}return i-1},interfaces_:function(){return[]},getClass:function(){return r}}),r.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var t=0;t<2;t++)for(var e=0;e<3;e++)this._depth[t][e]=r.NULL_VALUE}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(11),s=i(o),a=n(18),u=i(a);(0,i(n(0)).default)(r.prototype,{getDepth:function(t,e){return this._depth[t][e]},setDepth:function(t,e,n){this._depth[t][e]=n},isNull:function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==r.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===r.NULL_VALUE}if(2===arguments.length){var i=arguments[0],o=arguments[1];return this._depth[i][o]===r.NULL_VALUE}},normalize:function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var i=0;this._depth[t][n]>e&&(i=1),this._depth[t][n]=i}}},getDelta:function(t){return this._depth[t][u.default.RIGHT]-this._depth[t][u.default.LEFT]},getLocation:function(t,e){return this._depth[t][e]<=0?s.default.EXTERIOR:s.default.INTERIOR},toString:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},add:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var i=t.getLocation(e,n);i!==s.default.EXTERIOR&&i!==s.default.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=r.depthAtLocation(i):this._depth[e][n]+=r.depthAtLocation(i))}else if(3===arguments.length){var o=arguments[0],a=arguments[1],u=arguments[2];u===s.default.INTERIOR&&this._depth[o][a]++}},interfaces_:function(){return[]},getClass:function(){return r}}),r.depthAtLocation=function(t){return t===s.default.EXTERIOR?0:t===s.default.INTERIOR?1:r.NULL_VALUE},r.NULL_VALUE=-1},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=r.orientation(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(21),u=i(a),l=n(20),f=i(l);(0,s.default)(r.prototype,{compareTo:function(t){var e=t;return r.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},interfaces_:function(){return[u.default]},getClass:function(){return r}}),r.orientation=function(t){return 1===f.default.increasingDirection(t)},r.compareOriented=function(t,e,n,i){for(var r=e?1:-1,o=i?1:-1,s=e?t.length:-1,a=i?n.length:-1,u=e?0:t.length-1,l=i?0:n.length-1;;){var f=t[u].compareTo(n[l]);if(0!==f)return f;u+=r,l+=o;var c=u===s,d=l===a;if(c&&!d)return-1;if(!c&&d)return 1;if(c&&d)return 0}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._centroid=null,this._minDistance=d.default.MAX_VALUE,this._interiorPoint=null;var t=arguments[0];this._centroid=t.getCentroid().getCoordinate(),this.addInterior(t),null===this._interiorPoint&&this.addEndpoints(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(10),s=i(o),a=n(13),u=i(a),l=n(2),f=i(l),c=n(12),d=i(c),h=n(0),_=i(h),p=n(14),g=i(p);(0,_.default)(r.prototype,{addEndpoints:function(){if(arguments[0]instanceof u.default){var t=arguments[0];if(t instanceof s.default)this.addEndpoints(t.getCoordinates());else if(t instanceof g.default)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addEndpoints(e.getGeometryN(n))}else if(arguments[0]instanceof Array){var i=arguments[0];this.add(i[0]),this.add(i[i.length-1])}},getInteriorPoint:function(){return this._interiorPoint},addInterior:function(){if(arguments[0]instanceof u.default){var t=arguments[0];if(t instanceof s.default)this.addInterior(t.getCoordinates());else if(t instanceof g.default)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addInterior(e.getGeometryN(n))}else if(arguments[0]instanceof Array)for(var i=arguments[0],n=1;n<i.length-1;n++)this.add(i[n])},add:function(t){var e=t.distance(this._centroid);e<this._minDistance&&(this._interiorPoint=new f.default(t),this._minDistance=e)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._centroid=null,this._minDistance=d.default.MAX_VALUE,this._interiorPoint=null;var t=arguments[0];this._centroid=t.getCentroid().getCoordinate(),this.add(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(13),s=i(o),a=n(2),u=i(a),l=n(26),f=i(l),c=n(12),d=i(c),h=n(0),_=i(h),p=n(14),g=i(p);(0,_.default)(r.prototype,{getInteriorPoint:function(){return this._interiorPoint},add:function(){if(arguments[0]instanceof s.default){var t=arguments[0];if(t instanceof f.default)this.add(t.getCoordinate());else if(t instanceof g.default)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))}else if(arguments[0]instanceof u.default){var i=arguments[0],r=i.distance(this._centroid);r<this._minDistance&&(this._interiorPoint=new u.default(i),this._minDistance=r)}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._root=null,this._minExtent=1,this._root=new s.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(335),s=i(o),a=n(91),u=i(a),l=n(0),f=i(l),c=n(1),d=i(c);(0,f.default)(r.prototype,{size:function(){return null!==this._root?this._root.size():0},insert:function(t,e){this.collectStats(t);var n=r.ensureExtent(t,this._minExtent);this._root.insert(n,e)},query:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];return this.query(new u.default(t,t))}if(arguments[0]instanceof u.default){var e=arguments[0],n=new d.default;return this.query(e,n),n}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this._root.addAllItemsFromOverlapping(i,r)}},iterator:function(){var t=new d.default;return this._root.addAllItems(t),t.iterator()},remove:function(t,e){var n=r.ensureExtent(t,this._minExtent);return this._root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this._minExtent&&e>0&&(this._minExtent=e)},depth:function(){return null!==this._root?this._root.depth():0},nodeSize:function(){return null!==this._root?this._root.nodeSize():0},interfaces_:function(){return[]},getClass:function(){return r}}),r.ensureExtent=function(t,e){var n=t.getMin(),i=t.getMax();return n!==i?t:(n===i&&(n-=e/2,i=n+e/2),new u.default(n,i))}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){s.default.apply(this)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(177),s=i(o),a=n(336),u=i(a),l=n(0),f=i(l),c=n(178),d=i(c),h=n(4),_=i(h);(0,i(n(3)).default)(r,s.default),(0,f.default)(r.prototype,{insert:function(t,e){var n=s.default.getSubnodeIndex(t,r.origin);if(-1===n)return this.add(e),null;var i=this._subnode[n];if(null===i||!i.getInterval().contains(t)){var o=u.default.createExpanded(i,t);this._subnode[n]=o}this.insertContained(this._subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){_.default.isTrue(t.getInterval().contains(e));var i=d.default.isZeroWidth(e.getMin(),e.getMax()),r=null;r=i?t.find(e):t.getNode(e),r.add(n)},interfaces_:function(){return[]},getClass:function(){return r}}),r.origin=0},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){s.default.apply(this),this._interval=null,this._centre=null,this._level=null;var t=arguments[0],e=arguments[1];this._interval=t,this._level=e,this._centre=(t.getMin()+t.getMax())/2}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(177),s=i(o),a=n(91),u=i(a),l=n(0),f=i(l),c=n(4),d=i(c),h=n(3),_=i(h),p=n(337),g=i(p);(0,_.default)(r,s.default),(0,f.default)(r.prototype,{getInterval:function(){return this._interval},find:function(t){var e=s.default.getSubnodeIndex(t,this._centre);if(-1===e)return this;if(null!==this._subnode[e]){return this._subnode[e].find(t)}return this},insert:function(t){d.default.isTrue(null===this._interval||this._interval.contains(t._interval));var e=s.default.getSubnodeIndex(t._interval,this._centre);if(t._level===this._level-1)this._subnode[e]=t;else{var n=this.createSubnode(e);n.insert(t),this._subnode[e]=n}},isSearchMatch:function(t){return t.overlaps(this._interval)},getSubnode:function(t){return null===this._subnode[t]&&(this._subnode[t]=this.createSubnode(t)),this._subnode[t]},getNode:function(t){var e=s.default.getSubnodeIndex(t,this._centre);if(-1!==e){return this.getSubnode(e).getNode(t)}return this},createSubnode:function(t){var e=0,n=0;switch(t){case 0:e=this._interval.getMin(),n=this._centre;break;case 1:e=this._centre,n=this._interval.getMax()}return new r(new u.default(e,n),this._level-1)},interfaces_:function(){return[]},getClass:function(){return r}}),r.createNode=function(t){var e=new g.default(t);return new r(e.getInterval(),e.getLevel())},r.createExpanded=function(t,e){var n=new u.default(e);null!==t&&n.expandToInclude(t._interval);var i=r.createNode(n);return null!==t&&i.insert(t),i}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._pt=0,this._level=0,this._interval=null;var t=arguments[0];this.computeKey(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(91),s=i(o),a=n(0),u=i(a),l=n(120),f=i(l);(0,u.default)(r.prototype,{getInterval:function(){return this._interval},getLevel:function(){return this._level},computeKey:function(t){for(this._level=r.computeLevel(t),this._interval=new s.default,this.computeInterval(this._level,t);!this._interval.contains(t);)this._level+=1,this.computeInterval(this._level,t)},computeInterval:function(t,e){var n=f.default.powerOf2(t);this._pt=Math.floor(e.getMin()/n)*n,this._interval.init(this._pt,this._pt+n)},getPoint:function(){return this._pt},interfaces_:function(){return[]},getClass:function(){return r}}),r.computeLevel=function(t){var e=t.getWidth();return f.default.exponent(e)+1}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{isInside:function(t){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._input=null,this._extremalPts=null,this._centre=null,this._radius=0;var t=arguments[0];this._input=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2),s=i(o),a=n(12),u=i(a),l=n(0),f=i(l),c=n(20),d=i(c),h=n(121),_=i(h),p=n(4),g=i(p),m=n(92),v=i(m);(0,f.default)(r.prototype,{getRadius:function(){return this.compute(),this._radius},getDiameter:function(){switch(this.compute(),this._extremalPts.length){case 0:return this._input.getFactory().createLineString();case 1:return this._input.getFactory().createPoint(this._centre)}var t=this._extremalPts[0],e=this._extremalPts[1];return this._input.getFactory().createLineString([t,e])},getExtremalPoints:function(){return this.compute(),this._extremalPts},computeCirclePoints:function(){if(this._input.isEmpty())return this._extremalPts=new Array(0).fill(null),null;if(1===this._input.getNumPoints()){var t=this._input.getCoordinates();return this._extremalPts=[new s.default(t[0])],null}var e=this._input.convexHull(),n=e.getCoordinates(),t=n;if(n[0].equals2D(n[n.length-1])&&(t=new Array(n.length-1).fill(null),d.default.copyDeep(n,0,t,0,n.length-1)),t.length<=2)return this._extremalPts=d.default.copyDeep(t),null;for(var i=r.lowestPoint(t),o=r.pointWitMinAngleWithX(t,i),a=0;a<t.length;a++){var u=r.pointWithMinAngleWithSegment(t,i,o);if(_.default.isObtuse(i,u,o))return this._extremalPts=[new s.default(i),new s.default(o)],null;if(_.default.isObtuse(u,i,o))i=u;else{if(!_.default.isObtuse(u,o,i))return this._extremalPts=[new s.default(i),new s.default(o),new s.default(u)],null;o=u}}g.default.shouldNeverReachHere("Logic failure in Minimum Bounding Circle algorithm!")},compute:function(){if(null!==this._extremalPts)return null;this.computeCirclePoints(),this.computeCentre(),null!==this._centre&&(this._radius=this._centre.distance(this._extremalPts[0]))},getFarthestPoints:function(){switch(this.compute(),this._extremalPts.length){case 0:return this._input.getFactory().createLineString();case 1:return this._input.getFactory().createPoint(this._centre)}var t=this._extremalPts[0],e=this._extremalPts[this._extremalPts.length-1];return this._input.getFactory().createLineString([t,e])},getCircle:function(){if(this.compute(),null===this._centre)return this._input.getFactory().createPolygon();var t=this._input.getFactory().createPoint(this._centre);return 0===this._radius?t:t.buffer(this._radius)},getCentre:function(){return this.compute(),this._centre},computeCentre:function(){switch(this._extremalPts.length){case 0:this._centre=null;break;case 1:this._centre=this._extremalPts[0];break;case 2:this._centre=new s.default((this._extremalPts[0].x+this._extremalPts[1].x)/2,(this._extremalPts[0].y+this._extremalPts[1].y)/2);break;case 3:this._centre=v.default.circumcentre(this._extremalPts[0],this._extremalPts[1],this._extremalPts[2])}},interfaces_:function(){return[]},getClass:function(){return r}}),r.pointWitMinAngleWithX=function(t,e){for(var n=u.default.MAX_VALUE,i=null,r=0;r<t.length;r++){var o=t[r];if(o!==e){var s=o.x-e.x,a=o.y-e.y;a<0&&(a=-a);var l=Math.sqrt(s*s+a*a),f=a/l;f<n&&(n=f,i=o)}}return i},r.lowestPoint=function(t){for(var e=t[0],n=1;n<t.length;n++)t[n].y<e.y&&(e=t[n]);return e},r.pointWithMinAngleWithSegment=function(t,e,n){for(var i=u.default.MAX_VALUE,r=null,o=0;o<t.length;o++){var s=t[o];if(s!==e&&s!==n){var a=_.default.angleBetween(e,s,n);a<i&&(i=a,r=s)}}return r}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._inputGeom=null,this._isConvex=null,this._convexHullPts=null,this._minBaseSeg=new _.default,this._minWidthPt=null,this._minPtIndex=null,this._minWidth=0,1===arguments.length){var t=arguments[0];r.call(this,t,!1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._inputGeom=e,this._isConvex=n}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2),s=i(o),a=n(17),u=i(a),l=n(12),f=i(l),c=n(0),d=i(c),h=n(15),_=i(h),p=n(110),g=i(p);(0,d.default)(r.prototype,{getWidthCoordinate:function(){return this.computeMinimumDiameter(),this._minWidthPt},getSupportingSegment:function(){return this.computeMinimumDiameter(),this._inputGeom.getFactory().createLineString([this._minBaseSeg.p0,this._minBaseSeg.p1])},getDiameter:function(){if(this.computeMinimumDiameter(),null===this._minWidthPt)return this._inputGeom.getFactory().createLineString(null);var t=this._minBaseSeg.project(this._minWidthPt);return this._inputGeom.getFactory().createLineString([t,this._minWidthPt])},computeWidthConvex:function(t){t instanceof u.default?this._convexHullPts=t.getExteriorRing().getCoordinates():this._convexHullPts=t.getCoordinates(),0===this._convexHullPts.length?(this._minWidth=0,this._minWidthPt=null,this._minBaseSeg=null):1===this._convexHullPts.length?(this._minWidth=0,this._minWidthPt=this._convexHullPts[0],this._minBaseSeg.p0=this._convexHullPts[0],this._minBaseSeg.p1=this._convexHullPts[0]):2===this._convexHullPts.length||3===this._convexHullPts.length?(this._minWidth=0,this._minWidthPt=this._convexHullPts[0],this._minBaseSeg.p0=this._convexHullPts[0],this._minBaseSeg.p1=this._convexHullPts[1]):this.computeConvexRingMinDiameter(this._convexHullPts)},computeConvexRingMinDiameter:function(t){this._minWidth=f.default.MAX_VALUE;for(var e=1,n=new _.default,i=0;i<t.length-1;i++)n.p0=t[i],n.p1=t[i+1],e=this.findMaxPerpDistance(t,n,e)},computeMinimumDiameter:function(){if(null!==this._minWidthPt)return null;if(this._isConvex)this.computeWidthConvex(this._inputGeom);else{var t=new g.default(this._inputGeom).getConvexHull();this.computeWidthConvex(t)}},getLength:function(){return this.computeMinimumDiameter(),this._minWidth},findMaxPerpDistance:function(t,e,n){for(var i=e.distancePerpendicular(t[n]),o=i,s=n,a=s;o>=i;)i=o,s=a,a=r.nextIndex(t,s),o=e.distancePerpendicular(t[a]);return i<this._minWidth&&(this._minPtIndex=s,this._minWidth=i,this._minWidthPt=t[this._minPtIndex],this._minBaseSeg=new _.default(e)),s},getMinimumRectangle:function(){if(this.computeMinimumDiameter(),0===this._minWidth)return this._minBaseSeg.p0.equals2D(this._minBaseSeg.p1)?this._inputGeom.getFactory().createPoint(this._minBaseSeg.p0):this._minBaseSeg.toGeometry(this._inputGeom.getFactory());for(var t=this._minBaseSeg.p1.x-this._minBaseSeg.p0.x,e=this._minBaseSeg.p1.y-this._minBaseSeg.p0.y,n=f.default.MAX_VALUE,i=-f.default.MAX_VALUE,o=f.default.MAX_VALUE,s=-f.default.MAX_VALUE,a=0;a<this._convexHullPts.length;a++){var u=r.computeC(t,e,this._convexHullPts[a]);u>i&&(i=u),u<n&&(n=u);var l=r.computeC(-e,t,this._convexHullPts[a]);l>s&&(s=l),l<o&&(o=l)}var c=r.computeSegmentForLine(-t,-e,s),d=r.computeSegmentForLine(-t,-e,o),h=r.computeSegmentForLine(-e,t,i),_=r.computeSegmentForLine(-e,t,n),p=h.lineIntersection(c),g=_.lineIntersection(c),m=_.lineIntersection(d),v=h.lineIntersection(d),y=this._inputGeom.getFactory().createLinearRing([p,g,m,v,p]);return this._inputGeom.getFactory().createPolygon(y,null)},interfaces_:function(){return[]},getClass:function(){return r}}),r.nextIndex=function(t,e){return e++,e>=t.length&&(e=0),e},r.computeC=function(t,e,n){return t*n.y-e*n.x},r.getMinimumDiameter=function(t){return new r(t).getDiameter()},r.getMinimumRectangle=function(t){return new r(t).getMinimumRectangle()},r.computeSegmentForLine=function(t,e,n){var i=null,r=null;return Math.abs(e)>Math.abs(t)?(i=new s.default(0,n/e),r=new s.default(1,n/e-t/e)):(i=new s.default(n/t,0),r=new s.default(n/t-e/t,1)),new _.default(i,r)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Densifier=void 0;var i=n(342),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.Densifier=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._inputGeom=null,this._distanceTolerance=null;var t=arguments[0];this._inputGeom=t}function o(){c.default.apply(this),this.distanceTolerance=null;var t=arguments[0];this.distanceTolerance=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(10),a=i(s),u=n(19),l=i(u),f=n(87),c=i(f),d=n(7),h=i(d),_=n(0),p=i(_),g=n(33),m=i(g),v=n(15),y=i(v),b=n(3),x=i(b);(0,p.default)(r.prototype,{getResultGeometry:function(){return new o(this._distanceTolerance).transform(this._inputGeom)},setDistanceTolerance:function(t){if(t<=0)throw new h.default("Tolerance must be positive");this._distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return r}}),r.densifyPoints=function(t,e,n){for(var i=new y.default,r=new l.default,o=0;o<t.length-1;o++){i.p0=t[o],i.p1=t[o+1],r.add(i.p0,!1);var s=i.getLength(),a=Math.trunc(s/e)+1;if(a>1)for(var u=s/a,f=1;f<a;f++){var c=f*u/s,d=i.pointAlong(c);n.makePrecise(d),r.add(d,!1)}}return r.add(t[t.length-1],!1),r.toCoordinateArray()},r.densify=function(t,e){var n=new r(t);return n.setDistanceTolerance(e),n.getResultGeometry()},(0,x.default)(o,c.default),(0,p.default)(o.prototype,{transformMultiPolygon:function(t,e){var n=c.default.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformPolygon:function(t,e){var n=c.default.prototype.transformPolygon.call(this,t,e);return e instanceof m.default?n:this.createValidArea(n)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),i=r.densifyPoints(n,this.distanceTolerance,e.getPrecisionModel());return e instanceof a.default&&1===i.length&&(i=new Array(0).fill(null)),this._factory.getCoordinateSequenceFactory().create(i)},createValidArea:function(t){return t.buffer(0)},interfaces_:function(){return[]},getClass:function(){return o}}),r.DensifyTransformer=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDissolver=void 0;var i=n(344),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.LineDissolver=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._result=null,this._factory=null,this._graph=null,this._lines=new P.default,this._nodeEdgeStack=new g.default,this._ringStartEdge=null,this._graph=new E.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(10),s=i(o),a=n(19),u=i(a),l=n(13),f=i(l),c=n(6),d=i(c),h=n(25),_=i(h),p=n(71),g=i(p),m=n(0),v=i(m),y=n(179),b=i(y),x=n(345),E=i(x),L=n(34),w=i(L),M=n(1),P=i(M);(0,v.default)(r.prototype,{addLine:function(t){this._lines.add(this._factory.createLineString(t.toCoordinateArray()))},updateRingStartEdge:function(t){return t.isStart()||(t=t.sym(),t.isStart())?null===this._ringStartEdge?(this._ringStartEdge=t,null):void(t.orig().compareTo(this._ringStartEdge.orig())<0&&(this._ringStartEdge=t)):null},getResult:function(){return null===this._result&&this.computeResult(),this._result},process:function(t){var e=t.prevNode();null===e&&(e=t),this.stackEdges(e),this.buildLines()},buildRing:function(t){var e=new u.default,n=t;for(e.add(n.orig().copy(),!1);2===n.sym().degree();){var i=n.next();if(i===t)break;e.add(i.orig().copy(),!1),n=i}e.add(n.dest().copy(),!1),this.addLine(e)},buildLine:function(t){var e=new u.default,n=t;for(this._ringStartEdge=null,b.default.markBoth(n),e.add(n.orig().copy(),!1);2===n.sym().degree();){this.updateRingStartEdge(n);var i=n.next();if(i===t)return this.buildRing(this._ringStartEdge),null;e.add(i.orig().copy(),!1),n=i,b.default.markBoth(n)}e.add(n.dest().copy(),!1),this.stackEdges(n.sym()),this.addLine(e)},stackEdges:function(t){var e=t;do{b.default.isMarked(e)||this._nodeEdgeStack.add(e),e=e.oNext()}while(e!==t)},computeResult:function(){for(var t=this._graph.getVertexEdges(),e=t.iterator();e.hasNext();){var n=e.next();b.default.isMarked(n)||this.process(n)}this._result=this._factory.buildGeometry(this._lines)},buildLines:function(){for(;!this._nodeEdgeStack.empty();){var t=this._nodeEdgeStack.pop();b.default.isMarked(t)||this.buildLine(t)}},add:function(){if(arguments[0]instanceof f.default){arguments[0].apply({interfaces_:function(){return[w.default]},filter:function(t){t instanceof s.default&&this.add(t)}})}else if((0,d.default)(arguments[0],_.default))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.add(n)}else if(arguments[0]instanceof s.default){var i=arguments[0];null===this._factory&&(this._factory=i.getFactory());for(var r=i.getCoordinateSequence(),o=!1,e=1;e<r.size();e++){var a=this._graph.addEdge(r.getCoordinate(e-1),r.getCoordinate(e));null!==a&&(o||(a.setStart(),o=!0))}}},interfaces_:function(){return[]},getClass:function(){return r}}),r.dissolve=function(t){var e=new r;return e.add(t),e.getResult()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){s.default.apply(this)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(346),s=i(o),a=n(0),u=i(a),l=n(347),f=i(l);(0,i(n(3)).default)(r,s.default),(0,u.default)(r.prototype,{createEdge:function(t){return new f.default(t)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._vertexMap=new s.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(85),s=i(o),a=n(0),u=i(a),l=n(180),f=i(l);(0,u.default)(r.prototype,{insert:function(t,e,n){var i=this.create(t,e);null!==n?n.insert(i):this._vertexMap.put(t,i);var r=this._vertexMap.get(e);return null!==r?r.insert(i.sym()):this._vertexMap.put(e,i.sym()),i},create:function(t,e){var n=this.createEdge(t),i=this.createEdge(e);return f.default.init(n,i),n},createEdge:function(t){return new f.default(t)},addEdge:function(t,e){if(!r.isValidEdge(t,e))return null;var n=this._vertexMap.get(t),i=null;return null!==n&&(i=n.find(e)),null!==i?i:this.insert(t,e,n)},getVertexEdges:function(){return this._vertexMap.values()},findEdge:function(t,e){var n=this._vertexMap.get(t);return null===n?null:n.find(e)},interfaces_:function(){return[]},getClass:function(){return r}}),r.isValidEdge=function(t,e){return 0!==e.compareTo(t)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._isStart=!1;var t=arguments[0];u.default.call(this,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(179),u=i(a);(0,i(n(3)).default)(r,u.default),(0,s.default)(r.prototype,{setStart:function(){this._isStart=!0},isStart:function(){return this._isStart},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeometryGraph=void 0;var i=n(76),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.GeometryGraph=r.default},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.strtree=e.quadtree=void 0;var r=n(350),o=i(r),s=n(354),a=i(s);e.quadtree=o,e.strtree=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Quadtree=void 0;var i=n(181),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.Quadtree=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){u.default.apply(this)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2),s=i(o),a=n(182),u=i(a),l=n(352),f=i(l),c=n(0),d=i(c),h=n(178),_=i(h),p=n(4),g=i(p);(0,i(n(3)).default)(r,u.default),(0,d.default)(r.prototype,{insert:function(t,e){var n=u.default.getSubnodeIndex(t,r.origin.x,r.origin.y);if(-1===n)return this.add(e),null;var i=this._subnode[n];if(null===i||!i.getEnvelope().contains(t)){var o=f.default.createExpanded(i,t);this._subnode[n]=o}this.insertContained(this._subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){g.default.isTrue(t.getEnvelope().contains(e));var i=_.default.isZeroWidth(e.getMinX(),e.getMaxX()),r=_.default.isZeroWidth(e.getMinY(),e.getMaxY()),o=null;o=i||r?t.find(e):t.getNode(e),o.add(n)},interfaces_:function(){return[]},getClass:function(){return r}}),r.origin=new s.default(0,0)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){s.default.apply(this),this._env=null,this._centrex=null,this._centrey=null,this._level=null;var t=arguments[0],e=arguments[1];this._env=t,this._level=e,this._centrex=(t.getMinX()+t.getMaxX())/2,this._centrey=(t.getMinY()+t.getMaxY())/2}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(182),s=i(o),a=n(0),u=i(a),l=n(8),f=i(l),c=n(4),d=i(c),h=n(3),_=i(h),p=n(353),g=i(p);(0,_.default)(r,s.default),(0,u.default)(r.prototype,{find:function(t){var e=s.default.getSubnodeIndex(t,this._centrex,this._centrey);if(-1===e)return this;if(null!==this._subnode[e]){return this._subnode[e].find(t)}return this},isSearchMatch:function(t){return this._env.intersects(t)},getSubnode:function(t){return null===this._subnode[t]&&(this._subnode[t]=this.createSubnode(t)),this._subnode[t]},getEnvelope:function(){return this._env},getNode:function(t){var e=s.default.getSubnodeIndex(t,this._centrex,this._centrey);if(-1!==e){return this.getSubnode(e).getNode(t)}return this},createSubnode:function(t){var e=0,n=0,i=0,o=0;switch(t){case 0:e=this._env.getMinX(),n=this._centrex,i=this._env.getMinY(),o=this._centrey;break;case 1:e=this._centrex,n=this._env.getMaxX(),i=this._env.getMinY(),o=this._centrey;break;case 2:e=this._env.getMinX(),n=this._centrex,i=this._centrey,o=this._env.getMaxY();break;case 3:e=this._centrex,n=this._env.getMaxX(),i=this._centrey,o=this._env.getMaxY()}return new r(new f.default(e,n,i,o),this._level-1)},insertNode:function(t){d.default.isTrue(null===this._env||this._env.contains(t._env));var e=s.default.getSubnodeIndex(t._env,this._centrex,this._centrey);if(t._level===this._level-1)this._subnode[e]=t;else{var n=this.createSubnode(e);n.insertNode(t),this._subnode[e]=n}},interfaces_:function(){return[]},getClass:function(){return r}}),r.createNode=function(t){var e=new g.default(t);return new r(e.getEnvelope(),e.getLevel())},r.createExpanded=function(t,e){var n=new f.default(e);null!==t&&n.expandToInclude(t._env);var i=r.createNode(n);return null!==t&&i.insertNode(t),i}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._pt=new s.default,this._level=0,this._env=null;var t=arguments[0];this.computeKey(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2),s=i(o),a=n(0),u=i(a),l=n(120),f=i(l),c=n(8),d=i(c);(0,u.default)(r.prototype,{getLevel:function(){return this._level},computeKey:function(){if(1===arguments.length){var t=arguments[0];for(this._level=r.computeQuadLevel(t),this._env=new d.default,this.computeKey(this._level,t);!this._env.contains(t);)this._level+=1,this.computeKey(this._level,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=f.default.powerOf2(e);this._pt.x=Math.floor(n.getMinX()/i)*i,this._pt.y=Math.floor(n.getMinY()/i)*i,this._env.init(this._pt.x,this._pt.x+i,this._pt.y,this._pt.y+i)}},getEnvelope:function(){return this._env},getCentre:function(){return new s.default((this._env.getMinX()+this._env.getMaxX())/2,(this._env.getMinY()+this._env.getMaxY())/2)},getPoint:function(){return this._pt},interfaces_:function(){return[]},getClass:function(){return r}}),r.computeQuadLevel=function(t){var e=t.getWidth(),n=t.getHeight(),i=e>n?e:n;return f.default.exponent(i)+1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STRtree=void 0;var i=n(89),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.STRtree=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.WKTWriter=e.WKTReader=e.OL3Parser=e.GeoJSONWriter=e.GeoJSONReader=void 0;var r=n(356),o=i(r),s=n(357),a=i(s),u=n(358),l=i(u),f=n(30),c=i(f),d=n(359),h=i(d);e.GeoJSONReader=o.default,e.GeoJSONWriter=a.default,e.OL3Parser=h.default,e.WKTReader=l.default,e.WKTWriter=c.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){this.geometryFactory=t||new s.default,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new f.default(this.geometryFactory)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(16),s=i(o),a=n(56),u=i(a),l=n(183),f=i(l);(0,i(n(0)).default)(r.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===u.default.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.parser=new s.default(this.geometryFactory)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(183),s=i(o);(0,i(n(0)).default)(r.prototype,{write:function(t){return this.parser.write(t)}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){this.geometryFactory=t||new s.default,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new f.default(this.geometryFactory)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(16),s=i(o),a=n(56),u=i(a),l=n(149),f=i(l);(0,i(n(0)).default)(r.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===u.default.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t._points)for(var e=0,n=t._points._coordinates.length;e<n;e++)this.precisionModel.makePrecise(t._points._coordinates[e]);else if(t._geometries)for(var i=0,r=t._geometries.length;i<r;i++)this.reducePrecision(t._geometries[i])}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return[t.x,t.y]}function o(t,e){this.geometryFactory=t||new l.default,this.ol=e||"undefined"!=typeof ol&&ol}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var s=n(2),a=i(s),u=n(16),l=i(u);(0,i(n(0)).default)(o.prototype,{read:function(t){var e=this.ol;return t instanceof e.geom.Point?this.convertFromPoint(t):t instanceof e.geom.LineString?this.convertFromLineString(t):t instanceof e.geom.LinearRing?this.convertFromLinearRing(t):t instanceof e.geom.Polygon?this.convertFromPolygon(t):t instanceof e.geom.MultiPoint?this.convertFromMultiPoint(t):t instanceof e.geom.MultiLineString?this.convertFromMultiLineString(t):t instanceof e.geom.MultiPolygon?this.convertFromMultiPolygon(t):t instanceof e.geom.GeometryCollection?this.convertFromCollection(t):void 0},convertFromPoint:function(t){var e=t.getCoordinates();return this.geometryFactory.createPoint(new a.default(e[0],e[1]))},convertFromLineString:function(t){return this.geometryFactory.createLineString(t.getCoordinates().map(function(t){return new a.default(t[0],t[1])}))},convertFromLinearRing:function(t){return this.geometryFactory.createLinearRing(t.getCoordinates().map(function(t){return new a.default(t[0],t[1])}))},convertFromPolygon:function(t){for(var e=t.getLinearRings(),n=null,i=[],r=0;r<e.length;r++){var o=this.convertFromLinearRing(e[r]);0===r?n=o:i.push(o)}return this.geometryFactory.createPolygon(n,i)},convertFromMultiPoint:function(t){var e=t.getPoints().map(function(t){return this.convertFromPoint(t)},this);return this.geometryFactory.createMultiPoint(e)},convertFromMultiLineString:function(t){var e=t.getLineStrings().map(function(t){return this.convertFromLineString(t)},this);return this.geometryFactory.createMultiLineString(e)},convertFromMultiPolygon:function(t){var e=t.getPolygons().map(function(t){return this.convertFromPolygon(t)},this);return this.geometryFactory.createMultiPolygon(e)},convertFromCollection:function(t){var e=t.getGeometries().map(function(t){return this.read(t)},this);return this.geometryFactory.createGeometryCollection(e)},write:function(t){return"Point"===t.getGeometryType()?this.convertToPoint(t.getCoordinate()):"LineString"===t.getGeometryType()?this.convertToLineString(t):"LinearRing"===t.getGeometryType()?this.convertToLinearRing(t):"Polygon"===t.getGeometryType()?this.convertToPolygon(t):"MultiPoint"===t.getGeometryType()?this.convertToMultiPoint(t):"MultiLineString"===t.getGeometryType()?this.convertToMultiLineString(t):"MultiPolygon"===t.getGeometryType()?this.convertToMultiPolygon(t):"GeometryCollection"===t.getGeometryType()?this.convertToCollection(t):void 0},convertToPoint:function(t){return new this.ol.geom.Point([t.x,t.y])},convertToLineString:function(t){var e=t.points.coordinates.map(r);return new this.ol.geom.LineString(e)},convertToLinearRing:function(t){var e=t.points.coordinates.map(r);return new this.ol.geom.LinearRing(e)},convertToPolygon:function(t){for(var e=[t.shell.points.coordinates.map(r)],n=0;n<t.holes.length;n++)e.push(t.holes[n].points.coordinates.map(r));return new this.ol.geom.Polygon(e)},convertToMultiPoint:function(t){return new this.ol.geom.MultiPoint(t.getCoordinates().map(r))},convertToMultiLineString:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.convertToLineString(t.geometries[n]).getCoordinates());return new this.ol.geom.MultiLineString(e)},convertToMultiPolygon:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.convertToPolygon(t.geometries[n]).getCoordinates());return new this.ol.geom.MultiPolygon(e)},convertToCollection:function(t){for(var e=[],n=0;n<t.geometries.length;n++){var i=t.geometries[n];e.push(this.write(i))}return new this.ol.geom.GeometryCollection(e)}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(88);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var r=n(184);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(111);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(106);Object.defineProperty(e,"BoundaryOp",{enumerable:!0,get:function(){return i(r).default}});var o=n(362);Object.defineProperty(e,"IsSimpleOp",{enumerable:!0,get:function(){return i(o).default}});var s=n(363);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var a=n(381);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var u=n(119);Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})});var l=n(385);Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})});var f=n(393);Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}})});var c=n(394);Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})});var d=n(406);Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}})});var h=n(413);Object.keys(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}})});var _=n(418);Object.keys(_).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return _[t]}})})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._inputGeom=null,this._isClosedEndpointsInInterior=!0,this._nonSimpleLocation=null,1===arguments.length){var t=arguments[0];this._inputGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._inputGeom=e,this._isClosedEndpointsInInterior=!n.isInBoundary(2)}}function o(){this.pt=null,this.isClosed=null,this.degree=null;var t=arguments[0];this.pt=t,this.isClosed=!1,this.degree=0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(50),a=i(s),u=n(10),l=i(u),f=n(6),c=i(f),d=n(44),h=i(d),_=n(0),p=i(_),g=n(76),m=i(g),v=n(14),y=i(v),b=n(43),x=i(b),E=n(23),L=i(E),w=n(77),M=i(w),P=n(38),I=i(P),C=n(31),S=i(C);(0,p.default)(r.prototype,{isSimpleMultiPoint:function(t){if(t.isEmpty())return!0;for(var e=new a.default,n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n),r=i.getCoordinate();if(e.contains(r))return this._nonSimpleLocation=r,!1;e.add(r)}return!0},isSimplePolygonal:function(t){for(var e=M.default.getLines(t),n=e.iterator();n.hasNext();){var i=n.next();if(!this.isSimpleLinearGeometry(i))return!1}return!0},hasClosedEndpointIntersection:function(t){for(var e=new I.default,n=t.getEdgeIterator();n.hasNext();){var i=n.next(),r=(i.getMaximumSegmentIndex(),i.isClosed()),o=i.getCoordinate(0);this.addEndpoint(e,o,r);var s=i.getCoordinate(i.getNumPoints()-1);this.addEndpoint(e,s,r)}for(var n=e.values().iterator();n.hasNext();){var a=n.next();if(a.isClosed&&2!==a.degree)return this._nonSimpleLocation=a.getCoordinate(),!0}return!1},getNonSimpleLocation:function(){return this._nonSimpleLocation},isSimpleLinearGeometry:function(t){if(t.isEmpty())return!0;var e=new m.default(0,t),n=new L.default,i=e.computeSelfNodes(n,!0);return!i.hasIntersection()||(i.hasProperIntersection()?(this._nonSimpleLocation=i.getProperIntersectionPoint(),!1):!this.hasNonEndpointIntersection(e)&&(!this._isClosedEndpointsInInterior||!this.hasClosedEndpointIntersection(e)))},hasNonEndpointIntersection:function(t){for(var e=t.getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getMaximumSegmentIndex(),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next();if(!o.isEndPoint(i))return this._nonSimpleLocation=o.getCoordinate(),!0}return!1},addEndpoint:function(t,e,n){var i=t.get(e);null===i&&(i=new o(e),t.put(e,i)),i.addEndpoint(n)},computeSimple:function(t){return this._nonSimpleLocation=null,!!t.isEmpty()||(t instanceof l.default?this.isSimpleLinearGeometry(t):t instanceof S.default?this.isSimpleLinearGeometry(t):t instanceof h.default?this.isSimpleMultiPoint(t):(0,c.default)(t,x.default)?this.isSimplePolygonal(t):!(t instanceof y.default)||this.isSimpleGeometryCollection(t))},isSimple:function(){return this._nonSimpleLocation=null,this.computeSimple(this._inputGeom)},isSimpleGeometryCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.computeSimple(n))return!1}return!0},interfaces_:function(){return[]},getClass:function(){return r}}),(0,p.default)(o.prototype,{addEndpoint:function(t){this.degree++,this.isClosed|=t},getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return o}}),r.EndpointInfo=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.BufferParameters=e.BufferOp=void 0;var r=n(364),o=i(r),s=n(93),a=i(s);e.BufferOp=o.default,e.BufferParameters=a.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._argGeom=null,this._distance=null,this._bufParams=new s.default,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(93),s=i(o),a=n(13),u=i(a),l=n(365),f=i(l),c=n(184),d=i(c),h=n(46),_=i(h),p=n(0),g=i(p),m=n(105),v=i(m),y=n(56),b=i(y),x=n(48),E=i(x),L=n(376),w=i(L);(0,g.default)(r.prototype,{bufferFixedPrecision:function(t){var e=new d.default(new w.default(new b.default(1)),t.getScale()),n=new f.default(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},bufferReducedPrecision:function(){if(0===arguments.length){for(var t=r.MAX_PRECISION_DIGITS;t>=0;t--){try{this.bufferReducedPrecision(t)}catch(t){if(!(t instanceof _.default))throw t;this._saveException=t}if(null!==this._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var e=arguments[0],n=r.precisionScaleFactor(this._argGeom,this._distance,e),i=new b.default(n);this.bufferFixedPrecision(i)}},computeGeometry:function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===b.default.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},setQuadrantSegments:function(t){this._bufParams.setQuadrantSegments(t)},bufferOriginalPrecision:function(){try{var t=new f.default(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof E.default))throw t;this._saveException=t}},getResultGeometry:function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},setEndCapStyle:function(t){this._bufParams.setEndCapStyle(t)},interfaces_:function(){return[]},getClass:function(){return r}}),r.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new r(t),i=n.getResultGeometry(e);return i}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof u.default&&"number"==typeof arguments[1]){var o=arguments[0],a=arguments[1],l=arguments[2],f=new r(o);f.setQuadrantSegments(l);var i=f.getResultGeometry(a);return i}if(arguments[2]instanceof s.default&&arguments[0]instanceof u.default&&"number"==typeof arguments[1]){var c=arguments[0],d=arguments[1],h=arguments[2],f=new r(c,h),i=f.getResultGeometry(d);return i}}else if(4===arguments.length){var _=arguments[0],p=arguments[1],g=arguments[2],m=arguments[3],f=new r(_);f.setQuadrantSegments(g),f.setEndCapStyle(m);var i=f.getResultGeometry(p);return i}},r.precisionScaleFactor=function(t,e,n){var i=t.getEnvelopeInternal(),r=v.default.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY())),o=e>0?e:0,s=r+2*o,a=Math.trunc(Math.log(s)/Math.log(10)+1),u=n-a;return Math.pow(10,u)},r.CAP_ROUND=s.default.CAP_ROUND,r.CAP_BUTT=s.default.CAP_FLAT,r.CAP_FLAT=s.default.CAP_FLAT,r.CAP_SQUARE=s.default.CAP_SQUARE,r.MAX_PRECISION_DIGITS=12},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new T.default;var t=arguments[0];this._bufParams=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(11),s=i(o),a=n(366),u=i(a),l=n(163),f=i(l),c=n(16),d=i(c),h=n(18),_=i(h),p=n(88),g=i(p),m=n(369),v=i(m),y=n(0),b=i(y),x=n(39),E=i(x),L=n(373),w=i(L),M=n(374),P=i(M),I=n(29),C=i(I),S=n(118),N=i(S),O=n(174),T=i(O),R=n(1),D=i(R),A=n(23),k=i(A),j=n(375),F=i(j),z=n(90),G=i(z),B=n(74),q=i(B);(0,b.default)(r.prototype,{setWorkingPrecisionModel:function(t){this._workingPrecisionModel=t},insertUniqueEdge:function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new C.default(t.getLabel()),i.flip()),n.merge(i);var o=r.depthDelta(i),s=e.getDepthDelta(),a=s+o;e.setDepthDelta(a)}else this._edgeList.add(t),t.setDepthDelta(r.depthDelta(t.getLabel()))},buildSubgraphs:function(t,e){for(var n=new D.default,i=t.iterator();i.hasNext();){var r=i.next(),o=r.getRightmostCoordinate(),s=new w.default(n),a=s.getDepth(o);r.computeDepth(a),r.findResultEdges(),n.add(r),e.add(r.getDirectedEdges(),r.getNodes())}},createSubgraphs:function(t){for(var e=new D.default,n=t.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var r=new u.default;r.create(i),e.add(r)}}return E.default.sort(e,E.default.reverseOrder()),e},createEmptyResultGeometry:function(){return this._geomFact.createPolygon()},getNoder:function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new g.default,n=new k.default;return n.setPrecisionModel(t),e.setSegmentIntersector(new F.default(n)),e},buffer:function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var i=new v.default(n,this._bufParams),r=new P.default(t,e,i),o=r.getCurves();if(o.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(o,n),this._graph=new q.default(new N.default),this._graph.addEdges(this._edgeList.getEdges());var s=this.createSubgraphs(this._graph),a=new f.default(this._geomFact);this.buildSubgraphs(s,a);var u=a.getPolygons();return u.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(u)},computeNodedEdges:function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var i=n.getNodedSubstrings(),r=i.iterator();r.hasNext();){var o=r.next(),s=o.getCoordinates();if(2!==s.length||!s[0].equals2D(s[1])){var a=o.getData(),u=new G.default(o.getCoordinates(),new C.default(a));this.insertUniqueEdge(u)}}},setNoder:function(t){this._workingNoder=t},interfaces_:function(){return[]},getClass:function(){return r}}),r.depthDelta=function(t){var e=t.getLocation(0,_.default.LEFT),n=t.getLocation(0,_.default.RIGHT);return e===s.default.INTERIOR&&n===s.default.EXTERIOR?1:e===s.default.EXTERIOR&&n===s.default.INTERIOR?-1:0},r.convertSegStrings=function(t){for(var e=new d.default,n=new D.default;t.hasNext();){var i=t.next(),r=e.createLineString(i.getCoordinates());n.add(r)}return e.buildGeometry(n)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._finder=null,this._dirEdgeList=new E.default,this._nodes=new E.default,this._rightMostCoord=null,this._env=null,this._finder=new d.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(49),s=i(o),a=n(18),u=i(a),l=n(71),f=i(l),c=n(367),d=i(c),h=n(46),_=i(h),p=n(0),g=i(p),m=n(368),v=i(m),y=n(21),b=i(y),x=n(1),E=i(x),L=n(8),w=i(L);(0,g.default)(r.prototype,{clearVisitedEdges:function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){t.next().setVisited(!1)}},getRightmostCoordinate:function(){return this._rightMostCoord},computeNodeDepth:function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var i=n.next();if(i.isVisited()||i.getSym().isVisited()){e=i;break}}if(null===e)throw new _.default("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();i.setVisited(!0),this.copySymDepths(i)}},computeDepth:function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.getNode(),e.getLabel();e.setEdgeDepths(u.default.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},create:function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},findResultEdges:function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(u.default.RIGHT)>=1&&e.getDepth(u.default.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},computeDepths:function(t){var e=new s.default,n=new v.default,i=t.getNode();for(n.addLast(i),e.add(i),t.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();e.add(r),this.computeNodeDepth(r);for(var o=r.getEdges().iterator();o.hasNext();){var a=o.next(),u=a.getSym();if(!u.isVisited()){var l=u.getNode();e.contains(l)||(n.addLast(l),e.add(l))}}}},compareTo:function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},getEnvelope:function(){if(null===this._env){for(var t=new w.default,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next(),i=n.getEdge().getCoordinates(),r=0;r<i.length-1;r++)t.expandToInclude(i[r]);this._env=t}return this._env},addReachable:function(t){var e=new f.default;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},copySymDepths:function(t){var e=t.getSym();e.setDepth(u.default.LEFT,t.getDepth(u.default.RIGHT)),e.setDepth(u.default.RIGHT,t.getDepth(u.default.LEFT))},add:function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();this._dirEdgeList.add(i);var r=i.getSym(),o=r.getNode();o.isVisited()||e.push(o)}},getNodes:function(){return this._nodes},getDirectedEdges:function(){return this._dirEdgeList},interfaces_:function(){return[b.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(9),s=i(o),a=n(18),u=i(a),l=n(0),f=i(l),c=n(4),d=i(c);(0,f.default)(r.prototype,{getCoordinate:function(){return this._minCoord},getRightmostSide:function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},findRightmostEdgeAtVertex:function(){var t=this._minDe.getEdge().getCoordinates();d.default.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],i=s.default.computeOrientation(this._minCoord,n,e),r=!1;e.y<this._minCoord.y&&n.y<this._minCoord.y&&i===s.default.COUNTERCLOCKWISE?r=!0:e.y>this._minCoord.y&&n.y>this._minCoord.y&&i===s.default.CLOCKWISE&&(r=!0),r&&(this._minIndex=this._minIndex-1)},getRightmostSideOfSegment:function(t,e){var n=t.getEdge(),i=n.getCoordinates();if(e<0||e+1>=i.length)return-1;if(i[e].y===i[e+1].y)return-1;var r=u.default.LEFT;return i[e].y<i[e+1].y&&(r=u.default.RIGHT),r},getEdge:function(){return this._orientedDe},checkForRightmostCoordinate:function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},findRightmostEdgeAtNode:function(){var t=this._minDe.getNode(),e=t.getEdges();this._minDe=e.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},findEdge:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}d.default.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===u.default.LEFT&&(this._orientedDe=this._minDe.getSym())},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(){this.array_=[]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype.addLast=function(t){this.array_.push(t)},i.prototype.removeFirst=function(){return this.array_.shift()},i.prototype.isEmpty=function(){return 0===this.array_.length}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(93),s=i(o),a=n(18),u=i(a),l=n(2),f=i(l),c=n(0),d=i(c),h=n(370),_=i(h),p=n(20),g=i(p),m=n(371),v=i(m);(0,d.default)(r.prototype,{getOffsetCurve:function(t,e){if(this._distance=e,0===e)return null;var n=e<0,i=Math.abs(e),r=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,n,r);var o=r.getCoordinates();return n&&g.default.reverse(o),o},computeSingleSidedBufferCurve:function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var r=_.default.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],u.default.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{n.addSegments(t,!1);var a=_.default.simplify(t,i),l=a.length-1;n.initSideSegments(a[0],a[1],u.default.LEFT),n.addFirstSegment();for(var s=2;s<=l;s++)n.addNextSegment(a[s],!0)}n.addLastSegment(),n.closeRing()},computeRingBufferCurve:function(t,e,n){var i=this.simplifyTolerance(this._distance);e===u.default.RIGHT&&(i=-i);var r=_.default.simplify(t,i),o=r.length-1;n.initSideSegments(r[o-1],r[0],e);for(var s=1;s<=o;s++){var a=1!==s;n.addNextSegment(r[s],a)}n.closeRing()},computeLineBufferCurve:function(t,e){var n=this.simplifyTolerance(this._distance),i=_.default.simplify(t,n),r=i.length-1;e.initSideSegments(i[0],i[1],u.default.LEFT);for(var o=2;o<=r;o++)e.addNextSegment(i[o],!0);e.addLastSegment(),e.addLineEndCap(i[r-1],i[r]);var s=_.default.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],u.default.LEFT);for(var o=a-2;o>=0;o--)e.addNextSegment(s[o],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},computePointCurve:function(t,e){switch(this._bufParams.getEndCapStyle()){case s.default.CAP_ROUND:e.createCircle(t);break;case s.default.CAP_SQUARE:e.createSquare(t)}},getLineCurve:function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),i=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],i);else if(this._bufParams.isSingleSided()){var r=e<0;this.computeSingleSidedBufferCurve(t,r,i)}else this.computeLineBufferCurve(t,i);return i.getCoordinates()},getBufferParameters:function(){return this._bufParams},simplifyTolerance:function(t){return t*this._bufParams.getSimplifyFactor()},getRingCurve:function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return r.copyCoordinates(t);var i=this.getSegGen(n);return this.computeRingBufferCurve(t,e,i),i.getCoordinates()},computeOffsetCurve:function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){var r=_.default.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],u.default.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{var a=_.default.simplify(t,i),l=a.length-1;n.initSideSegments(a[0],a[1],u.default.LEFT),n.addFirstSegment();for(var s=2;s<=l;s++)n.addNextSegment(a[s],!0)}n.addLastSegment()},getSegGen:function(t){return new v.default(this._precisionModel,this._bufParams,t)},interfaces_:function(){return[]},getClass:function(){return r}}),r.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new f.default(t[n]);return e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=s.default.COUNTERCLOCKWISE;var t=arguments[0];this._inputLine=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(9),s=i(o),a=n(19),u=i(a);(0,i(n(0)).default)(r.prototype,{isDeletable:function(t,e,n,i){var r=this._inputLine[t],o=this._inputLine[e],s=this._inputLine[n];return!!this.isConcave(r,o,s)&&!!this.isShallow(r,o,s,i)&&this.isShallowSampled(r,o,t,n,i)},deleteShallowConcavities:function(){for(var t=1,e=(this._inputLine.length,this.findNextNonDeletedIndex(t)),n=this.findNextNonDeletedIndex(e),i=!1;n<this._inputLine.length;){var o=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=r.DELETE,o=!0,i=!0),t=o?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return i},isShallowConcavity:function(t,e,n,i){return s.default.computeOrientation(t,e,n)===this._angleOrientation&&s.default.distancePointLine(e,t,n)<i},isShallowSampled:function(t,e,n,i,o){var s=Math.trunc((i-n)/r.NUM_PTS_TO_CHECK);s<=0&&(s=1);for(var a=n;a<i;a+=s)if(!this.isShallow(t,e,this._inputLine[a],o))return!1;return!0},isConcave:function(t,e,n){return s.default.computeOrientation(t,e,n)===this._angleOrientation},simplify:function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=s.default.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},findNextNonDeletedIndex:function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===r.DELETE;)e++;return e},isShallow:function(t,e,n,i){return s.default.distancePointLine(e,t,n)<i},collapseLine:function(){for(var t=new u.default,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==r.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return r}}),r.simplify=function(t,e){return new r(t).simplify(e)},r.INIT=0,r.DELETE=1,r.KEEP=1,r.NUM_PTS_TO_CHECK=10},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new b.default,this._seg1=new b.default,this._offset0=new b.default,this._offset1=new b.default,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._precisionModel=t,this._bufParams=e,this._li=new w.default,this._filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),e.getQuadrantSegments()>=8&&e.getJoinStyle()===s.default.JOIN_ROUND&&(this._closingSegLengthFactor=r.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(93),s=i(o),a=n(64),u=i(a),l=n(9),f=i(l),c=n(18),d=i(c),h=n(2),_=i(h),p=n(0),g=i(p),m=n(372),v=i(m),y=n(15),b=i(y),x=n(121),E=i(x),L=n(23),w=i(L),M=n(66),P=i(M);(0,g.default)(r.prototype,{addNextSegment:function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=f.default.computeOrientation(this._s0,this._s1,this._s2),i=n===f.default.CLOCKWISE&&this._side===d.default.LEFT||n===f.default.COUNTERCLOCKWISE&&this._side===d.default.RIGHT;0===n?this.addCollinear(e):i?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},addLineEndCap:function(t,e){var n=new b.default(t,e),i=new b.default;this.computeOffsetSegment(n,d.default.LEFT,this._distance,i);var r=new b.default;this.computeOffsetSegment(n,d.default.RIGHT,this._distance,r);var o=e.x-t.x,a=e.y-t.y,u=Math.atan2(a,o);switch(this._bufParams.getEndCapStyle()){case s.default.CAP_ROUND:this._segList.addPt(i.p1),this.addFilletArc(e,u+Math.PI/2,u-Math.PI/2,f.default.CLOCKWISE,this._distance),this._segList.addPt(r.p1);break;case s.default.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(r.p1);break;case s.default.CAP_SQUARE:var l=new _.default;l.x=Math.abs(this._distance)*Math.cos(u),l.y=Math.abs(this._distance)*Math.sin(u);var c=new _.default(i.p1.x+l.x,i.p1.y+l.y),h=new _.default(r.p1.x+l.x,r.p1.y+l.y);this._segList.addPt(c),this._segList.addPt(h)}},getCoordinates:function(){return this._segList.getCoordinates()},addMitreJoin:function(t,e,n,i){var r=!0,o=null;try{o=P.default.intersection(e.p0,e.p1,n.p0,n.p1);(i<=0?1:o.distance(t)/Math.abs(i))>this._bufParams.getMitreLimit()&&(r=!1)}catch(t){if(!(t instanceof u.default))throw t;o=new _.default(0,0),r=!1}r?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,i,this._bufParams.getMitreLimit())},addFilletCorner:function(t,e,n,i,r){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),u=n.x-t.x,l=n.y-t.y,c=Math.atan2(l,u);i===f.default.CLOCKWISE?a<=c&&(a+=2*Math.PI):a>=c&&(a-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,a,c,i,r),this._segList.addPt(n)},addOutsideTurn:function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*r.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===s.default.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===s.default.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},createSquare:function(t){this._segList.addPt(new _.default(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new _.default(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new _.default(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new _.default(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},addSegments:function(t,e){this._segList.addPts(t,e)},addFirstSegment:function(){this._segList.addPt(this._offset1.p0)},addLastSegment:function(){this._segList.addPt(this._offset1.p1)},initSideSegments:function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},addLimitedMitreJoin:function(t,e,n,i){var r=this._seg0.p1,o=E.default.angle(r,this._seg0.p0),s=(E.default.angle(r,this._seg1.p1),E.default.angleBetweenOriented(this._seg0.p0,r,this._seg1.p1)),a=s/2,u=E.default.normalize(o+a),l=E.default.normalize(u+Math.PI),f=i*n,c=f*Math.abs(Math.sin(a)),h=n-c,p=r.x+f*Math.cos(l),g=r.y+f*Math.sin(l),m=new _.default(p,g),v=new b.default(r,m),y=v.pointAlongOffset(1,h),x=v.pointAlongOffset(1,-h);this._side===d.default.LEFT?(this._segList.addPt(y),this._segList.addPt(x)):(this._segList.addPt(x),this._segList.addPt(y))},computeOffsetSegment:function(t,e,n,i){var r=e===d.default.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),u=r*n*o/a,l=r*n*s/a;i.p0.x=t.p0.x-l,i.p0.y=t.p0.y+u,i.p1.x=t.p1.x-l,i.p1.y=t.p1.y+u},addFilletArc:function(t,e,n,i,r){var o=i===f.default.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;var u=null,l=null;u=0,l=s/a;for(var c=u,d=new _.default;c<s;){var h=e+o*c;d.x=t.x+r*Math.cos(h),d.y=t.y+r*Math.sin(h),this._segList.addPt(d),c+=l}},addInsideTurn:function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*r.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new _.default((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var i=new _.default((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},createCircle:function(t){var e=new _.default(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},addBevelJoin:function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},init:function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new v.default,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*r.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},addCollinear:function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===s.default.JOIN_BEVEL||this._bufParams.getJoinStyle()===s.default.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,f.default.CLOCKWISE,this._distance))},closeRing:function(){this._segList.closeRing()},hasNarrowConcaveAngle:function(){return this._hasNarrowConcaveAngle},interfaces_:function(){return[]},getClass:function(){return r}}),r.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,r.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,r.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,r.MAX_CLOSING_SEG_LEN_FACTOR=80},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new d.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(16),s=i(o),a=n(2),u=i(a),l=n(0),f=i(l),c=n(1),d=i(c);(0,f.default)(r.prototype,{getCoordinates:function(){return this._ptList.toArray(r.COORDINATE_ARRAY_TYPE)},setPrecisionModel:function(t){this._precisionModel=t},addPt:function(t){var e=new u.default(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},reverse:function(){},addPts:function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var n=t.length-1;n>=0;n--)this.addPt(t[n])},isRedundant:function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},toString:function(){return(new s.default).createLineString(this.getCoordinates()).toString()},closeRing:function(){if(this._ptList.size()<1)return null;var t=new u.default(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(this._ptList.size()>=2&&this._ptList.get(this._ptList.size()-2),t.equals(e))return null;this._ptList.add(t)},setMinimumVertexDistance:function(t){this._minimimVertexDistance=t},interfaces_:function(){return[]},getClass:function(){return r}}),r.COORDINATE_ARRAY_TYPE=new Array(0).fill(null)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._subgraphs=null,this._seg=new x.default,this._cga=new a.default;var t=arguments[0];this._subgraphs=t}function o(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new x.default(t),this._leftDepth=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(9),a=i(s),u=n(6),l=i(u),f=n(18),c=i(f),d=n(2),h=i(d),_=n(0),p=i(_),g=n(39),m=i(g),v=n(167),y=i(v),b=n(15),x=i(b),E=n(21),L=i(E),w=n(1),M=i(w),P=n(36),I=i(P);(0,p.default)(r.prototype,{findStabbedSegments:function(){if(1===arguments.length){for(var t=arguments[0],e=new M.default,n=this._subgraphs.iterator();n.hasNext();){var i=n.next(),r=i.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,i.getDirectedEdges(),e)}return e}if(3===arguments.length)if((0,l.default)(arguments[2],I.default)&&arguments[0]instanceof h.default&&arguments[1]instanceof y.default)for(var s=arguments[0],u=arguments[1],f=arguments[2],d=u.getEdge().getCoordinates(),n=0;n<d.length-1;n++){this._seg.p0=d[n],this._seg.p1=d[n+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse();var _=Math.max(this._seg.p0.x,this._seg.p1.x);if(!(_<s.x)&&!(this._seg.isHorizontal()||s.y<this._seg.p0.y||s.y>this._seg.p1.y||a.default.computeOrientation(this._seg.p0,this._seg.p1,s)===a.default.RIGHT)){var p=u.getDepth(c.default.LEFT);this._seg.p0.equals(d[n])||(p=u.getDepth(c.default.RIGHT));var g=new o(this._seg,p);f.add(g)}}else if((0,l.default)(arguments[2],I.default)&&arguments[0]instanceof h.default&&(0,l.default)(arguments[1],I.default))for(var m=arguments[0],v=arguments[1],b=arguments[2],n=v.iterator();n.hasNext();){var x=n.next();x.isForward()&&this.findStabbedSegments(m,x,b)}},getDepth:function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:m.default.min(e)._leftDepth},interfaces_:function(){return[]},getClass:function(){return r}}),(0,p.default)(o.prototype,{compareTo:function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n?n:(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg),0!==n?n:this._upwardSeg.compareTo(e._upwardSeg))},compareX:function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},toString:function(){return this._upwardSeg.toString()},interfaces_:function(){return[L.default]},getClass:function(){return o}}),r.DepthSegment=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new D.default;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(11),s=i(o),a=n(10),u=i(a),l=n(9),f=i(l),c=n(18),d=i(c),h=n(26),_=i(h),p=n(73),g=i(p),m=n(17),v=i(m),y=n(44),b=i(y),x=n(32),E=i(x),L=n(0),w=i(L),M=n(33),P=i(M),I=n(29),C=i(I),S=n(14),N=i(S),O=n(20),T=i(O),R=n(1),D=i(R),A=n(31),k=i(A),j=n(92),F=i(j);(0,w.default)(r.prototype,{addPoint:function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,s.default.EXTERIOR,s.default.INTERIOR)},addPolygon:function(t){var e=this._distance,n=d.default.LEFT;this._distance<0&&(e=-this._distance,n=d.default.RIGHT);var i=t.getExteriorRing(),r=T.default.removeRepeatedPoints(i.getCoordinates());if(this._distance<0&&this.isErodedCompletely(i,this._distance))return null;if(this._distance<=0&&r.length<3)return null;this.addPolygonRing(r,e,n,s.default.EXTERIOR,s.default.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var a=t.getInteriorRingN(o),u=T.default.removeRepeatedPoints(a.getCoordinates());this._distance>0&&this.isErodedCompletely(a,-this._distance)||this.addPolygonRing(u,e,d.default.opposite(n),s.default.INTERIOR,s.default.EXTERIOR)}},isTriangleErodedCompletely:function(t,e){var n=new F.default(t[0],t[1],t[2]),i=n.inCentre();return f.default.distancePointLine(i,n.p0,n.p1)<Math.abs(e)},addLineString:function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=T.default.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,s.default.EXTERIOR,s.default.INTERIOR)},addCurve:function(t,e,n){if(null===t||t.length<2)return null;var i=new g.default(t,new C.default(0,s.default.BOUNDARY,e,n));this._curveList.add(i)},getCurves:function(){return this.add(this._inputGeom),this._curveList},addPolygonRing:function(t,e,n,i,r){if(0===e&&t.length<E.default.MINIMUM_VALID_SIZE)return null;var o=i,s=r;t.length>=E.default.MINIMUM_VALID_SIZE&&f.default.isCCW(t)&&(o=r,s=i,n=d.default.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},add:function(t){if(t.isEmpty())return null;if(t instanceof v.default)this.addPolygon(t);else if(t instanceof u.default)this.addLineString(t);else if(t instanceof _.default)this.addPoint(t);else if(t instanceof b.default)this.addCollection(t);else if(t instanceof k.default)this.addCollection(t);else if(t instanceof P.default)this.addCollection(t);else{if(!(t instanceof N.default))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},isErodedCompletely:function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var i=t.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return e<0&&2*Math.abs(e)>r},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(114),u=i(a);(0,s.default)(r.prototype,{isTrivialIntersection:function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(r.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var o=t.size()-1;if(0===e&&i===o||0===i&&e===o)return!0}}return!1},getProperIntersectionPoint:function(){return this._properIntersectionPoint},hasProperInteriorIntersection:function(){return this._hasProperInterior},getLineIntersector:function(){return this._li},hasProperIntersection:function(){return this._hasProper},processIntersections:function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},hasIntersection:function(){return this._hasIntersection},isDone:function(){return!1},hasInteriorIntersection:function(){return this._hasInterior},interfaces_:function(){return[u.default]},getClass:function(){return r}}),r.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new P.default,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(377),s=i(o),a=n(6),u=i(a),l=n(25),f=i(l),c=n(113),d=i(c),h=n(88),_=i(h),p=n(73),g=i(p),m=n(378),v=i(m),y=n(0),b=i(y),x=n(104),E=i(x),L=n(379),w=i(L),M=n(23),P=i(M),I=n(380),C=i(I);(0,b.default)(r.prototype,{checkCorrectness:function(t){var e=g.default.getNodedSubstrings(t),n=new s.default(e);try{n.checkValid()}catch(t){if(!(t instanceof E.default))throw t;t.printStackTrace()}},getNodedSubstrings:function(){return g.default.getNodedSubstrings(this._nodedSegStrings)},snapRound:function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},findInteriorIntersections:function(t,e){var n=new C.default(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},computeVertexSnaps:function(){if((0,u.default)(arguments[0],f.default))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.computeVertexSnaps(n)}else if(arguments[0]instanceof g.default)for(var i=arguments[0],r=i.getCoordinates(),o=0;o<r.length;o++){var s=new v.default(r[o],this._scaleFactor,this._li),a=this._pointSnapper.snap(s,i,o);a&&i.addIntersection(r[o],o)}},computeNodes:function(t){this._nodedSegStrings=t,this._noder=new _.default,this._pointSnapper=new w.default(this._noder.getIndex()),this.snapRound(t,this._li)},computeIntersectionSnaps:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=new v.default(n,this._scaleFactor,this._li);this._pointSnapper.snap(i)}},interfaces_:function(){return[d.default]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._li=new f.default,this._segStrings=null;var t=arguments[0];this._segStrings=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(16),s=i(o),a=n(0),u=i(a),l=n(23),f=i(l),c=n(48),d=i(c);(0,u.default)(r.prototype,{checkEndPtVertexIntersections:function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next(),n=e.getCoordinates();this.checkEndPtVertexIntersections(n[0],this._segStrings),this.checkEndPtVertexIntersections(n[n.length-1],this._segStrings)}else if(2===arguments.length)for(var i=arguments[0],r=arguments[1],t=r.iterator();t.hasNext();)for(var e=t.next(),n=e.getCoordinates(),o=1;o<n.length-1;o++)if(n[o].equals(i))throw new d.default("found endpt/interior pt intersection at index "+o+" :pt "+i)},checkInteriorIntersections:function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var i=n.next();this.checkInteriorIntersections(e,i)}else if(2===arguments.length)for(var r=arguments[0],o=arguments[1],s=r.getCoordinates(),a=o.getCoordinates(),u=0;u<s.length-1;u++)for(var l=0;l<a.length-1;l++)this.checkInteriorIntersections(r,u,o,l);else if(4===arguments.length){var f=arguments[0],c=arguments[1],h=arguments[2],_=arguments[3];if(f===h&&c===_)return null;var p=f.getCoordinates()[c],g=f.getCoordinates()[c+1],m=h.getCoordinates()[_],v=h.getCoordinates()[_+1];if(this._li.computeIntersection(p,g,m,v),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,p,g)||this.hasInteriorIntersection(this._li,m,v)))throw new d.default("found non-noded intersection at "+p+"-"+g+" and "+m+"-"+v)}},checkValid:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},checkCollapses:function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0],i=n.getCoordinates(),t=0;t<i.length-2;t++)this.checkCollapse(i[t],i[t+1],i[t+2])},hasInteriorIntersection:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var r=t.getIntersection(i);if(!r.equals(e)&&!r.equals(n))return!0}return!1},checkCollapse:function(t,e,n){if(t.equals(n))throw new d.default("found non-noded collapse at "+r.fact.createLineString([t,e,n]))},interfaces_:function(){return[]},getClass:function(){return r}}),r.fact=new s.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new u.default("Scale factor must be non-zero");1!==e&&(this._pt=new s.default(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new s.default,this._p1Scaled=new s.default),this.initCorners(this._pt)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2),s=i(o),a=n(7),u=i(a),l=n(0),f=i(l),c=n(8),d=i(c),h=n(4),_=i(h);(0,f.default)(r.prototype,{intersectsScaled:function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this._maxx<n||this._minx>i||this._maxy<r||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return _.default.isTrue(!(s&&a),"Found bad envelope test"),a},initCorners:function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new s.default(this._maxx,this._maxy),this._corner[1]=new s.default(this._minx,this._maxy),this._corner[2]=new s.default(this._minx,this._miny),this._corner[3]=new s.default(this._maxx,this._miny)},intersects:function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},scale:function(t){return Math.round(t*this._scaleFactor)},getCoordinate:function(){return this._originalPt},copyScaled:function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},getSafeEnvelope:function(){if(null===this._safeEnv){var t=r.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new d.default(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},intersectsPixelClosure:function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},intersectsToleranceSquare:function(t,e){var n=!1,i=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.isProper()||(!(!n||!i)||(!!t.equals(this._pt)||!!e.equals(this._pt))))))},addSnappedNode:function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return!!this.intersects(n,i)&&(t.addIntersection(this.getCoordinate(),e),!0)},interfaces_:function(){return[]},getClass:function(){return r}}),r.SAFE_ENV_EXPANSION_FACTOR=.75},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._index=null;var t=arguments[0];this._index=t}function o(){a.default.apply(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._hotPixel=t,this._parentEdge=e,this._hotPixelVertexIndex=n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(176),a=i(s),u=n(57),l=i(u),f=n(0),c=i(f),d=n(3),h=i(d);(0,c.default)(r.prototype,{snap:function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=e.getSafeEnvelope(),s=new o(e,n,i);return this._index.query(r,{interfaces_:function(){return[l.default]},visitItem:function(t){t.select(r,s)}}),s.isNodeAdded()}},interfaces_:function(){return[]},getClass:function(){return r}}),(0,h.default)(o,a.default),(0,c.default)(o.prototype,{isNodeAdded:function(){return this._isNodeAdded},select:function(){if(2!==arguments.length)return a.default.prototype.select.apply(this,arguments);var t=arguments[0],e=arguments[1],n=t.getContext();if(null!==this._parentEdge&&n===this._parentEdge&&e===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(n,e)},interfaces_:function(){return[]},getClass:function(){return o}}),r.HotPixelSnapAction=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new f.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(114),u=i(a),l=n(1),f=i(l);(0,s.default)(r.prototype,{processIntersections:function(t,e,n,i){if(t===n&&e===i)return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];if(this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)}},isDone:function(){return!1},getInteriorIntersections:function(){return this._interiorIntersections},interfaces_:function(){return[u.default]},getClass:function(){return r}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DistanceOp=void 0;var i=n(382),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.DistanceOp=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new s.default,this._minDistanceLocation=null,this._minDistance=P.default.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];r.call(this,t,e,0)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=i,this._terminateDistance=o}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(72),s=i(o),a=n(185),u=i(a),l=n(11),f=i(l),c=n(10),d=i(c),h=n(9),_=i(h),p=n(6),g=i(p),m=n(7),v=i(m),y=n(26),b=i(y),x=n(17),E=i(x),L=n(186),w=i(L),M=n(12),P=i(M),I=n(383),C=i(I),S=n(0),N=i(S),O=n(384),T=i(O),R=n(15),D=i(R),A=n(77),k=i(A),j=n(36),F=i(j);(0,N.default)(r.prototype,{computeContainmentDistance:function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=1-e,r=u.default.getPolygons(this._geom[e]);if(r.size()>0){var o=T.default.getLocations(this._geom[i]);if(this.computeContainmentDistance(o,r,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[i]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&(0,g.default)(arguments[0],F.default)&&(0,g.default)(arguments[1],F.default)){for(var s=arguments[0],a=arguments[1],l=arguments[2],c=0;c<s.size();c++)for(var d=s.get(c),h=0;h<a.size();h++)if(this.computeContainmentDistance(d,a.get(h),l),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof w.default&&arguments[1]instanceof E.default){var _=arguments[0],p=arguments[1],m=arguments[2],v=_.getCoordinate();if(f.default.EXTERIOR!==this._ptLocator.locate(v,p))return this._minDistance=0,m[0]=_,m[1]=new w.default(p,v),null}},computeMinDistanceLinesPoints:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this._minDistance<=this._terminateDistance)return null}},computeFacetDistance:function(){var t=new Array(2).fill(null),e=k.default.getLines(this._geom[0]),n=k.default.getLines(this._geom[1]),i=C.default.getPoints(this._geom[0]),r=C.default.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,r,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,i,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(i,r,t),void this.updateMinDistance(t,!1))))},nearestLocations:function(){return this.computeMinDistance(),this._minDistanceLocation},updateMinDistance:function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},nearestPoints:function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},computeMinDistance:function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof d.default&&arguments[1]instanceof b.default){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var i=t.getCoordinates(),r=e.getCoordinate(),o=0;o<i.length-1;o++){var s=_.default.distancePointLine(r,i[o],i[o+1]);if(s<this._minDistance){this._minDistance=s;var a=new D.default(i[o],i[o+1]),u=a.closestPoint(r);n[0]=new w.default(t,o,u),n[1]=new w.default(e,0,r)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof d.default&&arguments[1]instanceof d.default){var l=arguments[0],f=arguments[1],c=arguments[2];if(l.getEnvelopeInternal().distance(f.getEnvelopeInternal())>this._minDistance)return null;for(var i=l.getCoordinates(),h=f.getCoordinates(),o=0;o<i.length-1;o++)for(var p=0;p<h.length-1;p++){var s=_.default.distanceLineLine(i[o],i[o+1],h[p],h[p+1]);if(s<this._minDistance){this._minDistance=s;var g=new D.default(i[o],i[o+1]),m=new D.default(h[p],h[p+1]),v=g.closestPoints(m);c[0]=new w.default(l,o,v[0]),c[1]=new w.default(f,p,v[1])}if(this._minDistance<=this._terminateDistance)return null}}},computeMinDistancePoints:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o),a=r.getCoordinate().distance(s.getCoordinate());if(a<this._minDistance&&(this._minDistance=a,n[0]=new w.default(r,0,r.getCoordinate()),n[1]=new w.default(s,0,s.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},distance:function(){if(null===this._geom[0]||null===this._geom[1])throw new v.default("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},computeMinDistanceLines:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this._minDistance<=this._terminateDistance)return null}},interfaces_:function(){return[]},getClass:function(){return r}}),r.distance=function(t,e){return new r(t,e).distance()},r.isWithinDistance=function(t,e,n){return new r(t,e,n).distance()<=n},r.nearestPoints=function(t,e){return new r(t,e).nearestPoints()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._pts=null;var t=arguments[0];this._pts=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(26),s=i(o),a=n(0),u=i(a),l=n(39),f=i(l),c=n(14),d=i(c),h=n(1),_=i(h),p=n(42),g=i(p);(0,u.default)(r.prototype,{filter:function(t){t instanceof s.default&&this._pts.add(t)},interfaces_:function(){return[g.default]},getClass:function(){return r}}),r.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof s.default?f.default.singletonList(t):r.getPoints(t,new _.default)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof s.default?n.add(e):e instanceof d.default&&e.apply(new r(n)),n}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._locations=null;var t=arguments[0];this._locations=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(10),s=i(o),a=n(26),u=i(a),l=n(17),f=i(l),c=n(186),d=i(c),h=n(0),_=i(h),p=n(1),g=i(p),m=n(42),v=i(m);(0,_.default)(r.prototype,{filter:function(t){(t instanceof u.default||t instanceof s.default||t instanceof f.default)&&this._locations.add(new d.default(t,0,t.getCoordinate()))},interfaces_:function(){return[v.default]},getClass:function(){return r}}),r.getLocations=function(t){var e=new g.default;return t.apply(new r(e)),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineMerger=void 0;var i=n(386),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.LineMerger=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._graph=new v.default,this._mergedLineStrings=null,this._factory=null,this._edgeStrings=null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(10),s=i(o),a=n(13),u=i(a),l=n(6),f=i(l),c=n(25),d=i(c),h=n(387),_=i(h),p=n(0),g=i(p),m=n(388),v=i(m),y=n(34),b=i(y),x=n(1),E=i(x),L=n(4),w=i(L),M=n(94),P=i(M);(0,g.default)(r.prototype,{buildEdgeStringsForUnprocessedNodes:function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next();e.isMarked()||(w.default.isTrue(2===e.getDegree()),this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForNonDegree2Nodes:function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next();2!==e.getDegree()&&(this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForObviousStartNodes:function(){this.buildEdgeStringsForNonDegree2Nodes()},getMergedLineStrings:function(){return this.merge(),this._mergedLineStrings},buildEdgeStringsStartingAt:function(t){for(var e=t.getOutEdges().iterator();e.hasNext();){var n=e.next();n.getEdge().isMarked()||this._edgeStrings.add(this.buildEdgeStringStartingWith(n))}},merge:function(){if(null!==this._mergedLineStrings)return null;P.default.setMarked(this._graph.nodeIterator(),!1),P.default.setMarked(this._graph.edgeIterator(),!1),this._edgeStrings=new E.default,this.buildEdgeStringsForObviousStartNodes(),this.buildEdgeStringsForIsolatedLoops(),this._mergedLineStrings=new E.default;for(var t=this._edgeStrings.iterator();t.hasNext();){var e=t.next();this._mergedLineStrings.add(e.toLineString())}},buildEdgeStringStartingWith:function(t){var e=new _.default(this._factory),n=t;do{e.add(n),n.getEdge().setMarked(!0),n=n.getNext()}while(null!==n&&n!==t);return e},add:function(){if(arguments[0]instanceof u.default){arguments[0].apply({interfaces_:function(){return[b.default]},filter:function(t){t instanceof s.default&&this.add(t)}})}else if((0,f.default)(arguments[0],d.default)){var t=arguments[0];this._mergedLineStrings=null;for(var e=t.iterator();e.hasNext();){var n=e.next();this.add(n)}}else if(arguments[0]instanceof s.default){var i=arguments[0];null===this._factory&&(this._factory=i.getFactory()),this._graph.addEdge(i)}},buildEdgeStringsForIsolatedLoops:function(){this.buildEdgeStringsForUnprocessedNodes()},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._factory=null,this._directedEdges=new d.default,this._coordinates=null;var t=arguments[0];this._factory=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(19),s=i(o),a=n(0),u=i(a),l=n(20),f=i(l),c=n(1),d=i(c);(0,u.default)(r.prototype,{getCoordinates:function(){if(null===this._coordinates){for(var t=0,e=0,n=new s.default,i=this._directedEdges.iterator();i.hasNext();){var r=i.next();r.getEdgeDirection()?t++:e++,n.add(r.getEdge().getLine().getCoordinates(),!1,r.getEdgeDirection())}this._coordinates=n.toCoordinateArray(),e>t&&f.default.reverse(this._coordinates)}return this._coordinates},toLineString:function(){return this._factory.createLineString(this.getCoordinates())},add:function(t){this._directedEdges.add(t)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){v.default.apply(this)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(389),s=i(o),a=n(95),u=i(a),l=n(0),f=i(l),c=n(20),d=i(c),h=n(391),_=i(h),p=n(3),g=i(p),m=n(187),v=i(m);(0,g.default)(r,v.default),(0,f.default)(r.prototype,{addEdge:function(t){if(t.isEmpty())return null;var e=d.default.removeRepeatedPoints(t.getCoordinates());if(e.length<=1)return null;var n=e[0],i=e[e.length-1],r=this.getNode(n),o=this.getNode(i),a=new s.default(r,o,e[1],!0),u=new s.default(o,r,e[e.length-2],!1),l=new _.default(t);l.setDirectedEdges(a,u),this.add(l)},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new u.default(t),this.add(e)),e},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];u.default.call(this,t,e,n,i)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(78),u=i(a),l=n(4),f=i(l);(0,i(n(3)).default)(r,u.default),(0,s.default)(r.prototype,{getNext:function(){return 2!==this.getToNode().getDegree()?null:this.getToNode().getOutEdges().getEdges().get(0)===this.getSym()?this.getToNode().getOutEdges().getEdges().get(1):(f.default.isTrue(this.getToNode().getOutEdges().getEdges().get(1)===this.getSym()),this.getToNode().getOutEdges().getEdges().get(0))},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._outEdges=new d.default,this._sorted=!1}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(39),u=i(a),l=n(78),f=i(l),c=n(1),d=i(c),h=n(96),_=i(h);(0,s.default)(r.prototype,{getNextEdge:function(t){var e=this.getIndex(t);return this._outEdges.get(this.getIndex(e+1))},getCoordinate:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},iterator:function(){return this.sortEdges(),this._outEdges.iterator()},sortEdges:function(){this._sorted||(u.default.sort(this._outEdges),this._sorted=!0)},remove:function(t){this._outEdges.remove(t)},getEdges:function(){return this.sortEdges(),this._outEdges},getNextCWEdge:function(t){var e=this.getIndex(t);return this._outEdges.get(this.getIndex(e-1))},getIndex:function(){if(arguments[0]instanceof _.default){var t=arguments[0];this.sortEdges();for(var e=0;e<this._outEdges.size();e++){var n=this._outEdges.get(e);if(n.getEdge()===t)return e}return-1}if(arguments[0]instanceof f.default){var i=arguments[0];this.sortEdges();for(var e=0;e<this._outEdges.size();e++){var n=this._outEdges.get(e);if(n===i)return e}return-1}if(Number.isInteger(arguments[0])){var r=arguments[0],o=r%this._outEdges.size();return o<0&&(o+=this._outEdges.size()),o}},add:function(t){this._outEdges.add(t),this._sorted=!1},getDegree:function(){return this._outEdges.size()},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){u.default.apply(this),this._line=null;var t=arguments[0];this._line=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(96),u=i(a);(0,i(n(3)).default)(r,u.default),(0,s.default)(r.prototype,{getLine:function(){return this._line},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._nodeMap=new u.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(38),u=i(a);(0,s.default)(r.prototype,{find:function(t){return this._nodeMap.get(t)},iterator:function(){return this._nodeMap.values().iterator()},remove:function(t){return this._nodeMap.remove(t)},values:function(){return this._nodeMap.values()},add:function(t){return this._nodeMap.put(t.getCoordinate(),t),t},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverlayOp=void 0;var i=n(45),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.OverlayOp=r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Polygonizer=void 0;var i=n(395),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.Polygonizer=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._lineStringAdder=new o(this),this._graph=null,this._dangles=new I.default,this._cutEdges=new I.default,this._invalidRingLines=new I.default,this._holeList=null,this._shellList=null,this._polyList=null,this._isCheckingRingsValid=!0,this._extractOnlyPolygonal=null,this._geomFactory=null,0===arguments.length)r.call(this,!1);else if(1===arguments.length){var t=arguments[0];this._extractOnlyPolygonal=t}}function o(){this.p=null;var t=arguments[0];this.p=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(10),a=i(s),u=n(13),l=i(u),f=n(396),c=i(f),d=n(6),h=i(d),_=n(16),p=i(_),g=n(25),m=i(g),v=n(0),y=i(v),b=n(39),x=i(b),E=n(188),L=i(E),w=n(34),M=i(w),P=n(1),I=i(P);(0,y.default)(r.prototype,{getGeometry:function(){return null===this._geomFactory&&(this._geomFactory=new p.default),this.polygonize(),this._extractOnlyPolygonal?this._geomFactory.buildGeometry(this._polyList):this._geomFactory.createGeometryCollection(p.default.toGeometryArray(this._polyList))},getInvalidRingLines:function(){return this.polygonize(),this._invalidRingLines},findValidRings:function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isValid()?e.add(r):n.add(r.getLineString())}},polygonize:function(){if(null!==this._polyList)return null;if(this._polyList=new I.default,null===this._graph)return null;this._dangles=this._graph.deleteDangles(),this._cutEdges=this._graph.deleteCutEdges();var t=this._graph.getEdgeRings(),e=new I.default;this._invalidRingLines=new I.default,this._isCheckingRingsValid?this.findValidRings(t,e,this._invalidRingLines):e=t,this.findShellsAndHoles(e),r.assignHolesToShells(this._holeList,this._shellList),x.default.sort(this._shellList,new L.default.EnvelopeComparator);var n=!0;this._extractOnlyPolygonal&&(r.findDisjointShells(this._shellList),n=!1),this._polyList=r.extractPolygons(this._shellList,n)},getDangles:function(){return this.polygonize(),this._dangles},getCutEdges:function(){return this.polygonize(),this._cutEdges},getPolygons:function(){return this.polygonize(),this._polyList},add:function(){if((0,h.default)(arguments[0],m.default))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.add(n)}else if(arguments[0]instanceof a.default){var i=arguments[0];this._geomFactory=i.getFactory(),null===this._graph&&(this._graph=new c.default(this._geomFactory)),this._graph.addEdge(i)}else if(arguments[0]instanceof l.default){var r=arguments[0];r.apply(this._lineStringAdder)}},setCheckRingsValid:function(t){this._isCheckingRingsValid=t},findShellsAndHoles:function(t){this._holeList=new I.default,this._shellList=new I.default;for(var e=t.iterator();e.hasNext();){var n=e.next();n.computeHole(),n.isHole()?this._holeList.add(n):this._shellList.add(n)}},interfaces_:function(){return[]},getClass:function(){return r}}),r.findOuterShells=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getOuterHole();null===i||i.isProcessed()||(n.setIncluded(!0),i.setProcessed(!0))}},r.extractPolygons=function(t,e){for(var n=new I.default,i=t.iterator();i.hasNext();){var r=i.next();(e||r.isIncluded())&&n.add(r.getPolygon())}return n},r.assignHolesToShells=function(t,e){for(var n=t.iterator();n.hasNext();){var i=n.next();r.assignHoleToShell(i,e)}},r.assignHoleToShell=function(t,e){var n=L.default.findEdgeRingContaining(t,e);null!==n&&n.addHole(t)},r.findDisjointShells=function(t){r.findOuterShells(t);var e=null;do{e=!1;for(var n=t.iterator();n.hasNext();){var i=n.next();i.isIncludedSet()||(i.updateIncluded(),i.isIncludedSet()||(e=!0))}}while(e)},(0,y.default)(o.prototype,{filter:function(t){t instanceof a.default&&this.p.add(t)},interfaces_:function(){return[M.default]},getClass:function(){return o}}),r.LineStringAdder=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){C.default.apply(this),this._factory=null;var t=arguments[0];this._factory=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(397),s=i(o),a=n(49),u=i(a),l=n(71),f=i(l),c=n(95),d=i(c),h=n(398),_=i(h),p=n(0),g=i(p),m=n(188),v=i(m),y=n(20),b=i(y),x=n(1),E=i(x),L=n(4),w=i(L),M=n(3),P=i(M),I=n(187),C=i(I);(0,P.default)(r,C.default),(0,g.default)(r.prototype,{findEdgeRing:function(t){var e=new v.default(this._factory);return e.build(t),e},computeDepthParity:function(){if(0===arguments.length)for(;;){return null}else if(1===arguments.length){arguments[0]}},computeNextCWEdges:function(){for(var t=this.nodeIterator();t.hasNext();){var e=t.next();r.computeNextCWEdges(e)}},addEdge:function(t){if(t.isEmpty())return null;var e=b.default.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return null;var n=e[0],i=e[e.length-1],r=this.getNode(n),o=this.getNode(i),a=new s.default(r,o,e[1],!0),u=new s.default(o,r,e[e.length-2],!1),l=new _.default(t);l.setDirectedEdges(a,u),this.add(l)},deleteCutEdges:function(){this.computeNextCWEdges(),r.findLabeledEdgeRings(this._dirEdges);for(var t=new E.default,e=this._dirEdges.iterator();e.hasNext();){var n=e.next();if(!n.isMarked()){var i=n.getSym();if(n.getLabel()===i.getLabel()){n.setMarked(!0),i.setMarked(!0);var o=n.getEdge();t.add(o.getLine())}}}return t},getEdgeRings:function(){this.computeNextCWEdges(),r.label(this._dirEdges,-1);var t=r.findLabeledEdgeRings(this._dirEdges);this.convertMaximalToMinimalEdgeRings(t);for(var e=new E.default,n=this._dirEdges.iterator();n.hasNext();){var i=n.next();if(!i.isMarked()&&!i.isInRing()){var o=this.findEdgeRing(i);e.add(o)}}return e},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new d.default(t),this.add(e)),e},convertMaximalToMinimalEdgeRings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel(),o=r.findIntersectionNodes(n,i);if(null!==o)for(var s=o.iterator();s.hasNext();){var a=s.next();r.computeNextCCWEdges(a,i)}}},deleteDangles:function(){for(var t=this.findNodesOfDegree(1),e=new u.default,n=new f.default,i=t.iterator();i.hasNext();)n.push(i.next());for(;!n.isEmpty();){var o=n.pop();r.deleteAllEdges(o);for(var s=o.getOutEdges().getEdges(),i=s.iterator();i.hasNext();){var a=i.next();a.setMarked(!0);var l=a.getSym();null!==l&&l.setMarked(!0);var c=a.getEdge();e.add(c.getLine());var d=a.getToNode();1===r.getDegreeNonDeleted(d)&&n.push(d)}}return e},interfaces_:function(){return[]},getClass:function(){return r}}),r.findLabeledEdgeRings=function(t){for(var e=new E.default,n=1,i=t.iterator();i.hasNext();){var o=i.next();if(!o.isMarked()&&!(o.getLabel()>=0)){e.add(o);var s=v.default.findDirEdgesInRing(o);r.label(s,n),n++}}return e},r.getDegreeNonDeleted=function(t){for(var e=t.getOutEdges().getEdges(),n=0,i=e.iterator();i.hasNext();){i.next().isMarked()||n++}return n},r.deleteAllEdges=function(t){for(var e=t.getOutEdges().getEdges(),n=e.iterator();n.hasNext();){var i=n.next();i.setMarked(!0);var r=i.getSym();null!==r&&r.setMarked(!0)}},r.label=function(t,e){for(var n=t.iterator();n.hasNext();){n.next().setLabel(e)}},r.computeNextCWEdges=function(t){for(var e=t.getOutEdges(),n=null,i=null,r=e.getEdges().iterator();r.hasNext();){var o=r.next();if(!o.isMarked()){if(null===n&&(n=o),null!==i){var s=i.getSym();s.setNext(o)}i=o}}if(null!==i){var s=i.getSym();s.setNext(n)}},r.computeNextCCWEdges=function(t,e){for(var n=t.getOutEdges(),i=null,r=null,o=n.getEdges(),s=o.size()-1;s>=0;s--){var a=o.get(s),u=a.getSym(),l=null;a.getLabel()===e&&(l=a);var f=null;u.getLabel()===e&&(f=u),null===l&&null===f||(null!==f&&(r=f),null!==l&&(null!==r&&(r.setNext(l),r=null),null===i&&(i=l)))}null!==r&&(w.default.isTrue(null!==i),r.setNext(i))},r.getDegree=function(t,e){for(var n=t.getOutEdges().getEdges(),i=0,r=n.iterator();r.hasNext();){r.next().getLabel()===e&&i++}return i},r.findIntersectionNodes=function(t,e){var n=t,i=null;do{var o=n.getFromNode();r.getDegree(o,e)>1&&(null===i&&(i=new E.default),i.add(o)),n=n.getNext(),w.default.isTrue(null!==n,"found null DE in ring"),w.default.isTrue(n===t||!n.isInRing(),"found DE already in ring")}while(n!==t);return i}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._edgeRing=null,this._next=null,this._label=-1;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];u.default.call(this,t,e,n,i)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(78),u=i(a);(0,i(n(3)).default)(r,u.default),(0,s.default)(r.prototype,{getNext:function(){return this._next},isInRing:function(){return null!==this._edgeRing},setRing:function(t){this._edgeRing=t},setLabel:function(t){this._label=t},getLabel:function(){return this._label},setNext:function(t){this._next=t},getRing:function(){return this._edgeRing},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){u.default.apply(this),this._line=null;var t=arguments[0];this._line=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(96),u=i(a);(0,i(n(3)).default)(r,u.default),(0,s.default)(r.prototype,{getLine:function(){return this._line},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._geometryFactory=new u.default,this._geomGraph=null,this._disconnectedRingcoord=null;var t=arguments[0];this._geomGraph=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(11),s=i(o),a=n(16),u=i(a),l=n(18),f=i(l),c=n(17),d=i(c),h=n(0),_=i(h),p=n(33),g=i(p),m=n(164),v=i(m),y=n(118),b=i(y),x=n(1),E=i(x),L=n(4),w=i(L),M=n(74),P=i(M);(0,_.default)(r.prototype,{visitInteriorRing:function(t,e){var n=t.getCoordinates(),i=n[0],o=r.findDifferentPoint(n,i),a=e.findEdgeInSameDirection(i,o),u=e.findEdgeEnd(a),l=null;u.getLabel().getLocation(0,f.default.RIGHT)===s.default.INTERIOR?l=u:u.getSym().getLabel().getLocation(0,f.default.RIGHT)===s.default.INTERIOR&&(l=u.getSym()),w.default.isTrue(null!==l,"unable to find dirEdge with Interior on RHS"),this.visitLinkedDirectedEdges(l)},visitShellInteriors:function(t,e){if(t instanceof d.default){var n=t;this.visitInteriorRing(n.getExteriorRing(),e)}if(t instanceof g.default)for(var i=t,r=0;r<i.getNumGeometries();r++){var n=i.getGeometryN(r);this.visitInteriorRing(n.getExteriorRing(),e)}},getCoordinate:function(){return this._disconnectedRingcoord},setInteriorEdgesInResult:function(t){for(var e=t.getEdgeEnds().iterator();e.hasNext();){var n=e.next();n.getLabel().getLocation(0,f.default.RIGHT)===s.default.INTERIOR&&n.setInResult(!0)}},visitLinkedDirectedEdges:function(t){var e=t,n=t;do{w.default.isTrue(null!==n,"found null Directed Edge"),n.setVisited(!0),n=n.getNext()}while(n!==e)},buildEdgeRings:function(t){for(var e=new E.default,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&null===i.getEdgeRing()){var r=new v.default(i,this._geometryFactory);r.linkDirectedEdgesForMinimalEdgeRings();var o=r.buildMinimalRings();e.addAll(o)}}return e},hasUnvisitedShellEdge:function(t){for(var e=0;e<t.size();e++){var n=t.get(e);if(!n.isHole()){var i=n.getEdges(),r=i.get(0);if(r.getLabel().getLocation(0,f.default.RIGHT)===s.default.INTERIOR)for(var o=0;o<i.size();o++)if(r=i.get(o),!r.isVisited())return this._disconnectedRingcoord=r.getCoordinate(),!0}}return!1},isInteriorsConnected:function(){var t=new E.default;this._geomGraph.computeSplitEdges(t);var e=new P.default(new b.default);e.addEdges(t),this.setInteriorEdgesInResult(e),e.linkResultDirectedEdges();var n=this.buildEdgeRings(e.getEdgeEnds());return this.visitShellInteriors(this._geomGraph.getGeometry(),e),!this.hasUnvisitedShellEdge(n)},interfaces_:function(){return[]},getClass:function(){return r}}),r.findDifferentPoint=function(t,e){for(var n=0;n<t.length;n++)if(!t[n].equals(e))return t[n];return null}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._nodes=new d.default(new _.default)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(11),s=i(o),a=n(190),u=i(a),l=n(0),f=i(l),c=n(115),d=i(c),h=n(191),_=i(h);(0,f.default)(r.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._nodes.add(n)}},getNodeIterator:function(){return this._nodes.iterator()},copyNodesAndLabels:function(t,e){for(var n=t.getNodeIterator();n.hasNext();){var i=n.next();this._nodes.addNode(i.getCoordinate()).setLabel(e,i.getLabel().getLocation(e))}},build:function(t){this.computeIntersectionNodes(t,0),this.copyNodesAndLabels(t,0);var e=new u.default,n=e.computeEdgeEnds(t.getEdgeIterator());this.insertEdgeEnds(n)},computeIntersectionNodes:function(t,e){for(var n=t.getEdgeIterator();n.hasNext();)for(var i=n.next(),r=i.getLabel().getLocation(e),o=i.getEdgeIntersectionList().iterator();o.hasNext();){var a=o.next(),u=this._nodes.addNode(a.coord);r===s.default.BOUNDARY?u.setLabelBoundary(e):u.getLabel().isNull(e)&&u.setLabel(e,s.default.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){u.default.apply(this)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(168),u=i(a),l=n(3),f=i(l),c=n(402),d=i(c);(0,f.default)(r,u.default),(0,s.default)(r.prototype,{updateIM:function(t){for(var e=this.iterator();e.hasNext();){e.next().updateIM(t)}},insert:function(t){var e=this._edgeMap.get(t);null===e?(e=new d.default(t),this.insertEdgeEnd(t,e)):e.insert(t)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._edgeEnds=new v.default,1===arguments.length){var t=arguments[0];r.call(this,null,t)}else if(2===arguments.length){var e=(arguments[0],arguments[1]);u.default.call(this,e.getEdge(),e.getCoordinate(),e.getDirectedCoordinate(),new g.default(e.getLabel())),this.insert(e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(11),s=i(o),a=n(116),u=i(a),l=n(18),f=i(l),c=n(0),d=i(c),h=n(76),_=i(h),p=n(29),g=i(p),m=n(1),v=i(m),y=n(90),b=i(y);(0,i(n(3)).default)(r,u.default),(0,d.default)(r.prototype,{insert:function(t){this._edgeEnds.add(t)},print:function(t){t.println("EdgeEndBundle--\x3e Label: "+this._label);for(var e=this.iterator();e.hasNext();)e.next().print(t),t.println()},iterator:function(){return this._edgeEnds.iterator()},getEdgeEnds:function(){return this._edgeEnds},computeLabelOn:function(t,e){for(var n=0,i=!1,r=this.iterator();r.hasNext();){var o=r.next(),a=o.getLabel().getLocation(t);a===s.default.BOUNDARY&&n++,a===s.default.INTERIOR&&(i=!0)}var a=s.default.NONE;i&&(a=s.default.INTERIOR),n>0&&(a=_.default.determineBoundary(e,n)),this._label.setLocation(t,a)},computeLabelSide:function(t,e){for(var n=this.iterator();n.hasNext();){var i=n.next();if(i.getLabel().isArea()){var r=i.getLabel().getLocation(t,e);if(r===s.default.INTERIOR)return this._label.setLocation(t,e,s.default.INTERIOR),null;r===s.default.EXTERIOR&&this._label.setLocation(t,e,s.default.EXTERIOR)}}},getLabel:function(){return this._label},computeLabelSides:function(t){this.computeLabelSide(t,f.default.LEFT),this.computeLabelSide(t,f.default.RIGHT)},updateIM:function(t){b.default.updateIM(this._label,t)},computeLabel:function(t){for(var e=!1,n=this.iterator();n.hasNext();)n.next().getLabel().isArea()&&(e=!0);this._label=e?new g.default(s.default.NONE,s.default.NONE,s.default.NONE):new g.default(s.default.NONE);for(var i=0;i<2;i++)this.computeLabelOn(i,t),e&&this.computeLabelSides(i)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){var t=arguments[0],e=arguments[1];s.default.call(this,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(75),s=i(o),a=n(0),u=i(a);(0,i(n(3)).default)(r,s.default),(0,u.default)(r.prototype,{updateIMFromEdges:function(t){this._edges.updateIM(t)},computeIM:function(t){t.setAtLeastIfValid(this._label.getLocation(0),this._label.getLocation(1),0)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._graph=null,this._rings=new _.default,this._totalEnv=new g.default,this._index=null,this._nestedPt=null;var t=arguments[0];this._graph=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(9),s=i(o),a=n(89),u=i(a),l=n(122),f=i(l),c=n(0),d=i(c),h=n(1),_=i(h),p=n(8),g=i(p);(0,d.default)(r.prototype,{buildIndex:function(){this._index=new u.default;for(var t=0;t<this._rings.size();t++){var e=this._rings.get(t),n=e.getEnvelopeInternal();this._index.insert(n,e)}},getNestedPoint:function(){return this._nestedPt},isNonNested:function(){this.buildIndex();for(var t=0;t<this._rings.size();t++)for(var e=this._rings.get(t),n=e.getCoordinates(),i=this._index.query(e.getEnvelopeInternal()),r=0;r<i.size();r++){var o=i.get(r),a=o.getCoordinates();if(e!==o&&e.getEnvelopeInternal().intersects(o.getEnvelopeInternal())){var u=f.default.findPtNotNode(n,o,this._graph);if(null!==u){var l=s.default.isPointInRing(u,a);if(l)return this._nestedPt=u,!1}}}return!0},add:function(t){this._rings.add(t),this._totalEnv.expandToInclude(t.getEnvelopeInternal())},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(){if(this._errorType=null,this._pt=null,1===arguments.length){var t=arguments[0];i.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._errorType=e,null!==n&&(this._pt=n.copy())}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{getErrorType:function(){return this._errorType},getMessage:function(){return i.errMsg[this._errorType]},getCoordinate:function(){return this._pt},toString:function(){var t="";return null!==this._pt&&(t=" at or near point "+this._pt),this.getMessage()+t},interfaces_:function(){return[]},getClass:function(){return i}}),i.ERROR=0,i.REPEATED_POINT=1,i.HOLE_OUTSIDE_SHELL=2,i.NESTED_HOLES=3,i.DISCONNECTED_INTERIOR=4,i.SELF_INTERSECTION=5,i.RING_SELF_INTERSECTION=6,i.NESTED_SHELLS=7,i.DUPLICATE_RINGS=8,i.TOO_FEW_POINTS=9,i.INVALID_COORDINATE=10,i.RING_NOT_CLOSED=11,i.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RelateOp=void 0;var i=n(407),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.RelateOp=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._relate=null,2===arguments.length){var t=arguments[0],e=arguments[1];g.default.call(this,t,e),this._relate=new f.default(this._arg)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];g.default.call(this,n,i,r),this._relate=new f.default(this._arg)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(13),s=i(o),a=n(6),u=i(a),l=n(408),f=i(l),c=n(67),d=i(c),h=n(0),_=i(h),p=n(119),g=i(p),m=n(409),v=i(m),y=n(3),b=i(y),x=n(410),E=i(x);(0,b.default)(r,g.default),(0,_.default)(r.prototype,{getIntersectionMatrix:function(){return this._relate.computeIM()},interfaces_:function(){return[]},getClass:function(){return r}}),r.covers=function(t,e){return!!t.getEnvelopeInternal().covers(e.getEnvelopeInternal())&&(!!t.isRectangle()||r.relate(t,e).isCovers())},r.intersects=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&(t.isRectangle()?E.default.intersects(t,e):e.isRectangle()?E.default.intersects(e,t):r.relate(t,e).isIntersects())},r.touches=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&r.relate(t,e).isTouches(t.getDimension(),e.getDimension())},r.within=function(t,e){return e.contains(t)},r.coveredBy=function(t,e){return r.covers(e,t)},r.relate=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new r(t,e),i=n.getIntersectionMatrix();return i}if(3===arguments.length){if("string"==typeof arguments[2]&&arguments[0]instanceof s.default&&arguments[1]instanceof s.default){var o=arguments[0],a=arguments[1],l=arguments[2];return r.relateWithCheck(o,a).matches(l)}if((0,u.default)(arguments[2],d.default)&&arguments[0]instanceof s.default&&arguments[1]instanceof s.default){var f=arguments[0],c=arguments[1],h=arguments[2],n=new r(f,c,h),i=n.getIntersectionMatrix();return i}}},r.overlaps=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&r.relate(t,e).isOverlaps(t.getDimension(),e.getDimension())},r.disjoint=function(t,e){return!t.intersects(e)},r.relateWithCheck=function(t,e){return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),r.relate(t,e)},r.crosses=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&r.relate(t,e).isCrosses(t.getDimension(),e.getDimension())},r.contains=function(t,e){return!!t.getEnvelopeInternal().contains(e.getEnvelopeInternal())&&(t.isRectangle()?v.default.contains(t,e):r.relate(t,e).isContains())}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._li=new E.default,this._ptLocator=new s.default,this._arg=null,this._nodes=new g.default(new v.default),this._im=null,this._isolatedEdges=new b.default,this._invalidPoint=null;var t=arguments[0];this._arg=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(72),s=i(o),a=n(11),u=i(a),l=n(156),f=i(l),c=n(190),d=i(c),h=n(0),_=i(h),p=n(115),g=i(p),m=n(191),v=i(m),y=n(1),b=i(y),x=n(23),E=i(x),L=n(4),w=i(L);(0,_.default)(r.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._nodes.add(n)}},computeProperIntersectionIM:function(t,e){var n=this._arg[0].getGeometry().getDimension(),i=this._arg[1].getGeometry().getDimension(),r=t.hasProperIntersection(),o=t.hasProperInteriorIntersection();2===n&&2===i?r&&e.setAtLeast("212101212"):2===n&&1===i?(r&&e.setAtLeast("FFF0FFFF2"),o&&e.setAtLeast("1FFFFF1FF")):1===n&&2===i?(r&&e.setAtLeast("F0FFFFFF2"),o&&e.setAtLeast("1F1FFFFFF")):1===n&&1===i&&o&&e.setAtLeast("0FFFFFFFF")},labelIsolatedEdges:function(t,e){for(var n=this._arg[t].getEdgeIterator();n.hasNext();){var i=n.next();i.isIsolated()&&(this.labelIsolatedEdge(i,e,this._arg[e].getGeometry()),this._isolatedEdges.add(i))}},labelIsolatedEdge:function(t,e,n){if(n.getDimension()>0){var i=this._ptLocator.locate(t.getCoordinate(),n);t.getLabel().setAllLocations(e,i)}else t.getLabel().setAllLocations(e,u.default.EXTERIOR)},computeIM:function(){var t=new f.default;if(t.set(u.default.EXTERIOR,u.default.EXTERIOR,2),!this._arg[0].getGeometry().getEnvelopeInternal().intersects(this._arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(t),t;this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1);var e=this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!1);this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(e,t);var n=new d.default,i=n.computeEdgeEnds(this._arg[0].getEdgeIterator());this.insertEdgeEnds(i);var r=n.computeEdgeEnds(this._arg[1].getEdgeIterator());return this.insertEdgeEnds(r),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(t),t},labelNodeEdges:function(){for(var t=this._nodes.iterator();t.hasNext();){t.next().getEdges().computeLabelling(this._arg)}},copyNodesAndLabels:function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._nodes.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},labelIntersectionNodes:function(t){for(var e=this._arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next(),s=this._nodes.find(o.coord);s.getLabel().isNull(t)&&(i===u.default.BOUNDARY?s.setLabelBoundary(t):s.setLabel(t,u.default.INTERIOR))}},labelIsolatedNode:function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setAllLocations(e,n)},computeIntersectionNodes:function(t){for(var e=this._arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next(),s=this._nodes.addNode(o.coord);i===u.default.BOUNDARY?s.setLabelBoundary(t):s.getLabel().isNull(t)&&s.setLabel(t,u.default.INTERIOR)}},labelIsolatedNodes:function(){for(var t=this._nodes.iterator();t.hasNext();){var e=t.next(),n=e.getLabel();w.default.isTrue(n.getGeometryCount()>0,"node with empty label found"),e.isIsolated()&&(n.isNull(0)?this.labelIsolatedNode(e,0):this.labelIsolatedNode(e,1))}},updateIM:function(t){for(var e=this._isolatedEdges.iterator();e.hasNext();){e.next().updateIM(t)}for(var n=this._nodes.iterator();n.hasNext();){var i=n.next();i.updateIM(t),i.updateIMFromEdges(t)}},computeDisjointIM:function(t){var e=this._arg[0].getGeometry();e.isEmpty()||(t.set(u.default.INTERIOR,u.default.EXTERIOR,e.getDimension()),t.set(u.default.BOUNDARY,u.default.EXTERIOR,e.getBoundaryDimension()));var n=this._arg[1].getGeometry();n.isEmpty()||(t.set(u.default.EXTERIOR,u.default.INTERIOR,n.getDimension()),t.set(u.default.EXTERIOR,u.default.BOUNDARY,n.getBoundaryDimension()))},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._rectEnv=null;var t=arguments[0];this._rectEnv=t.getEnvelopeInternal()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(10),s=i(o),a=n(2),u=i(a),l=n(26),f=i(l),c=n(17),d=i(c);(0,i(n(0)).default)(r.prototype,{isContainedInBoundary:function(t){if(t instanceof d.default)return!1;if(t instanceof f.default)return this.isPointContainedInBoundary(t);if(t instanceof s.default)return this.isLineStringContainedInBoundary(t);for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.isContainedInBoundary(n))return!1}return!0},isLineSegmentContainedInBoundary:function(t,e){if(t.equals(e))return this.isPointContainedInBoundary(t);if(t.x===e.x){if(t.x===this._rectEnv.getMinX()||t.x===this._rectEnv.getMaxX())return!0}else if(t.y===e.y&&(t.y===this._rectEnv.getMinY()||t.y===this._rectEnv.getMaxY()))return!0;return!1},isLineStringContainedInBoundary:function(t){for(var e=t.getCoordinateSequence(),n=new u.default,i=new u.default,r=0;r<e.size()-1;r++)if(e.getCoordinate(r,n),e.getCoordinate(r+1,i),!this.isLineSegmentContainedInBoundary(n,i))return!1;return!0},isPointContainedInBoundary:function(){if(arguments[0]instanceof f.default){var t=arguments[0];return this.isPointContainedInBoundary(t.getCoordinate())}if(arguments[0]instanceof u.default){var e=arguments[0];return e.x===this._rectEnv.getMinX()||e.x===this._rectEnv.getMaxX()||e.y===this._rectEnv.getMinY()||e.y===this._rectEnv.getMaxY()}},contains:function(t){return!!this._rectEnv.contains(t.getEnvelopeInternal())&&!this.isContainedInBoundary(t)},interfaces_:function(){return[]},getClass:function(){return r}}),r.contains=function(t,e){return new r(t).contains(e)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._rectangle=null,this._rectEnv=null;var t=arguments[0];this._rectangle=t,this._rectEnv=t.getEnvelopeInternal()}function o(){m.default.apply(this),this._rectEnv=null,this._intersects=!1;var t=arguments[0];this._rectEnv=t}function s(){m.default.apply(this),this._rectSeq=null,this._rectEnv=null,this._containsPoint=!1;var t=arguments[0];this._rectSeq=t.getExteriorRing().getCoordinateSequence(),this._rectEnv=t.getEnvelopeInternal()}function a(){m.default.apply(this),this._rectEnv=null,this._rectIntersector=null,this._hasIntersection=!1,this._p0=new l.default,this._p1=new l.default;var t=arguments[0];this._rectEnv=t.getEnvelopeInternal(),this._rectIntersector=new h.default(this._rectEnv)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var u=n(2),l=i(u),f=n(17),c=i(f),d=n(411),h=i(d),_=n(0),p=i(_),g=n(412),m=i(g),v=n(169),y=i(v),b=n(77),x=i(b),E=n(3),L=i(E);(0,p.default)(r.prototype,{intersects:function(t){if(!this._rectEnv.intersects(t.getEnvelopeInternal()))return!1;var e=new o(this._rectEnv);if(e.applyTo(t),e.intersects())return!0;var n=new s(this._rectangle);if(n.applyTo(t),n.containsPoint())return!0;var i=new a(this._rectangle);return i.applyTo(t),!!i.intersects()},interfaces_:function(){return[]},getClass:function(){return r}}),r.intersects=function(t,e){return new r(t).intersects(e)},(0,L.default)(o,m.default),(0,p.default)(o.prototype,{isDone:function(){return!0===this._intersects},visit:function(t){var e=t.getEnvelopeInternal();return this._rectEnv.intersects(e)?this._rectEnv.contains(e)?(this._intersects=!0,null):e.getMinX()>=this._rectEnv.getMinX()&&e.getMaxX()<=this._rectEnv.getMaxX()?(this._intersects=!0,null):e.getMinY()>=this._rectEnv.getMinY()&&e.getMaxY()<=this._rectEnv.getMaxY()?(this._intersects=!0,null):void 0:null},intersects:function(){return this._intersects},interfaces_:function(){return[]},getClass:function(){return o}}),(0,L.default)(s,m.default),(0,p.default)(s.prototype,{isDone:function(){return!0===this._containsPoint},visit:function(t){if(!(t instanceof c.default))return null;var e=t.getEnvelopeInternal();if(!this._rectEnv.intersects(e))return null;for(var n=new l.default,i=0;i<4;i++)if(this._rectSeq.getCoordinate(i,n),e.contains(n)&&y.default.containsPointInPolygon(n,t))return this._containsPoint=!0,null},containsPoint:function(){return this._containsPoint},interfaces_:function(){return[]},getClass:function(){return s}}),(0,L.default)(a,m.default),(0,p.default)(a.prototype,{intersects:function(){return this._hasIntersection},isDone:function(){return!0===this._hasIntersection},visit:function(t){var e=t.getEnvelopeInternal();if(!this._rectEnv.intersects(e))return null;var n=x.default.getLines(t);this.checkIntersectionWithLineStrings(n)},checkIntersectionWithLineStrings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();if(this.checkIntersectionWithSegments(n),this._hasIntersection)return null}},checkIntersectionWithSegments:function(t){for(var e=t.getCoordinateSequence(),n=1;n<e.size();n++)if(e.getCoordinate(n-1,this._p0),e.getCoordinate(n,this._p1),this._rectIntersector.intersects(this._p0,this._p1))return this._hasIntersection=!0,null},interfaces_:function(){return[]},getClass:function(){return a}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._li=new f.default,this._rectEnv=null,this._diagUp0=null,this._diagUp1=null,this._diagDown0=null,this._diagDown1=null;var t=arguments[0];this._rectEnv=t,this._diagUp0=new s.default(t.getMinX(),t.getMinY()),this._diagUp1=new s.default(t.getMaxX(),t.getMaxY()),this._diagDown0=new s.default(t.getMinX(),t.getMaxY()),this._diagDown1=new s.default(t.getMaxX(),t.getMinY())}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2),s=i(o),a=n(0),u=i(a),l=n(23),f=i(l),c=n(8),d=i(c);(0,u.default)(r.prototype,{intersects:function(t,e){var n=new d.default(t,e);if(!this._rectEnv.intersects(n))return!1;if(this._rectEnv.intersects(t))return!0;if(this._rectEnv.intersects(e))return!0;if(t.compareTo(e)>0){var i=t;t=e,e=i}var r=!1;return e.y>t.y&&(r=!0),r?this._li.computeIntersection(t,e,this._diagDown0,this._diagDown1):this._li.computeIntersection(t,e,this._diagUp0,this._diagUp1),!!this._li.hasIntersection()},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._isDone=!1}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(14),u=i(a);(0,s.default)(r.prototype,{applyTo:function(t){for(var e=0;e<t.getNumGeometries()&&!this._isDone;e++){var n=t.getGeometryN(e);if(n instanceof u.default)this.applyTo(n);else if(this.visit(n),this.isDone())return this._isDone=!0,null}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(192);Object.defineProperty(e,"CascadedPolygonUnion",{enumerable:!0,get:function(){return i(r).default}});var o=n(193);Object.defineProperty(e,"PointGeometryUnion",{enumerable:!0,get:function(){return i(o).default}});var s=n(414);Object.defineProperty(e,"UnaryUnionOp",{enumerable:!0,get:function(){return i(s).default}});var a=n(416);Object.defineProperty(e,"UnionInteracting",{enumerable:!0,get:function(){return i(a).default}});var u=n(417);Object.defineProperty(e,"UnionOp",{enumerable:!0,get:function(){return i(u).default}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._polygons=new v.default,this._lines=new v.default,this._points=new v.default,this._geomFact=null,1===arguments.length){if((0,f.default)(arguments[0],d.default)){var t=arguments[0];this.extract(t)}else if(arguments[0]instanceof s.default){var e=arguments[0];this.extract(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this._geomFact=i,this.extract(n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(13),s=i(o),a=n(193),u=i(a),l=n(6),f=i(l),c=n(25),d=i(c),h=n(86),_=i(h),p=n(0),g=i(p),m=n(1),v=i(m),y=n(415),b=i(y),x=n(45),E=i(x),L=n(192),w=i(L);(0,g.default)(r.prototype,{unionNoOpt:function(t){var e=this._geomFact.createPoint();return _.default.overlayOp(t,e,E.default.UNION)},unionWithNull:function(t,e){return null===t&&null===e?null:null===e?t:null===t?e:t.union(e)},extract:function(){if((0,f.default)(arguments[0],d.default))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.extract(n)}else if(arguments[0]instanceof s.default){var i=arguments[0];null===this._geomFact&&(this._geomFact=i.getFactory()),b.default.extract(i,s.default.SORTINDEX_POLYGON,this._polygons),b.default.extract(i,s.default.SORTINDEX_LINESTRING,this._lines),b.default.extract(i,s.default.SORTINDEX_POINT,this._points)}},union:function(){if(null===this._geomFact)return null;var t=null;if(this._points.size()>0){var e=this._geomFact.buildGeometry(this._points);t=this.unionNoOpt(e)}var n=null;if(this._lines.size()>0){var i=this._geomFact.buildGeometry(this._lines);n=this.unionNoOpt(i)}var r=null;this._polygons.size()>0&&(r=w.default.union(this._polygons));var o=this.unionWithNull(n,r),s=null;return s=null===t?o:null===o?t:u.default.union(t,o),null===s?this._geomFact.createGeometryCollection():s},interfaces_:function(){return[]},getClass:function(){return r}}),r.union=function(){if(1===arguments.length){if((0,f.default)(arguments[0],d.default)){var t=arguments[0],e=new r(t);return e.union()}if(arguments[0]instanceof s.default){var n=arguments[0],e=new r(n);return e.union()}}else if(2===arguments.length){var i=arguments[0],o=arguments[1],e=new r(i,o);return e.union()}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._sortIndex=-1,this._comps=null;var t=arguments[0],e=arguments[1];this._sortIndex=t,this._comps=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(14),u=i(a),l=n(1),f=i(l),c=n(42),d=i(c);(0,s.default)(r.prototype,{filter:function(t){-1!==this._sortIndex&&t.getSortIndex()!==this._sortIndex||this._comps.add(t)},interfaces_:function(){return[d.default]},getClass:function(){return r}}),r.extract=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return r.extract(t,e,new f.default)}if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];return n.getSortIndex()===i?o.add(n):n instanceof u.default&&n.apply(new r(i,o)),o}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._geomFactory=null,this._g0=null,this._g1=null,this._interacts0=null,this._interacts1=null;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e,this._geomFactory=t.getFactory(),this._interacts0=new Array(t.getNumGeometries()).fill(null),this._interacts1=new Array(e.getNumGeometries()).fill(null)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(123),u=i(a),l=n(24),f=i(l),c=n(1),d=i(c);(0,s.default)(r.prototype,{extractElements:function(t,e,n){for(var i=new d.default,r=0;r<t.getNumGeometries();r++){var o=t.getGeometryN(r);e[r]===n&&i.add(o)}return this._geomFactory.buildGeometry(i)},computeInteracting:function(){if(0===arguments.length)for(var t=0;t<this._g0.getNumGeometries();t++){var e=this._g0.getGeometryN(t);this._interacts0[t]=this.computeInteracting(e)}else if(1===arguments.length){for(var n=arguments[0],i=!1,t=0;t<this._g1.getNumGeometries();t++){var r=this._g1.getGeometryN(t),o=r.getEnvelopeInternal().intersects(n.getEnvelopeInternal());o&&(this._interacts1[t]=!0),o&&(i=!0)}return i}},union:function(){this.computeInteracting();var t=this.extractElements(this._g0,this._interacts0,!0),e=this.extractElements(this._g1,this._interacts1,!0);(t.isEmpty()||e.isEmpty())&&f.default.out.println("found empty!");var n=t.union(e),i=this.extractElements(this._g0,this._interacts0,!1),r=this.extractElements(this._g1,this._interacts1,!1);return u.default.combine(n,i,r)},bufferUnion:function(t,e){return t.getFactory().createGeometryCollection([t,e]).buffer(0)},interfaces_:function(){return[]},getClass:function(){return r}}),r.union=function(t,e){return new r(t,e).union()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(86),s=i(o),a=n(0),u=i(a),l=n(45),f=i(l);(0,u.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return f.default.createEmptyResult(f.default.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),s.default.overlayOp(t,e,f.default.UNION)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ConsistentAreaTester=e.IsValidOp=void 0;var r=n(122),o=i(r),s=n(189),a=i(s);e.IsValidOp=o.default,e.ConsistentAreaTester=a.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeometryPrecisionReducer=void 0;var i=n(420),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.GeometryPrecisionReducer=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._targetPM=null,this._removeCollapsed=!0,this._changePrecisionModel=!1,this._isPointwise=!1;var t=arguments[0];this._targetPM=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(6),s=i(o),a=n(16),u=i(a),l=n(109),f=i(l),c=n(0),d=i(c),h=n(43),_=i(h),p=n(421),g=i(p);(0,d.default)(r.prototype,{fixPolygonalTopology:function(t){var e=t;this._changePrecisionModel||(e=this.changePM(t,this._targetPM));var n=e.buffer(0),i=n;return this._changePrecisionModel||(i=this.changePM(n,t.getPrecisionModel())),i},reducePointwise:function(t){var e=null;if(this._changePrecisionModel){var n=this.createFactory(t.getFactory(),this._targetPM);e=new f.default(n)}else e=new f.default;var i=this._removeCollapsed;return t.getDimension()>=2&&(i=!0),e.edit(t,new g.default(this._targetPM,i))},changePM:function(t,e){return this.createEditor(t.getFactory(),e).edit(t,new f.default.NoOpGeometryOperation)},setRemoveCollapsedComponents:function(t){this._removeCollapsed=t},createFactory:function(t,e){return new u.default(e,t.getSRID(),t.getCoordinateSequenceFactory())},setChangePrecisionModel:function(t){this._changePrecisionModel=t},reduce:function(t){var e=this.reducePointwise(t);return this._isPointwise?e:(0,s.default)(e,_.default)?e.isValid()?e:this.fixPolygonalTopology(e):e},setPointwise:function(t){this._isPointwise=t},createEditor:function(t,e){if(t.getPrecisionModel()===e)return new f.default;var n=this.createFactory(t,e);return new f.default(n)},interfaces_:function(){return[]},getClass:function(){return r}}),r.reduce=function(t,e){return new r(e).reduce(t)},r.reducePointwise=function(t,e){var n=new r(e);return n.setPointwise(!0),n.reduce(t)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){d.default.CoordinateOperation.apply(this),this._targetPM=null,this._removeCollapsed=!0;var t=arguments[0],e=arguments[1];this._targetPM=t,this._removeCollapsed=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(10),s=i(o),a=n(19),u=i(a),l=n(2),f=i(l),c=n(109),d=i(c),h=n(32),_=i(h),p=n(0),g=i(p);(0,i(n(3)).default)(r,d.default.CoordinateOperation),(0,g.default)(r.prototype,{editCoordinates:function(t,e){if(0===t.length)return null;for(var n=new Array(t.length).fill(null),i=0;i<t.length;i++){var r=new f.default(t[i]);this._targetPM.makePrecise(r),n[i]=r}var o=new u.default(n,!1),a=o.toCoordinateArray(),l=0;e instanceof s.default&&(l=2),e instanceof _.default&&(l=4);var c=n;return this._removeCollapsed&&(c=null),a.length<l?c:a},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.TopologyPreservingSimplifier=e.DouglasPeuckerSimplifier=void 0;var r=n(423),o=i(r),s=n(425),a=i(s);e.DouglasPeuckerSimplifier=o.default,e.TopologyPreservingSimplifier=a.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._inputGeom=null,this._distanceTolerance=null,this._isEnsureValidTopology=!0;var t=arguments[0];this._inputGeom=t}function o(){l.default.apply(this),this._isEnsureValidTopology=!0,this._distanceTolerance=null;var t=arguments[0],e=arguments[1];this._isEnsureValidTopology=t,this._distanceTolerance=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(424),a=i(s),u=n(87),l=i(u),f=n(7),c=i(f),d=n(17),h=i(d),_=n(32),p=i(_),g=n(0),m=i(g),v=n(33),y=i(v),b=n(3),x=i(b);(0,m.default)(r.prototype,{setEnsureValid:function(t){this._isEnsureValidTopology=t},getResultGeometry:function(){return this._inputGeom.isEmpty()?this._inputGeom.copy():new o(this._isEnsureValidTopology,this._distanceTolerance).transform(this._inputGeom)},setDistanceTolerance:function(t){if(t<0)throw new c.default("Tolerance must be non-negative");this._distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return r}}),r.simplify=function(t,e){var n=new r(t);return n.setDistanceTolerance(e),n.getResultGeometry()},(0,x.default)(o,l.default),(0,m.default)(o.prototype,{transformPolygon:function(t,e){if(t.isEmpty())return null;var n=l.default.prototype.transformPolygon.call(this,t,e);return e instanceof y.default?n:this.createValidArea(n)},createValidArea:function(t){return this._isEnsureValidTopology?t.buffer(0):t},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),i=null;return i=0===n.length?new Array(0).fill(null):a.default.simplify(n,this._distanceTolerance),this._factory.getCoordinateSequenceFactory().create(i)},transformMultiPolygon:function(t,e){var n=l.default.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformLinearRing:function(t,e){var n=e instanceof h.default,i=l.default.prototype.transformLinearRing.call(this,t,e);return!n||i instanceof p.default?i:null},interfaces_:function(){return[]},getClass:function(){return o}}),r.DPTransformer=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._pts=null,this._usePt=null,this._distanceTolerance=null,this._seg=new d.default;var t=arguments[0];this._pts=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(19),s=i(o),a=n(2),u=i(a),l=n(0),f=i(l),c=n(15),d=i(c);(0,f.default)(r.prototype,{simplifySection:function(t,e){if(t+1===e)return null;this._seg.p0=this._pts[t],this._seg.p1=this._pts[e];for(var n=-1,i=t,r=t+1;r<e;r++){var o=this._seg.distance(this._pts[r]);o>n&&(n=o,i=r)}if(n<=this._distanceTolerance)for(var r=t+1;r<e;r++)this._usePt[r]=!1;else this.simplifySection(t,i),this.simplifySection(i,e)},setDistanceTolerance:function(t){this._distanceTolerance=t},simplify:function(){this._usePt=new Array(this._pts.length).fill(null);for(var t=0;t<this._pts.length;t++)this._usePt[t]=!0;this.simplifySection(0,this._pts.length-1);for(var e=new s.default,t=0;t<this._pts.length;t++)this._usePt[t]&&e.add(new u.default(this._pts[t]));return e.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return r}}),r.simplify=function(t,e){var n=new r(t);return n.setDistanceTolerance(e),n.simplify()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._inputGeom=null,this._lineSimplifier=new _.default,this._linestringMap=null;var t=arguments[0];this._inputGeom=t}function o(){d.default.apply(this),this._linestringMap=null;var t=arguments[0];this._linestringMap=t}function s(){this.tps=null;var t=arguments[0];this.tps=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=n(10),u=i(a),l=n(85),f=i(l),c=n(87),d=i(c),h=n(426),_=i(h),p=n(7),g=i(p),m=n(0),v=i(m),y=n(34),b=i(y),x=n(3),E=i(x),L=n(195),w=i(L);(0,v.default)(r.prototype,{getResultGeometry:function(){return this._inputGeom.isEmpty()?this._inputGeom.copy():(this._linestringMap=new f.default,this._inputGeom.apply(new s(this)),this._lineSimplifier.simplify(this._linestringMap.values()),new o(this._linestringMap).transform(this._inputGeom))},setDistanceTolerance:function(t){if(t<0)throw new g.default("Tolerance must be non-negative");this._lineSimplifier.setDistanceTolerance(t)},interfaces_:function(){return[]},getClass:function(){return r}}),r.simplify=function(t,e){var n=new r(t);return n.setDistanceTolerance(e),n.getResultGeometry()},(0,E.default)(o,d.default),(0,v.default)(o.prototype,{transformCoordinates:function(t,e){if(0===t.size())return null;if(e instanceof u.default){var n=this._linestringMap.get(e);return this.createCoordinateSequence(n.getResultCoordinates())}return d.default.prototype.transformCoordinates.call(this,t,e)},interfaces_:function(){return[]},getClass:function(){return o}}),(0,v.default)(s.prototype,{filter:function(t){if(t instanceof u.default){var e=t;if(e.isEmpty())return null;var n=e.isClosed()?4:2,i=new w.default(e,n);this.tps._linestringMap.put(e,i)}},interfaces_:function(){return[b.default]},getClass:function(){return s}}),r.LineStringTransformer=o,r.LineStringMapBuilderFilter=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._inputIndex=new f.default,this._outputIndex=new f.default,this._distanceTolerance=0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(427),u=i(a),l=n(194),f=i(l);(0,s.default)(r.prototype,{setDistanceTolerance:function(t){this._distanceTolerance=t},simplify:function(t){for(var e=t.iterator();e.hasNext();)this._inputIndex.add(e.next());for(var e=t.iterator();e.hasNext();){var n=new u.default(this._inputIndex,this._outputIndex);n.setDistanceTolerance(this._distanceTolerance),n.simplify(e.next())}},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._li=new d.default,this._inputIndex=new f.default,this._outputIndex=new f.default,this._line=null,this._linePts=null,this._distanceTolerance=0;var t=arguments[0],e=arguments[1];this._inputIndex=t,this._outputIndex=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(15),u=i(a),l=n(194),f=i(l),c=n(23),d=i(c);(0,s.default)(r.prototype,{flatten:function(t,e){var n=this._linePts[t],i=this._linePts[e],r=new u.default(n,i);return this.remove(this._line,t,e),this._outputIndex.add(r),r},hasBadIntersection:function(t,e,n){return!!this.hasBadOutputIntersection(n)||!!this.hasBadInputIntersection(t,e,n)},setDistanceTolerance:function(t){this._distanceTolerance=t},simplifySection:function(t,e,n){n+=1;var i=new Array(2).fill(null);if(t+1===e){var r=this._line.getSegment(t);return this._line.addToResult(r),null}var o=!0;if(this._line.getResultSize()<this._line.getMinimumSize()){n+1<this._line.getMinimumSize()&&(o=!1)}var s=new Array(1).fill(null),a=this.findFurthestPoint(this._linePts,t,e,s);s[0]>this._distanceTolerance&&(o=!1);var l=new u.default;if(l.p0=this._linePts[t],l.p1=this._linePts[e],i[0]=t,i[1]=e,this.hasBadIntersection(this._line,i,l)&&(o=!1),o){var r=this.flatten(t,e);return this._line.addToResult(r),null}this.simplifySection(t,a,n),this.simplifySection(a,e,n)},hasBadOutputIntersection:function(t){for(var e=this._outputIndex.query(t),n=e.iterator();n.hasNext();){var i=n.next();if(this.hasInteriorIntersection(i,t))return!0}return!1},findFurthestPoint:function(t,e,n,i){var r=new u.default;r.p0=t[e],r.p1=t[n];for(var o=-1,s=e,a=e+1;a<n;a++){var l=t[a],f=r.distance(l);f>o&&(o=f,s=a)}return i[0]=o,s},simplify:function(t){this._line=t,this._linePts=t.getParentCoordinates(),this.simplifySection(0,this._linePts.length-1,0)},remove:function(t,e,n){for(var i=e;i<n;i++){var r=t.getSegment(i);this._inputIndex.remove(r)}},hasInteriorIntersection:function(t,e){return this._li.computeIntersection(t.p0,t.p1,e.p0,e.p1),this._li.isInteriorIntersection()},hasBadInputIntersection:function(t,e,n){for(var i=this._inputIndex.query(n),o=i.iterator();o.hasNext();){var s=o.next();if(this.hasInteriorIntersection(s,n)){if(r.isInLineSection(t,e,s))continue;return!0}}return!1},interfaces_:function(){return[]},getClass:function(){return r}}),r.isInLineSection=function(t,e,n){if(n.getParent()!==t.getParent())return!1;var i=n.getIndex();return i>=e[0]&&i<e[1]}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._parent=null,this._index=null,2===arguments.length){var t=arguments[0],e=arguments[1];r.call(this,t,e,null,-1)}else if(4===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3];u.default.call(this,n,i),this._parent=o,this._index=s}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(15),u=i(a);(0,i(n(3)).default)(r,u.default),(0,s.default)(r.prototype,{getIndex:function(){return this._index},getParent:function(){return this._parent},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.quadedge=e.VoronoiDiagramBuilder=e.DelaunayTriangulationBuilder=e.ConformingDelaunayTriangulationBuilder=void 0;var r=n(430),o=i(r),s=n(126),a=i(s),u=n(442),l=i(u),f=n(443),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(f);e.ConformingDelaunayTriangulationBuilder=o.default,e.DelaunayTriangulationBuilder=a.default,e.VoronoiDiagramBuilder=l.default,e.quadedge=c},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._siteCoords=null,this._constraintLines=null,this._tolerance=0,this._subdiv=null,this._constraintVertexMap=new b.default}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(431),s=i(o),a=n(196),u=i(a),l=n(0),f=i(l),c=n(126),d=i(c),h=n(199),_=i(h),p=n(1),g=i(p),m=n(77),v=i(m),y=n(38),b=i(y);(0,f.default)(r.prototype,{createSiteVertices:function(t){for(var e=new g.default,n=t.iterator();n.hasNext();){var i=n.next();this._constraintVertexMap.containsKey(i)||e.add(new u.default(i))}return e},create:function(){if(null!==this._subdiv)return null;var t=d.default.envelope(this._siteCoords),e=new g.default;null!==this._constraintLines&&(t.expandToInclude(this._constraintLines.getEnvelopeInternal()),this.createVertices(this._constraintLines),e=r.createConstraintSegments(this._constraintLines));var n=this.createSiteVertices(this._siteCoords),i=new s.default(n,this._tolerance);i.setConstraints(e,new g.default(this._constraintVertexMap.values())),i.formInitialDelaunay(),i.enforceConstraints(),this._subdiv=i.getSubdivision()},setTolerance:function(t){this._tolerance=t},setConstraints:function(t){this._constraintLines=t},setSites:function(t){this._siteCoords=d.default.extractUniqueCoordinates(t)},getEdges:function(t){return this.create(),this._subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this._subdiv},getTriangles:function(t){return this.create(),this._subdiv.getTriangles(t)},createVertices:function(t){for(var e=t.getCoordinates(),n=0;n<e.length;n++){var i=new u.default(e[n]);this._constraintVertexMap.put(e[n],i)}},interfaces_:function(){return[]},getClass:function(){return r}}),r.createConstraintSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=v.default.getLines(t),n=new g.default,i=e.iterator();i.hasNext();){var o=i.next();r.createConstraintSegments(o,n)}return n}if(2===arguments.length)for(var s=arguments[0],a=arguments[1],u=s.getCoordinates(),i=1;i<u.length;i++)a.add(new _.default(u[i-1],u[i]))}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._initialVertices=null,this._segVertices=null,this._segments=new N.default,this._subdiv=null,this._incDel=null,this._convexHull=null,this._splitFinder=new u.default,this._kdt=null,this._vertexFactory=null,this._computeAreaEnv=null,this._splitPt=null,this._tolerance=null;var t=arguments[0],e=arguments[1];this._initialVertices=new N.default(t),this._tolerance=e,this._kdt=new C.default(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(16),s=i(o),a=n(432),u=i(a),l=n(196),f=i(l),c=n(2),d=i(c),h=n(124),_=i(h),p=n(125),g=i(p),m=n(12),v=i(m),y=n(0),b=i(y),x=n(198),E=i(x),L=n(199),w=i(L),M=n(110),P=i(M),I=n(439),C=i(I),S=n(1),N=i(S),O=n(8),T=i(O);(0,b.default)(r.prototype,{getInitialVertices:function(){return this._initialVertices},getKDT:function(){return this._kdt},enforceConstraints:function(){this.addConstraintVertices();var t=0,e=0;do{e=this.enforceGabriel(this._segments),t++}while(e>0&&t<r.MAX_SPLIT_ITER)},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},getVertexFactory:function(){return this._vertexFactory},getPointArray:function(){for(var t=new Array(this._initialVertices.size()+this._segVertices.size()).fill(null),e=0,n=this._initialVertices.iterator();n.hasNext();){var i=n.next();t[e++]=i.getCoordinate()}for(var r=this._segVertices.iterator();r.hasNext();){var i=r.next();t[e++]=i.getCoordinate()}return t},setConstraints:function(t,e){this._segments=t,this._segVertices=e},computeConvexHull:function(){var t=new s.default,e=this.getPointArray(),n=new P.default(e,t);this._convexHull=n.getConvexHull()},addConstraintVertices:function(){this.computeConvexHull(),this.insertSites(this._segVertices)},findNonGabrielPoint:function(t){var e=t.getStart(),n=t.getEnd(),i=new d.default((e.x+n.x)/2,(e.y+n.y)/2),r=e.distance(i),o=new T.default(i);o.expandBy(r);for(var s=this._kdt.query(o),a=null,u=v.default.MAX_VALUE,l=s.iterator();l.hasNext();){var f=l.next(),c=f.getCoordinate();if(!c.equals2D(e)&&!c.equals2D(n)){var h=i.distance(c);if(h<r){var _=h;(null===a||_<u)&&(a=c,u=_)}}}return a},getConstraintSegments:function(){return this._segments},setSplitPointFinder:function(t){this._splitFinder=t},getConvexHull:function(){return this._convexHull},getTolerance:function(){return this._tolerance},enforceGabriel:function(t){for(var e=new N.default,n=0,i=new N.default,r=t.iterator();r.hasNext();){var o=r.next(),s=this.findNonGabrielPoint(o);if(null!==s){this._splitPt=this._splitFinder.findSplitPoint(o,s);var a=this.createVertex(this._splitPt,o),u=(this.insertSite(a),new w.default(o.getStartX(),o.getStartY(),o.getStartZ(),a.getX(),a.getY(),a.getZ(),o.getData())),l=new w.default(a.getX(),a.getY(),a.getZ(),o.getEndX(),o.getEndY(),o.getEndZ(),o.getData());e.add(u),e.add(l),i.add(o),n+=1}}return t.removeAll(i),t.addAll(e),n},createVertex:function(){if(1===arguments.length){var t=arguments[0],e=null;return e=null!==this._vertexFactory?this._vertexFactory.createVertex(t,null):new f.default(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=null;return e=null!==this._vertexFactory?this._vertexFactory.createVertex(n,i):new f.default(n),e.setOnConstraint(!0),e}},getSubdivision:function(){return this._subdiv},computeBoundingBox:function(){var t=r.computeVertexEnvelope(this._initialVertices),e=r.computeVertexEnvelope(this._segVertices),n=new T.default(t);n.expandToInclude(e);var i=.2*n.getWidth(),o=.2*n.getHeight(),s=Math.max(i,o);this._computeAreaEnv=new T.default(n),this._computeAreaEnv.expandBy(s)},setVertexFactory:function(t){this._vertexFactory=t},formInitialDelaunay:function(){this.computeBoundingBox(),this._subdiv=new g.default(this._computeAreaEnv,this._tolerance),this._subdiv.setLocator(new E.default(this._subdiv)),this._incDel=new _.default(this._subdiv),this.insertSites(this._initialVertices)},insertSite:function(){if(arguments[0]instanceof f.default){var t=arguments[0],e=this._kdt.insert(t.getCoordinate(),t);if(e.isRepeated()){var n=e.getData();return n.merge(t),n}return this._incDel.insertSite(t),t}if(arguments[0]instanceof d.default){var i=arguments[0];this.insertSite(this.createVertex(i))}},interfaces_:function(){return[]},getClass:function(){return r}}),r.computeVertexEnvelope=function(t){for(var e=new T.default,n=t.iterator();n.hasNext();){var i=n.next();e.expandToInclude(i.getCoordinate())}return e},r.MAX_SPLIT_ITER=99},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(433),u=i(a),l=n(434),f=i(l);(0,s.default)(r.prototype,{findSplitPoint:function(t,e){var n=t.getLineSegment(),i=n.getLength(),o=i/2,s=new u.default(n),a=r.projectedSplitPoint(t,e),l=2*a.distance(e)*.8,f=l;return f>o&&(f=o),s.setMinimumLength(f),s.splitAt(a),s.getSplitPoint()},interfaces_:function(){return[f.default]},getClass:function(){return r}}),r.projectedSplitPoint=function(t,e){return t.getLineSegment().project(e)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._seg=null,this._segLen=null,this._splitPt=null,this._minimumLen=0;var t=arguments[0];this._seg=t,this._segLen=t.getLength()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2),s=i(o);(0,i(n(0)).default)(r.prototype,{splitAt:function(){if(1===arguments.length){var t=arguments[0],e=this._minimumLen/this._segLen;if(t.distance(this._seg.p0)<this._minimumLen)return this._splitPt=this._seg.pointAlong(e),null;if(t.distance(this._seg.p1)<this._minimumLen)return this._splitPt=r.pointAlongReverse(this._seg,e),null;this._splitPt=t}else if(2===arguments.length){var n=arguments[0],i=arguments[1],o=this.getConstrainedLength(n),s=o/this._segLen;i.equals2D(this._seg.p0)?this._splitPt=this._seg.pointAlong(s):this._splitPt=r.pointAlongReverse(this._seg,s)}},setMinimumLength:function(t){this._minimumLen=t},getConstrainedLength:function(t){return t<this._minimumLen?this._minimumLen:t},getSplitPoint:function(){return this._splitPt},interfaces_:function(){return[]},getClass:function(){return r}}),r.pointAlongReverse=function(t,e){var n=new s.default;return n.x=t.p1.x-e*(t.p1.x-t.p0.x),n.y=t.p1.y-e*(t.p1.y-t.p0.y),n}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{findSplitPoint:function(t,e){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(30),s=i(o),a=n(70),u=i(a),l=n(0),f=i(l),c=n(147),d=i(c),h=n(24),_=i(h),p=n(92),g=i(p);(0,f.default)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}}),r.triArea=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)},r.isInCircleDDNormalized=function(t,e,n,i){var r=d.default.valueOf(t.x).selfSubtract(i.x),o=d.default.valueOf(t.y).selfSubtract(i.y),s=d.default.valueOf(e.x).selfSubtract(i.x),a=d.default.valueOf(e.y).selfSubtract(i.y),u=d.default.valueOf(n.x).selfSubtract(i.x),l=d.default.valueOf(n.y).selfSubtract(i.y),f=r.multiply(a).selfSubtract(s.multiply(o)),c=s.multiply(l).selfSubtract(u.multiply(a)),h=u.multiply(o).selfSubtract(r.multiply(l)),_=r.multiply(r).selfAdd(o.multiply(o)),p=s.multiply(s).selfAdd(a.multiply(a)),g=u.multiply(u).selfAdd(l.multiply(l));return _.selfMultiply(c).selfAdd(p.selfMultiply(h)).selfAdd(g.selfMultiply(f)).doubleValue()>0},r.checkRobustInCircle=function(t,e,n,i){var o=r.isInCircleNonRobust(t,e,n,i),a=r.isInCircleDDSlow(t,e,n,i),l=r.isInCircleCC(t,e,n,i),f=g.default.circumcentre(t,e,n);_.default.out.println("p radius diff a = "+Math.abs(i.distance(f)-t.distance(f))/t.distance(f)),o===a&&o===l||(_.default.out.println("inCircle robustness failure (double result = "+o+", DD result = "+a+", CC result = "+l+")"),_.default.out.println(s.default.toLineString(new u.default([t,e,n,i]))),_.default.out.println("Circumcentre = "+s.default.toPoint(f)+" radius = "+t.distance(f)),_.default.out.println("p radius diff a = "+Math.abs(i.distance(f)/t.distance(f)-1)),_.default.out.println("p radius diff b = "+Math.abs(i.distance(f)/e.distance(f)-1)),_.default.out.println("p radius diff c = "+Math.abs(i.distance(f)/n.distance(f)-1)),_.default.out.println())},r.isInCircleDDFast=function(t,e,n,i){var o=d.default.sqr(t.x).selfAdd(d.default.sqr(t.y)).selfMultiply(r.triAreaDDFast(e,n,i)),s=d.default.sqr(e.x).selfAdd(d.default.sqr(e.y)).selfMultiply(r.triAreaDDFast(t,n,i)),a=d.default.sqr(n.x).selfAdd(d.default.sqr(n.y)).selfMultiply(r.triAreaDDFast(t,e,i)),u=d.default.sqr(i.x).selfAdd(d.default.sqr(i.y)).selfMultiply(r.triAreaDDFast(t,e,n));return o.selfSubtract(s).selfAdd(a).selfSubtract(u).doubleValue()>0},r.isInCircleCC=function(t,e,n,i){var r=g.default.circumcentre(t,e,n),o=t.distance(r);return i.distance(r)-o<=0},r.isInCircleNormalized=function(t,e,n,i){var r=t.x-i.x,o=t.y-i.y,s=e.x-i.x,a=e.y-i.y,u=n.x-i.x,l=n.y-i.y;return(r*r+o*o)*(s*l-u*a)+(s*s+a*a)*(u*o-r*l)+(u*u+l*l)*(r*a-s*o)>0},r.isInCircleDDSlow=function(t,e,n,i){var o=d.default.valueOf(i.x),s=d.default.valueOf(i.y),a=d.default.valueOf(t.x),u=d.default.valueOf(t.y),l=d.default.valueOf(e.x),f=d.default.valueOf(e.y),c=d.default.valueOf(n.x),h=d.default.valueOf(n.y),_=a.multiply(a).add(u.multiply(u)).multiply(r.triAreaDDSlow(l,f,c,h,o,s)),p=l.multiply(l).add(f.multiply(f)).multiply(r.triAreaDDSlow(a,u,c,h,o,s)),g=c.multiply(c).add(h.multiply(h)).multiply(r.triAreaDDSlow(a,u,l,f,o,s)),m=o.multiply(o).add(s.multiply(s)).multiply(r.triAreaDDSlow(a,u,l,f,c,h));return _.subtract(p).add(g).subtract(m).doubleValue()>0},r.isInCircleNonRobust=function(t,e,n,i){return(t.x*t.x+t.y*t.y)*r.triArea(e,n,i)-(e.x*e.x+e.y*e.y)*r.triArea(t,n,i)+(n.x*n.x+n.y*n.y)*r.triArea(t,e,i)-(i.x*i.x+i.y*i.y)*r.triArea(t,e,n)>0},r.isInCircleRobust=function(t,e,n,i){return r.isInCircleNormalized(t,e,n,i)},r.triAreaDDSlow=function(t,e,n,i,r,o){return n.subtract(t).multiply(o.subtract(e)).subtract(i.subtract(e).multiply(r.subtract(t)))},r.triAreaDDFast=function(t,e,n){var i=d.default.valueOf(e.x).selfSubtract(t.x).selfMultiply(d.default.valueOf(n.y).selfSubtract(t.y)),r=d.default.valueOf(e.y).selfSubtract(t.y).selfMultiply(d.default.valueOf(n.x).selfSubtract(t.x));return i.selfSubtract(r)}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._seg=null,1===arguments.length){if("string"==typeof arguments[0]){var t=arguments[0];f.default.call(this,t)}else if(arguments[0]instanceof u.default){var e=arguments[0];f.default.call(this,"Locate failed to converge (at edge: "+e+").  Possible causes include invalid Subdivision topology or very close sites"),this._seg=new u.default(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];f.default.call(this,r.msgWithSpatial(n,i)),this._seg=new u.default(i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(0),s=i(o),a=n(15),u=i(a),l=n(48),f=i(l);(0,i(n(3)).default)(r,f.default),(0,s.default)(r.prototype,{getSegment:function(){return this._seg},interfaces_:function(){return[]},getClass:function(){return r}}),r.msgWithSpatial=function(t,e){return null!==e?t+" [ "+e+" ]":t}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._root=null,this._numberOfNodes=null,this._tolerance=null,0===arguments.length)r.call(this,0);else if(1===arguments.length){var t=arguments[0];this._tolerance=t}}function o(){this._tolerance=null,this._matchNode=null,this._matchDist=0,this._p=null;var t=arguments[0],e=arguments[1];this._p=t,this._tolerance=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s=n(19),a=i(s),u=n(6),l=i(u),f=n(0),c=i(f),d=n(1),h=i(d),_=n(440),p=i(_),g=n(8),m=i(g),v=n(36),y=i(v),b=n(441),x=i(b);(0,c.default)(r.prototype,{insert:function(){if(1===arguments.length){var t=arguments[0];return this.insert(t,null)}if(2===arguments.length){var e=arguments[0],n=arguments[1];if(null===this._root)return this._root=new x.default(e,n),this._root;if(this._tolerance>0){var i=this.findBestMatchNode(e);if(null!==i)return i.increment(),i}return this.insertExact(e,n)}},query:function(){if(1===arguments.length){var t=arguments[0],e=new h.default;return this.query(t,e),e}if(2===arguments.length)if(arguments[0]instanceof m.default&&(0,l.default)(arguments[1],y.default)){var n=arguments[0],i=arguments[1];this.queryNode(this._root,n,!0,{interfaces_:function(){return[p.default]},visit:function(t){i.add(t)}})}else if(arguments[0]instanceof m.default&&(0,l.default)(arguments[1],p.default)){var r=arguments[0],o=arguments[1];this.queryNode(this._root,r,!0,o)}},queryNode:function(t,e,n,i){if(null===t)return null;var r=null,o=null,s=null;n?(r=e.getMinX(),o=e.getMaxX(),s=t.getX()):(r=e.getMinY(),o=e.getMaxY(),s=t.getY());var a=r<s,u=s<=o;a&&this.queryNode(t.getLeft(),e,!n,i),e.contains(t.getCoordinate())&&i.visit(t),u&&this.queryNode(t.getRight(),e,!n,i)},findBestMatchNode:function(t){var e=new o(t,this._tolerance);return this.query(e.queryEnvelope(),e),e.getNode()},isEmpty:function(){return null===this._root},insertExact:function(t,e){for(var n=this._root,i=this._root,r=!0,o=!0;null!==n;){if(null!==n){if(t.distance(n.getCoordinate())<=this._tolerance)return n.increment(),n}o=r?t.x<n.getX():t.y<n.getY(),i=n,n=o?n.getLeft():n.getRight(),r=!r}this._numberOfNodes=this._numberOfNodes+1;var s=new x.default(t,e);return o?i.setLeft(s):i.setRight(s),s},interfaces_:function(){return[]},getClass:function(){return r}}),r.toCoordinates=function(){if(1===arguments.length){var t=arguments[0];return r.toCoordinates(t,!1)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=new a.default,o=e.iterator();o.hasNext();)for(var s=o.next(),u=n?s.getCount():1,l=0;l<u;l++)i.add(s.getCoordinate(),!0);return i.toCoordinateArray()}},(0,c.default)(o.prototype,{visit:function(t){var e=this._p.distance(t.getCoordinate());if(!(e<=this._tolerance))return null;var n=!1;(null===this._matchNode||e<this._matchDist||null!==this._matchNode&&e===this._matchDist&&t.getCoordinate().compareTo(this._matchNode.getCoordinate())<1)&&(n=!0),n&&(this._matchNode=t,this._matchDist=e)},queryEnvelope:function(){var t=new m.default(this._p);return t.expandBy(this._tolerance),t},getNode:function(){return this._matchNode},interfaces_:function(){return[p.default]},getClass:function(){return o}}),r.BestMatchVisitor=o},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0);(0,function(t){return t&&t.__esModule?t:{default:t}}(r).default)(i.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return i}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){if(this._p=null,this._data=null,this._left=null,this._right=null,this._count=null,2===arguments.length){var t=arguments[0],e=arguments[1];this._p=new s.default(t),this._left=null,this._right=null,this._count=1,this._data=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._p=new s.default(n,i),this._left=null,this._right=null,this._count=1,this._data=r}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2),s=i(o);(0,i(n(0)).default)(r.prototype,{isRepeated:function(){return this._count>1},getRight:function(){return this._right},getCoordinate:function(){return this._p},setLeft:function(t){this._left=t},getX:function(){return this._p.x},getData:function(){return this._data},getCount:function(){return this._count},getLeft:function(){return this._left},getY:function(){return this._p.y},increment:function(){this._count=this._count+1},setRight:function(t){this._right=t},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._siteCoords=null,this._tolerance=0,this._subdiv=null,this._clipEnv=null,this._diagramEnv=null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(13),s=i(o),a=n(6),u=i(a),l=n(16),f=i(l),c=n(25),d=i(c),h=n(124),_=i(h),p=n(125),g=i(p),m=n(0),v=i(m),y=n(126),b=i(y),x=n(20),E=i(x),L=n(1),w=i(L);(0,v.default)(r.prototype,{create:function(){if(null!==this._subdiv)return null;var t=b.default.envelope(this._siteCoords);this._diagramEnv=t;var e=Math.max(this._diagramEnv.getWidth(),this._diagramEnv.getHeight());this._diagramEnv.expandBy(e),null!==this._clipEnv&&this._diagramEnv.expandToInclude(this._clipEnv);var n=b.default.toVertices(this._siteCoords);this._subdiv=new g.default(t,this._tolerance),new _.default(this._subdiv).insertSites(n)},getDiagram:function(t){this.create();var e=this._subdiv.getVoronoiDiagram(t);return r.clipGeometryCollection(e,this._diagramEnv)},setTolerance:function(t){this._tolerance=t},setSites:function(){if(arguments[0]instanceof s.default){var t=arguments[0];this._siteCoords=b.default.extractUniqueCoordinates(t)}else if((0,u.default)(arguments[0],d.default)){var e=arguments[0];this._siteCoords=b.default.unique(E.default.toCoordinateArray(e))}},setClipEnvelope:function(t){this._clipEnv=t},getSubdivision:function(){return this.create(),this._subdiv},interfaces_:function(){return[]},getClass:function(){return r}}),r.clipGeometryCollection=function(t,e){for(var n=t.getFactory().toGeometry(e),i=new w.default,r=0;r<t.getNumGeometries();r++){var o=t.getGeometryN(r),s=null;e.contains(o.getEnvelopeInternal())?s=o:e.intersects(o.getEnvelopeInternal())&&(s=n.intersection(o),s.setUserData(o.getUserData())),null===s||s.isEmpty()||i.add(s)}return t.getFactory().createGeometryCollection(f.default.toGeometryArray(i))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Vertex=void 0;var i=n(97),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.Vertex=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.LocationIndexedLine=e.LinearLocation=e.LinearIterator=e.LinearGeometryBuilder=e.LengthLocationMap=e.LengthIndexedLine=void 0;var r=n(445),o=i(r),s=n(205),a=i(s),u=n(204),l=i(u),f=n(79),c=i(f),d=n(98),h=i(d),_=n(200),p=i(_);e.LengthIndexedLine=o.default,e.LengthLocationMap=a.default,e.LinearGeometryBuilder=l.default,e.LinearIterator=c.default,e.LinearLocation=h.default,e.LocationIndexedLine=p.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(200),s=i(o),a=n(0),u=i(a),l=n(446),f=i(l),c=n(202),d=i(c),h=n(205),_=i(h),p=n(203),g=i(p);(0,u.default)(r.prototype,{clampIndex:function(t){var e=this.positiveIndex(t),n=this.getStartIndex();if(e<n)return n;var i=this.getEndIndex();return e>i?i:e},locationOf:function(){if(1===arguments.length){var t=arguments[0];return _.default.getLocation(this._linearGeom,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return _.default.getLocation(this._linearGeom,e,n)}},project:function(t){return f.default.indexOf(this._linearGeom,t)},positiveIndex:function(t){return t>=0?t:this._linearGeom.getLength()+t},extractPoint:function(){if(1===arguments.length){var t=arguments[0],e=_.default.getLocation(this._linearGeom,t);return e.getCoordinate(this._linearGeom)}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=_.default.getLocation(this._linearGeom,n),r=e.toLowest(this._linearGeom);return r.getSegment(this._linearGeom).pointAlongOffset(r.getSegmentFraction(),i)}},isValidIndex:function(t){return t>=this.getStartIndex()&&t<=this.getEndIndex()},getEndIndex:function(){return this._linearGeom.getLength()},getStartIndex:function(){return 0},indexOfAfter:function(t,e){return f.default.indexOfAfter(this._linearGeom,t,e)},extractLine:function(t,e){var n=(new s.default(this._linearGeom),this.clampIndex(t)),i=this.clampIndex(e),r=n===i,o=this.locationOf(n,r),a=this.locationOf(i);return g.default.extract(this._linearGeom,o,a)},indexOf:function(t){return f.default.indexOf(this._linearGeom,t)},indicesOf:function(t){var e=d.default.indicesOf(this._linearGeom,t);return[_.default.getLength(this._linearGeom,e[0]),_.default.getLength(this._linearGeom,e[1])]},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(79),s=i(o),a=n(12),u=i(a),l=n(0),f=i(l),c=n(15),d=i(c),h=n(4),_=i(h);(0,f.default)(r.prototype,{indexOf:function(t){return this.indexOfFromStart(t,-1)},indexOfFromStart:function(t,e){for(var n=u.default.MAX_VALUE,i=e,r=0,o=new d.default,a=new s.default(this._linearGeom);a.hasNext();){if(!a.isEndOfLine()){o.p0=a.getSegmentStart(),o.p1=a.getSegmentEnd();var l=o.distance(t),f=this.segmentNearestMeasure(o,t,r);l<n&&f>e&&(i=f,n=l),r+=o.getLength()}a.next()}return i},indexOfAfter:function(t,e){if(e<0)return this.indexOf(t);var n=this._linearGeom.getLength();if(n<e)return n;var i=this.indexOfFromStart(t,e);return _.default.isTrue(i>=e,"computed index is before specified minimum index"),i},segmentNearestMeasure:function(t,e,n){var i=t.projectionFactor(e);return i<=0?n:i<=1?n+i*t.getLength():n+t.getLength()},interfaces_:function(){return[]},getClass:function(){return r}}),r.indexOf=function(t,e){return new r(t).indexOf(e)},r.indexOfAfter=function(t,e,n){return new r(t).indexOfAfter(e,n)}},function(t,e,n){"use strict";function i(t,e){return o(t,"mercator",e)}function r(t,e){return o(t,"wgs84",e)}function o(t,e,n){if(n=n||{},!(0,f.isObject)(n))throw new Error("options is invalid");var i=n.mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&(0,f.isNumber)(t[0])?t="mercator"===e?s(t):a(t):(!0!==i&&(t=(0,d.default)(t)),(0,l.coordEach)(t,function(t){var n="mercator"===e?s(t):a(t);t[0]=n[0],t[1]=n[1]})),t}function s(t){var e=Math.PI/180,n=6378137,i=20037508.342789244,r=Math.abs(t[0])<=180?t[0]:t[0]-360*u(t[0]),o=[n*r*e,n*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return o[0]>i&&(o[0]=i),o[0]<-i&&(o[0]=-i),o[1]>i&&(o[1]=i),o[1]<-i&&(o[1]=-i),o}function a(t){var e=180/Math.PI,n=6378137;return[t[0]*e/n,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/n)))*e]}function u(t){return t<0?-1:t>0?1:0}Object.defineProperty(e,"__esModule",{value:!0}),e.toMercator=i,e.toWgs84=r;var l=n(62),f=n(28),c=n(448),d=function(t){return t&&t.__esModule?t:{default:t}}(c)},function(t,e,n){"use strict";function i(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return r(t);case"FeatureCollection":return s(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return a(t);default:throw new Error("unknown GeoJSON type")}}function r(t){var e={type:"Feature"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}}),e.properties=o(t.properties),e.geometry=a(t.geometry),e}function o(t){var e={};return t?(Object.keys(t).forEach(function(n){var i=t[n];"object"===(void 0===i?"undefined":l(i))?(i.length&&(e[n]=i.map(function(t){return t})),e[n]=o(i)):e[n]=i}),e):e}function s(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}}),e.features=t.features.map(function(t){return r(t)}),e}function a(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map(function(t){return a(t)}),e):(e.coordinates=u(t.coordinates),e)}function u(t){return"object"!==l(t[0])?t.slice():t.map(function(t){return u(t)})}Object.defineProperty(e,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(206);Object.defineProperty(e,"geoArea",{enumerable:!0,get:function(){return i(r).default}});var o=n(450);Object.defineProperty(e,"geoBounds",{enumerable:!0,get:function(){return i(o).default}});var s=n(451);Object.defineProperty(e,"geoCentroid",{enumerable:!0,get:function(){return i(s).default}});var a=n(207);Object.defineProperty(e,"geoCircle",{enumerable:!0,get:function(){return i(a).default}});var u=n(127);Object.defineProperty(e,"geoClipExtent",{enumerable:!0,get:function(){return i(u).default}});var l=n(470);Object.defineProperty(e,"geoContains",{enumerable:!0,get:function(){return i(l).default}});var f=n(225);Object.defineProperty(e,"geoDistance",{enumerable:!0,get:function(){return i(f).default}});var c=n(471);Object.defineProperty(e,"geoGraticule",{enumerable:!0,get:function(){return i(c).default}}),Object.defineProperty(e,"geoGraticule10",{enumerable:!0,get:function(){return c.graticule10}});var d=n(472);Object.defineProperty(e,"geoInterpolate",{enumerable:!0,get:function(){return i(d).default}});var h=n(226);Object.defineProperty(e,"geoLength",{enumerable:!0,get:function(){return i(h).default}});var _=n(473);Object.defineProperty(e,"geoPath",{enumerable:!0,get:function(){return i(_).default}});var p=n(228);Object.defineProperty(e,"geoAlbers",{enumerable:!0,get:function(){return i(p).default}});var g=n(483);Object.defineProperty(e,"geoAlbersUsa",{enumerable:!0,get:function(){return i(g).default}});var m=n(484);Object.defineProperty(e,"geoAzimuthalEqualArea",{enumerable:!0,get:function(){return i(m).default}}),Object.defineProperty(e,"geoAzimuthalEqualAreaRaw",{enumerable:!0,get:function(){return m.azimuthalEqualAreaRaw}});var v=n(485);Object.defineProperty(e,"geoAzimuthalEquidistant",{enumerable:!0,get:function(){return i(v).default}}),Object.defineProperty(e,"geoAzimuthalEquidistantRaw",{enumerable:!0,get:function(){return v.azimuthalEquidistantRaw}});var y=n(486);Object.defineProperty(e,"geoConicConformal",{enumerable:!0,get:function(){return i(y).default}}),Object.defineProperty(e,"geoConicConformalRaw",{enumerable:!0,get:function(){return y.conicConformalRaw}});var b=n(131);Object.defineProperty(e,"geoConicEqualArea",{enumerable:!0,get:function(){return i(b).default}}),Object.defineProperty(e,"geoConicEqualAreaRaw",{enumerable:!0,get:function(){return b.conicEqualAreaRaw}});var x=n(487);Object.defineProperty(e,"geoConicEquidistant",{enumerable:!0,get:function(){return i(x).default}}),Object.defineProperty(e,"geoConicEquidistantRaw",{enumerable:!0,get:function(){return x.conicEquidistantRaw}});var E=n(230);Object.defineProperty(e,"geoEquirectangular",{enumerable:!0,get:function(){return i(E).default}}),Object.defineProperty(e,"geoEquirectangularRaw",{enumerable:!0,get:function(){return E.equirectangularRaw}});var L=n(488);Object.defineProperty(e,"geoGnomonic",{enumerable:!0,get:function(){return i(L).default}}),Object.defineProperty(e,"geoGnomonicRaw",{enumerable:!0,get:function(){return L.gnomonicRaw}});var w=n(489);Object.defineProperty(e,"geoIdentity",{enumerable:!0,get:function(){return i(w).default}});var M=n(35);Object.defineProperty(e,"geoProjection",{enumerable:!0,get:function(){return i(M).default}}),Object.defineProperty(e,"geoProjectionMutator",{enumerable:!0,get:function(){return M.projectionMutator}});var P=n(134);Object.defineProperty(e,"geoMercator",{enumerable:!0,get:function(){return i(P).default}}),Object.defineProperty(e,"geoMercatorRaw",{enumerable:!0,get:function(){return P.mercatorRaw}});var I=n(490);Object.defineProperty(e,"geoNaturalEarth1",{enumerable:!0,get:function(){return i(I).default}}),Object.defineProperty(e,"geoNaturalEarth1Raw",{enumerable:!0,get:function(){return I.naturalEarth1Raw}});var C=n(491);Object.defineProperty(e,"geoOrthographic",{enumerable:!0,get:function(){return i(C).default}}),Object.defineProperty(e,"geoOrthographicRaw",{enumerable:!0,get:function(){return C.orthographicRaw}});var S=n(492);Object.defineProperty(e,"geoStereographic",{enumerable:!0,get:function(){return i(S).default}}),Object.defineProperty(e,"geoStereographicRaw",{enumerable:!0,get:function(){return S.stereographicRaw}});var N=n(493);Object.defineProperty(e,"geoTransverseMercator",{enumerable:!0,get:function(){return i(N).default}}),Object.defineProperty(e,"geoTransverseMercatorRaw",{enumerable:!0,get:function(){return N.transverseMercatorRaw}});var O=n(99);Object.defineProperty(e,"geoRotation",{enumerable:!0,get:function(){return i(O).default}});var T=n(52);Object.defineProperty(e,"geoStream",{enumerable:!0,get:function(){return i(T).default}});var R=n(100);Object.defineProperty(e,"geoTransform",{enumerable:!0,get:function(){return i(R).default}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){E.push(L=[_=t,g=t]),e<p&&(p=e),e>m&&(m=e)}function o(t,e){var n=(0,I.cartesian)([t*C.radians,e*C.radians]);if(x){var i=(0,I.cartesianCross)(x,n),r=[i[1],-i[0],0],o=(0,I.cartesianCross)(r,i);(0,I.cartesianNormalizeInPlace)(o),o=(0,I.spherical)(o);var s,a=t-v,u=a>0?1:-1,l=o[0]*C.degrees*u,f=(0,C.abs)(a)>180;f^(u*v<l&&l<u*t)?(s=o[1]*C.degrees)>m&&(m=s):(l=(l+360)%360-180,f^(u*v<l&&l<u*t)?(s=-o[1]*C.degrees)<p&&(p=s):(e<p&&(p=e),e>m&&(m=e))),f?t<v?c(_,t)>c(_,g)&&(g=t):c(t,g)>c(_,g)&&(_=t):g>=_?(t<_&&(_=t),t>g&&(g=t)):t>v?c(_,t)>c(_,g)&&(g=t):c(t,g)>c(_,g)&&(_=t)}else E.push(L=[_=t,g=t]);e<p&&(p=e),e>m&&(m=e),x=n,v=t}function s(){T.point=o}function a(){L[0]=_,L[1]=g,T.point=r,x=null}function u(t,e){if(x){var n=t-v;O.add((0,C.abs)(n)>180?n+(n>0?360:-360):n)}else y=t,b=e;P.areaStream.point(t,e),o(t,e)}function l(){P.areaStream.lineStart()}function f(){u(y,b),P.areaStream.lineEnd(),(0,C.abs)(O)>C.epsilon&&(_=-(g=180)),L[0]=_,L[1]=g,x=null}function c(t,e){return(e-=t)<0?e+360:e}function d(t,e){return t[0]-e[0]}function h(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,n,i,r,o,s,a;if(m=g=-(_=p=1/0),E=[],(0,N.default)(t,T),n=E.length){for(E.sort(d),e=1,i=E[0],o=[i];e<n;++e)r=E[e],h(i,r[0])||h(i,r[1])?(c(i[0],r[1])>c(i[0],i[1])&&(i[1]=r[1]),c(r[0],i[1])>c(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(s=-1/0,n=o.length-1,e=0,i=o[n];e<=n;i=r,++e)r=o[e],(a=c(i[1],r[0]))>s&&(s=a,_=r[0],g=i[1])}return E=L=null,_===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[_,p],[g,m]]};var _,p,g,m,v,y,b,x,E,L,w=n(58),M=i(w),P=n(206),I=n(80),C=n(5),S=n(52),N=i(S),O=(0,M.default)(),T={point:r,lineStart:s,lineEnd:a,polygonStart:function(){T.point=u,T.lineStart=l,T.lineEnd=f,O.reset(),P.areaStream.polygonStart()},polygonEnd:function(){P.areaStream.polygonEnd(),T.point=r,T.lineStart=s,T.lineEnd=a,P.areaRingSum<0?(_=-(g=180),p=-(m=90)):O>C.epsilon?m=90:O<-C.epsilon&&(p=-90),L[0]=_,L[1]=g}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){t*=N.radians,e*=N.radians;var n=(0,N.cos)(e);o(n*(0,N.cos)(t),n*(0,N.sin)(t),(0,N.sin)(e))}function o(t,e,n){++_,g+=(t-g)/_,m+=(e-m)/_,v+=(n-v)/_}function s(){A.point=a}function a(t,e){t*=N.radians,e*=N.radians;var n=(0,N.cos)(e);I=n*(0,N.cos)(t),C=n*(0,N.sin)(t),S=(0,N.sin)(e),A.point=u,o(I,C,S)}function u(t,e){t*=N.radians,e*=N.radians;var n=(0,N.cos)(e),i=n*(0,N.cos)(t),r=n*(0,N.sin)(t),s=(0,N.sin)(e),a=(0,N.atan2)((0,N.sqrt)((a=C*s-S*r)*a+(a=S*i-I*s)*a+(a=I*r-C*i)*a),I*i+C*r+S*s);p+=a,y+=a*(I+(I=i)),b+=a*(C+(C=r)),x+=a*(S+(S=s)),o(I,C,S)}function l(){A.point=r}function f(){A.point=d}function c(){h(M,P),A.point=r}function d(t,e){M=t,P=e,t*=N.radians,e*=N.radians,A.point=h;var n=(0,N.cos)(e);I=n*(0,N.cos)(t),C=n*(0,N.sin)(t),S=(0,N.sin)(e),o(I,C,S)}function h(t,e){t*=N.radians,e*=N.radians;var n=(0,N.cos)(e),i=n*(0,N.cos)(t),r=n*(0,N.sin)(t),s=(0,N.sin)(e),a=C*s-S*r,u=S*i-I*s,l=I*r-C*i,f=(0,N.sqrt)(a*a+u*u+l*l),c=(0,N.asin)(f),d=f&&-c/f;E+=d*a,L+=d*u,w+=d*l,p+=c,y+=c*(I+(I=i)),b+=c*(C+(C=r)),x+=c*(S+(S=s)),o(I,C,S)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){_=p=g=m=v=y=b=x=E=L=w=0,(0,D.default)(t,A);var e=E,n=L,i=w,r=e*e+n*n+i*i;return r<N.epsilon2&&(e=y,n=b,i=x,p<N.epsilon&&(e=g,n=m,i=v),(r=e*e+n*n+i*i)<N.epsilon2)?[NaN,NaN]:[(0,N.atan2)(n,e)*N.degrees,(0,N.asin)(i/(0,N.sqrt)(r))*N.degrees]};var _,p,g,m,v,y,b,x,E,L,w,M,P,I,C,S,N=n(5),O=n(47),T=i(O),R=n(52),D=i(R),A={sphere:T.default,point:r,lineStart:s,lineEnd:l,polygonStart:function(){A.lineStart=f,A.lineEnd=c},polygonEnd:function(){A.lineStart=s,A.lineEnd=l}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){return t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i,r,o){var s,a=t[0],u=t[1],l=e[0],f=e[1],c=0,d=1,h=l-a,_=f-u;if(s=n-a,h||!(s>0)){if(s/=h,h<0){if(s<c)return;s<d&&(d=s)}else if(h>0){if(s>d)return;s>c&&(c=s)}if(s=r-a,h||!(s<0)){if(s/=h,h<0){if(s>d)return;s>c&&(c=s)}else if(h>0){if(s<c)return;s<d&&(d=s)}if(s=i-u,_||!(s>0)){if(s/=_,_<0){if(s<c)return;s<d&&(d=s)}else if(_>0){if(s>d)return;s>c&&(c=s)}if(s=o-u,_||!(s<0)){if(s/=_,_<0){if(s>d)return;s>c&&(c=s)}else if(_>0){if(s<c)return;s<d&&(d=s)}return c>0&&(t[0]=a+c*h,t[1]=u+c*_),d<1&&(e[0]=a+d*h,e[1]=u+d*_),!0}}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r,o,s,a,u=t.length,l=e.length,f=new Array(u*l);for(null==n&&(n=i.pair),r=s=0;r<u;++r)for(a=t[r],o=0;o<l;++o,++s)f[s]=n(a,e[o]);return f};var i=n(214)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){function t(t){var r,o,a=t.length,u=new Array(a);for(r=0;r<a;++r)u[r]=e(t[r],r,t);var l=n(u),f=l[0],c=l[1],d=i(u,f,c);Array.isArray(d)||(d=(0,p.tickStep)(f,c,d),d=(0,_.default)(Math.ceil(f/d)*d,Math.floor(c/d)*d,d));for(var h=d.length;d[0]<=f;)d.shift(),--h;for(;d[h-1]>c;)d.pop(),--h;var g,m=new Array(h+1);for(r=0;r<=h;++r)g=m[r]=[],g.x0=r>0?d[r-1]:f,g.x1=r<h?d[r]:c;for(r=0;r<a;++r)o=u[r],f<=o&&o<=c&&m[(0,s.default)(d,o,0,h)].push(t[r]);return m}var e=d.default,n=f.default,i=m.default;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:(0,u.default)(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:(0,u.default)([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(i="function"==typeof e?e:Array.isArray(e)?(0,u.default)(r.slice.call(e)):(0,u.default)(e),t):i},t};var r=n(218),o=n(212),s=i(o),a=n(457),u=i(a),l=n(217),f=i(l),c=n(458),d=i(c),h=n(219),_=i(h),p=n(220),g=n(221),m=i(g)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){return t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){return t=r.map.call(t,u.default).sort(s.default),Math.ceil((n-e)/(2*((0,f.default)(t,.75)-(0,f.default)(t,.25))*Math.pow(t.length,-1/3)))};var r=n(218),o=n(59),s=i(o),a=n(81),u=i(a),l=n(129),f=i(l)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){return Math.ceil((n-e)/(3.5*(0,r.default)(t)*Math.pow(t.length,-1/3)))};var i=n(215),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&n>i&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&n>i&&(i=n);return i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,i=t.length,o=i,s=-1,a=0;if(null==e)for(;++s<i;)isNaN(n=(0,r.default)(t[s]))?--o:a+=n;else for(;++s<i;)isNaN(n=(0,r.default)(e(t[s],s,t)))?--o:a+=n;if(o)return a/o};var i=n(81),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,i=t.length,r=-1,s=[];if(null==e)for(;++r<i;)isNaN(n=(0,a.default)(t[r]))||s.push(n);else for(;++r<i;)isNaN(n=(0,a.default)(e(t[r],r,t)))||s.push(n);return(0,l.default)(s.sort(o.default),.5)};var r=n(59),o=i(r),s=n(81),a=i(s),u=n(129),l=i(u)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--s]=i[e];return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(n=t.length){var n,i,o=0,s=0,a=t[s];for(null==e&&(e=r.default);++o<n;)(e(i=t[o],a)<0||0!==e(a,a))&&(a=i,s=o);return 0===e(a,a)?s:void 0}};var i=n(59),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){for(var i,r,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,i=t.length,r=-1,o=0;if(null==e)for(;++r<i;)(n=+t[r])&&(o+=n);else for(;++r<i;)(n=+e(t[r],r,t))&&(o+=n);return o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return(0,r.default)(arguments)};var i=n(223),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){return!(!t||!g.hasOwnProperty(t.type))&&g[t.type](t,e)}function o(t,e){return 0===(0,h.default)(t,e)}function s(t,e){var n=(0,h.default)(t[0],t[1]);return(0,h.default)(t[0],e)+(0,h.default)(e,t[1])<=n+_.epsilon}function a(t,e){return!!(0,c.default)(t.map(u),l(e))}function u(t){return t=t.map(l),t.pop(),t}function l(t){return[t[0]*_.radians,t[1]*_.radians]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(t&&p.hasOwnProperty(t.type)?p[t.type]:r)(t,e)};var f=n(224),c=i(f),d=n(225),h=i(d),_=n(5),p={Feature:function(t,e){return r(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)if(r(n[i].geometry,e))return!0;return!1}},g={Sphere:function(){return!0},Point:function(t,e){return o(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(o(n[i],e))return!0;return!1},LineString:function(t,e){return s(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(s(n[i],e))return!0;return!1},Polygon:function(t,e){return a(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(a(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)if(r(n[i],e))return!0;return!1}}},function(t,e,n){"use strict";function i(t,e,n){var i=(0,a.range)(t,e-u.epsilon,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function r(t,e,n){var i=(0,a.range)(t,e-u.epsilon,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function o(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return(0,a.range)((0,u.ceil)(l/b)*b,s,b).map(g).concat((0,a.range)((0,u.ceil)(h/x)*x,d,x).map(m)).concat((0,a.range)((0,u.ceil)(o/v)*v,n,v).filter(function(t){return(0,u.abs)(t%b)>u.epsilon}).map(_)).concat((0,a.range)((0,u.ceil)(c/y)*y,f,y).filter(function(t){return(0,u.abs)(t%x)>u.epsilon}).map(p))}var n,o,s,l,f,c,d,h,_,p,g,m,v=10,y=v,b=90,x=360,E=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[g(l).concat(m(d).slice(1),g(s).reverse().slice(1),m(h).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(l=+e[0][0],s=+e[1][0],h=+e[0][1],d=+e[1][1],l>s&&(e=l,l=s,s=e),h>d&&(e=h,h=d,d=e),t.precision(E)):[[l,h],[s,d]]},t.extentMinor=function(e){return arguments.length?(o=+e[0][0],n=+e[1][0],c=+e[0][1],f=+e[1][1],o>n&&(e=o,o=n,n=e),c>f&&(e=c,c=f,f=e),t.precision(E)):[[o,c],[n,f]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(b=+e[0],x=+e[1],t):[b,x]},t.stepMinor=function(e){return arguments.length?(v=+e[0],y=+e[1],t):[v,y]},t.precision=function(e){return arguments.length?(E=+e,_=i(c,f,90),p=r(o,n,E),g=i(h,d,90),m=r(l,s,E),t):E},t.extentMajor([[-180,-90+u.epsilon],[180,90-u.epsilon]]).extentMinor([[-180,-80-u.epsilon],[180,80+u.epsilon]])}function s(){return o()()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o,e.graticule10=s;var a=n(128),u=n(5)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=t[0]*i.radians,r=t[1]*i.radians,o=e[0]*i.radians,s=e[1]*i.radians,a=(0,i.cos)(r),u=(0,i.sin)(r),l=(0,i.cos)(s),f=(0,i.sin)(s),c=a*(0,i.cos)(n),d=a*(0,i.sin)(n),h=l*(0,i.cos)(o),_=l*(0,i.sin)(o),p=2*(0,i.asin)((0,i.sqrt)((0,i.haversin)(s-r)+a*l*(0,i.haversin)(o-n))),g=(0,i.sin)(p),m=p?function(t){var e=(0,i.sin)(t*=p)/g,n=(0,i.sin)(p-t)/g,r=n*c+e*h,o=n*d+e*_,s=n*u+e*f;return[(0,i.atan2)(o,r)*i.degrees,(0,i.atan2)(s,(0,i.sqrt)(r*r+o*o))*i.degrees]}:function(){return[n*i.degrees,r*i.degrees]};return m.distance=p,m};var i=n(5)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){function n(t){return t&&("function"==typeof s&&r.pointRadius(+s.apply(this,arguments)),(0,a.default)(t,i(r))),r.result()}var i,r,s=4.5;return n.area=function(t){return(0,a.default)(t,i(l.default)),l.default.result()},n.measure=function(t){return(0,a.default)(t,i(m.default)),m.default.result()},n.bounds=function(t){return(0,a.default)(t,i(c.default)),c.default.result()},n.centroid=function(t){return(0,a.default)(t,i(h.default)),h.default.result()},n.projection=function(e){return arguments.length?(i=null==e?(t=null,o.default):(t=e).stream,n):t},n.context=function(t){return arguments.length?(r=null==t?(e=null,new y.default):new p.default(e=t),"function"!=typeof s&&r.pointRadius(s),n):e},n.pointRadius=function(t){return arguments.length?(s="function"==typeof t?t:(r.pointRadius(+t),+t),n):s},n.projection(t).context(e)};var r=n(130),o=i(r),s=n(52),a=i(s),u=n(474),l=i(u),f=n(227),c=i(f),d=n(475),h=i(d),_=n(476),p=i(_),g=n(477),m=i(g),v=n(478),y=i(v)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){y.point=o}function o(t,e){y.point=s,u=f=t,l=c=e}function s(t,e){v.add(c*t-f*e),f=t,c=e}function a(){s(u,l)}Object.defineProperty(e,"__esModule",{value:!0});var u,l,f,c,d=n(58),h=i(d),_=n(5),p=n(47),g=i(p),m=(0,h.default)(),v=(0,h.default)(),y={point:g.default,lineStart:g.default,lineEnd:g.default,polygonStart:function(){y.lineStart=r,y.lineEnd=a},polygonEnd:function(){y.lineStart=y.lineEnd=y.point=g.default,m.add((0,_.abs)(v)),v.reset()},result:function(){var t=m/2;return m.reset(),t}};e.default=y},function(t,e,n){"use strict";function i(t,e){m+=t,v+=e,++y}function r(){P.point=o}function o(t,e){P.point=s,i(_=t,p=e)}function s(t,e){var n=t-_,r=e-p,o=(0,g.sqrt)(n*n+r*r);b+=o*(_+t)/2,x+=o*(p+e)/2,E+=o,i(_=t,p=e)}function a(){P.point=i}function u(){P.point=f}function l(){c(d,h)}function f(t,e){P.point=c,i(d=_=t,h=p=e)}function c(t,e){var n=t-_,r=e-p,o=(0,g.sqrt)(n*n+r*r);b+=o*(_+t)/2,x+=o*(p+e)/2,E+=o,o=p*t-_*e,L+=o*(_+t),w+=o*(p+e),M+=3*o,i(_=t,p=e)}Object.defineProperty(e,"__esModule",{value:!0});var d,h,_,p,g=n(5),m=0,v=0,y=0,b=0,x=0,E=0,L=0,w=0,M=0,P={point:i,lineStart:r,lineEnd:a,polygonStart:function(){P.lineStart=u,P.lineEnd=l},polygonEnd:function(){P.point=i,P.lineStart=r,P.lineEnd=a},result:function(){var t=M?[L/M,w/M]:E?[b/E,x/E]:y?[m/y,v/y]:[NaN,NaN];return m=v=y=b=x=E=L=w=M=0,t}};e.default=P},function(t,e,n){"use strict";function i(t){this._context=t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(5),o=n(47),s=function(t){return t&&t.__esModule?t:{default:t}}(o);i.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,r.tau)}},result:s.default}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){m.point=o,a=l=t,u=f=e}function o(t,e){l-=t,f-=e,g.add((0,h.sqrt)(l*l+f*f)),l=t,f=e}Object.defineProperty(e,"__esModule",{value:!0});var s,a,u,l,f,c=n(58),d=i(c),h=n(5),_=n(47),p=i(_),g=(0,d.default)(),m={point:p.default,lineStart:function(){m.point=r},lineEnd:function(){s&&o(a,u),m.point=p.default},polygonStart:function(){s=!0},polygonEnd:function(){s=null},result:function(){var t=+g;return g.reset(),t}};e.default=m},function(t,e,n){"use strict";function i(){this._string=[]}function r(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype={_radius:4.5,_circle:r(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=r(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}}},function(t,e,n){"use strict";function i(t){var e,n=NaN,i=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(s,a){var l=s>0?u.pi:-u.pi,f=(0,u.abs)(s-n);(0,u.abs)(f-u.pi)<u.epsilon?(t.point(n,i=(i+a)/2>0?u.halfPi:-u.halfPi),t.point(o,i),t.lineEnd(),t.lineStart(),t.point(l,i),t.point(s,i),e=0):o!==l&&f>=u.pi&&((0,u.abs)(n-o)<u.epsilon&&(n-=o*u.epsilon),(0,u.abs)(s-l)<u.epsilon&&(s-=l*u.epsilon),i=r(n,i,s,a),t.point(o,i),t.lineEnd(),t.lineStart(),t.point(l,i),e=0),t.point(n=s,i=a),o=l},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function r(t,e,n,i){var r,o,s=(0,u.sin)(t-n);return(0,u.abs)(s)>u.epsilon?(0,u.atan)(((0,u.sin)(e)*(o=(0,u.cos)(i))*(0,u.sin)(n)-(0,u.sin)(i)*(r=(0,u.cos)(e))*(0,u.sin)(t))/(r*o*s)):(e+i)/2}function o(t,e,n,i){var r;if(null==t)r=n*u.halfPi,i.point(-u.pi,r),i.point(0,r),i.point(u.pi,r),i.point(u.pi,0),i.point(u.pi,-r),i.point(0,-r),i.point(-u.pi,-r),i.point(-u.pi,0),i.point(-u.pi,r);else if((0,u.abs)(t[0]-e[0])>u.epsilon){var o=t[0]<e[0]?u.pi:-u.pi;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}Object.defineProperty(e,"__esModule",{value:!0});var s=n(229),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=n(5);e.default=(0,a.default)(function(){return!0},i,o,[-u.pi,-u.halfPi])},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){function n(n,i,r,s){(0,o.circleStream)(s,t,e,r,n,i)}function i(t,e){return(0,s.cos)(t)*(0,s.cos)(e)>d}function a(t){var e,n,r,o,a;return{lineStart:function(){o=r=!1,a=1},point:function(f,d){var p,g=[f,d],m=i(f,d),v=h?m?0:c(f,d):m?c(f+(f<0?s.pi:-s.pi),d):0;if(!e&&(o=r=m)&&t.lineStart(),m!==r&&(!(p=l(e,g))||(0,u.default)(e,p)||(0,u.default)(g,p))&&(g[0]+=s.epsilon,g[1]+=s.epsilon,m=i(g[0],g[1])),m!==r)a=0,m?(t.lineStart(),p=l(g,e),t.point(p[0],p[1])):(p=l(e,g),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(_&&e&&h^m){var y;v&n||!(y=l(g,e,!0))||(a=0,h?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!m||e&&(0,u.default)(e,g)||t.point(g[0],g[1]),e=g,r=m,n=v},lineEnd:function(){r&&t.lineEnd(),e=null},clean:function(){return a|(o&&r)<<1}}}function l(t,e,n){var i=(0,r.cartesian)(t),o=(0,r.cartesian)(e),a=[1,0,0],u=(0,r.cartesianCross)(i,o),l=(0,r.cartesianDot)(u,u),f=u[0],c=l-f*f;if(!c)return!n&&t;var h=d*l/c,_=-d*f/c,p=(0,r.cartesianCross)(a,u),g=(0,r.cartesianScale)(a,h),m=(0,r.cartesianScale)(u,_);(0,r.cartesianAddInPlace)(g,m);var v=p,y=(0,r.cartesianDot)(g,v),b=(0,r.cartesianDot)(v,v),x=y*y-b*((0,r.cartesianDot)(g,g)-1);if(!(x<0)){var E=(0,s.sqrt)(x),L=(0,r.cartesianScale)(v,(-y-E)/b);if((0,r.cartesianAddInPlace)(L,g),L=(0,r.spherical)(L),!n)return L;var w,M=t[0],P=e[0],I=t[1],C=e[1];P<M&&(w=M,M=P,P=w);var S=P-M,N=(0,s.abs)(S-s.pi)<s.epsilon,O=N||S<s.epsilon;if(!N&&C<I&&(w=I,I=C,C=w),O?N?I+C>0^L[1]<((0,s.abs)(L[0]-M)<s.epsilon?I:C):I<=L[1]&&L[1]<=C:S>s.pi^(M<=L[0]&&L[0]<=P)){var T=(0,r.cartesianScale)(v,(-y+E)/b);return(0,r.cartesianAddInPlace)(T,g),[L,(0,r.spherical)(T)]}}}function c(e,n){var i=h?t:s.pi-t,r=0;return e<-i?r|=1:e>i&&(r|=2),n<-i?r|=4:n>i&&(r|=8),r}var d=(0,s.cos)(t),h=d>0,_=(0,s.abs)(d)>s.epsilon;return(0,f.default)(i,a,n,h?[0,-t]:[-s.pi,t-s.pi])};var r=n(80),o=n(207),s=n(5),a=n(211),u=i(a),l=n(229),f=i(l)},function(t,e,n){"use strict";function i(t){return(0,a.transformer)({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function r(t,e){function n(i,r,o,a,u,f,c,d,h,_,p,g,m,v){var y=c-i,b=d-r,x=y*y+b*b;if(x>4*e&&m--){var E=a+_,L=u+p,w=f+g,M=(0,s.sqrt)(E*E+L*L+w*w),P=(0,s.asin)(w/=M),I=(0,s.abs)((0,s.abs)(w)-1)<s.epsilon||(0,s.abs)(o-h)<s.epsilon?(o+h)/2:(0,s.atan2)(L,E),C=t(I,P),S=C[0],N=C[1],O=S-i,T=N-r,R=b*O-y*T;(R*R/x>e||(0,s.abs)((y*O+b*T)/x-.5)>.3||a*_+u*p+f*g<l)&&(n(i,r,o,a,u,f,S,N,I,E/=M,L/=M,w,m,v),v.point(S,N),n(S,N,I,E,L,w,c,d,h,_,p,g,m,v))}}return function(e){function i(n,i){n=t(n,i),e.point(n[0],n[1])}function r(){y=NaN,w.point=s,e.lineStart()}function s(i,r){var s=(0,o.cartesian)([i,r]),a=t(i,r);n(y,b,v,x,E,L,y=a[0],b=a[1],v=i,x=s[0],E=s[1],L=s[2],u,e),e.point(y,b)}function a(){w.point=i,e.lineEnd()}function l(){r(),w.point=f,w.lineEnd=c}function f(t,e){s(d=t,e),h=y,_=b,p=x,g=E,m=L,w.point=s}function c(){n(y,b,v,x,E,L,h,_,d,p,g,m,u,e),w.lineEnd=a,a()}var d,h,_,p,g,m,v,y,b,x,E,L,w={point:i,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),w.lineStart=l},polygonEnd:function(){e.polygonEnd(),w.lineStart=r}};return w}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return+e?r(t,e):i(t)};var o=n(80),s=n(5),a=n(100),u=16,l=(0,s.cos)(30*s.radians)},function(t,e,n){"use strict";function i(t){function e(t,e){return[t*n,(0,r.sin)(e)/n]}var n=(0,r.cos)(t);return e.invert=function(t,e){return[t/n,(0,r.asin)(e*n)]},e}Object.defineProperty(e,"__esModule",{value:!0}),e.cylindricalEqualAreaRaw=i;var r=n(5)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){var e=t.length;return{point:function(n,i){for(var r=-1;++r<e;)t[r].point(n,i)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){function t(t){var e=t[0],n=t[1];return d=null,s.point(e,n),d||(u.point(e,n),d)||(c.point(e,n),d)}function e(){return n=i=null,t}var n,i,s,u,c,d,h=(0,a.default)(),_=(0,l.default)().rotate([154,0]).center([-2,58.5]).parallels([55,65]),p=(0,l.default)().rotate([157,0]).center([-3,19.9]).parallels([8,18]),g={point:function(t,e){d=[t,e]}};return t.invert=function(t){var e=h.scale(),n=h.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?_:r>=.166&&r<.234&&i>=-.214&&i<-.115?p:h).invert(t)},t.stream=function(t){return n&&i===t?n:n=r([h.stream(i=t),_.stream(t),p.stream(t)])},t.precision=function(t){return arguments.length?(h.precision(t),_.precision(t),p.precision(t),e()):h.precision()},t.scale=function(e){return arguments.length?(h.scale(e),_.scale(.35*e),p.scale(e),t.translate(h.translate())):h.scale()},t.translate=function(t){if(!arguments.length)return h.translate();var n=h.scale(),i=+t[0],r=+t[1];return s=h.translate(t).clipExtent([[i-.455*n,r-.238*n],[i+.455*n,r+.238*n]]).stream(g),u=_.translate([i-.307*n,r+.201*n]).clipExtent([[i-.425*n+o.epsilon,r+.12*n+o.epsilon],[i-.214*n-o.epsilon,r+.234*n-o.epsilon]]).stream(g),c=p.translate([i-.205*n,r+.212*n]).clipExtent([[i-.214*n+o.epsilon,r+.166*n+o.epsilon],[i-.115*n-o.epsilon,r+.234*n-o.epsilon]]).stream(g),e()},t.fitExtent=function(e,n){return(0,f.fitExtent)(t,e,n)},t.fitSize=function(e,n){return(0,f.fitSize)(t,e,n)},t.scale(1070)};var o=n(5),s=n(228),a=i(s),u=n(131),l=i(u),f=n(133)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.azimuthalEqualAreaRaw=void 0,e.default=function(){return(0,s.default)(a).scale(124.75).clipAngle(179.999)};var i=n(5),r=n(82),o=n(35),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=e.azimuthalEqualAreaRaw=(0,r.azimuthalRaw)(function(t){return(0,i.sqrt)(2/(1+t))});a.invert=(0,r.azimuthalInvert)(function(t){return 2*(0,i.asin)(t/2)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.azimuthalEquidistantRaw=void 0,e.default=function(){return(0,s.default)(a).scale(79.4188).clipAngle(179.999)};var i=n(5),r=n(82),o=n(35),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=e.azimuthalEquidistantRaw=(0,r.azimuthalRaw)(function(t){return(t=(0,i.acos)(t))&&t/(0,i.sin)(t)});a.invert=(0,r.azimuthalInvert)(function(t){return t})},function(t,e,n){"use strict";function i(t){return(0,o.tan)((o.halfPi+t)/2)}function r(t,e){function n(t,e){u>0?e<-o.halfPi+o.epsilon&&(e=-o.halfPi+o.epsilon):e>o.halfPi-o.epsilon&&(e=o.halfPi-o.epsilon);var n=u/(0,o.pow)(i(e),s);return[n*(0,o.sin)(s*t),u-n*(0,o.cos)(s*t)]}var r=(0,o.cos)(t),s=t===e?(0,o.sin)(t):(0,o.log)(r/(0,o.cos)(e))/(0,o.log)(i(e)/i(t)),u=r*(0,o.pow)(i(t),s)/s;return s?(n.invert=function(t,e){var n=u-e,i=(0,o.sign)(s)*(0,o.sqrt)(t*t+n*n);return[(0,o.atan2)(t,(0,o.abs)(n))/s*(0,o.sign)(n),2*(0,o.atan)((0,o.pow)(u/i,1/s))-o.halfPi]},n):a.mercatorRaw}Object.defineProperty(e,"__esModule",{value:!0}),e.conicConformalRaw=r,e.default=function(){return(0,s.conicProjection)(r).scale(109.5).parallels([30,30])};var o=n(5),s=n(132),a=n(134)},function(t,e,n){"use strict";function i(t,e){function n(t,e){var n=a-e,i=o*t;return[n*(0,r.sin)(i),a-n*(0,r.cos)(i)]}var i=(0,r.cos)(t),o=t===e?(0,r.sin)(t):(i-(0,r.cos)(e))/(e-t),a=i/o+t;return(0,r.abs)(o)<r.epsilon?s.equirectangularRaw:(n.invert=function(t,e){var n=a-e;return[(0,r.atan2)(t,(0,r.abs)(n))/o*(0,r.sign)(n),a-(0,r.sign)(o)*(0,r.sqrt)(t*t+n*n)]},n)}Object.defineProperty(e,"__esModule",{value:!0}),e.conicEquidistantRaw=i,e.default=function(){return(0,o.conicProjection)(i).scale(131.154).center([0,13.9389])};var r=n(5),o=n(132),s=n(230)},function(t,e,n){"use strict";function i(t,e){var n=(0,r.cos)(e),i=(0,r.cos)(t)*n;return[n*(0,r.sin)(t)/i,(0,r.sin)(e)/i]}Object.defineProperty(e,"__esModule",{value:!0}),e.gnomonicRaw=i,e.default=function(){return(0,a.default)(i).scale(144.049).clipAngle(60)};var r=n(5),o=n(82),s=n(35),a=function(t){return t&&t.__esModule?t:{default:t}}(s);i.invert=(0,o.azimuthalInvert)(r.atan)},function(t,e,n){"use strict";function i(t,e,n,i){return 1===t&&1===e&&0===n&&0===i?s.default:(0,a.transformer)({point:function(r,o){this.stream.point(r*t+n,o*e+i)}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){function t(){return a=l=null,f}var e,n,o,a,l,f,c=1,d=0,h=0,_=1,p=1,g=s.default,m=null,v=s.default;return f={stream:function(t){return a&&l===t?a:a=g(v(l=t))},clipExtent:function(i){return arguments.length?(v=null==i?(m=e=n=o=null,s.default):(0,r.clipExtent)(m=+i[0][0],e=+i[0][1],n=+i[1][0],o=+i[1][1]),t()):null==m?null:[[m,e],[n,o]]},scale:function(e){return arguments.length?(g=i((c=+e)*_,c*p,d,h),t()):c},translate:function(e){return arguments.length?(g=i(c*_,c*p,d=+e[0],h=+e[1]),t()):[d,h]},reflectX:function(e){return arguments.length?(g=i(c*(_=e?-1:1),c*p,d,h),t()):_<0},reflectY:function(e){return arguments.length?(g=i(c*_,c*(p=e?-1:1),d,h),t()):p<0},fitExtent:function(t,e){return(0,u.fitExtent)(f,t,e)},fitSize:function(t,e){return(0,u.fitSize)(f,t,e)}}};var r=n(127),o=n(130),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=n(100),u=n(133)},function(t,e,n){"use strict";function i(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}Object.defineProperty(e,"__esModule",{value:!0}),e.naturalEarth1Raw=i,e.default=function(){return(0,o.default)(i).scale(175.295)};var r=n(35),o=function(t){return t&&t.__esModule?t:{default:t}}(r),s=n(5);i.invert=function(t,e){var n,i=e,r=25;do{var o=i*i,a=o*o;i-=n=(i*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while((0,s.abs)(n)>s.epsilon&&--r>0);return[t/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]}},function(t,e,n){"use strict";function i(t,e){return[(0,r.cos)(e)*(0,r.sin)(t),(0,r.sin)(e)]}Object.defineProperty(e,"__esModule",{value:!0}),e.orthographicRaw=i,e.default=function(){return(0,a.default)(i).scale(249.5).clipAngle(90+r.epsilon)};var r=n(5),o=n(82),s=n(35),a=function(t){return t&&t.__esModule?t:{default:t}}(s);i.invert=(0,o.azimuthalInvert)(r.asin)},function(t,e,n){"use strict";function i(t,e){var n=(0,r.cos)(e),i=1+(0,r.cos)(t)*n;return[n*(0,r.sin)(t)/i,(0,r.sin)(e)/i]}Object.defineProperty(e,"__esModule",{value:!0}),e.stereographicRaw=i,e.default=function(){return(0,a.default)(i).scale(250).clipAngle(142)};var r=n(5),o=n(82),s=n(35),a=function(t){return t&&t.__esModule?t:{default:t}}(s);i.invert=(0,o.azimuthalInvert)(function(t){return 2*(0,r.atan)(t)})},function(t,e,n){"use strict";function i(t,e){return[(0,r.log)((0,r.tan)((r.halfPi+e)/2)),-t]}Object.defineProperty(e,"__esModule",{value:!0}),e.transverseMercatorRaw=i,e.default=function(){var t=(0,o.mercatorProjection)(i),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)};var r=n(5),o=n(134);i.invert=function(t,e){return[-e,2*(0,r.atan)((0,r.exp)(t))-r.halfPi]}},function(t,e,n){"use strict";function i(t,e){var n=0,i=0,s=0;return(0,r.coordEach)(t,function(t){n+=t[0],i+=t[1],s++},!0),(0,o.point)([n/s,i/s],e)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(62),o=n(28);e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=(0,u.getGeom)(t),i=(0,u.getGeom)(e);if((0,c.default)((0,a.default)(i,{precision:4})).coordinates[0].length<4)return null;if((0,c.default)((0,a.default)(n,{precision:4})).coordinates[0].length<4)return null;var r=new o.GeoJSONReader,s=r.read((0,a.default)(n)),f=r.read((0,a.default)(i)),d=o.OverlayOp.intersection(s,f);if(d.isEmpty())return null;var h=new o.GeoJSONWriter,_=h.write(d);return(0,l.feature)(_)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(145),s=n(496),a=i(s),u=n(135),l=n(28),f=n(497),c=i(f);e.default=r},function(t,e,n){"use strict";function i(t,e){if(e=e||{},!(0,s.isObject)(e))throw new Error("options is invalid");var n=e.precision,i=e.coordinates,a=e.mutate;if(n=void 0===n||null===n||isNaN(n)?6:n,i=void 0===i||null===i||isNaN(i)?3:i,!t)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof i)throw new Error("<coordinates> must be a number");!1!==a&&void 0!==a||(t=JSON.parse(JSON.stringify(t)));var u=Math.pow(10,n);return(0,o.coordEach)(t,function(t){r(t,u,i)}),t}function r(t,e,n){t.length>n&&t.splice(n,t.length);for(var i=0;i<t.length;i++)t[i]=Math.round(t[i]*e)/e;return t}Object.defineProperty(e,"__esModule",{value:!0});var o=n(62),s=n(28);e.default=i},function(t,e,n){"use strict";function i(t,e){var n="object"===(void 0===e?"undefined":a(e))?e.mutate:e;if(!t)throw new Error("geojson is required");var i=(0,l.getType)(t),o=[];switch(i){case"LineString":o=r(t);break;case"MultiLineString":case"Polygon":(0,l.getCoords)(t).forEach(function(t){o.push(r(t))});break;case"MultiPolygon":(0,l.getCoords)(t).forEach(function(t){var e=[];t.forEach(function(t){e.push(r(t))}),o.push(e)});break;case"Point":return t;case"MultiPoint":var s={};(0,l.getCoords)(t).forEach(function(t){var e=t.join("-");s.hasOwnProperty(e)||(o.push(t),s[e]=!0)});break;default:throw new Error(i+" geometry not supported")}return t.coordinates?!0===n?(t.coordinates=o,t):{type:i,coordinates:o}:!0===n?(t.geometry.coordinates=o,t):(0,u.feature)({type:i,coordinates:o},t.properties,t.bbox,t.id)}function r(t){var e=(0,l.getCoords)(t);if(2===e.length&&!o(e[0],e[1]))return e;var n,i,r,a=[],u=e.length-1;a.push(e[0]);for(var f=1;f<u;f++)n=e[f-1],i=e[f],r=e[f+1],s(n,r,i)||a.push(i);return a.push(r),a}function o(t,e){return t[0]===e[0]&&t[1]===e[1]}function s(t,e,n){var i=n[0],r=n[1],o=t[0],s=t[1],a=e[0],u=e[1],l=i-o,f=r-s,c=a-o,d=u-s;return 0==l*d-f*c&&(Math.abs(c)>=Math.abs(d)?c>0?o<=i&&i<=a:a<=i&&i<=o:d>0?s<=r&&r<=u:u<=r&&r<=s)}Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=n(28),l=n(135);e.default=i},function(t,e,n){"use strict";function i(t,e,n){n=n||{};var i=n.steps||64,o=n.properties;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if("object"!==(void 0===n?"undefined":r(n)))throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be a number");i=i||64,o=o||t.properties||{};for(var u=[],l=0;l<i;l++)u.push((0,s.default)(t,e,-360*l/i,n).geometry.coordinates);return u.push(u[0]),(0,a.polygon)([u],o)}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(499),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=n(28);e.default=i},function(t,e,n){"use strict";function i(t,e,n,i){if(i=i||{},!(0,o.isObject)(i))throw new Error("options is invalid");var s=i.units,a=(0,r.getCoord)(t),u=(0,o.degreesToRadians)(a[0]),l=(0,o.degreesToRadians)(a[1]),f=(0,o.degreesToRadians)(n),c=(0,o.lengthToRadians)(e,s),d=Math.asin(Math.sin(l)*Math.cos(c)+Math.cos(l)*Math.sin(c)*Math.cos(f)),h=u+Math.atan2(Math.sin(f)*Math.sin(c)*Math.cos(l),Math.cos(c)-Math.sin(l)*Math.sin(d));return(0,o.point)([(0,o.radiansToDegrees)(h),(0,o.radiansToDegrees)(d)])}Object.defineProperty(e,"__esModule",{value:!0});var r=n(135),o=n(28);e.default=i},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(231),o={property:"value",scale:["SeaGreen","Gold","Crimson"],steps:9,mode:"q",defaultStyle:{opacity:0}};L.Choropleth=L.GeoJSON.extend({initialize:function(t,e){this.options=L.Util.extend(o,e||{}),L.GeoJSON.prototype.initialize.call(this,t,e.style),this.setProperty(this.options.property)},setProperty:function(t,e){e=void 0===e||e,this.options.property=t||this.options.property,e&&this.setStyle()},setStyle:function(t){function e(t){var e,r={};if(e="function"==typeof n.property?n.property(t):t.properties[n.property],isNaN(e)||void 0===e||e===1/0)r.fillOpacity=0;else for(var o=0;o<a.length;o++)if(e<=a[o]){r.fillColor=u[o];break}switch(void 0===l?"undefined":i(l)){case"function":return L.Util.extend(l(t),r);case"object":return L.Util.extend(l,r);default:return r}}var n=this.options,o=this.toGeoJSON(),s=o.features.map("function"==typeof n.property?n.property:function(t){return t.properties[n.property]});s=s.filter(function(t){return!isNaN(t)&&void 0!==t&&t!==1/0});var a=r.limits(s,n.mode,n.steps-1),u=n.colors&&n.colors.length===a.length?n.colors:r.scale(n.scale).colors(a.length),l=(r.scale(u).domain(a),t||n.style);L.GeoJSON.prototype.setStyle.call(this,e)}}),t.exports=L.Choropleth},function(t,e,n){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e=e||Object.keys(t[0]),[e.join(s),t.map(function(t){return e.map(function(e){return t[e]}).join(s)}).join(o)].join(o)}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"export.csv",r=i(t,e),o=new Blob([r],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(o,n);else{var s=document.createElement("a");if(void 0!==s.download){var a=URL.createObjectURL(o);s.setAttribute("href",a),s.setAttribute("download",n),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}}}Object.defineProperty(e,"__esModule",{value:!0}),e.exportCSVFile=r;var o="\r\n",s=","},function(t,e,n){"use strict";function i(t){return t<33?"integrated":t<66?"transitioning":"emerging"}function r(t){var e=document.querySelector("#stat-"+t);document.querySelector("#bar-"+t+" > .bar").className="bar na",e.innerHTML="N/A"}function o(){l.forEach(r)}function s(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];l.forEach(function(e){var n=f[e],o=document.querySelector("#stat-"+e),s=document.querySelector("#bar-"+e+" > .bar"),a=n.summarizer(t);if((0,u.isNumeric)(a)){var l=n.range.avg,c=(0,u.calculatePct)(a,n.range),d=Math.floor((a-l)/((a+l)/2)*100),h=d>0?"+%"+d:"-%"+Math.abs(d);s.style.width=(0,u.formatPctStr)(c),o.innerHTML=(0,u.formatNumber)(a,n.precision)+" ("+h+")",n.invert?s.className="bar no-typology":s.className="bar "+i(n.invert?100-c:c)}else r(e)})}function a(t){return function(e){e=(0,u.forceArray)(e);var n=e.filter(function(e){return(0,u.isNumeric)(e.properties[t])});if(0!==n.length){return n.reduce(function(e,n){return e+n.properties[t]},0)/e.length}}}Object.defineProperty(e,"__esModule",{value:!0}),e.property_config=e.PROPERTY_ORDER=void 0,e.clearReadouts=o,e.populateReadouts=s;var u=n(504),l=(n(231),e.PROPERTY_ORDER=["vmt","housing","afford-transport","afford-house-transport","ghg","pop-density","jobs-density","dwelling-density","ped-environment","pedcol","walkscore","walkshare","jobs-accessibility","cardio","obesity"]),f=e.property_config={vmt:{name:"Vehicle Miles Traveled",dom_name:"vmt",precision:0,attribute:"hh_type1_vmt",summarizer:a("hh_type1_vmt")},housing:{name:"Housing Affordability",dom_name:"housing",precision:1,attribute:"hh_type1_h",summarizer:a("hh_type1_h")},"afford-transport":{name:"Transportation Affordability",dom_name:"afford-transport",precision:1,attribute:"hh_type1_t",summarizer:a("hh_type1_t")},"afford-house-transport":{name:"Housing + Transportation Affordability",dom_name:"afford-house-transport",precision:1,attribute:"hh_type1_ht",summarizer:a("hh_type1_ht")},"pop-density":{name:"Population Density",dom_name:"pop-density",precision:1,attribute:"D1B",invert:!0,summarizer:a("D1B")},"dwelling-density":{name:"Dwelling Density",dom_name:"dwelling-density",precision:1,attribute:"D1A",invert:!0,summarizer:a("D1A")},"jobs-density":{name:"Jobs Density",dom_name:"jobs-density",precision:1,attribute:"D1C",invert:!0,summarizer:a("D1C")},"ped-environment":{name:"Pedestrian Environment",dom_name:"ped-environment",precision:1,attribute:"D1b",invert:!0,summarizer:a("D3b")},"jobs-accessibility":{name:"Jobs Accessibility",dom_name:"jobs-accessibility",precision:0,attribute:"D5br_cleaned",invert:!0,summarizer:a("D5br_cleaned")},walkscore:{name:"WalkScore",dom_name:"walkscore",precision:1,attribute:"walkscore",invert:!0,summarizer:a("walkscore")},cardio:{name:"Cardiovascular Disease",dom_name:"cardio",precision:1,attribute:"Cardiova_1",summarizer:a("Cardiova_1")},obesity:{name:"Obesity",dom_name:"obesity",precision:1,attribute:"OBESITY_Cr",summarizer:a("OBESITY_Cr")},walkshare:{name:"Walking Percent",dom_name:"walkshare",precision:1,invert:!0,summarizer:function(t){t=(0,u.forceArray)(t);var e=t.filter(function(t){for(var e=["JTW_WALK","JTW_TOTAL"],n=0;n<e.length;n++)if(!(0,u.isNumeric)(t.properties[e[n]]))return!1;return!0});if(0!=e.length){var n=e.reduce(function(t,e){var n=e.properties;return t.JTW_WALK+=parseFloat(n.JTW_WALK),t.JTW_TOTAL+=parseFloat(n.JTW_TOTAL),t},{JTW_WALK:0,JTW_TOTAL:0});return 100*n.JTW_WALK/n.JTW_TOTAL}}},ghg:{name:"Carbon Emissions",dom_name:"ghg",precision:0,summarizer:function(t){t=(0,u.forceArray)(t);var e=t.filter(function(t){return(0,u.isNumeric)(t.properties.hh_type1_vmt)});if(0!=e.length){return e.reduce(function(t,e){return t+.9*e.properties.hh_type1_vmt},0)/t.length}}},pedcol:{name:"Pedestrian Collisions",dom_name:"pedcol",precision:1,summarizer:function(t){t=(0,u.forceArray)(t);var e=t.filter(function(t){for(var e=["SumAllPed","JTW_WALK","JTW_TOTAL","TOTPOP1"],n=0;n<e.length;n++)if(!(0,u.isNumeric)(t.properties[e[n]]))return!1;return!0});if(0!=e.length){var n=e.reduce(function(t,e){var n=e.properties;return t.SumAllPed+=parseInt(n.SumAllPed),t.JTW_WALK+=parseInt(n.JTW_WALK),t.JTW_TOTAL+=parseInt(n.JTW_TOTAL),t.TOTPOP1+=parseInt(n.TOTPOP1),t},{SumAllPed:0,JTW_WALK:0,JTW_TOTAL:0,TOTPOP1:0});return n.SumAllPed/n.TOTPOP1*1e5/(n.JTW_WALK/n.JTW_TOTAL)/365.25}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.isNumericable=function(t){return!isNaN(parseFloat(n))},e.isNumeric=function(t){return!isNaN(t)&&void 0!==t&&isFinite(t)},e.formatNumber=function(t,e){return t.toLocaleString(void 0,{maximumFractionDigits:e})},e.calculatePct=function(t,e){var n=e.min;return(t-n)/(e.max-n)*100},e.formatPctStr=function(t){return Math.floor(t)+"%"},e.forceArray=function(t){return Array.isArray(t)?t:[t]}}]);
//# sourceMappingURL=bundle.js.map